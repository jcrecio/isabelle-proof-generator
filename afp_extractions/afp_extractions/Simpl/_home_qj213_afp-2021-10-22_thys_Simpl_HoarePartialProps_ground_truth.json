{"file_name": "/home/qj213/afp-2021-10-22/thys/Simpl/HoarePartialProps.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Simpl", "problem_names": ["lemma hoare_cnvalid:\n assumes hoare: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n shows \"\\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "theorem hoare_sound: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma MGT_valid:\n\"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n   {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t}, {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"", "lemma ConseqMGT:\n  assumes modif: \"\\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\n  assumes impl: \"\\<And>s. s \\<in> P \\<Longrightarrow> s \\<in> P' s \\<and> (\\<forall>t. t \\<in> Q' s \\<longrightarrow> t \\<in> Q) \\<and>\n                                            (\\<forall>t. t \\<in> A' s \\<longrightarrow> t \\<in> A)\"\n  shows \"\\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma Seq_NoFaultStuckD1:\n  assumes noabort: \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"\n  shows \"\\<Gamma>\\<turnstile>\\<langle>c1,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"", "lemma Seq_NoFaultStuckD2:\n  assumes noabort: \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"\n  shows \"\\<forall>t. \\<Gamma>\\<turnstile>\\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<longrightarrow> t\\<notin> ({Stuck} \\<union> Fault `  F) \\<longrightarrow>\n             \\<Gamma>\\<turnstile>\\<langle>c2,t\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"", "lemma MGT_implies_complete:\n  assumes MGT: \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  assumes valid: \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma MGT_implies_complete':\n  assumes MGT: \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub>\n                       {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  assumes valid: \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"", "lemma valid_involved_to_valid:\n  assumes valid:\n    \"\\<forall>Z. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"\n  shows \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma\n  assumes deriv:\n    \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma valid_to_valid_involved:\n  \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n   \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"", "lemma\n  assumes deriv: \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"", "lemma conseq_extract_state_indep_prop:\n  assumes state_indep_prop:\"\\<forall>s \\<in> P. R\"\n  assumes to_show: \"R \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma MGT_lemma:\n  assumes MGT_Calls:\n    \"\\<forall>p\\<in>dom \\<Gamma>. \\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub>\n       {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n        (Call p)\n       {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  shows \"\\<And>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\n             {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},{t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"", "lemma MGT_Calls:\n \"\\<forall>p\\<in>dom \\<Gamma>. \\<forall>Z.\n     \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n            (Call p)\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"", "theorem hoare_complete: \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow> \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma hoare_complete':\n  assumes cvalid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows  \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma hoare_strip_\\<Gamma>:\n  assumes deriv: \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\"\n  assumes F': \"F' \\<subseteq> -F\"\n  shows \"strip F' \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\"", "lemma LiberalConseq_sound:\nfixes F::\"'f set\"\nassumes cons: \"\\<forall>s \\<in> P. \\<forall>(t::('s,'f) xstate). \\<exists>P' Q' A'. (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A') \\<and>\n                ((s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma LiberalConseq:\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<forall>(t::('s,'f) xstate). \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                ((s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma \"\\<forall>s \\<in> P. \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and> s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n           \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                (\\<forall>(t::('s,'f) xstate). (s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma LiberalConseq':\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                (\\<forall>(t::('s,'f) xstate). (s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma LiberalConseq'':\nfixes F:: \"'f set\"\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s (t::('s,'f) xstate).\n                 (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z)\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma exec_noSpec_no_Stuck:\n assumes exec: \"\\<Gamma>\\<turnstile>\\<langle>c,s\\<rangle> \\<Rightarrow> t\"\n assumes noSpec_c: \"noSpec c\"\n assumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\n assumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\n assumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\n assumes s_no_Stuck: \"s\\<noteq>Stuck\"\n shows \"t\\<noteq>Stuck\"", "lemma execn_noSpec_no_Stuck:\n assumes exec: \"\\<Gamma>\\<turnstile>\\<langle>c,s\\<rangle> =n\\<Rightarrow> t\"\n assumes noSpec_c: \"noSpec c\"\n assumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\n assumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\n assumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\n assumes s_no_Stuck: \"s\\<noteq>Stuck\"\n shows \"t\\<noteq>Stuck\"", "lemma LiberalConseq_noguards_nothrows_sound:\nassumes spec: \"\\<forall>Z. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s t. (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in>  Q' Z )\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Q )\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma LiberalConseq_noguards_nothrows:\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s t. (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in>  Q' Z )\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Q )\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \"", "lemma\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=fst Z \\<and> P s (snd Z)} c {t. Q (fst Z) (snd Z) t},{}\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=\\<sigma>} c {t. \\<forall>l. P \\<sigma> l \\<longrightarrow> Q \\<sigma> l t},{}\"", "lemma ProcModifyReturn_sound:\n  assumes valid_call: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P call init p return' c Q,A\"\n  assumes valid_modif:\n    \"\\<forall>\\<sigma>. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  assumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\n  assumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\n  shows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\"", "lemma ProcModifyReturn:\n  assumes spec: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return' c) Q,A\"\n  assumes result_conform:\n      \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes return_conform:\n      \"\\<forall>s t. t \\<in> ModifAbr (init s)\n             \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes modifies_spec:\n  \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\"", "lemma ProcModifyReturnSameFaults_sound:\n  assumes valid_call: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P call init p return' c Q,A\"\n  assumes valid_modif:\n    \"\\<forall>\\<sigma>. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  assumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\n  assumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\n  shows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\"", "lemma ProcModifyReturnSameFaults:\n  assumes spec: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return' c) Q,A\"\n  assumes result_conform:\n      \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes return_conform:\n  \"\\<forall>s t. t \\<in> ModifAbr (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes modifies_spec:\n  \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\"", "lemma dynProcModifyReturn_sound:\nassumes valid_call: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes valid_modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<forall>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\"", "lemma dynProcModifyReturn:\nassumes dyn_call: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nassumes modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\"", "lemma dynProcModifyReturnSameFaults_sound:\nassumes valid_call: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes valid_modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<forall>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\"", "lemma dynProcModifyReturnSameFaults:\nassumes dyn_call: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nassumes modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\"", "lemma PostConjI_sound:\nassumes valid_Q: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\nassumes valid_R: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> B)\"", "lemma PostConjI:\n  assumes deriv_Q: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_R: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c R,B\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> B)\"", "lemma Merge_PostConj_sound:\n  assumes validF: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validG: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub> P' c R,X\"\n  assumes F_G: \"F \\<subseteq> G\"\n  assumes P_P': \"P \\<subseteq> P'\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> X)\"", "lemma Merge_PostConj:\n  assumes validF: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validG: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/G\\<^esub> P' c R,X\"\n  assumes F_G: \"F \\<subseteq> G\"\n  assumes P_P': \"P \\<subseteq> P'\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> X)\"", "lemma WeakenContext_sound:\n  assumes valid_c: \"\\<forall>n. \\<Gamma>,\\<Theta>'\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes valid_ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>'. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma WeakenContext:\n  assumes deriv_c: \"\\<Gamma>,\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_ctxt: \"\\<forall>(P,p,Q,A)\\<in>\\<Theta>'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma SplitGuards_sound:\nassumes valid_c1: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\"\nassumes valid_c2: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>2 UNIV,UNIV\"\nassumes c: \"(c\\<^sub>1 \\<inter>\\<^sub>g c\\<^sub>2) = Some c\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma SplitGuards:\n  assumes c: \"(c\\<^sub>1 \\<inter>\\<^sub>g c\\<^sub>2) = Some c\"\n  assumes deriv_c1: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\"\n  assumes deriv_c2: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c\\<^sub>2 UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma CombineStrip_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes valid_strip: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (strip_guards (-F) c) UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma CombineStrip:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_strip: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P (strip_guards (-F) c) UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma GuardsFlip_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validFlip: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/-F\\<^esub> P c UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma GuardsFlip:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes derivFlip: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/-F\\<^esub> P c UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma MarkGuardsI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"", "lemma MarkGuardsI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"", "lemma MarkGuardsD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma MarkGuardsD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma MergeGuardsI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"", "lemma MergeGuardsI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"", "lemma MergeGuardsD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma MergeGuardsD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma SubsetGuards_sound:\n  assumes c_c': \"c \\<subseteq>\\<^sub>g c'\"\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c' Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma SubsetGuards:\n  assumes c_c': \"c \\<subseteq>\\<^sub>g c'\"\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c' Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"", "lemma NormalizeD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma NormalizeD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma NormalizeI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"", "lemma NormalizeI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"", "lemma nvalid_restrict_to_nvalid:\nassumes valid_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma valid_restrict_to_valid:\nassumes valid_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma augment_procs:\nassumes deriv_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma augment_Faults:\nassumes deriv_c: \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nassumes F: \"F \\<subseteq> F'\"\nshows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F'\\<^esub> P c Q,A\""], "translations": [["", "lemma hoare_cnvalid:\n assumes hoare: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n shows \"\\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "using hoare"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (induct)"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. f s \\<in> Q} Basic f Q,A\n 3. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 9. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n           (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P c s Q,A) \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\nA total of 15 subgoals...", "case (Skip \\<Theta> F P A)"], ["proof (state)\nthis:\n  \n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. f s \\<in> Q} Basic f Q,A\n 3. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 9. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n           (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P c s Q,A) \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\nA total of 15 subgoals...", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Skip P,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Skip P,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n      s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n      s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>Skip,Normal s\\<rangle> =n\\<Rightarrow> t\" \"s \\<in> P\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Skip,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n      s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "thus \"t \\<in> Normal ` P \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Skip,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` P \\<union> Abrupt ` A", "by cases auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` P \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Skip P,A\n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 8. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q n.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 8. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q n.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "case (Basic \\<Theta> F f P A)"], ["proof (state)\nthis:\n  \n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 8. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q n.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> {s. f s \\<in> P} (Basic f) P,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    {s. f s \\<in> P} Basic f P,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Basic\n f,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. f s \\<in> P}; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Basic\n f,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. f s \\<in> P}; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>Basic f,Normal s\\<rangle> =n\\<Rightarrow> t\" \"s \\<in> {s. f s \\<in> P}\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Basic f,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> {s. f s \\<in> P}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Basic\n f,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. f s \\<in> P}; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` P \\<union> Abrupt ` A", "thus \"t \\<in> Normal ` P \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Basic f,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> {s. f s \\<in> P}\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` P \\<union> Abrupt ` A", "by cases auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` P \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n  {s. f s \\<in> P} Basic f P,A\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 7. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 7. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "case (Spec \\<Theta> F r Q A)"], ["proof (state)\nthis:\n  \n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n           (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 7. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n         \\<And>n.\n            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "show \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and> (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n        (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. (\\<forall>t.\n                        (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n                    (\\<exists>t. (s, t) \\<in> r)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. (\\<forall>t.\n                        (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n                    (\\<exists>t. (s, t) \\<in> r)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Spec r,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Spec r,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. (\\<forall>t.\n                        (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n                    (\\<exists>t. (s, t) \\<in> r)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and> (\\<exists>t. (s, t) \\<in> r)}\""], ["proof (state)\nthis:\n  s \\<in> {s. (\\<forall>t.\n                  (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n              (\\<exists>t. (s, t) \\<in> r)}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> {s. (\\<forall>t.\n                        (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n                    (\\<exists>t. (s, t) \\<in> r)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec P"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Spec r,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> {s. (\\<forall>t.\n                  (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n              (\\<exists>t. (s, t) \\<in> r)}", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Spec r,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> {s. (\\<forall>t.\n                  (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n              (\\<exists>t. (s, t) \\<in> r)}\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by cases auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n  {s. (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n      (\\<exists>t. (s, t) \\<in> r)} Spec r Q,A\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 6. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n               (\\<forall>x.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                   P' c Q',A')) \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 6. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n               (\\<forall>x.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                   P' c Q',A')) \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\nA total of 12 subgoals...", "case (Seq \\<Theta> F P c1 R A c2 Q)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c1 R,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c1 R,A\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c2 Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> R c2 Q,A\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 6. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n               (\\<forall>x.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                   P' c Q',A')) \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\nA total of 12 subgoals...", "have valid_c1: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c1 R,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c1 R,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c1 R,A\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 6. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n               (\\<forall>x.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                   P' c Q',A')) \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\nA total of 12 subgoals...", "have valid_c2: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> R c2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> R c2 Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> R c2 Q,A\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 6. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A n.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n               (\\<forall>x.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                   P' c Q',A')) \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\nA total of 12 subgoals...", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Seq c1 c2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Seq c1 c2 Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec P"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P", "obtain r where\n      exec_c1: \"\\<Gamma>\\<turnstile>\\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\" and exec_c2:  \"\\<Gamma>\\<turnstile>\\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n             s\\<rangle> =n\\<Rightarrow> r;\n         \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with t_notin_F"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t", "have \"r \\<notin> Fault ` F\""], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. r \\<notin> Fault ` F", "by (auto dest: execn_Fault_end)"], ["proof (state)\nthis:\n  r \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_c1 ctxt exec_c1 P"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c1 R,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\n  s \\<in> P\n  r \\<notin> Fault ` F", "have r: \"r\\<in>Normal ` R \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c1 R,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> r\n  s \\<in> P\n  r \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. r \\<in> Normal ` R \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Seq c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t\\<in>Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases r)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1.\n       r = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Normal r')"], ["proof (state)\nthis:\n  r = Normal r'\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       r = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_c2 r"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Normal r'", "show \"t\\<in>Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Normal r'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t;\n     r \\<in> Normal ` R \\<union> Abrupt ` A; r = Normal r'\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "apply (rule cnvalidD [OF valid_c2 ctxt _ _ t_notin_F])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t;\n     r \\<in> Normal ` R \\<union> Abrupt ` A; r = Normal r'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                  ?s3\\<rangle> =n\\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t;\n     r \\<in> Normal ` R \\<union> Abrupt ` A; r = Normal r'\\<rbrakk>\n    \\<Longrightarrow> ?s3 \\<in> R", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Abrupt r')"], ["proof (state)\nthis:\n  r = Abrupt r'\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_c2"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n  r = Abrupt r'", "have \"t=Abrupt r'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c2,r\\<rangle> =n\\<Rightarrow> t\n  r = Abrupt r'\n\ngoal (1 subgoal):\n 1. t = Abrupt r'", "by (auto elim: execn_elim_cases)"], ["proof (state)\nthis:\n  t = Abrupt r'\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       r = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with Abrupt r"], ["proof (chain)\npicking this:\n  r = Abrupt r'\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  t = Abrupt r'", "show ?thesis"], ["proof (prove)\nusing this:\n  r = Abrupt r'\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  t = Abrupt r'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Fault"], ["proof (state)\nthis:\n  r = Fault x3_\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       r = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with r"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Fault x3_", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Fault x3_\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Stuck"], ["proof (state)\nthis:\n  r = Stuck\n\ngoal (1 subgoal):\n 1. r = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with r"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Stuck", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` R \\<union> Abrupt ` A\n  r = Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Seq c1 c2 Q,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 5. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 10. \\<And>P p Q A \\<Theta> F n.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 5. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 10. \\<And>P p Q A \\<Theta> F n.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\nA total of 11 subgoals...", "case (Cond \\<Theta> F P b c1 Q A c2)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c1 Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c1 Q,A\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c2 Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> - b) c2 Q,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 5. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 10. \\<And>P p Q A \\<Theta> F n.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\nA total of 11 subgoals...", "have valid_c1: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c1 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       (P \\<inter> b) c1 Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c1 Q,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 5. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 10. \\<And>P p Q A \\<Theta> F n.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\nA total of 11 subgoals...", "have valid_c2: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (P \\<inter> - b) c2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       (P \\<inter> - b) c2 Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> - b) c2 Q,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1\n            Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 5. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 10. \\<And>P p Q A \\<Theta> F n.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\nA total of 11 subgoals...", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Cond b c1 c2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Cond b c1 c2 Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n c2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases \"s\\<in>b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case True"], ["proof (state)\nthis:\n  s \\<in> b\n\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> b", "have \"\\<Gamma>\\<turnstile>\\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> b\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> t", "by cases auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with P True"], ["proof (chain)\npicking this:\n  s \\<in> P\n  s \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> t", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> P\n  s \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by - (rule cnvalidD [OF valid_c1 ctxt _ _ t_notin_F],auto)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case False"], ["proof (state)\nthis:\n  s \\<notin> b\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec P"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<notin> b", "have \"\\<Gamma>\\<turnstile>\\<langle>c2,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<notin> b\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c2,Normal s\\<rangle> =n\\<Rightarrow> t", "by cases auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with P False"], ["proof (chain)\npicking this:\n  s \\<in> P\n  s \\<notin> b\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal s\\<rangle> =n\\<Rightarrow> t", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> P\n  s \\<notin> b\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by - (rule cnvalidD [OF valid_c2 ctxt _ _ t_notin_F],auto)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Cond b c1 c2 Q,A\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 2. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 4. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 9. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A n.\n        \\<lbrakk>\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P c Q,A", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 2. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 4. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 9. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A n.\n        \\<lbrakk>\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P c Q,A", "case (While \\<Theta> F P b c A n)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 2. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 4. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 9. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A n.\n        \\<lbrakk>\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P c Q,A", "have valid_c: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       (P \\<inter> b) c P,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F P b c A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (P \\<inter> b) c P,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P While b c (P \\<inter> - b),A\n 2. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 4. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 9. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A n.\n        \\<lbrakk>\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                          P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P While b c (P \\<inter> - b),A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P While b c (P \\<inter> - b),A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A", "show \"t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "proof (cases \"s \\<in> b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case True"], ["proof (state)\nthis:\n  s \\<in> b\n\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "{"], ["proof (state)\nthis:\n  s \\<in> b\n\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "fix d::\"('b,'a,'c) com\""], ["proof (state)\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (2 subgoals):\n 1. s__ \\<in> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s__ \\<notin> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>d,s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>d,s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. s__ \\<in> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s__ \\<notin> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "assume d: \"d=While b c\""], ["proof (state)\nthis:\n  d = While b c\n\ngoal (2 subgoals):\n 1. s__ \\<in> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s__ \\<notin> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (2 subgoals):\n 1. s__ \\<in> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s__ \\<notin> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "from exec d ctxt"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>d,s\\<rangle> =n\\<Rightarrow> t\n  d = While b c\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have \"\\<lbrakk>s \\<in> Normal ` P; t \\<notin> Fault ` F\\<rbrakk>\n               \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt`A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>d,s\\<rangle> =n\\<Rightarrow> t\n  d = While b c\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<in> Normal ` P; t \\<notin> Fault ` F\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "proof (induct)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "case (WhileTrue s b' c' n r t)"], ["proof (state)\nthis:\n  s \\<in> b'\n  \\<Gamma>\\<turnstile> \\<langle>c',Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<lbrakk>Normal s \\<in> Normal ` P; r \\<notin> Fault ` F; c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> r \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\n  \\<lbrakk>r \\<in> Normal ` P; t \\<notin> Fault ` F;\n   While b' c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  Normal s \\<in> Normal ` P\n  t \\<notin> Fault ` F\n  While b' c' = While b c\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Call p a,c\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "have t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<notin> Fault ` F", "by fact"], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "have eqs: \"While b' c' = While b c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. While b' c' = While b c", "by fact"], ["proof (state)\nthis:\n  While b' c' = While b c\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "note valid_c"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "have ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by fact"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "from WhileTrue"], ["proof (chain)\npicking this:\n  s \\<in> b'\n  \\<Gamma>\\<turnstile> \\<langle>c',Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<lbrakk>Normal s \\<in> Normal ` P; r \\<notin> Fault ` F; c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> r \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\n  \\<lbrakk>r \\<in> Normal ` P; t \\<notin> Fault ` F;\n   While b' c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  Normal s \\<in> Normal ` P\n  t \\<notin> Fault ` F\n  While b' c' = While b c\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Call p a,c", "obtain \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\" and\n            \"\\<Gamma>\\<turnstile>\\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\" and\n            \"Normal s \\<in> Normal `(P \\<inter> b)\""], ["proof (prove)\nusing this:\n  s \\<in> b'\n  \\<Gamma>\\<turnstile> \\<langle>c',Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<lbrakk>Normal s \\<in> Normal ` P; r \\<notin> Fault ` F; c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> r \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\n  \\<lbrakk>r \\<in> Normal ` P; t \\<notin> Fault ` F;\n   While b' c' = While b c;\n   \\<forall>a\\<in>\\<Theta>.\n      case a of\n      (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        P Call p a,c\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n  Normal s \\<in> Normal ` P\n  t \\<notin> Fault ` F\n  While b' c' = While b c\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Call p a,c\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n         s\\<rangle> =n\\<Rightarrow> r;\n      \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t;\n      Normal s \\<in> Normal ` (P \\<inter> b)\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "with t_notin_F"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)", "have \"r \\<notin> Fault ` F\""], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)\n\ngoal (1 subgoal):\n 1. r \\<notin> Fault ` F", "by (auto dest: execn_Fault_end)"], ["proof (state)\nthis:\n  r \\<notin> Fault ` F\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)\n  r \\<notin> Fault ` F", "have r: \"r \\<in> Normal ` P \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> r\n  \\<Gamma>\\<turnstile> \\<langle>While b c,r\\<rangle> =n\\<Rightarrow> t\n  Normal s \\<in> Normal ` (P \\<inter> b)\n  r \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. r \\<in> Normal ` P \\<union> Abrupt ` A", "by - (rule cnvalidD,auto)"], ["proof (state)\nthis:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 20 subgoals...", "from this _ ctxt"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "show \"t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A \""], ["proof (prove)\nusing this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "proof (cases r)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Normal x1\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 4. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case (Normal r')"], ["proof (state)\nthis:\n  r = Normal r'\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Normal x1\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 4. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with r ctxt eqs t_notin_F"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  While b' c' = While b c\n  t \\<notin> Fault ` F\n  r = Normal r'", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  While b' c' = While b c\n  t \\<notin> Fault ` F\n  r = Normal r'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by - (rule WhileTrue.hyps,auto)"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case (Abrupt r')"], ["proof (state)\nthis:\n  r = Abrupt r'\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "have \"\\<Gamma>\\<turnstile>\\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with Abrupt"], ["proof (chain)\npicking this:\n  r = Abrupt r'\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t", "have \"t=r\""], ["proof (prove)\nusing this:\n  r = Abrupt r'\n  \\<Gamma>\\<turnstile> \\<langle>While b' c',r\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = r", "by (auto dest: execn_Abrupt_end)"], ["proof (state)\nthis:\n  t = r\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Abrupt x2\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with r Abrupt"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Abrupt r'\n  t = r", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Abrupt r'\n  t = r\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case Fault"], ["proof (state)\nthis:\n  r = Fault x3_\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n        \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n        \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        r = Fault x3\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 2. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with r"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Fault x3_", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Fault x3_\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case Stuck"], ["proof (state)\nthis:\n  r = Stuck\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<in> Normal ` P \\<union> Abrupt ` A;\n     \\<And>psi. PROP psi \\<Longrightarrow> PROP psi;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n     r = Stuck\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with r"], ["proof (chain)\npicking this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Stuck", "show ?thesis"], ["proof (prove)\nusing this:\n  r \\<in> Normal ` P \\<union> Abrupt ` A\n  r = Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (19 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal s \\<notin> Fault ` F;\n        Skip = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal s\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; Normal s \\<in> Normal ` P;\n        Fault f \\<notin> Fault ` F; Guard f g c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 4. \\<And>c f n.\n       \\<lbrakk>Fault f \\<in> Normal ` P; Fault f \\<notin> Fault ` F;\n        c = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Fault f\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 5. \\<And>f s n.\n       \\<lbrakk>Normal s \\<in> Normal ` P; Normal (f s) \\<notin> Fault ` F;\n        Basic f = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal (f s)\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; Normal s \\<in> Normal ` P;\n        Normal t \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Normal t\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; Normal s \\<in> Normal ` P;\n        Stuck \\<notin> Fault ` F; Spec r = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> Stuck\n                         \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>Normal s \\<in> Normal ` P; s' \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> s' \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>s' \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Seq c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 9. \\<And>s ba c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> ba;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         c\\<^sub>1 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A;\n        Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n        Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                 Abrupt ` A\n 10. \\<And>s ba c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> ba;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n          c\\<^sub>2 = While b c;\n          \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n             \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n         \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                   Abrupt ` A;\n         Normal s \\<in> Normal ` P; t \\<notin> Fault ` F;\n         Cond ba c\\<^sub>1 c\\<^sub>2 = While b c;\n         \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n            \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y\\<rbrakk>\n        \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union>\n                                  Abrupt ` A\nA total of 19 subgoals...", "qed auto"], ["proof (state)\nthis:\n  \\<lbrakk>s \\<in> Normal ` P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. s__ \\<in> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s__ \\<notin> b \\<Longrightarrow>\n    t__ \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>?d2,?sa2\\<rangle> =n\\<Rightarrow> ?ta2;\n   ?d2 = While b c;\n   \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n      \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n   ?sa2 \\<in> Normal ` P; ?ta2 \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> ?ta2 \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. s \\<in> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n 2. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with exec ctxt P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  s \\<in> P\n  t \\<notin> Fault ` F\n  \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>?d2,?sa2\\<rangle> =n\\<Rightarrow> ?ta2;\n   ?d2 = While b c;\n   \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n      \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n   ?sa2 \\<in> Normal ` P; ?ta2 \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> ?ta2 \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  s \\<in> P\n  t \\<notin> Fault ` F\n  \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>?d2,?sa2\\<rangle> =n\\<Rightarrow> ?ta2;\n   ?d2 = While b c;\n   \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n      \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n   ?sa2 \\<in> Normal ` P; ?ta2 \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> ?ta2 \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "case False"], ["proof (state)\nthis:\n  s \\<notin> b\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with exec P"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<notin> b", "have \"t=Normal s\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<notin> b\n\ngoal (1 subgoal):\n 1. t = Normal s", "by cases auto"], ["proof (state)\nthis:\n  t = Normal s\n\ngoal (1 subgoal):\n 1. s \\<notin> b \\<Longrightarrow>\n    t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "with P False"], ["proof (chain)\npicking this:\n  s \\<in> P\n  s \\<notin> b\n  t = Normal s", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> P\n  s \\<notin> b\n  t = Normal s\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` (P \\<inter> - b) \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n  P While b c (P \\<inter> - b),A\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 2. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 3. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 8. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 2. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 3. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 8. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Guard \\<Theta> F g P c Q A f)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 2. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 3. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 8. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have valid_c: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       (g \\<inter> P) c Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F g P c Q A f n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         (g \\<inter> P) Guard f g c Q,A\n 2. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 3. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 8. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (g \\<inter> P) Guard f g c  Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    (g \\<inter> P) Guard f g c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P:\"s \\<in> (g \\<inter> P)\""], ["proof (state)\nthis:\n  s \\<in> g \\<inter> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec P"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P", "have \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t", "by cases auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> g \\<inter> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P\n  t \\<notin> Fault ` F", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n  (g \\<inter> P) Guard f g c Q,A\n\ngoal (8 subgoals):\n 1. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 2. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 4. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 7. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 2. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 4. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 7. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Guarantee f F \\<Theta> g P c Q A)"], ["proof (state)\nthis:\n  f \\<in> F\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n\ngoal (8 subgoals):\n 1. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 2. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 4. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 7. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have valid_c: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       (g \\<inter> P) c Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n\ngoal (8 subgoals):\n 1. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 2. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 4. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 7. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have f_F: \"f \\<in> F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> F", "by fact"], ["proof (state)\nthis:\n  f \\<in> F\n\ngoal (8 subgoals):\n 1. \\<And>f F \\<Theta> g P c Q A n.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           (g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Guard f g c Q,A\n 2. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 4. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 7. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Guard f g c  Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Guard f g c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P:\"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec f_F t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  f \\<in> F\n  t \\<notin> Fault ` F", "have g: \"s \\<in> g\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  f \\<in> F\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. s \\<in> g", "by cases auto"], ["proof (state)\nthis:\n  s \\<in> g\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with P"], ["proof (chain)\npicking this:\n  s \\<in> P\n  s \\<in> g", "have P': \"s \\<in> g \\<inter> P\""], ["proof (prove)\nusing this:\n  s \\<in> P\n  s \\<in> g\n\ngoal (1 subgoal):\n 1. s \\<in> g \\<inter> P", "by blast"], ["proof (state)\nthis:\n  s \\<in> g \\<inter> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec P g"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<in> g", "have \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  s \\<in> g\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t", "by cases auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c ctxt this P' t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P\n  t \\<notin> Fault ` F", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> g \\<inter> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Guard f g c Q,A\n\ngoal (7 subgoals):\n 1. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 3. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 6. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 3. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 6. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (CallRec P p Q A Specs \\<Theta> F)"], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> Specs\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     \\<Gamma>,\\<Theta> \\<union> Specs\n        \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n     (\\<forall>x.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n\ngoal (7 subgoals):\n 1. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 3. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 6. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have p: \"(P,p,Q,A) \\<in> Specs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, p, Q, A) \\<in> Specs", "by fact"], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> Specs\n\ngoal (7 subgoals):\n 1. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 3. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 6. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have valid_body:\n    \"\\<forall>(P,p,Q,A) \\<in> Specs. p \\<in> dom \\<Gamma> \\<and> (\\<forall>n. \\<Gamma>,\\<Theta> \\<union> Specs \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (the (\\<Gamma> p)) Q,A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       p \\<in> dom \\<Gamma> \\<and>\n       (\\<forall>n.\n           \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P the (\\<Gamma> p) Q,A)", "using CallRec.hyps"], ["proof (prove)\nusing this:\n  (P, p, Q, A) \\<in> Specs\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     \\<Gamma>,\\<Theta> \\<union> Specs\n        \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n     (\\<forall>x.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       p \\<in> dom \\<Gamma> \\<and>\n       (\\<forall>n.\n           \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P the (\\<Gamma> p) Q,A)", "by blast"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>n.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n\ngoal (7 subgoals):\n 1. \\<And>P p Q A Specs \\<Theta> F n.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           \\<Gamma>,\\<Theta> \\<union> Specs\n              \\<turnstile>\\<^bsub>/F \\<^esub>P the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Gamma>,\\<Theta> \\<union>\n                        Specs\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n               P the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Call p Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 3. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 6. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n__:\\<^bsub>/F\\<^esub> P Call p Q,A", "have \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\n        \\<Longrightarrow> \\<forall>(P,p,Q,A) \\<in>Specs. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Call p Q,A \\<Longrightarrow>\n    \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub>\n       P Call p x,y \\<Longrightarrow>\n    \\<forall>(P, p, x, y)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub> P Call p x,y\n 2. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "case 0"], ["proof (state)\nthis:\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub>\n       P Call p a,c\n\ngoal (2 subgoals):\n 1. \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub>\n       P Call p x,y \\<Longrightarrow>\n    \\<forall>(P, p, x, y)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub> P Call p x,y\n 2. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "show \"\\<forall>(P,p,Q,A) \\<in>Specs. \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (fastforce elim!: execn_elim_cases simp add: nvalid_def)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>0:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "case (Suc m)"], ["proof (state)\nthis:\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n       P Call p a,c \\<Longrightarrow>\n  \\<forall>a\\<in>Specs.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n       P Call p a,c\n  \\<forall>a\\<in>\\<Theta>.\n     case a of\n     (P, p, a, c) \\<Rightarrow> \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub>\n       P Call p a,c\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "have hyp: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\n              \\<Longrightarrow> \\<forall>(P,p,Q,A) \\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n       P Call p Q,A \\<Longrightarrow>\n    \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "by fact"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A \\<Longrightarrow>\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "have \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A", "by fact"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "hence ctxt_m: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (fastforce simp add: nvalid_def intro: execn_Suc)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "hence valid_Proc:\n          \"\\<forall>(P,p,Q,A) \\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (rule hyp)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "let ?\\<Theta>'= \"\\<Theta> \\<union> Specs\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "from valid_Proc ctxt_m"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "have \"\\<forall>(P, p, Q, A)\\<in>?\\<Theta>'. \\<Gamma> \\<Turnstile>m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta> \\<union> Specs.\n       \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta> \\<union> Specs.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "with valid_body"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>n.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta> \\<union> Specs.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A", "have valid_body_m:\n          \"\\<forall>(P,p,Q,A) \\<in>Specs. \\<forall>n. \\<Gamma> \\<Turnstile>m:\\<^bsub>/F\\<^esub> P (the (\\<Gamma> p)) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>n.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta> \\<union> Specs.\n     \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<forall>n. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n          P the (\\<Gamma> p) Q,A", "by (fastforce simp add: cnvalid_def)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<forall>n. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n        P the (\\<Gamma> p) Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>(P, p, x, y)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P Call p x,y \\<Longrightarrow>\n                \\<forall>(P, p, x, y)\\<in>Specs.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p x,y;\n        \\<forall>(P, p, x, y)\\<in>\\<Theta>.\n           \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n           P Call p x,y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>(P, p, x, y)\\<in>Specs.\n                            \\<Gamma>\\<Turnstile>Suc n:\\<^bsub>/F\\<^esub>\n                            P Call p x,y", "show \"\\<forall>(P,p,Q,A) \\<in>Specs. \\<Gamma> \\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A", "proof (clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa ab b.\n       (a, aa, ab, b) \\<in> Specs \\<Longrightarrow>\n       \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> a Call aa ab,b", "fix P p Q A"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa ab b.\n       (a, aa, ab, b) \\<in> Specs \\<Longrightarrow>\n       \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> a Call aa ab,b", "assume p: \"(P,p,Q,A) \\<in> Specs\""], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> Specs\n\ngoal (1 subgoal):\n 1. \\<And>a aa ab b.\n       (a, aa, ab, b) \\<in> Specs \\<Longrightarrow>\n       \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> a Call aa ab,b", "show \"\\<Gamma> \\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A", "proof (rule nvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal s\\<rangle> =Suc m\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal s\\<rangle> =Suc m\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_call:\n              \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> =Suc m\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal s\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal s\\<rangle> =Suc m\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume Pre: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal s\\<rangle> =Suc m\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal s\\<rangle> =Suc m\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_call"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal s\\<rangle> =Suc m\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal s\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy n.\n       \\<lbrakk>Suc m = Suc n; \\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     s\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy n.\n       \\<lbrakk>Suc m = Suc n; \\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     s\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume m: \"Suc m = Suc m'\""], ["proof (state)\nthis:\n  Suc m = Suc m'\n\ngoal (2 subgoals):\n 1. \\<And>bdy n.\n       \\<lbrakk>Suc m = Suc n; \\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     s\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (2 subgoals):\n 1. \\<And>bdy n.\n       \\<lbrakk>Suc m = Suc n; \\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     s\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal s\\<rangle> =m'\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> =m'\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy n.\n       \\<lbrakk>Suc m = Suc n; \\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     s\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from Pre valid_body_m exec_body bdy m p t_notin_F"], ["proof (chain)\npicking this:\n  s \\<in> P\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<forall>n. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n        P the (\\<Gamma> p) Q,A\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> =m'\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  Suc m = Suc m'\n  (P, p, Q, A) \\<in> Specs\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> P\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<forall>n. \\<Gamma>\\<Turnstile>m:\\<^bsub>/F\\<^esub>\n        P the (\\<Gamma> p) Q,A\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> =m'\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  Suc m = Suc m'\n  (P, p, Q, A) \\<in> Specs\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (fastforce simp add: nvalid_def)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma> p = None\""], ["proof (state)\nthis:\n  \\<Gamma> p = None\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_body p"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>n.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n  (P, p, Q, A) \\<in> Specs\n  \\<Gamma> p = None", "have False"], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>n.\n         \\<Gamma>,\\<Theta> \\<union> Specs\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n         P the (\\<Gamma> p) Q,A)\n  (P, p, Q, A) \\<in> Specs\n  \\<Gamma> p = None\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>Suc m = Suc n; t = Stuck; \\<Gamma> p = None\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", ".."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<Gamma>\\<Turnstile>Suc m:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A \\<Longrightarrow>\n  \\<forall>(P, p, Q, A)\\<in>Specs. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n     P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n__:\\<^bsub>/F\\<^esub> P Call p Q,A", "}"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub>\n     P Call p Q,A \\<Longrightarrow>\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "with p"], ["proof (chain)\npicking this:\n  (P, p, Q, A) \\<in> Specs\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub>\n     P Call p Q,A \\<Longrightarrow>\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub> P Call p Q,A", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, p, Q, A) \\<in> Specs\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub>\n     P Call p Q,A \\<Longrightarrow>\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     \\<Gamma>\\<Turnstile>?na2:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (fastforce simp add: cnvalid_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (6 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 2. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 5. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 2. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 5. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (DynCom P \\<Theta> F c Q A)"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n     (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n         P c s Q,A)\n\ngoal (6 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 2. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 5. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "hence valid_c: \"\\<forall>s\\<in>P. (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (c s) Q,A)\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n     (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n         P c s Q,A)\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c s Q,A", "by auto"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c s Q,A\n\ngoal (6 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<and>\n          (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n              P c s Q,A) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n 2. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 5. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>DynCom c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_Fault: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>DynCom\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>DynCom c,Normal s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>DynCom c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c s,Normal\n s\\<rangle> =n\\<Rightarrow> t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>c s,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c s,Normal\n s\\<rangle> =n\\<Rightarrow> t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_c [rule_format, OF P] ctxt this P t_notin_Fault]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P DynCom c Q,A\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 4. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 4. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Throw \\<Theta> F A Q)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F A Q n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 4. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> A; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> A; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>Throw,Normal s\\<rangle> =n\\<Rightarrow> t\" \"s \\<in> A\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Throw,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> A; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Throw,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Throw,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by cases simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> A Throw Q,A\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 3. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 3. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Catch \\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 3. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have valid_c1: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 3. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have valid_c2: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A n.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A;\n        \\<And>n.\n           \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 2. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 3. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Catch c\\<^sub>1 c\\<^sub>2 Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P Catch c\\<^sub>1 c\\<^sub>2 Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_Fault: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s'.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> Abrupt s';\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n           s'\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s'.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> Abrupt s';\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n           s'\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c1: \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> Abrupt s'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> Abrupt s'\n\ngoal (2 subgoals):\n 1. \\<And>s'.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> Abrupt s';\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n           s'\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c2: \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal s'\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s'\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>s'.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> Abrupt s';\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n           s'\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_c1 ctxt exec_c1 P ]"], ["proof (chain)\npicking this:\n  Abrupt s' \\<notin> Fault ` F \\<Longrightarrow>\n  Abrupt s' \\<in> Normal ` Q \\<union> Abrupt ` R", "have \"Abrupt s' \\<in> Abrupt ` R\""], ["proof (prove)\nusing this:\n  Abrupt s' \\<notin> Fault ` F \\<Longrightarrow>\n  Abrupt s' \\<in> Normal ` Q \\<union> Abrupt ` R\n\ngoal (1 subgoal):\n 1. Abrupt s' \\<in> Abrupt ` R", "by auto"], ["proof (state)\nthis:\n  Abrupt s' \\<in> Abrupt ` R\n\ngoal (2 subgoals):\n 1. \\<And>s'.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> Abrupt s';\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n           s'\\<rangle> =n\\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with cnvalidD [OF valid_c2 ctxt _ _ t_notin_Fault] exec_c2"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n              ?s\\<rangle> =n\\<Rightarrow> t;\n   ?s \\<in> R\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s'\\<rangle> =n\\<Rightarrow> t\n  Abrupt s' \\<in> Abrupt ` R", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n              ?s\\<rangle> =n\\<Rightarrow> t;\n   ?s \\<in> R\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s'\\<rangle> =n\\<Rightarrow> t\n  Abrupt s' \\<in> Abrupt ` R\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by fastforce"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c1: \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume notAbr: \"\\<not> isAbr t\""], ["proof (state)\nthis:\n  \\<not> isAbr t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_c1 ctxt exec_c1 P t_notin_Fault]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` R", "have \"t \\<in> Normal ` Q \\<union> Abrupt ` R\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` R\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` R", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                s\\<rangle> =n\\<Rightarrow> t;\n     \\<not> isAbr t\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with notAbr"], ["proof (chain)\npicking this:\n  \\<not> isAbr t\n  t \\<in> Normal ` Q \\<union> Abrupt ` R", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> isAbr t\n  t \\<in> Normal ` Q \\<union> Abrupt ` R\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n  P Catch c\\<^sub>1 c\\<^sub>2 Q,A\n\ngoal (3 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 3. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 3. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Conseq P \\<Theta> F c Q A)"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n         (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n             P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (3 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 3. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "hence adapt: \"\\<forall>s \\<in> P. (\\<exists>P' Q' A'. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'  \\<and>\n                          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A)\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n         (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n             P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "by blast"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (3 subgoals):\n 1. \\<And>P \\<Theta> F c Q A n.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>x. \\<Gamma>,\\<Theta>\\<Turnstile>x:\\<^bsub>/F\\<^esub>\n                  P' c Q',A')) \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 3. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt:\"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from P adapt"], ["proof (chain)\npicking this:\n  s \\<in> P\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "obtain P' Q' A' Z  where\n        spec: \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\" and\n        P': \"s \\<in> P'\"  and  strengthen: \"Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\""], ["proof (prove)\nusing this:\n  s \\<in> P\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<And>P' Q' A'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                 P' c Q',A';\n         s \\<in> P'; Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  s \\<in> P'\n  Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from spec [rule_format] ctxt exec P' t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P'\n  t \\<notin> Fault ` F", "have \"t \\<in> Normal ` Q' \\<union> Abrupt ` A'\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P'\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q' \\<union> Abrupt ` A'", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q' \\<union> Abrupt ` A'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with strengthen"], ["proof (chain)\npicking this:\n  Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  t \\<in> Normal ` Q' \\<union> Abrupt ` A'", "show ?thesis"], ["proof (prove)\nusing this:\n  Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  t \\<in> Normal ` Q' \\<union> Abrupt ` A'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 2. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 2. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case (Asm P p Q A \\<Theta> F)"], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> \\<Theta>\n\ngoal (2 subgoals):\n 1. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 2. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "have asm: \"(P, p, Q, A) \\<in> \\<Theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, p, Q, A) \\<in> \\<Theta>", "by fact"], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> \\<Theta>\n\ngoal (2 subgoals):\n 1. \\<And>P p Q A \\<Theta> F n.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n 2. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "show \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call p,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from asm ctxt"], ["proof (chain)\npicking this:\n  (P, p, Q, A) \\<in> \\<Theta>\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have \"\\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\""], ["proof (prove)\nusing this:\n  (P, p, Q, A) \\<in> \\<Theta>\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"s \\<in> P\" \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "using exec"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  s \\<in> P\n  t \\<notin> Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>Call p,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (auto simp add: nvalid_def)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "case ExFalso"], ["proof (state)\nthis:\n  \\<forall>n. \\<Gamma>,\\<Theta>_\\<Turnstile>n:\\<^bsub>/F_\\<^esub>\n     P_ c_ Q_,A_\n  \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F_\\<^esub> P_ c_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> F P c Q A n.\n       \\<lbrakk>\\<forall>n.\n                   \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                   P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                         P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>n. \\<Gamma>,\\<Theta>_\\<Turnstile>n:\\<^bsub>/F_\\<^esub>\n     P_ c_ Q_,A_\n  \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F_\\<^esub> P_ c_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<Turnstile>n:\\<^bsub>/F_\\<^esub> P_ c_ Q_,A_", "by iprover"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<Turnstile>n:\\<^bsub>/F_\\<^esub> P_ c_ Q_,A_\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem hoare_sound: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "by (iprover intro: cnvalid_to_cvalid hoare_cnvalid)"], ["", "subsection \\<open>Completeness\\<close>"], ["", "lemma MGT_valid:\n\"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n   {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t}, {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub>\n    {s. s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                   Fault `\n                                   (- F)} c {t.\n       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal\n                            t},{t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                              Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule validI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n                                 Abrupt `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n                                 Abrupt `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t\"\n         \"s \\<in> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))}\"\n         \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)};\n        t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n                                 Abrupt `\n                                 {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                Z\\<rangle> \\<Rightarrow> Abrupt t}", "thus \"t \\<in> Normal ` {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n            Abrupt ` {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal `\n            {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n            Abrupt `\n            {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (cases t) (auto simp add: final_notin_def)"], ["proof (state)\nthis:\n  t \\<in> Normal `\n          {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         Z\\<rangle> \\<Rightarrow> Normal t} \\<union>\n          Abrupt `\n          {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The consequence rule where the existential @{term Z} is instantiated\nto @{term s}. Usefull in proof of \\<open>MGT_lemma\\<close>.\\<close>"], ["", "lemma ConseqMGT:\n  assumes modif: \"\\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\n  assumes impl: \"\\<And>s. s \\<in> P \\<Longrightarrow> s \\<in> P' s \\<and> (\\<forall>t. t \\<in> Q' s \\<longrightarrow> t \\<in> Q) \\<and>\n                                            (\\<forall>t. t \\<in> A' s \\<longrightarrow> t \\<in> A)\"\n  shows \"\\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "using impl"], ["proof (prove)\nusing this:\n  ?s \\<in> P \\<Longrightarrow>\n  ?s \\<in> P' ?s \\<and>\n  (\\<forall>t. t \\<in> Q' ?s \\<longrightarrow> t \\<in> Q) \\<and>\n  (\\<forall>t. t \\<in> A' ?s \\<longrightarrow> t \\<in> A)\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "by -  (rule conseq [OF modif],blast)"], ["", "lemma Seq_NoFaultStuckD1:\n  assumes noabort: \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"\n  shows \"\\<Gamma>\\<turnstile>\\<langle>c1,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` F", "proof (rule final_notinI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       t \\<notin> {Stuck} \\<union> Fault ` F", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       t \\<notin> {Stuck} \\<union> Fault ` F", "assume exec_c1: \"\\<Gamma>\\<turnstile>\\<langle>c1,s\\<rangle> \\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       t \\<notin> {Stuck} \\<union> Fault ` F", "show \"t \\<notin> {Stuck} \\<union> Fault `  F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<notin> {Stuck} \\<union> Fault ` F", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "assume \"t \\<in> {Stuck} \\<union> Fault `  F\""], ["proof (state)\nthis:\n  t \\<in> {Stuck} \\<union> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  t \\<in> {Stuck} \\<union> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  t \\<in> {Stuck} \\<union> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "assume \"t = Stuck\""], ["proof (state)\nthis:\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "with exec_c1"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Stuck\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Stuck", "by (auto intro: exec_Seq')"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "with noabort"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Stuck", "have False"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` F\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Stuck\n\ngoal (1 subgoal):\n 1. False", "by (auto simp add: final_notin_def)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "hence False"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  t = Stuck \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  t = Stuck \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  t = Stuck \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "assume \"t \\<in> Fault ` F\""], ["proof (state)\nthis:\n  t \\<in> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t \\<in> Fault ` F", "obtain f where\n      t: \"t=Fault f\" and f: \"f \\<in> F\""], ["proof (prove)\nusing this:\n  t \\<in> Fault ` F\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>t = Fault f; f \\<in> F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t = Fault f\n  f \\<in> F\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "from t exec_c1"], ["proof (chain)\npicking this:\n  t = Fault f\n  \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Fault f\""], ["proof (prove)\nusing this:\n  t = Fault f\n  \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Fault f", "by (auto intro: exec_Seq')"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Fault f\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "with noabort f"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` F\n  f \\<in> F\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Fault f", "have False"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` F\n  f \\<in> F\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow> Fault f\n\ngoal (1 subgoal):\n 1. False", "by (auto simp add: final_notin_def)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "hence False"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  t \\<in> Fault ` F \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. t \\<in> {Stuck} \\<union> Fault ` F \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  t \\<in> {Stuck} \\<union> Fault ` F\n  t = Stuck \\<Longrightarrow> False\n  t \\<in> Fault ` F \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  t \\<in> {Stuck} \\<union> Fault ` F\n  t = Stuck \\<Longrightarrow> False\n  t \\<in> Fault ` F \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<notin> {Stuck} \\<union> Fault ` F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Seq_NoFaultStuckD2:\n  assumes noabort: \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\"\n  shows \"\\<forall>t. \\<Gamma>\\<turnstile>\\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<longrightarrow> t\\<notin> ({Stuck} \\<union> Fault `  F) \\<longrightarrow>\n             \\<Gamma>\\<turnstile>\\<langle>c2,t\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault `  F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n       t \\<notin> {Stuck} \\<union> Fault ` F \\<longrightarrow>\n       \\<Gamma>\\<turnstile> \\<langle>c2,t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                  Fault ` F", "using noabort"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` F\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       \\<Gamma>\\<turnstile> \\<langle>c1,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n       t \\<notin> {Stuck} \\<union> Fault ` F \\<longrightarrow>\n       \\<Gamma>\\<turnstile> \\<langle>c2,t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                  Fault ` F", "by (auto simp add: final_notin_def intro: exec_Seq')"], ["", "lemma MGT_implies_complete:\n  assumes MGT: \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  assumes valid: \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "using MGT"], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,{}\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule ConseqMGT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> Q) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> A)", "apply (insert valid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk>\n       \\<Longrightarrow> s \\<in> {sa.\n                                  sa = s \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                        Fault ` (- F)} \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 s\\<rangle> \\<Rightarrow> Normal\n                     t} \\<longrightarrow>\n                             t \\<in> Q) \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 s\\<rangle> \\<Rightarrow> Abrupt\n                     t} \\<longrightarrow>\n                             t \\<in> A)", "apply (auto simp add: valid_def intro!: final_notinI)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>Equipped only with the classic consequence rule @{thm \"conseqPrePost\"}\n        we can only derive this syntactically more involved version\n        of completeness. But semantically it is equivalent to the \"real\" one\n        (see below)\\<close>"], ["", "lemma MGT_implies_complete':\n  assumes MGT: \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub>\n                       {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union>  Fault ` (-F))} c\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  assumes valid: \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and> s \\<in> P} c\n{t. Z \\<in> P \\<longrightarrow> t \\<in> Q},\n{t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "using MGT [rule_format, of Z]"], ["proof (prove)\nusing this:\n  \\<Gamma>,{}\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and> s \\<in> P} c\n{t. Z \\<in> P \\<longrightarrow> t \\<in> Q},\n{t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply (rule conseqPrePost)"], ["proof (prove)\ngoal (3 subgoals):\n 1. {s. s = Z \\<and> s \\<in> P}\n    \\<subseteq> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)}\n 2. {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Normal t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> Q}\n 3. {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply (insert valid)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {s. s = Z \\<and> s \\<in> P}\n    \\<subseteq> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)}\n 2. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Normal t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> Q}\n 3. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply   (fastforce simp add: valid_def final_notin_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Normal t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> Q}\n 2. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply  (fastforce simp add: valid_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}\n    \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply (fastforce simp add: valid_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>Semantic equivalence of both kind of formulations\\<close>"], ["", "lemma valid_involved_to_valid:\n  assumes valid:\n    \"\\<forall>Z. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"\n  shows \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "using valid"], ["proof (prove)\nusing this:\n  \\<forall>Z. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub>\n     {s. s = Z \\<and>\n         s \\<in> P} c {t. Z \\<in> P \\<longrightarrow>\n                          t \\<in> Q},{t.\nZ \\<in> P \\<longrightarrow> t \\<in> A}\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "apply (simp add: valid_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z s t.\n       \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n       s \\<in> Normal ` {s. s = Z \\<and> s \\<in> P} \\<longrightarrow>\n       t \\<notin> Fault ` F \\<longrightarrow>\n       t \\<in> Normal ` {t. Z \\<in> P \\<longrightarrow> t \\<in> Q} \\<or>\n       t \\<in> Abrupt `\n               {t. Z \\<in> P \\<longrightarrow> t \\<in> A} \\<Longrightarrow>\n    \\<forall>s t.\n       \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n       s \\<in> Normal ` P \\<longrightarrow>\n       t \\<notin> Fault ` F \\<longrightarrow>\n       t \\<in> Normal ` Q \\<or> t \\<in> Abrupt ` A", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t x.\n       \\<lbrakk>\\<forall>Z s t.\n                   \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n                   s \\<in> Normal `\n                           {s. s = Z \\<and> s \\<in> P} \\<longrightarrow>\n                   t \\<notin> Fault ` F \\<longrightarrow>\n                   t \\<in> Normal `\n                           {t. Z \\<in> P \\<longrightarrow> t \\<in> Q} \\<or>\n                   t \\<in> Abrupt `\n                           {t. Z \\<in> P \\<longrightarrow> t \\<in> A};\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal x\\<rangle> \\<Rightarrow> t;\n        x \\<in> P; t \\<notin> Fault ` F; t \\<notin> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q", "apply (erule_tac x=\"x\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t x.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           x\\<rangle> \\<Rightarrow> t;\n        x \\<in> P; t \\<notin> Fault ` F; t \\<notin> Abrupt ` A;\n        \\<forall>s t.\n           \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n           s \\<in> Normal ` {s. s = x \\<and> s \\<in> P} \\<longrightarrow>\n           t \\<notin> Fault ` F \\<longrightarrow>\n           t \\<in> Normal ` {t. x \\<in> P \\<longrightarrow> t \\<in> Q} \\<or>\n           t \\<in> Abrupt `\n                   {t. x \\<in> P \\<longrightarrow> t \\<in> A}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q", "apply (erule_tac x=\"Normal x\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t x.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           x\\<rangle> \\<Rightarrow> t;\n        x \\<in> P; t \\<notin> Fault ` F; t \\<notin> Abrupt ` A;\n        \\<forall>t.\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      x\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n           Normal x\n           \\<in> Normal ` {s. s = x \\<and> s \\<in> P} \\<longrightarrow>\n           t \\<notin> Fault ` F \\<longrightarrow>\n           t \\<in> Normal ` {t. x \\<in> P \\<longrightarrow> t \\<in> Q} \\<or>\n           t \\<in> Abrupt `\n                   {t. x \\<in> P \\<longrightarrow> t \\<in> A}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q", "apply (erule_tac x=t in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t x.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           x\\<rangle> \\<Rightarrow> t;\n        x \\<in> P; t \\<notin> Fault ` F; t \\<notin> Abrupt ` A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   x\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n        Normal x\n        \\<in> Normal ` {s. s = x \\<and> s \\<in> P} \\<longrightarrow>\n        t \\<notin> Fault ` F \\<longrightarrow>\n        t \\<in> Normal ` {t. x \\<in> P \\<longrightarrow> t \\<in> Q} \\<or>\n        t \\<in> Abrupt ` {t. x \\<in> P \\<longrightarrow> t \\<in> A}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q", "apply fastforce"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>The sophisticated consequence rule allow us to do this\n        semantical transformation on the hoare-level, too.\n        The magic is, that it allow us to\n        choose the instance of @{term Z} under the assumption of an state @{term \"s \\<in> P\"}\\<close>"], ["", "lemma\n  assumes deriv:\n    \"\\<forall>Z. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\"\n  shows \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule ConseqMGT [OF deriv])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       s \\<in> {sa. sa = s \\<and> sa \\<in> P} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. s \\<in> P \\<longrightarrow>\n                       t \\<in> Q} \\<longrightarrow>\n           t \\<in> Q) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. s \\<in> P \\<longrightarrow>\n                       t \\<in> A} \\<longrightarrow>\n           t \\<in> A)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma valid_to_valid_involved:\n  \"\\<Gamma> \\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n   \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub>\n    {s. s = Z \\<and>\n        s \\<in> P} c {t. Z \\<in> P \\<longrightarrow>\n                         t \\<in> Q},{t. Z \\<in> P \\<longrightarrow>\n  t \\<in> A}", "by (simp add: valid_def Collect_conv_if)"], ["", "lemma\n  assumes deriv: \"\\<Gamma>,{} \\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> s \\<in> P} c {t. Z \\<in> P \\<longrightarrow> t \\<in> Q},{t. Z \\<in> P \\<longrightarrow> t \\<in> A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and> s \\<in> P} c\n{t. Z \\<in> P \\<longrightarrow> t \\<in> Q},\n{t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply (rule conseqPrePost [OF deriv])"], ["proof (prove)\ngoal (3 subgoals):\n 1. {s. s = Z \\<and> s \\<in> P} \\<subseteq> P\n 2. Q \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> Q}\n 3. A \\<subseteq> {t. Z \\<in> P \\<longrightarrow> t \\<in> A}", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma conseq_extract_state_indep_prop:\n  assumes state_indep_prop:\"\\<forall>s \\<in> P. R\"\n  assumes to_show: \"R \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule Conseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"P\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q',A' \\<and>\n          s \\<in> P \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"Q\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A' \\<and>\n          s \\<in> P \\<and> Q \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"A\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A \\<and>\n       s \\<in> P \\<and> Q \\<subseteq> Q \\<and> A \\<subseteq> A", "using state_indep_prop to_show"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P. R\n  R \\<Longrightarrow>\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A \\<and>\n       s \\<in> P \\<and> Q \\<subseteq> Q \\<and> A \\<subseteq> A", "by blast"], ["", "lemma MGT_lemma:\n  assumes MGT_Calls:\n    \"\\<forall>p\\<in>dom \\<Gamma>. \\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub>\n       {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n        (Call p)\n       {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n  shows \"\\<And>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\n             {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},{t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n   c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof (induct c)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Skip\n   {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n     Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Basic x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 10. \\<And>Z.\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Throw\n    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\nA total of 11 subgoals...", "case Skip"], ["proof (state)\nthis:\n  \n\ngoal (11 subgoals):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Skip\n   {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n     Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Basic x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 10. \\<And>Z.\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Throw\n    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\nA total of 11 subgoals...", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Skip,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} Skip\n           {t. \\<Gamma>\\<turnstile>\\<langle>Skip,Normal Z\\<rangle> \\<Rightarrow> Normal t},{t. \\<Gamma>\\<turnstile>\\<langle>Skip,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\nSkip\n{t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule hoarep.Skip [THEN conseqPre])\n       (auto elim: exec_elim_cases simp add: final_notin_def intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    Skip\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Skip,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (10 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Basic x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 10. \\<And>c1 c2 Z.\n        \\<lbrakk>\\<And>Z.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                 s = Z \\<and>\n                 \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n             s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                   Z\\<rangle> \\<Rightarrow> Normal t},\n                {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                Z\\<rangle> \\<Rightarrow> Abrupt t};\n         \\<And>Z.\n            \\<Gamma>,\\<Theta>\n               \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n         s = Z \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n        c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n           Z\\<rangle> \\<Rightarrow> Normal t},\n        {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                       s = Z \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                c2,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)}\n                      Catch c1 c2\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Basic x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 10. \\<And>c1 c2 Z.\n        \\<lbrakk>\\<And>Z.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                 s = Z \\<and>\n                 \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n             s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                   Z\\<rangle> \\<Rightarrow> Normal t},\n                {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                Z\\<rangle> \\<Rightarrow> Abrupt t};\n         \\<And>Z.\n            \\<Gamma>,\\<Theta>\n               \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n         s = Z \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n        c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n           Z\\<rangle> \\<Rightarrow> Normal t},\n        {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                       s = Z \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                c2,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)}\n                      Catch c1 c2\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Basic f)"], ["proof (state)\nthis:\n  \n\ngoal (10 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Basic x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Basic\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 10. \\<And>c1 c2 Z.\n        \\<lbrakk>\\<And>Z.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                 s = Z \\<and>\n                 \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n             s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                   Z\\<rangle> \\<Rightarrow> Normal t},\n                {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                Z\\<rangle> \\<Rightarrow> Abrupt t};\n         \\<And>Z.\n            \\<Gamma>,\\<Theta>\n               \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n         s = Z \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n        c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n           Z\\<rangle> \\<Rightarrow> Normal t},\n        {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                       s = Z \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                c2,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)}\n                      Catch c1 c2\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                   c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Basic f,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} Basic f\n           {t. \\<Gamma>\\<turnstile>\\<langle>Basic f,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n           {t. \\<Gamma>\\<turnstile>\\<langle>Basic f,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Basic\n                                f,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nBasic f\n{t. \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   f,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Basic\n                                   f,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule hoarep.Basic [THEN conseqPre])\n       (auto elim: exec_elim_cases simp add: final_notin_def intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Basic\n                                 f,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Basic f\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Basic\n                                 f,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Basic\n                                 f,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (9 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Spec r)"], ["proof (state)\nthis:\n  \n\ngoal (9 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Spec x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Spec\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 9. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Spec r,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} Spec r\n           {t. \\<Gamma>\\<turnstile>\\<langle>Spec r,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n           {t. \\<Gamma>\\<turnstile>\\<langle>Spec r,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Spec\n                                r,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nSpec r\n{t. \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   r,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Spec\n                                   r,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule hoarep.Spec [THEN conseqPre])"], ["proof (prove)\ngoal (1 subgoal):\n 1. {s. s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    \\<subseteq> {s. (\\<forall>t.\n                        (s, t) \\<in> r \\<longrightarrow>\n                        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Spec\n                             r,Normal\n                                Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n                    (\\<exists>t. (s, t) \\<in> r)}", "apply (clarsimp simp add: final_notin_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       \\<Gamma>\\<turnstile> \\<langle>Spec\nr,Normal Z\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n       t \\<noteq> Stuck \\<and> t \\<notin> Fault ` (- F) \\<Longrightarrow>\n    (\\<forall>t.\n        (Z, t) \\<in> r \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>Spec\n r,Normal Z\\<rangle> \\<Rightarrow> Normal t) \\<and>\n    (\\<exists>t. (Z, t) \\<in> r)", "apply (case_tac \"\\<exists>t. (Z,t) \\<in> r\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>t.\n                \\<Gamma>\\<turnstile> \\<langle>Spec\n         r,Normal Z\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n                t \\<noteq> Stuck \\<and> t \\<notin> Fault ` (- F);\n     \\<exists>t. (Z, t) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>t.\n                          (Z, t) \\<in> r \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>Spec\n                   r,Normal Z\\<rangle> \\<Rightarrow> Normal t) \\<and>\n                      (\\<exists>t. (Z, t) \\<in> r)\n 2. \\<lbrakk>\\<forall>t.\n                \\<Gamma>\\<turnstile> \\<langle>Spec\n         r,Normal Z\\<rangle> \\<Rightarrow> t \\<longrightarrow>\n                t \\<noteq> Stuck \\<and> t \\<notin> Fault ` (- F);\n     \\<nexists>t. (Z, t) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>t.\n                          (Z, t) \\<in> r \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>Spec\n                   r,Normal Z\\<rangle> \\<Rightarrow> Normal t) \\<and>\n                      (\\<exists>t. (Z, t) \\<in> r)", "apply (auto elim: exec_elim_cases simp add: final_notin_def intro: exec.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Spec\n                                 r,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Spec r\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Spec\n                                 r,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Spec\n                                 r,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Seq c1 c2)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have hyp_c1: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c1,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c1\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c1,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Seq.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c1,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have hyp_c2: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c2\n                          {t. \\<Gamma>\\<turnstile>\\<langle>c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                          {t. \\<Gamma>\\<turnstile>\\<langle>c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Seq.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from hyp_c1"], ["proof (chain)\npicking this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c1\n              {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n                  \\<Gamma>\\<turnstile>\\<langle>c2,Normal t\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))},\n              {t. \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\nc1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n   Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n   t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)},\n{t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule ConseqMGT)\n       (auto dest: Seq_NoFaultStuckD1 [simplified] Seq_NoFaultStuckD2 [simplified]\n             intro: exec.Seq)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (8 subgoals):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Seq c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Seq c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 8. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "thus \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                   Seq c1 c2\n              {t. \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n              {t. \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\nSeq c1 c2\n{t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule hoarep.Seq )"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{t.\n \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                   Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                   t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nc2 {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\nc2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n                      \\<Gamma>\\<turnstile>\\<langle>c2,Normal t\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                   c2\n                 {t. \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                 {t. \\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{t.\n \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                   Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                   t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nc2 {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\nc2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule ConseqMGT [OF hyp_c2],safe)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "fix r t"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "assume \"\\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\" \"\\<Gamma>\\<turnstile>\\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Normal t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Normal t", "show \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Normal t", "by (iprover intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "fix r t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "assume \"\\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\" \"\\<Gamma>\\<turnstile>\\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Abrupt t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            Z\\<rangle> \\<Rightarrow> Normal s;\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Abrupt t", "show \"\\<Gamma>\\<turnstile>\\<langle>Seq c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal r\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t", "by (iprover intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    Seq c1 c2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Seq c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Cond b c1 c2)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c1,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c1\n                 {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                 {t. \\<Gamma>\\<turnstile>\\<langle>c1,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c1,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Cond.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c1,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "hence \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> ({s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\\<inter>b)\n                   c1\n                {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>({s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)} \\<inter>\n b)\nc1 {t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\nc2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule ConseqMGT)\n       (fastforce intro: exec.CondTrue simp add: final_notin_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     b)\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     b)\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c2\n                    {t. \\<Gamma>\\<turnstile>\\<langle>c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile>\\<langle>c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Cond.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "hence \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>({s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\\<inter>-b)\n                  c2\n                {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>({s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)} \\<inter>\n - b)\nc2 {t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\nc2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule ConseqMGT)\n       (fastforce intro: exec.CondFalse simp add: final_notin_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     - b)\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (7 subgoals):\n 1. \\<And>x1 c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Cond x1 c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Cond x1 c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 7. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     b)\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     - b)\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                 Cond b c1 c2\n              {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n              {t. \\<Gamma>\\<turnstile>\\<langle>Cond b c1 c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     b)\n                                    c1 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                               c2,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)} \\<inter>\n                                     - b)\n                                    c2 {t.\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                c2,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\nCond b c1 c2\n{t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                   c2,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule hoarep.Cond)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Cond b c1\n                                 c2,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    Cond b c1 c2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Cond b\n                                 c1 c2,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (While b c)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "let ?unroll = \"({(s,t). s\\<in>b \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t})\\<^sup>*\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "let ?P' = \"\\<lambda>Z. {t. (Z,t)\\<in>?unroll \\<and>\n                    (\\<forall>e. (Z,e)\\<in>?unroll \\<longrightarrow> e\\<in>b\n                         \\<longrightarrow> \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n                             (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                                  \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "let ?A' = \"\\<lambda>Z. {t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>While x1\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   While x1 c\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While x1\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 6. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>While b c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                While b c\n              {t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n              {t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>While b\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nWhile b c\n{t. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule ConseqMGT [where ?P'=\"?P'\"\n                         and ?Q'=\"\\<lambda>Z. ?P' Z \\<inter> - b\" and ?A'=\"?A'\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{t.\n    (Z, t)\n    \\<in> {(s, t).\n           s \\<in> b \\<and>\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n    (\\<forall>e.\n        (Z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n        e \\<in> b \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n        (\\<forall>u.\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n            \\<Gamma>\\<turnstile> \\<langle>While b\n     c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n   While b c\n   ({t. (Z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n        (\\<forall>e.\n            (Z, e)\n            \\<in> {(s, t).\n                   s \\<in> b \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n            e \\<in> b \\<longrightarrow>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n            (\\<forall>u.\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                \\<Gamma>\\<turnstile> \\<langle>While b\n         c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n    - b),\n   {t. \\<Gamma>\\<turnstile> \\<langle>While b\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "show \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (?P' Z) (While b c) (?P' Z \\<inter> - b),(?A' Z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{t.\n    (Z, t)\n    \\<in> {(s, t).\n           s \\<in> b \\<and>\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n    (\\<forall>e.\n        (Z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n        e \\<in> b \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n        (\\<forall>u.\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n            \\<Gamma>\\<turnstile> \\<langle>While b\n     c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n   While b c\n   ({t. (Z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n        (\\<forall>e.\n            (Z, e)\n            \\<in> {(s, t).\n                   s \\<in> b \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n            e \\<in> b \\<longrightarrow>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n            (\\<forall>u.\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                \\<Gamma>\\<turnstile> \\<langle>While b\n         c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n    - b),\n   {t. \\<Gamma>\\<turnstile> \\<langle>While b\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule allI, rule hoarep.While)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>({t.\n     (Z, t)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n     (\\<forall>e.\n         (Z, e)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n         e \\<in> b \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n         (\\<forall>u.\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>While b\n      c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n    b)\n   c {t. (Z, t)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n         (\\<forall>e.\n             (Z, e)\n             \\<in> {(s, t).\n                    s \\<in> b \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n             e \\<in> b \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n  Fault ` (- F) \\<and>\n             (\\<forall>u.\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                 \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While b\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix Z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>({t.\n     (Z, t)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n     (\\<forall>e.\n         (Z, e)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n         e \\<in> b \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n         (\\<forall>u.\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>While b\n      c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n    b)\n   c {t. (Z, t)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n         (\\<forall>e.\n             (Z, e)\n             \\<in> {(s, t).\n                    s \\<in> b \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n             e \\<in> b \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n  Fault ` (- F) \\<and>\n             (\\<forall>u.\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                 \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While b\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from While"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   ?Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\n                        {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                        {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n   c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>({t.\n     (Z, t)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n     (\\<forall>e.\n         (Z, e)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n         e \\<in> b \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n         (\\<forall>u.\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>While b\n      c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n    b)\n   c {t. (Z, t)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n         (\\<forall>e.\n             (Z, e)\n             \\<in> {(s, t).\n                    s \\<in> b \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n             e \\<in> b \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n  Fault ` (- F) \\<and>\n             (\\<forall>u.\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                 \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))},\n   {t. \\<Gamma>\\<turnstile> \\<langle>While b\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "then"], ["proof (chain)\npicking this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (?P' Z  \\<inter> b) c (?P' Z),(?A' Z)\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>({t.\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n b)\nc {t. (Z, t)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n      (\\<forall>e.\n          (Z, e)\n          \\<in> {(s, t).\n                 s \\<in> b \\<and>\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n          e \\<in> b \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n          (\\<forall>u.\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))},\n{t. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule ConseqMGT)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               b \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. (Z, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (Z, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               b \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. (Z, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (Z, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "assume  \"s\\<in> {t. (Z, t) \\<in> ?unroll \\<and>\n                      (\\<forall>e. (Z,e)\\<in>?unroll \\<longrightarrow> e\\<in>b\n                           \\<longrightarrow> \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n                               (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                                    \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n                   \\<inter> b\""], ["proof (state)\nthis:\n  s \\<in> {t. (Z, t)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n              (\\<forall>e.\n                  (Z, e)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal\n        t}\\<^sup>* \\<longrightarrow>\n                  e \\<in> b \\<longrightarrow>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n       Fault ` (- F) \\<and>\n                  (\\<forall>u.\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>While b\n               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n          b\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               b \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. (Z, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (Z, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "then"], ["proof (chain)\npicking this:\n  s \\<in> {t. (Z, t)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n              (\\<forall>e.\n                  (Z, e)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal\n        t}\\<^sup>* \\<longrightarrow>\n                  e \\<in> b \\<longrightarrow>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n       Fault ` (- F) \\<and>\n                  (\\<forall>u.\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>While b\n               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n          b", "obtain\n          Z_s_unroll: \"(Z,s) \\<in> ?unroll\" and\n          noabort:\"\\<forall>e. (Z,e)\\<in>?unroll \\<longrightarrow> e\\<in>b\n                        \\<longrightarrow> \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n                            (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                                  \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\" and\n          s_in_b: \"s\\<in>b\""], ["proof (prove)\nusing this:\n  s \\<in> {t. (Z, t)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n              (\\<forall>e.\n                  (Z, e)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal\n        t}\\<^sup>* \\<longrightarrow>\n                  e \\<in> b \\<longrightarrow>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n       Fault ` (- F) \\<and>\n                  (\\<forall>u.\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>While b\n               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n          b\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>(Z, s)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n      \\<forall>e.\n         (Z, e)\n         \\<in> {(s, t).\n                s \\<in> b \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n         e \\<in> b \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n         (\\<forall>u.\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n             \\<Gamma>\\<turnstile> \\<langle>While b\n      c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u);\n      s \\<in> b\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n  s \\<in> b\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               b \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. (Z, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (Z, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "show \"s \\<in> {t. t = s \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal t\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} \\<and>\n        (\\<forall>t. t \\<in> {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n             t \\<in> {t. (Z, t) \\<in> ?unroll \\<and>\n                  (\\<forall>e. (Z,e)\\<in>?unroll \\<longrightarrow>  e\\<in>b\n                       \\<longrightarrow> \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n                           (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                                  \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n         (\\<forall>t. t \\<in> {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n             t \\<in> {t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})\"\n          (is \"?C1 \\<and> ?C2 \\<and> ?C3\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t. t = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n     Fault ` (- F)} \\<and>\n    (\\<forall>t.\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n        t \\<in> {t. (Z, t)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                    (\\<forall>e.\n                        (Z, e)\n                        \\<in> {(s, t).\n                               s \\<in> b \\<and>\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          s\\<rangle> \\<Rightarrow> Normal\n              t}\\<^sup>* \\<longrightarrow>\n                        e \\<in> b \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F) \\<and>\n                        (\\<forall>u.\n                            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                       e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                            \\<Gamma>\\<turnstile> \\<langle>While b\n                     c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n    (\\<forall>t.\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "proof (intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. s \\<in> {t. t = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from Z_s_unroll noabort s_in_b"], ["proof (chain)\npicking this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n  s \\<in> b", "show ?C1"], ["proof (prove)\nusing this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n  s \\<in> b\n\ngoal (1 subgoal):\n 1. s \\<in> {t. t = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}", "by blast"], ["proof (state)\nthis:\n  s \\<in> {t. t = s \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix t"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume s_t: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from Z_s_unroll s_t s_in_b"], ["proof (chain)\npicking this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n  s \\<in> b", "have \"(Z, t) \\<in> ?unroll\""], ["proof (prove)\nusing this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n  s \\<in> b\n\ngoal (1 subgoal):\n 1. (Z, t)\n    \\<in> {(s, t).\n           s \\<in> b \\<and>\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*", "by (blast intro: rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "moreover"], ["proof (state)\nthis:\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "note noabort"], ["proof (state)\nthis:\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)", "have \"(Z, t) \\<in> ?unroll \\<and>\n                  (\\<forall>e. (Z,e)\\<in>?unroll \\<longrightarrow> e\\<in>b\n                        \\<longrightarrow> \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n                            (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                                  \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (1 subgoal):\n 1. (Z, t)\n    \\<in> {(s, t).\n           s \\<in> b \\<and>\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n    (\\<forall>e.\n        (Z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n        e \\<in> b \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n        (\\<forall>u.\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n            \\<Gamma>\\<turnstile> \\<langle>While b\n     c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))", "by iprover"], ["proof (state)\nthis:\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "}"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow> Normal\n                       ?t2 \\<Longrightarrow>\n  (Z, ?t2)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow> Normal\n                       ?t2 \\<Longrightarrow>\n  (Z, ?t2)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))", "show ?C2"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow> Normal\n                       ?t2 \\<Longrightarrow>\n  (Z, ?t2)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n       t \\<in> {t. (Z, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (Z, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}", "by blast"], ["proof (state)\nthis:\n  \\<forall>t.\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n     t \\<in> {t. (Z, t)\n                 \\<in> {(s, t).\n                        s \\<in> b \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                 (\\<forall>e.\n                     (Z, e)\n                     \\<in> {(s, t).\n                            s \\<in> b \\<and>\n                            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                       s\\<rangle> \\<Rightarrow> Normal\n           t}\\<^sup>* \\<longrightarrow>\n                     e \\<in> b \\<longrightarrow>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n          Fault ` (- F) \\<and>\n                     (\\<forall>u.\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                         \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume s_t:  \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Abrupt t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from Z_s_unroll noabort s_t s_in_b"], ["proof (chain)\npicking this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Abrupt t\n  s \\<in> b", "have \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t\""], ["proof (prove)\nusing this:\n  (Z, s)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  \\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> Abrupt t\n  s \\<in> b\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "}"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow> Abrupt\n                       ?t2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Abrupt ?t2\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "thus ?C3"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow> Abrupt\n                       ?t2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Abrupt ?t2\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n              s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "by simp"], ["proof (state)\nthis:\n  \\<forall>t.\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> {t. t = s \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         t\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n   Fault ` (- F)} \\<and>\n  (\\<forall>t.\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n      t \\<in> {t. (Z, t)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                  (\\<forall>e.\n                      (Z, e)\n                      \\<in> {(s, t).\n                             s \\<in> b \\<and>\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        s\\<rangle> \\<Rightarrow> Normal\n            t}\\<^sup>* \\<longrightarrow>\n                      e \\<in> b \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}) \\<and>\n  (\\<forall>t.\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n           c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>({t.\n(Z, t)\n\\<in> {(s, t).\n       s \\<in> b \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n(\\<forall>e.\n    (Z, e)\n    \\<in> {(s, t).\n           s \\<in> b \\<and>\n           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n    e \\<in> b \\<longrightarrow>\n    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F) \\<and>\n    (\\<forall>u.\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                                     b)\n                                    c {t.\n (Z, t)\n \\<in> {(s, t).\n        s \\<in> b \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n (\\<forall>e.\n     (Z, e)\n     \\<in> {(s, t).\n            s \\<in> b \\<and>\n            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n       s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n     e \\<in> b \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n     (\\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>While\n                                 b c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{t.\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n  (\\<forall>e.\n      (Z, e)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n      e \\<in> b \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n      (\\<forall>u.\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>While b\n   c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))}\n While b c\n ({t. (Z, t)\n      \\<in> {(s, t).\n             s \\<in> b \\<and>\n             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n      (\\<forall>e.\n          (Z, e)\n          \\<in> {(s, t).\n                 s \\<in> b \\<and>\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<longrightarrow>\n          e \\<in> b \\<longrightarrow>\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F) \\<and>\n          (\\<forall>u.\n              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n  - b),\n {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "assume P: \"s \\<in> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>While b c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\""], ["proof (state)\nthis:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "hence WhileNoFault: \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (prove)\nusing this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. (s, t)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                       (\\<forall>e.\n                           (s, e)\n                           \\<in> {(s, t).\n                                  s \\<in> b \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             s\\<rangle> \\<Rightarrow> Normal\n                 t}\\<^sup>* \\<longrightarrow>\n                           e \\<in> b \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F) \\<and>\n                           (\\<forall>u.\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          e\\<rangle> \\<Rightarrow> Abrupt\n              u \\<longrightarrow>\n                               \\<Gamma>\\<turnstile> \\<langle>While b\n                        c,Normal\n                           s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                   - b \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal\n                   s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "show \"s \\<in> ?P' s \\<and>\n    (\\<forall>t. t\\<in>(?P' s \\<inter> - b)\\<longrightarrow>\n         t\\<in>{t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t})\\<and>\n    (\\<forall>t. t\\<in>?A' s \\<longrightarrow> t\\<in>?A' Z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n    (\\<forall>t.\n        t \\<in> {t. (s, t)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                    (\\<forall>e.\n                        (s, e)\n                        \\<in> {(s, t).\n                               s \\<in> b \\<and>\n                               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                          s\\<rangle> \\<Rightarrow> Normal\n              t}\\<^sup>* \\<longrightarrow>\n                        e \\<in> b \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F) \\<and>\n                        (\\<forall>u.\n                            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                       e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                            \\<Gamma>\\<turnstile> \\<langle>While b\n                     c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n                - b \\<longrightarrow>\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n    (\\<forall>t.\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n        t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "proof (intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "{"], ["proof (state)\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix e"], ["proof (state)\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume \"(Z,e) \\<in> ?unroll\" \"e \\<in> b\""], ["proof (state)\nthis:\n  (Z, e)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  e \\<in> b\n\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from this WhileNoFault"], ["proof (chain)\npicking this:\n  (Z, e)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)", "have \"\\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F)) \\<and>\n               (\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>Abrupt u \\<longrightarrow>\n                    \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\" (is \"?Prop Z e\")"], ["proof (prove)\nusing this:\n  (Z, e)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F) \\<and>\n    (\\<forall>u.\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)", "proof (induct rule: converse_rtrancl_induct [consumes 1])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume e_in_b: \"e \\<in> b\""], ["proof (state)\nthis:\n  e \\<in> b\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume WhileNoFault: \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "with e_in_b WhileNoFault"], ["proof (chain)\npicking this:\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)", "have cNoFault: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (prove)\nusing this:\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)", "by (auto simp add: final_notin_def intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "{"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "fix u"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume \"\\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "with e_in_b"], ["proof (chain)\npicking this:\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u", "have \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (prove)\nusing this:\n  e \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\ne\\<rangle> \\<Rightarrow> Abrupt u", "by (blast intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "}"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow> Abrupt ?u2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e \\<in> b;\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow> Abrupt ?u2", "show \"?Prop e e\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    e\\<rangle> \\<Rightarrow> Abrupt ?u2\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F) \\<and>\n    (\\<forall>u.\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal e\\<rangle> \\<Rightarrow> Abrupt u)", "by iprover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F) \\<and>\n  (\\<forall>u.\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>While b\n                                     c,Normal\n  e\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "fix Z r"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume e_in_b: \"e\\<in>b\""], ["proof (state)\nthis:\n  e \\<in> b\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume WhileNoFault: \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume hyp: \"\\<lbrakk>e\\<in>b;\\<Gamma>\\<turnstile>\\<langle>While b c,Normal r\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\\<rbrakk>\n                       \\<Longrightarrow> ?Prop r e\""], ["proof (state)\nthis:\n  \\<lbrakk>e \\<in> b;\n   \\<Gamma>\\<turnstile> \\<langle>While b\n                                  c,Normal\n                                     r\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal r\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume Z_r:\n            \"(Z, r) \\<in> {(Z, r). Z \\<in> b \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r}\""], ["proof (state)\nthis:\n  (Z, r)\n  \\<in> {(Z, r).\n         Z \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal r}\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "with WhileNoFault"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n  (Z, r)\n  \\<in> {(Z, r).\n         Z \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal r}", "have \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal r\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n  (Z, r)\n  \\<in> {(Z, r).\n         Z \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal r}\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nr\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)", "by (auto simp add: final_notin_def intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    r\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "from hyp [OF e_in_b this]"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F) \\<and>\n  (\\<forall>u.\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>While b\n                                     c,Normal\n  r\\<rangle> \\<Rightarrow> Abrupt u)", "obtain\n            cNoFault: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\" and\n            Abrupt_r: \"\\<forall>u. \\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                            \\<Gamma>\\<turnstile>\\<langle>While b c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F) \\<and>\n  (\\<forall>u.\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>While b\n                                     c,Normal\n  r\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n         e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n      \\<forall>u.\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<forall>u.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n r\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "{"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<forall>u.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n r\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "assume \"\\<Gamma>\\<turnstile>\\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "with Abrupt_r"], ["proof (chain)\npicking this:\n  \\<forall>u.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n r\\<rangle> \\<Rightarrow> Abrupt u\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u", "have \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (prove)\nusing this:\n  \\<forall>u.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ne\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n     \\<Gamma>\\<turnstile> \\<langle>While b\n                                    c,Normal\n r\\<rangle> \\<Rightarrow> Abrupt u\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal e\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nr\\<rangle> \\<Rightarrow> Abrupt u", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "from  Z_r"], ["proof (chain)\npicking this:\n  (Z, r)\n  \\<in> {(Z, r).\n         Z \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal r}", "obtain\n              \"Z \\<in> b\"  \"\\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\""], ["proof (prove)\nusing this:\n  (Z, r)\n  \\<in> {(Z, r).\n         Z \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal r}\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>Z \\<in> b;\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n Z\\<rangle> \\<Rightarrow> Normal r\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r", "have \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Abrupt u\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt u", "by (blast intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "}"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Abrupt ?u2\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, e)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<lbrakk>e \\<in> b;\n         \\<Gamma>\\<turnstile> \\<langle>While b\n  c,Normal\n     z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n               Fault ` (- F) \\<and>\n                          (\\<forall>u.\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                              \\<Gamma>\\<turnstile> \\<langle>While b\n                       c,Normal z\\<rangle> \\<Rightarrow> Abrupt u);\n        e \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal\n    y\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F) \\<and>\n                         (\\<forall>u.\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                             \\<Gamma>\\<turnstile> \\<langle>While b\n                      c,Normal y\\<rangle> \\<Rightarrow> Abrupt u)", "with cNoFault"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Abrupt ?u2", "show \"?Prop Z e\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow> Abrupt\n                       ?u2 \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Abrupt ?u2\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F) \\<and>\n    (\\<forall>u.\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)", "by iprover"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F) \\<and>\n  (\\<forall>u.\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>While b\n                                     c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F) \\<and>\n  (\\<forall>u.\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n      \\<Gamma>\\<turnstile> \\<langle>While b\n                                     c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(Z, ?e2)\n           \\<in> {(s, t).\n                  s \\<in> b \\<and>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n   ?e2 \\<in> b\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               ?e2\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   ?e2\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (3 subgoals):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n 2. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 3. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "with P"], ["proof (chain)\npicking this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<lbrakk>(Z, ?e2)\n           \\<in> {(s, t).\n                  s \\<in> b \\<and>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n   ?e2 \\<in> b\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               ?e2\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   ?e2\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)", "show \"s \\<in> ?P' s\""], ["proof (prove)\nusing this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<lbrakk>(Z, ?e2)\n           \\<in> {(s, t).\n                  s \\<in> b \\<and>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n   ?e2 \\<in> b\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               ?e2\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   ?e2\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt u)\n\ngoal (1 subgoal):\n 1. s \\<in> {t. (s, t)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                (\\<forall>e.\n                    (s, e)\n                    \\<in> {(s, t).\n                           s \\<in> b \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      s\\<rangle> \\<Rightarrow> Normal\n          t}\\<^sup>* \\<longrightarrow>\n                    e \\<in> b \\<longrightarrow>\n                    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n               e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F) \\<and>\n                    (\\<forall>u.\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                        \\<Gamma>\\<turnstile> \\<langle>While b\n                 c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}", "by blast"], ["proof (state)\nthis:\n  s \\<in> {t. (s, t)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n              (\\<forall>e.\n                  (s, e)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal\n        t}\\<^sup>* \\<longrightarrow>\n                  e \\<in> b \\<longrightarrow>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n       Fault ` (- F) \\<and>\n                  (\\<forall>u.\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>While b\n               c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))}\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix t"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume \"termination\": \"t \\<notin> b\""], ["proof (state)\nthis:\n  t \\<notin> b\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume \"(Z, t) \\<in> ?unroll\""], ["proof (state)\nthis:\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "hence \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\nusing this:\n  (Z, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "proof (induct rule: converse_rtrancl_induct [consumes 1])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nt\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "from \"termination\""], ["proof (chain)\npicking this:\n  t \\<notin> b", "show \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal t\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\nusing this:\n  t \\<notin> b\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nt\\<rangle> \\<Rightarrow> Normal t", "by (blast intro: exec.WhileFalse)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal t\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "fix Z r"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "assume first_body:\n                 \"(Z, r) \\<in> {(s, t). s \\<in> b \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> Normal t}\""], ["proof (state)\nthis:\n  (Z, r)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "assume \"(r, t) \\<in> ?unroll\""], ["proof (state)\nthis:\n  (r, t)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "assume rest_loop: \"\\<Gamma>\\<turnstile>\\<langle>While b c, Normal r\\<rangle> \\<Rightarrow> Normal t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>(y, z)\n                \\<in> {(s, t).\n                       s \\<in> b \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t};\n        (z, t)\n        \\<in> {(s, t).\n               s \\<in> b \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>c,Normal\n          s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*;\n        \\<Gamma>\\<turnstile> \\<langle>While b\n c,Normal z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal y\\<rangle> \\<Rightarrow> Normal t", "show \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "from first_body"], ["proof (chain)\npicking this:\n  (Z, r)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}", "obtain\n              \"Z \\<in> b\" \"\\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\""], ["proof (prove)\nusing this:\n  (Z, r)\n  \\<in> {(s, t).\n         s \\<in> b \\<and>\n         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    s\\<rangle> \\<Rightarrow> Normal t}\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>Z \\<in> b;\n      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n Z\\<rangle> \\<Rightarrow> Normal r\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fast"], ["proof (state)\nthis:\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "moreover"], ["proof (state)\nthis:\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "from rest_loop"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t", "have\n              \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal r\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nr\\<rangle> \\<Rightarrow> Normal t", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "ultimately"], ["proof (chain)\npicking this:\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t", "show \"\\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t\""], ["proof (prove)\nusing this:\n  Z \\<in> b\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal r\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal r\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>While b\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "by (rule exec.WhileTrue)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?t2 \\<notin> b;\n   (Z, ?t2)\n   \\<in> {(s, t).\n          s \\<in> b \\<and>\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Normal ?t2\n\ngoal (2 subgoals):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n 2. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "with P"], ["proof (chain)\npicking this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<lbrakk>?t2 \\<notin> b;\n   (Z, ?t2)\n   \\<in> {(s, t).\n          s \\<in> b \\<and>\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Normal ?t2", "show \"(\\<forall>t. t\\<in>(?P' s \\<inter> - b)\n            \\<longrightarrow>t\\<in>{t. \\<Gamma>\\<turnstile>\\<langle>While b c,Normal Z\\<rangle> \\<Rightarrow> Normal t})\""], ["proof (prove)\nusing this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<lbrakk>?t2 \\<notin> b;\n   (Z, ?t2)\n   \\<in> {(s, t).\n          s \\<in> b \\<and>\n          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>*\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>While b\n             c,Normal Z\\<rangle> \\<Rightarrow> Normal ?t2\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. (s, t)\n                   \\<in> {(s, t).\n                          s \\<in> b \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                   (\\<forall>e.\n                       (s, e)\n                       \\<in> {(s, t).\n                              s \\<in> b \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                         s\\<rangle> \\<Rightarrow> Normal\n             t}\\<^sup>* \\<longrightarrow>\n                       e \\<in> b \\<longrightarrow>\n                       \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F) \\<and>\n                       (\\<forall>u.\n                           \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                      e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                           \\<Gamma>\\<turnstile> \\<langle>While b\n                    c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n               - b \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Normal t}", "by blast"], ["proof (state)\nthis:\n  \\<forall>t.\n     t \\<in> {t. (s, t)\n                 \\<in> {(s, t).\n                        s \\<in> b \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                 (\\<forall>e.\n                     (s, e)\n                     \\<in> {(s, t).\n                            s \\<in> b \\<and>\n                            \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                       s\\<rangle> \\<Rightarrow> Normal\n           t}\\<^sup>* \\<longrightarrow>\n                     e \\<in> b \\<longrightarrow>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n          Fault ` (- F) \\<and>\n                     (\\<forall>u.\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                         \\<Gamma>\\<turnstile> \\<langle>While b\n                  c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n             - b \\<longrightarrow>\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Normal t}\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from P"], ["proof (chain)\npicking this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}", "show \"\\<forall>t. t\\<in>?A' s \\<longrightarrow> t\\<in>?A' Z\""], ["proof (prove)\nusing this:\n  s \\<in> {s. s = Z \\<and>\n              \\<Gamma>\\<turnstile> \\<langle>While b\n       c,Normal\n          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n       t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n            c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "by simp"], ["proof (state)\nthis:\n  \\<forall>t.\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n     t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n          c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> {t. (s, t)\n              \\<in> {(s, t).\n                     s \\<in> b \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n              (\\<forall>e.\n                  (s, e)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal\n        t}\\<^sup>* \\<longrightarrow>\n                  e \\<in> b \\<longrightarrow>\n                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n             e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n       Fault ` (- F) \\<and>\n                  (\\<forall>u.\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>While b\n               c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<and>\n  (\\<forall>t.\n      t \\<in> {t. (s, t)\n                  \\<in> {(s, t).\n                         s \\<in> b \\<and>\n                         \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> Normal t}\\<^sup>* \\<and>\n                  (\\<forall>e.\n                      (s, e)\n                      \\<in> {(s, t).\n                             s \\<in> b \\<and>\n                             \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                        s\\<rangle> \\<Rightarrow> Normal\n            t}\\<^sup>* \\<longrightarrow>\n                      e \\<in> b \\<longrightarrow>\n                      \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                 e\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F) \\<and>\n                      (\\<forall>u.\n                          \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                     e\\<rangle> \\<Rightarrow> Abrupt u \\<longrightarrow>\n                          \\<Gamma>\\<turnstile> \\<langle>While b\n                   c,Normal s\\<rangle> \\<Rightarrow> Abrupt u))} \\<inter>\n              - b \\<longrightarrow>\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n           c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n  (\\<forall>t.\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n           c,Normal s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n      t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>While b\n           c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>While b\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    While b c\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>While\n                                 b c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>While\n                                 b c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (5 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Call p)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "let ?P = \"{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\""], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "from noStuck_Call"], ["proof (chain)\npicking this:\n  ?\\<Gamma>\\<turnstile> \\<langle>Call\n                                  ?p,Normal\n?s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<Longrightarrow>\n  ?p \\<in> dom ?\\<Gamma>", "have \"\\<forall>s \\<in> ?P. p \\<in> dom \\<Gamma>\""], ["proof (prove)\nusing this:\n  ?\\<Gamma>\\<turnstile> \\<langle>Call\n                                  ?p,Normal\n?s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<Longrightarrow>\n  ?p \\<in> dom ?\\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>{s. s = Z \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>Call\n                p,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}.\n       p \\<in> dom \\<Gamma>", "by (fastforce simp add: final_notin_def )"], ["proof (state)\nthis:\n  \\<forall>s\\<in>{s. s = Z \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>Call\n              p,Normal\n                 s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F)}.\n     p \\<in> dom \\<Gamma>\n\ngoal (5 subgoals):\n 1. \\<And>x Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Call\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Call x\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Call\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 5. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "then"], ["proof (chain)\npicking this:\n  \\<forall>s\\<in>{s. s = Z \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>Call\n              p,Normal\n                 s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F)}.\n     p \\<in> dom \\<Gamma>", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> ?P (Call p)\n               {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>{s. s = Z \\<and>\n                     \\<Gamma>\\<turnstile> \\<langle>Call\n              p,Normal\n                 s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n           Fault ` (- F)}.\n     p \\<in> dom \\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nCall p\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "proof (rule conseq_extract_state_indep_prop)"], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<in> dom \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nCall p\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "assume p_definied: \"p \\<in> dom \\<Gamma>\""], ["proof (state)\nthis:\n  p \\<in> dom \\<Gamma>\n\ngoal (1 subgoal):\n 1. p \\<in> dom \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nCall p\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "with MGT_Calls"], ["proof (chain)\npicking this:\n  \\<forall>p\\<in>dom \\<Gamma>.\n     \\<forall>Z.\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Call\n                                    p,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Call p\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n  p \\<in> dom \\<Gamma>", "show\n      \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and>\n                 \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                  (Call p)\n                 {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                 {t. \\<Gamma>\\<turnstile>\\<langle>Call  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>p\\<in>dom \\<Gamma>.\n     \\<forall>Z.\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Call\n                                    p,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Call p\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n  p \\<in> dom \\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nCall p\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "by (auto)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Call p\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Call p\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (4 subgoals):\n 1. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (DynCom c)"], ["proof (state)\nthis:\n  ?xa \\<in> range c \\<Longrightarrow>\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    ?xa\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (4 subgoals):\n 1. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have hyp:\n    \"\\<And>s'. \\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c s',Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c s'\n      {t. \\<Gamma>\\<turnstile>\\<langle>c s',Normal Z\\<rangle> \\<Rightarrow> Normal t},{t. \\<Gamma>\\<turnstile>\\<langle>c s',Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<forall>Z.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>c\ns',Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      c s'\n      {t. \\<Gamma>\\<turnstile> \\<langle>c\n   s',Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>c\n   s',Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "using DynCom"], ["proof (prove)\nusing this:\n  ?xa \\<in> range c \\<Longrightarrow>\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n                                    ?xa\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>?xa,Normal\n                                     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<forall>Z.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>c\ns',Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      c s'\n      {t. \\<Gamma>\\<turnstile> \\<langle>c\n   s',Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>c\n   s',Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "by simp"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c ?s',Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n c ?s'\n {t. \\<Gamma>\\<turnstile> \\<langle>c ?s',Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c ?s',Normal\n    Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (4 subgoals):\n 1. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have hyp':\n  \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c Z\n        {t. \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal Z\\<rangle> \\<Rightarrow> Normal t},{t. \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nc Z\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule ConseqMGT [OF hyp])\n       (fastforce simp add: final_notin_def intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    c Z\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (4 subgoals):\n 1. \\<And>x Z.\n       (\\<And>xa Z.\n           xa \\<in> range x \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       xa {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>xa,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   x,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   DynCom x\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nx,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 4. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n               DynCom c\n             {t. \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n             {t. \\<Gamma>\\<turnstile>\\<langle>DynCom c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nDynCom c\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule hoarep.DynCom)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>{s. s = Z \\<and>\n                       \\<Gamma>\\<turnstile> \\<langle>DynCom\n                c,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c s\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "apply (clarsimp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow>\\<notin>insert Stuck\n                                 (Fault ` (- F)) \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>insert\n                              Stuck (Fault ` (- F))}\nc Z\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule hyp' [simplified])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    DynCom c\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>DynCom\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Guard f g c)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have hyp_c: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\n                    {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile>\\<langle>c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n   c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Guard"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>c,Normal ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                               Fault ` (- F)}\n   c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n    Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2a c Z.\n       (\\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\n                                   c,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Guard x1 x2a c\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Guard x1 x2a\nc,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 3. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "proof (cases \"f \\<in> F\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n 2. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "case True"], ["proof (state)\nthis:\n  f \\<in> F\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n 2. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "from hyp_c"], ["proof (chain)\npicking this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (- F))})\n             c\n           {t. \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n           {t. \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n {s. s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                    c,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)})\nc {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                     c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule ConseqMGT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> g \\<inter>\n               {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>Guard f g\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply (insert True)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> g \\<inter>\n                        {s. s = Z \\<and>\n                            \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                     c,Normal\n                        s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                  Fault ` (- F)};\n        f \\<in> F\\<rbrakk>\n       \\<Longrightarrow> s \\<in> {sa.\n                                  sa = s \\<and>\n                                  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                             sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                        Fault ` (- F)} \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 s\\<rangle> \\<Rightarrow> Normal\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 s\\<rangle> \\<Rightarrow> Abrupt\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply (auto simp add: final_notin_def intro: exec.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n 2. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "from True this"], ["proof (chain)\npicking this:\n  f \\<in> F\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show ?thesis"], ["proof (prove)\nusing this:\n  f \\<in> F\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule conseqPre [OF Guarantee]) auto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Guard f g c\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "case False"], ["proof (state)\nthis:\n  f \\<notin> F\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "from hyp_c"], ["proof (chain)\npicking this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>\n           (g \\<inter> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))})\n           c\n           {t. \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n           {t. \\<Gamma>\\<turnstile>\\<langle>Guard f g c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\n c {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n {s. s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                    c,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)})\nc {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                     c,Normal\n  Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule ConseqMGT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> g \\<inter>\n               {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>Guard f g\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c,Normal\n           sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n      Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                c,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                  s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>Z \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal\n    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\\<rbrakk>\n       \\<Longrightarrow> Z \\<in> {s. s = Z \\<and>\n                                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                          Fault ` (- F)} \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 Z\\<rangle> \\<Rightarrow> Normal\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 Z\\<rangle> \\<Rightarrow> Abrupt\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply (frule Guard_noFaultStuckD [OF _ False])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>Z \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        Z \\<in> g\\<rbrakk>\n       \\<Longrightarrow> Z \\<in> {s. s = Z \\<and>\n                                     \\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                          Fault ` (- F)} \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 Z\\<rangle> \\<Rightarrow> Normal\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n                         (\\<forall>t.\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                                 Z\\<rangle> \\<Rightarrow> Abrupt\n                     t} \\<longrightarrow>\n                             t \\<in> {t.\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply (auto simp add: final_notin_def intro: exec.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter>\n                                     {s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Guard f g\n                               c,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)})\n                                    c {t.\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                c,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nGuard f g c\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                   c,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule conseqPre [OF hoarep.Guard])"], ["proof (prove)\ngoal (1 subgoal):\n 1. {s. s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>Guard f g\n c,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    \\<subseteq> g \\<inter>\n                {s. s = Z \\<and>\n                    \\<Gamma>\\<turnstile> \\<langle>Guard f g\n             c,Normal\n                s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n          Fault ` (- F)}", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<Gamma>\\<turnstile> \\<langle>Guard f g\nc,Normal\n   Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                   Fault ` (- F) \\<Longrightarrow>\n       Z \\<in> g \\<inter>\n               {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>Guard f g\n            c,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)}", "apply (frule Guard_noFaultStuckD [OF _ False])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Guard f g\n         c,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        Z \\<in> g\\<rbrakk>\n       \\<Longrightarrow> Z \\<in> g \\<inter>\n                                 {s. s = Z \\<and>\n                                     \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                              c,Normal\n                                 s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                           Fault ` (- F)}", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Guard f g c\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Guard f g\n                                 c,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    Guard f g c\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Guard\n                                 f g\n                                 c,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (2 subgoals):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case Throw"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   Throw\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n 2. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Throw,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} Throw\n              {t. \\<Gamma>\\<turnstile>\\<langle>Throw,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n              {t. \\<Gamma>\\<turnstile>\\<langle>Throw,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\nThrow\n{t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n   Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule conseqPre [OF hoarep.Throw]) (blast intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    Throw\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Throw,Normal\n Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "case (Catch c\\<^sub>1 c\\<^sub>2)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\\<^sub>1\n                  {t. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                  {t. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c\\<^sub>1\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n          Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Catch.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c\\<^sub>1\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n          Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n c\\<^sub>1\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "hence \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\\<^sub>1\n               {t. \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n                   \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n c\\<^sub>1\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\nc\\<^sub>1\n{t. \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}", "by (rule ConseqMGT)\n       (fastforce intro: exec.intros simp add: final_notin_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "moreover"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))} c\\<^sub>2\n                  {t. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                  {t. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c\\<^sub>2\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n          Z\\<rangle> \\<Rightarrow> Abrupt t}", "using Catch.hyps"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     ?Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   c\\<^sub>2\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n          Z\\<rangle> \\<Rightarrow> Abrupt t}", "by iprover"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n c\\<^sub>2\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "hence \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal Z\\<rangle> \\<Rightarrow>Abrupt s \\<and>\n                   \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n               c\\<^sub>2\n               {t. \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n c\\<^sub>2\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n    Z\\<rangle> \\<Rightarrow> Abrupt s \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                c\\<^sub>2,Normal\n     Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\nc\\<^sub>2\n{t. \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule ConseqMGT)\n       (fastforce intro: exec.intros  simp add: final_notin_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt s \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2 Z.\n       \\<lbrakk>\\<And>Z.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               c1 {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n                  Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>c1,Normal\n               Z\\<rangle> \\<Rightarrow> Abrupt t};\n        \\<And>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n        s = Z \\<and>\n        \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n       c2 {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n          Z\\<rangle> \\<Rightarrow> Normal t},\n       {t. \\<Gamma>\\<turnstile> \\<langle>c2,Normal\n       Z\\<rangle> \\<Rightarrow> Abrupt t}\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Catch c1\n               c2,Normal\n                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n             Fault ` (- F)}\n                     Catch c1 c2\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Catch c1\n                  c2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt s \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n                   Catch c\\<^sub>1 c\\<^sub>2\n              {t. \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n              {t. \\<Gamma>\\<turnstile>\\<langle>Catch c\\<^sub>1 c\\<^sub>2,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>1\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     Z\\<rangle> \\<Rightarrow> Abrupt s \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                c\\<^sub>2,Normal\n     s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\nCatch c\\<^sub>1 c\\<^sub>2\n{t. \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                   c\\<^sub>2,Normal\n        Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (rule hoarep.Catch)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Catch c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    Catch c\\<^sub>1 c\\<^sub>2\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Catch\n                                 c\\<^sub>1\n                                 c\\<^sub>2,Normal\n      Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MGT_Calls:\n \"\\<forall>p\\<in>dom \\<Gamma>. \\<forall>Z.\n     \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n            (Call p)\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "fix p Z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "assume defined: \"p \\<in> dom \\<Gamma>\""], ["proof (state)\nthis:\n  p \\<in> dom \\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "have\n      \"\\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>. \\<Union>Z.\n          {({s. s=Z \\<and>\n             \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))},\n             p,\n             {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n             {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F\\<^esub>{s. s = Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n          (the (\\<Gamma> p))\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n          {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"\n      (is \"\\<Gamma>,?\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub> (?Pre p Z) (the (\\<Gamma> p)) (?Post p Z),(?Abr p Z)\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                 \\<Union>Z.\n                    {({s. s = Z \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal\n                      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F)},\n                      p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nthe (\\<Gamma> p)\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                 \\<Union>Z.\n                    {({s. s = Z \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal\n                      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F)},\n                      p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nthe (\\<Gamma> p)\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "have MGT_Calls:\n       \"\\<forall>p\\<in>dom \\<Gamma>. \\<forall>Z. \\<Gamma>,?\\<Theta> \\<turnstile>\\<^bsub>/F\\<^esub>\n        {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\n         (Call p)\n        {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n        {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                       \\<Union>Z.\n                          {({s. s = Z \\<and>\n                                \\<Gamma>\\<turnstile> \\<langle>Call\n                         p,Normal\n                            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                      Fault ` (- F)},\n                            p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                            p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                            {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                         p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (intro ballI allI, rule HoarePartialDef.Asm,auto)"], ["proof (state)\nthis:\n  \\<forall>p\\<in>dom \\<Gamma>.\n     \\<forall>Z.\n        \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                     \\<Union>Z.\n                        {({s. s = Z \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal\n                          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                    Fault ` (- F)},\n                          p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                          p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                          {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Call\n                                    p,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Call p\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                 \\<Union>Z.\n                    {({s. s = Z \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal\n                      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F)},\n                      p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nthe (\\<Gamma> p)\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "have \"\\<forall>Z. \\<Gamma>,?\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {s. s=Z \\<and> \\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p) ,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault`(-F))}\n                        (the (\\<Gamma> p))\n                        {t. \\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                        {t. \\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Z.\n       \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                    \\<Union>Z.\n                       {({s. s = Z \\<and>\n                             \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal\n                         s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                   Fault ` (- F)},\n                         p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                         p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                         {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    s = Z \\<and>\n    \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n  p),Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n   the (\\<Gamma> p)\n   {t. \\<Gamma>\\<turnstile> \\<langle>the\n(\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t},\n   {t. \\<Gamma>\\<turnstile> \\<langle>the\n(\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "by (iprover intro: MGT_lemma [OF MGT_Calls])"], ["proof (state)\nthis:\n  \\<forall>Z.\n     \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                  \\<Union>Z.\n                     {({s. s = Z \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal\n                       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                 Fault ` (- F)},\n                       p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                       {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n the (\\<Gamma> p)\n {t. \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n   p),Normal Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n   p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                 \\<Union>Z.\n                    {({s. s = Z \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal\n                      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F)},\n                      p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nthe (\\<Gamma> p)\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "thus \"\\<Gamma>,?\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (?Pre p Z) (the (\\<Gamma> p)) (?Post p Z),(?Abr p Z)\""], ["proof (prove)\nusing this:\n  \\<forall>Z.\n     \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                  \\<Union>Z.\n                     {({s. s = Z \\<and>\n                           \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal\n                       s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                 Fault ` (- F)},\n                       p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                       {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n        \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n  s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n the (\\<Gamma> p)\n {t. \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n   p),Normal Z\\<rangle> \\<Rightarrow> Normal t},\n {t. \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n   p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                 \\<Union>Z.\n                    {({s. s = Z \\<and>\n                          \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal\n                      s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                Fault ` (- F)},\n                      p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                      p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n       \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n s = Z \\<and>\n \\<Gamma>\\<turnstile> \\<langle>Call\n                                p,Normal\n                                   s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                             Fault ` (- F)}\nthe (\\<Gamma> p)\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t},\n{t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule ConseqMGT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> {s. s = Z \\<and>\n                   \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal\n               s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n         Fault ` (- F)} \\<Longrightarrow>\n       s \\<in> {sa.\n                sa = s \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>the\n         (\\<Gamma>\n           p),Normal\n               sa\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n          Fault ` (- F)} \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>the\n                (\\<Gamma>\n                  p),Normal\n                      s\\<rangle> \\<Rightarrow> Normal t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                p,Normal Z\\<rangle> \\<Rightarrow> Normal t}) \\<and>\n       (\\<forall>t.\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>the\n                (\\<Gamma>\n                  p),Normal\n                      s\\<rangle> \\<Rightarrow> Abrupt t} \\<longrightarrow>\n           t \\<in> {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})", "apply (clarify,safe)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal\n   Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                   Fault ` (- F) \\<Longrightarrow>\n       \\<Gamma>\\<turnstile> \\<langle>the\n(\\<Gamma>\n  p),Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 3. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal\n   Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                   Fault ` (- F) \\<Longrightarrow>\n       \\<Gamma>\\<turnstile> \\<langle>the\n(\\<Gamma>\n  p),Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 3. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "assume \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal\n   Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                                   Fault ` (- F) \\<Longrightarrow>\n       \\<Gamma>\\<turnstile> \\<langle>the\n(\\<Gamma>\n  p),Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 3. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "with defined"], ["proof (chain)\npicking this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)", "show \"\\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))\""], ["proof (prove)\nusing this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\n  p),Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)", "by (fastforce simp add: final_notin_def\n                intro: exec.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)\n\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "fix t"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "assume \"\\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Normal t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n 2. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "with defined"], ["proof (chain)\npicking this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Normal t", "show \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow>Normal t\""], ["proof (prove)\nusing this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Normal t", "by  (auto intro: exec.Call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Normal t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "assume \"\\<Gamma>\\<turnstile>\\<langle>the (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            Z\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F);\n        \\<Gamma>\\<turnstile> \\<langle>the\n (\\<Gamma> p),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "with defined"], ["proof (chain)\npicking this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Abrupt t", "show \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow>Abrupt t\""], ["proof (prove)\nusing this:\n  p \\<in> dom \\<Gamma>\n  \\<Gamma>\\<turnstile> \\<langle>the (\\<Gamma>\np),Normal Z\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\nZ\\<rangle> \\<Rightarrow> Abrupt t", "by  (auto intro: exec.Call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n               \\<Union>Z.\n                  {({s. s = Z \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)},\n                    p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    the (\\<Gamma> p)\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n               \\<Union>Z.\n                  {({s. s = Z \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)},\n                    p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = Z \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                              Fault ` (- F)}\n                                    the (\\<Gamma> p)\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    Z\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "}"], ["proof (state)\nthis:\n  ?p2 \\<in> dom \\<Gamma> \\<Longrightarrow>\n  \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n               \\<Union>Z.\n                  {({s. s = Z \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)},\n                    p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z2 \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    the (\\<Gamma> ?p2)\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "then"], ["proof (chain)\npicking this:\n  ?p2 \\<in> dom \\<Gamma> \\<Longrightarrow>\n  \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n               \\<Union>Z.\n                  {({s. s = Z \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)},\n                    p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z2 \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    the (\\<Gamma> ?p2)\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Abrupt t}", "show ?thesis"], ["proof (prove)\nusing this:\n  ?p2 \\<in> dom \\<Gamma> \\<Longrightarrow>\n  \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n               \\<Union>Z.\n                  {({s. s = Z \\<and>\n                        \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal\n                    s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n              Fault ` (- F)},\n                    p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                    p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                 p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n     \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = ?Z2 \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\ns\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n                                    the (\\<Gamma> ?p2)\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Normal t},\n                                    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                                 ?p2,Normal\n?Z2\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p Z.\n        p \\<in> dom \\<Gamma> \\<Longrightarrow>\n        \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                     \\<Union>Z.\n                        {({s. s = Z \\<and>\n                              \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal\n                          s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                    Fault ` (- F)},\n                          p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                          p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                          {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                       p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Call\n                                    p,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    the (\\<Gamma> p)\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}) \\<Longrightarrow>\n    \\<forall>p\\<in>dom \\<Gamma>.\n       \\<forall>Z.\n          \\<Gamma>,{}\n             \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n       s = Z \\<and>\n       \\<Gamma>\\<turnstile> \\<langle>Call\np,Normal s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n      Call p\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n      {t. \\<Gamma>\\<turnstile> \\<langle>Call\n   p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "apply (intro ballI allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p Z.\n       \\<lbrakk>\\<And>p Z.\n                   p \\<in> dom \\<Gamma> \\<Longrightarrow>\n                   \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                                \\<Union>Z.\n                                   {({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)},\n                                     p, {t.\n   \\<Gamma>\\<turnstile> \\<langle>Call\n                                  p,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                     {t.\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  Z\\<rangle> \\<Rightarrow> Abrupt t})})\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               the (\\<Gamma> p)\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t};\n        p \\<in> dom \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,{}\n                            \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                      s = Z \\<and>\n                      \\<Gamma>\\<turnstile> \\<langle>Call\n               p,Normal\n                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n            Fault ` (- F)}\n                     Call p\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                     {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                  p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "apply (rule CallRec' [where Procs=\"dom \\<Gamma>\"  and\n      P=\"\\<lambda>p Z. {s. s=Z \\<and>\n                  \\<Gamma>\\<turnstile>\\<langle>Call p,Normal s\\<rangle> \\<Rightarrow>\\<notin>({Stuck} \\<union> Fault ` (-F))}\"and\n      Q=\"\\<lambda>p Z.\n        {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Normal t}\" and\n      A=\"\\<lambda>p Z.\n        {t. \\<Gamma>\\<turnstile>\\<langle>Call p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\"] )"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>p Z.\n       \\<lbrakk>\\<And>p Z.\n                   p \\<in> dom \\<Gamma> \\<Longrightarrow>\n                   \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                                \\<Union>Z.\n                                   {({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)},\n                                     p, {t.\n   \\<Gamma>\\<turnstile> \\<langle>Call\n                                  p,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                     {t.\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  Z\\<rangle> \\<Rightarrow> Abrupt t})})\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               the (\\<Gamma> p)\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t};\n        p \\<in> dom \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> p \\<in> dom \\<Gamma>\n 2. \\<And>p Z.\n       \\<lbrakk>\\<And>p Z.\n                   p \\<in> dom \\<Gamma> \\<Longrightarrow>\n                   \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                                \\<Union>Z.\n                                   {({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)},\n                                     p, {t.\n   \\<Gamma>\\<turnstile> \\<langle>Call\n                                  p,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                     {t.\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  Z\\<rangle> \\<Rightarrow> Abrupt t})})\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               the (\\<Gamma> p)\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t};\n        p \\<in> dom \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> dom \\<Gamma> \\<subseteq> dom \\<Gamma>\n 3. \\<And>p Z.\n       \\<lbrakk>\\<And>p Z.\n                   p \\<in> dom \\<Gamma> \\<Longrightarrow>\n                   \\<Gamma>,(\\<Union>p\\<in>dom \\<Gamma>.\n                                \\<Union>Z.\n                                   {({s.\ns = Z \\<and>\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                            Fault ` (- F)},\n                                     p, {t.\n   \\<Gamma>\\<turnstile> \\<langle>Call\n                                  p,Normal\n                                     Z\\<rangle> \\<Rightarrow> Normal t},\n                                     {t.\n\\<Gamma>\\<turnstile> \\<langle>Call\n                               p,Normal\n                                  Z\\<rangle> \\<Rightarrow> Abrupt t})})\n                      \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                s = Z \\<and>\n                \\<Gamma>\\<turnstile> \\<langle>Call\n         p,Normal\n            s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n               the (\\<Gamma> p)\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n               {t. \\<Gamma>\\<turnstile> \\<langle>Call\n            p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t};\n        p \\<in> dom \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> \\<forall>p\\<in>dom \\<Gamma>.\n                            \\<forall>Z.\n                               \\<Gamma>,{} \\<union>\n  (\\<Union>p\\<in>dom \\<Gamma>.\n      \\<Union>Z.\n         {({s. s = Z \\<and>\n               \\<Gamma>\\<turnstile> \\<langle>Call\n        p,Normal\n           s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)},\n           p, {t. \\<Gamma>\\<turnstile> \\<langle>Call\n           p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n           {t. \\<Gamma>\\<turnstile> \\<langle>Call\n        p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t})})\n                                  \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n                            s = Z \\<and>\n                            \\<Gamma>\\<turnstile> \\<langle>Call\n                     p,Normal\n                        s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union>\n                  Fault ` (- F)}\n                           the (\\<Gamma> p)\n                           {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                        p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n                           {t. \\<Gamma>\\<turnstile> \\<langle>Call\n                        p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}", "apply simp+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>p\\<in>dom \\<Gamma>.\n     \\<forall>Z.\n        \\<Gamma>,{}\n           \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n     s = Z \\<and>\n     \\<Gamma>\\<turnstile> \\<langle>Call\n                                    p,Normal\n s\\<rangle> \\<Rightarrow>\\<notin>{Stuck} \\<union> Fault ` (- F)}\n    Call p\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Normal t},\n    {t. \\<Gamma>\\<turnstile> \\<langle>Call\n p,Normal Z\\<rangle> \\<Rightarrow> Abrupt t}\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem hoare_complete: \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow> \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "by (iprover intro: MGT_implies_complete MGT_lemma [OF MGT_Calls])"], ["", "lemma hoare_complete':\n  assumes cvalid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows  \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "proof (cases \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 2. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case True"], ["proof (state)\nthis:\n  \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (2 subgoals):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 2. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "hence \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "by (rule hoare_complete)"], ["proof (state)\nthis:\n  \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (2 subgoals):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 2. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "by (rule hoare_augment_context) simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (1 subgoal):\n 1. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case False"], ["proof (state)\nthis:\n  \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (1 subgoal):\n 1. \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "with cvalid"], ["proof (chain)\npicking this:\n  \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "by (rule ExFalso)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hoare_strip_\\<Gamma>:\n  assumes deriv: \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\"\n  assumes F': \"F' \\<subseteq> -F\"\n  shows \"strip F' \\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strip F' \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P p Q,A", "proof (rule hoare_complete)"], ["proof (state)\ngoal (1 subgoal):\n 1. strip F' \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A", "from hoare_sound [OF deriv]"], ["proof (chain)\npicking this:\n  \\<Gamma>,{}\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A", "have \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,{}\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A", "by (simp add: cvalid_def)"], ["proof (state)\nthis:\n  \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\n\ngoal (1 subgoal):\n 1. strip F' \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A", "from this F'"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\n  F' \\<subseteq> - F", "show \"strip F' \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\n  F' \\<subseteq> - F\n\ngoal (1 subgoal):\n 1. strip F' \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A", "by (rule valid_to_valid_strip)"], ["proof (state)\nthis:\n  strip F' \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P p Q,A\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>And Now: Some Useful Rules\\<close>"], ["", "subsubsection \\<open>Consequence\\<close>"], ["", "lemma LiberalConseq_sound:\nfixes F::\"'f set\"\nassumes cons: \"\\<forall>s \\<in> P. \\<forall>(t::('s,'f) xstate). \\<exists>P' Q' A'. (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A') \\<and>\n                ((s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt:\"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from P cons"], ["proof (chain)\npicking this:\n  s \\<in> P\n  \\<forall>s\\<in>P.\n     \\<forall>t.\n        \\<exists>P' Q' A'.\n           (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n               P' c Q',A') \\<and>\n           ((s \\<in> P' \\<longrightarrow>\n             t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n            t \\<in> Normal ` Q \\<union> Abrupt ` A)", "obtain P' Q' A' where\n      spec: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\" and\n      adapt: \"(s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  s \\<in> P\n  \\<forall>s\\<in>P.\n     \\<forall>t.\n        \\<exists>P' Q' A'.\n           (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n               P' c Q',A') \\<and>\n           ((s \\<in> P' \\<longrightarrow>\n             t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n            t \\<in> Normal ` Q \\<union> Abrupt ` A)\n\ngoal (1 subgoal):\n 1. (\\<And>P' Q' A'.\n        \\<lbrakk>\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P' c Q',A';\n         (s \\<in> P' \\<longrightarrow>\n          t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n         t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P' Q' A'.\n                \\<lbrakk>\\<forall>n.\n                            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                            P' c Q',A';\n                 (s \\<in> P' \\<longrightarrow>\n                  t \\<in> Normal ` Q' \\<union>\n                          Abrupt ` A') \\<longrightarrow>\n                 t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     s \\<in> P;\n     \\<forall>s\\<in>P.\n        \\<forall>t.\n           \\<exists>P' Q' A'.\n              (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                  P' c Q',A') \\<and>\n              ((s \\<in> P' \\<longrightarrow>\n                t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n               t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P' Q' A'.\n                \\<lbrakk>\\<forall>n.\n                            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                            P' c Q',A';\n                 (s \\<in> P' \\<longrightarrow>\n                  t \\<in> Normal ` Q' \\<union>\n                          Abrupt ` A') \\<longrightarrow>\n                 t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     s \\<in> P;\n     \\<forall>t.\n        \\<exists>P' Q' A'.\n           (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n               P' c Q',A') \\<and>\n           ((s \\<in> P' \\<longrightarrow>\n             t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n            t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply (erule_tac x=t in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P' Q' A'.\n                \\<lbrakk>\\<forall>n.\n                            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                            P' c Q',A';\n                 (s \\<in> P' \\<longrightarrow>\n                  t \\<in> Normal ` Q' \\<union>\n                          Abrupt ` A') \\<longrightarrow>\n                 t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     s \\<in> P;\n     \\<exists>P' Q' A'.\n        (\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n            P' c Q',A') \\<and>\n        ((s \\<in> P' \\<longrightarrow>\n          t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n         t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply (elim exE conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P' Q' A'.\n       \\<lbrakk>\\<And>P' Q' A'.\n                   \\<lbrakk>\\<forall>n.\n                               \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                               P' c Q',A';\n                    (s \\<in> P' \\<longrightarrow>\n                     t \\<in> Normal ` Q' \\<union>\n                             Abrupt ` A') \\<longrightarrow>\n                    t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        s \\<in> P;\n        \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n           P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply iprover"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  (s \\<in> P' \\<longrightarrow>\n   t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec spec ctxt t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  t \\<notin> Fault ` F", "have \"s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P' c Q',A'\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A'", "by (simp add: cnvalid_def nvalid_def)"], ["proof (state)\nthis:\n  s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with adapt"], ["proof (chain)\npicking this:\n  (s \\<in> P' \\<longrightarrow>\n   t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A'", "show ?thesis"], ["proof (prove)\nusing this:\n  (s \\<in> P' \\<longrightarrow>\n   t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma LiberalConseq:\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<forall>(t::('s,'f) xstate). \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                ((s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule LiberalConseq_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>s\\<in>P.\n          \\<forall>t.\n             \\<exists>P' Q' A'.\n                (\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P' c Q',A') \\<and>\n                ((s \\<in> P' \\<longrightarrow>\n                  t \\<in> Normal ` Q' \\<union>\n                          Abrupt ` A') \\<longrightarrow>\n                 t \\<in> Normal ` Q \\<union> Abrupt ` A)", "using cons"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<forall>t.\n        \\<exists>P' Q' A'.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n           ((s \\<in> P' \\<longrightarrow>\n             t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n            t \\<in> Normal ` Q \\<union> Abrupt ` A)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>s\\<in>P.\n          \\<forall>t.\n             \\<exists>P' Q' A'.\n                (\\<forall>n.\n                    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                    P' c Q',A') \\<and>\n                ((s \\<in> P' \\<longrightarrow>\n                  t \\<in> Normal ` Q' \\<union>\n                          Abrupt ` A') \\<longrightarrow>\n                 t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t.\n       \\<lbrakk>\\<forall>s\\<in>P.\n                   \\<forall>t.\n                      \\<exists>P' Q' A'.\n                         \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n                         ((s \\<in> P' \\<longrightarrow>\n                           t \\<in> Normal ` Q' \\<union>\n                                   Abrupt ` A') \\<longrightarrow>\n                          t \\<in> Normal ` Q \\<union> Abrupt ` A);\n        s \\<in> P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>t.\n           \\<exists>P' Q' A'.\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              ((s \\<in> P' \\<longrightarrow>\n                t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n               t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (erule_tac x=t in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t.\n       \\<lbrakk>s \\<in> P;\n        \\<exists>P' Q' A'.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n           ((s \\<in> P' \\<longrightarrow>\n             t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n            t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=P' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=Q' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A'.\n                            (\\<forall>n.\n                                \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                                P' c Q',A') \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=A' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>n.\n                             \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                             P' c Q',A') \\<and>\n                         ((s \\<in> P' \\<longrightarrow>\n                           t \\<in> Normal ` Q' \\<union>\n                                   Abrupt ` A') \\<longrightarrow>\n                          t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n                            P' c Q',A'\n 2. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> (s \\<in> P' \\<longrightarrow>\n                          t \\<in> Normal ` Q' \\<union>\n                                  Abrupt ` A') \\<longrightarrow>\n                         t \\<in> Normal ` Q \\<union> Abrupt ` A", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        (s \\<in> P' \\<longrightarrow>\n         t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> (s \\<in> P' \\<longrightarrow>\n                          t \\<in> Normal ` Q' \\<union>\n                                  Abrupt ` A') \\<longrightarrow>\n                         t \\<in> Normal ` Q \\<union> Abrupt ` A", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma \"\\<forall>s \\<in> P. \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and> s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n           \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and>\n          Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule LiberalConseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and>\n          Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n    \\<forall>s\\<in>P.\n       \\<forall>t.\n          \\<exists>P' Q' A'.\n             \\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n             ((s \\<in> P' \\<longrightarrow>\n               t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n              t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule ballI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>\\<forall>s\\<in>P.\n                   \\<exists>P' Q' A'.\n                      \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n                      s \\<in> P' \\<and>\n                      Q' \\<subseteq> Q \\<and> A' \\<subseteq> A;\n        s \\<in> P\\<rbrakk>\n       \\<Longrightarrow> \\<forall>t.\n                            \\<exists>P' Q' A'.\n                               \\<Gamma>,\\<Theta>\n                                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                           A' \\<and>\n                               ((s \\<in> P' \\<longrightarrow>\n                                 t \\<in> Normal ` Q' \\<union>\n   Abrupt ` A') \\<longrightarrow>\n                                t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> P;\n        \\<exists>P' Q' A'.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n           s \\<in> P' \\<and>\n           Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<forall>t.\n                            \\<exists>P' Q' A'.\n                               \\<Gamma>,\\<Theta>\n                                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                           A' \\<and>\n                               ((s \\<in> P' \\<longrightarrow>\n                                 t \\<in> Normal ` Q' \\<union>\n   Abrupt ` A') \\<longrightarrow>\n                                t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' t.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        s \\<in> P'; Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=P' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' t.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        s \\<in> P'; Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=Q' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' t.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        s \\<in> P'; Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=A' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' t.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        s \\<in> P'; Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n                         ((s \\<in> P' \\<longrightarrow>\n                           t \\<in> Normal ` Q' \\<union>\n                                   Abrupt ` A') \\<longrightarrow>\n                          t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                (\\<forall>(t::('s,'f) xstate). (s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule Conseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule ballI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (insert cons)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>t.\n                  (s \\<in> P' \\<longrightarrow>\n                   t \\<in> Normal ` Q' \\<union>\n                           Abrupt ` A') \\<longrightarrow>\n                  t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> P;\n        \\<exists>P' Q' A'.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n           (\\<forall>t.\n               (s \\<in> P' \\<longrightarrow>\n                t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n               t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=P' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=Q' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=A' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n                         s \\<in> P' \\<and>\n                         Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A'\n 2. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> s \\<in> P' \\<and>\n                         Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply  assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> s \\<in> P' \\<and>\n                         Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "(* no way to get s \\<in> P' *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> s \\<in> P' \\<and>\n                         Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "oops"], ["", "lemma LiberalConseq':\nfixes F:: \"'f set\"\nassumes cons: \"\\<forall>s \\<in> P.  \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n                (\\<forall>(t::('s,'f) xstate). (s \\<in> P' \\<longrightarrow> t \\<in> Normal ` Q' \\<union> Abrupt ` A')\n                              \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule LiberalConseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<forall>t.\n          \\<exists>P' Q' A'.\n             \\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n             ((s \\<in> P' \\<longrightarrow>\n               t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n              t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule ballI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<forall>t.\n          \\<exists>P' Q' A'.\n             \\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n             ((s \\<in> P' \\<longrightarrow>\n               t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n              t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          ((s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (insert cons)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n              (\\<forall>t.\n                  (s \\<in> P' \\<longrightarrow>\n                   t \\<in> Normal ` Q' \\<union>\n                           Abrupt ` A') \\<longrightarrow>\n                  t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        \\<exists>P' Q' A'.\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n           (\\<forall>t.\n               (s \\<in> P' \\<longrightarrow>\n                t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n               t \\<in> Normal ` Q \\<union> Abrupt ` A)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=P' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=Q' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule_tac x=A' in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t P' Q' A'.\n       \\<lbrakk>s \\<in> P;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A';\n        \\<forall>t.\n           (s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n                         ((s \\<in> P' \\<longrightarrow>\n                           t \\<in> Normal ` Q' \\<union>\n                                   Abrupt ` A') \\<longrightarrow>\n                          t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply iprover"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma LiberalConseq'':\nfixes F:: \"'f set\"\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s (t::('s,'f) xstate).\n                 (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z)\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule LiberalConseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<forall>t.\n          \\<exists>P' Q' A'.\n             \\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n             ((s \\<in> P' \\<longrightarrow>\n               t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n              t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule ballI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> P \\<Longrightarrow>\n       \\<forall>t.\n          \\<exists>P' Q' A'.\n             \\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n             ((s \\<in> P' \\<longrightarrow>\n               t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n              t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       s \\<in> P \\<Longrightarrow>\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A' \\<and>\n          ((s \\<in> P' \\<longrightarrow>\n            t \\<in> Normal ` Q' \\<union> Abrupt ` A') \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (insert cons)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>s t.\n           (\\<forall>Z.\n               s \\<in> P' Z \\<longrightarrow>\n               t \\<in> Normal ` Q' Z \\<union>\n                       Abrupt ` A' Z) \\<longrightarrow>\n           s \\<in> P \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (erule_tac x=s in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>t.\n           (\\<forall>Z.\n               s \\<in> P' Z \\<longrightarrow>\n               t \\<in> Normal ` Q' Z \\<union>\n                       Abrupt ` A' Z) \\<longrightarrow>\n           s \\<in> P \\<longrightarrow>\n           t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (erule_tac x=t in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow>\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (case_tac \"t \\<in> Normal ` Q \\<union> Abrupt ` A\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        t \\<in> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)\n 2. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        t \\<notin> Normal ` Q \\<union> Abrupt ` A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply (insert spec)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),(A' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)\n 2. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        t \\<notin> Normal ` Q \\<union> Abrupt ` A;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),(A' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply  iprover"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>s \\<in> P;\n        (\\<forall>Z.\n            s \\<in> P' Z \\<longrightarrow>\n            t \\<in> Normal ` Q' Z \\<union> Abrupt ` A' Z) \\<longrightarrow>\n        s \\<in> P \\<longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n        t \\<notin> Normal ` Q \\<union> Abrupt ` A;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),(A' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',\n                        A' \\<and>\n                            ((s \\<in> P' \\<longrightarrow>\n                              t \\<in> Normal ` Q' \\<union>\nAbrupt ` A') \\<longrightarrow>\n                             t \\<in> Normal ` Q \\<union> Abrupt ` A)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "primrec procs:: \"('s,'p,'f) com \\<Rightarrow> 'p set\"\nwhere\n\"procs Skip = {}\" |\n\"procs (Basic f) = {}\" |\n\"procs (Seq c\\<^sub>1 c\\<^sub>2)  = (procs c\\<^sub>1 \\<union> procs c\\<^sub>2)\" |\n\"procs (Cond b c\\<^sub>1 c\\<^sub>2) = (procs c\\<^sub>1 \\<union> procs c\\<^sub>2)\" |\n\"procs (While b c) = procs c\" |\n\"procs (Call p) = {p}\" |\n\"procs (DynCom c) = (\\<Union>s. procs (c s))\" |\n\"procs (Guard f g c) = procs c\" |\n\"procs Throw = {}\" |\n\"procs (Catch c\\<^sub>1 c\\<^sub>2) = (procs c\\<^sub>1 \\<union> procs c\\<^sub>2)\""], ["", "primrec noSpec:: \"('s,'p,'f) com \\<Rightarrow> bool\"\nwhere\n\"noSpec Skip = True\" |\n\"noSpec (Basic f) = True\" |\n\"noSpec (Spec r) = False\" |\n\"noSpec (Seq c\\<^sub>1 c\\<^sub>2)  = (noSpec c\\<^sub>1 \\<and> noSpec c\\<^sub>2)\" |\n\"noSpec (Cond b c\\<^sub>1 c\\<^sub>2) = (noSpec c\\<^sub>1 \\<and> noSpec c\\<^sub>2)\" |\n\"noSpec (While b c) = noSpec c\" |\n\"noSpec (Call p) = True\" |\n\"noSpec (DynCom c) = (\\<forall>s. noSpec (c s))\" |\n\"noSpec (Guard f g c) = noSpec c\" |\n\"noSpec Throw = True\" |\n\"noSpec (Catch c\\<^sub>1 c\\<^sub>2) = (noSpec c\\<^sub>1 \\<and> noSpec c\\<^sub>2)\""], ["", "lemma exec_noSpec_no_Stuck:\n assumes exec: \"\\<Gamma>\\<turnstile>\\<langle>c,s\\<rangle> \\<Rightarrow> t\"\n assumes noSpec_c: \"noSpec c\"\n assumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\n assumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\n assumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\n assumes s_no_Stuck: \"s\\<noteq>Stuck\"\n shows \"t\\<noteq>Stuck\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "using exec noSpec_c procs_subset s_no_Stuck"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> \\<Rightarrow> t\n  noSpec c\n  procs c \\<subseteq> dom \\<Gamma>\n  s \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "proof induct"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 20 subgoals...", "case (Call p bdy s t)"], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (20 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 20 subgoals...", "with noSpec_\\<Gamma> procs_subset_\\<Gamma>"], ["proof (chain)\npicking this:\n  \\<forall>p\\<in>dom \\<Gamma>. noSpec (the (\\<Gamma> p))\n  \\<forall>p\\<in>dom \\<Gamma>.\n     procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>p\\<in>dom \\<Gamma>. noSpec (the (\\<Gamma> p))\n  \\<forall>p\\<in>dom \\<Gamma>.\n     procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "by (auto dest!: bspec [of _ _ p])"], ["proof (state)\nthis:\n  t \\<noteq> Stuck\n\ngoal (19 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "case (DynCom c s t)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (19 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "by auto blast"], ["proof (state)\nthis:\n  t \\<noteq> Stuck\n\ngoal (18 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> \\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 18 subgoals...", "qed auto"], ["", "lemma execn_noSpec_no_Stuck:\n assumes exec: \"\\<Gamma>\\<turnstile>\\<langle>c,s\\<rangle> =n\\<Rightarrow> t\"\n assumes noSpec_c: \"noSpec c\"\n assumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\n assumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\n assumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\n assumes s_no_Stuck: \"s\\<noteq>Stuck\"\n shows \"t\\<noteq>Stuck\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "using exec noSpec_c procs_subset s_no_Stuck"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,s\\<rangle> =n\\<Rightarrow> t\n  noSpec c\n  procs c \\<subseteq> dom \\<Gamma>\n  s \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "proof induct"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 20 subgoals...", "case (Call p bdy n s t)"], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal n\\<rangle> =s\\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal n \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal n \\<noteq> Stuck\n\ngoal (20 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 20 subgoals...", "with noSpec_\\<Gamma> procs_subset_\\<Gamma>"], ["proof (chain)\npicking this:\n  \\<forall>p\\<in>dom \\<Gamma>. noSpec (the (\\<Gamma> p))\n  \\<forall>p\\<in>dom \\<Gamma>.\n     procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal n\\<rangle> =s\\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal n \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal n \\<noteq> Stuck", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>p\\<in>dom \\<Gamma>. noSpec (the (\\<Gamma> p))\n  \\<forall>p\\<in>dom \\<Gamma>.\n     procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal n\\<rangle> =s\\<Rightarrow> t\n  \\<lbrakk>noSpec bdy; procs bdy \\<subseteq> dom \\<Gamma>;\n   Normal n \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t \\<noteq> Stuck\n  noSpec (Call p)\n  procs (Call p) \\<subseteq> dom \\<Gamma>\n  Normal n \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t \\<noteq> Stuck", "by (auto dest!: bspec [of _ _ p])"], ["proof (state)\nthis:\n  t \\<noteq> Stuck\n\ngoal (19 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "case (DynCom c s t)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> =t\\<Rightarrow> t_\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t_ \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (19 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> =t\\<Rightarrow> t_\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t_ \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c s,Normal s\\<rangle> =t\\<Rightarrow> t_\n  \\<lbrakk>noSpec (c s); procs (c s) \\<subseteq> dom \\<Gamma>;\n   Normal s \\<noteq> Stuck\\<rbrakk>\n  \\<Longrightarrow> t_ \\<noteq> Stuck\n  noSpec (DynCom c)\n  procs (DynCom c) \\<subseteq> dom \\<Gamma>\n  Normal s \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. t_ \\<noteq> Stuck", "by auto blast"], ["proof (state)\nthis:\n  t_ \\<noteq> Stuck\n\ngoal (18 subgoals):\n 1. \\<And>s n.\n       \\<lbrakk>noSpec Skip; procs Skip \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal s \\<noteq> Stuck\n 2. \\<And>s g c n t f.\n       \\<lbrakk>s \\<in> g;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Guard f g c); procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 3. \\<And>s g f c n.\n       \\<lbrakk>s \\<notin> g; noSpec (Guard f g c);\n        procs (Guard f g c) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 4. \\<And>c f n.\n       \\<lbrakk>noSpec c; procs c \\<subseteq> dom \\<Gamma>;\n        Fault f \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Fault f \\<noteq> Stuck\n 5. \\<And>f s n.\n       \\<lbrakk>noSpec (Basic f); procs (Basic f) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal (f s) \\<noteq> Stuck\n 6. \\<And>s t r n.\n       \\<lbrakk>(s, t) \\<in> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Normal t \\<noteq> Stuck\n 7. \\<And>s r n.\n       \\<lbrakk>\\<forall>t. (s, t) \\<notin> r; noSpec (Spec r);\n        procs (Spec r) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> Stuck \\<noteq> Stuck\n 8. \\<And>c\\<^sub>1 s n s' c\\<^sub>2 t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n                   s\\<rangle> =n\\<Rightarrow> s';\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> s' \\<noteq> Stuck;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,s'\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>2; procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n         s' \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Seq c\\<^sub>1 c\\<^sub>2);\n        procs (Seq c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 9. \\<And>s b c\\<^sub>1 n t c\\<^sub>2.\n       \\<lbrakk>s \\<in> b;\n        \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        \\<lbrakk>noSpec c\\<^sub>1; procs c\\<^sub>1 \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck;\n        noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n        procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n        Normal s \\<noteq> Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<noteq> Stuck\n 10. \\<And>s b c\\<^sub>2 n t c\\<^sub>1.\n        \\<lbrakk>s \\<notin> b;\n         \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n            s\\<rangle> =n\\<Rightarrow> t;\n         \\<lbrakk>noSpec c\\<^sub>2;\n          procs c\\<^sub>2 \\<subseteq> dom \\<Gamma>;\n          Normal s \\<noteq> Stuck\\<rbrakk>\n         \\<Longrightarrow> t \\<noteq> Stuck;\n         noSpec (Cond b c\\<^sub>1 c\\<^sub>2);\n         procs (Cond b c\\<^sub>1 c\\<^sub>2) \\<subseteq> dom \\<Gamma>;\n         Normal s \\<noteq> Stuck\\<rbrakk>\n        \\<Longrightarrow> t \\<noteq> Stuck\nA total of 18 subgoals...", "qed auto"], ["", "lemma LiberalConseq_noguards_nothrows_sound:\nassumes spec: \"\\<forall>Z. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s t. (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in>  Q' Z )\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Q )\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt:\"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_noguards_no_Fault [OF exec noguards_c noguards_\\<Gamma>]\n     execn_nothrows_no_Abrupt [OF exec nothrows_c nothrows_\\<Gamma> ]\n     execn_noSpec_no_Stuck [OF exec\n              noSpec_c  noSpec_\\<Gamma> procs_subset\n      procs_subset_\\<Gamma>]"], ["proof (chain)\npicking this:\n  \\<not> isFault (Normal s) \\<Longrightarrow> \\<not> isFault t\n  \\<not> isAbr (Normal s) \\<Longrightarrow> \\<not> isAbr t\n  Normal s \\<noteq> Stuck \\<Longrightarrow> t \\<noteq> Stuck", "obtain t' where t: \"t=Normal t'\""], ["proof (prove)\nusing this:\n  \\<not> isFault (Normal s) \\<Longrightarrow> \\<not> isFault t\n  \\<not> isAbr (Normal s) \\<Longrightarrow> \\<not> isAbr t\n  Normal s \\<noteq> Stuck \\<Longrightarrow> t \\<noteq> Stuck\n\ngoal (1 subgoal):\n 1. (\\<And>t'. t = Normal t' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases t) auto"], ["proof (state)\nthis:\n  t = Normal t'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec spec ctxt"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>Z n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n     (P' Z) c (Q' Z),(A' Z)\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  t = Normal t'", "have \"(\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t' \\<in>  Q' Z)\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  \\<forall>Z n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n     (P' Z) c (Q' Z),(A' Z)\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  t = Normal t'\n\ngoal (1 subgoal):\n 1. \\<forall>Z. s \\<in> P' Z \\<longrightarrow> t' \\<in> Q' Z", "by (unfold  cnvalid_def nvalid_def) blast"], ["proof (state)\nthis:\n  \\<forall>Z. s \\<in> P' Z \\<longrightarrow> t' \\<in> Q' Z\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with cons P t"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     (\\<forall>Z.\n         s \\<in> P' Z \\<longrightarrow> t \\<in> Q' Z) \\<longrightarrow>\n     s \\<in> P \\<longrightarrow> t \\<in> Q\n  s \\<in> P\n  t = Normal t'\n  \\<forall>Z. s \\<in> P' Z \\<longrightarrow> t' \\<in> Q' Z", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     (\\<forall>Z.\n         s \\<in> P' Z \\<longrightarrow> t \\<in> Q' Z) \\<longrightarrow>\n     s \\<in> P \\<longrightarrow> t \\<in> Q\n  s \\<in> P\n  t = Normal t'\n  \\<forall>Z. s \\<in> P' Z \\<longrightarrow> t' \\<in> Q' Z\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma LiberalConseq_noguards_nothrows:\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)\"\nassumes cons: \"\\<forall>s t. (\\<forall>Z. s \\<in> P' Z \\<longrightarrow> t \\<in>  Q' Z )\n                  \\<longrightarrow> (s \\<in> P \\<longrightarrow> t \\<in> Q )\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule LiberalConseq_noguards_nothrows_sound\n             [OF _ cons noguards_c noguards_\\<Gamma> nothrows_c nothrows_\\<Gamma>\n                 noSpec_c noSpec_\\<Gamma>\n                 procs_subset procs_subset_\\<Gamma>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>Z na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n          (P' Z) c (Q' Z),(?A'4 n Z)", "apply (insert spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>Z.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),\n      (A' Z) \\<Longrightarrow>\n       \\<forall>Z na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n          (P' Z) c (Q' Z),(?A'4 n Z)", "apply (intro allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n Z na.\n       \\<forall>Z.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),\n      (A' Z) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n       (P' Z) c (Q' Z),(?A'4 n Z)", "apply (erule_tac x=Z in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n Z na.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>(P' Z) c (Q' Z),\n   (A' Z) \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n       (P' Z) c (Q' Z),(?A'4 n Z)", "by (rule hoare_cnvalid)"], ["", "lemma\nassumes spec: \"\\<forall>Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=fst Z \\<and> P s (snd Z)} c {t. Q (fst Z) (snd Z) t},{}\"\nassumes noguards_c: \"noguards c\"\nassumes noguards_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noguards (the (\\<Gamma> p))\"\nassumes nothrows_c: \"nothrows c\"\nassumes nothrows_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. nothrows (the (\\<Gamma> p))\"\nassumes noSpec_c: \"noSpec c\"\nassumes noSpec_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. noSpec (the (\\<Gamma> p))\"\nassumes procs_subset: \"procs c \\<subseteq> dom \\<Gamma>\"\nassumes procs_subset_\\<Gamma>: \"\\<forall>p \\<in> dom \\<Gamma>. procs (the (\\<Gamma> p)) \\<subseteq> dom \\<Gamma>\"\nshows \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub>{s. s=\\<sigma>} c {t. \\<forall>l. P \\<sigma> l \\<longrightarrow> Q \\<sigma> l t},{}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = \\<sigma>} c\n   {t. \\<forall>l. P \\<sigma> l \\<longrightarrow> Q \\<sigma> l t},{}", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. s = \\<sigma>} c\n   {t. \\<forall>l. P \\<sigma> l \\<longrightarrow> Q \\<sigma> l t},{}", "apply (rule LiberalConseq_noguards_nothrows\n              [OF spec _ noguards_c noguards_\\<Gamma> nothrows_c nothrows_\\<Gamma>\n                  noSpec_c noSpec_\\<Gamma>\n                  procs_subset procs_subset_\\<Gamma>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       \\<forall>s t.\n          (\\<forall>Z.\n              s \\<in> {s. s = fst Z \\<and> P s (snd Z)} \\<longrightarrow>\n              t \\<in> {t. Q (fst Z) (snd Z) t}) \\<longrightarrow>\n          s \\<in> {s. s = \\<sigma>} \\<longrightarrow>\n          t \\<in> {t. \\<forall>l.\n                         P \\<sigma> l \\<longrightarrow> Q \\<sigma> l t}", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>Modify Return\\<close>"], ["", "lemma ProcModifyReturn_sound:\n  assumes valid_call: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P call init p return' c Q,A\"\n  assumes valid_modif:\n    \"\\<forall>\\<sigma>. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  assumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\n  assumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\n  shows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P call init p return c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>call init p return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases rule: execn_call_Normal_elim)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Normal t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c: \"\\<Gamma>\\<turnstile>\\<langle>c s t',Normal (return s t')\\<rangle> =Suc m\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> p = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal (init s)\\<rangle> =n\\<Rightarrow> Normal t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> p = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\n(init s)\\<rangle> =n\\<Rightarrow> Normal t'", "by (auto simp add: intro: execn.Call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    (init\ns)\\<rangle> =n\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif [rule_format, of n \"init s\"] ctxt' this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> Modif (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> Modif (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> Modif (init s)\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modif"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)", "have \"Normal (return' s t') =\n      Normal (return s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)\n\ngoal (1 subgoal):\n 1. Normal (return' s t') = Normal (return s t')", "by simp"], ["proof (state)\nthis:\n  Normal (return' s t') = Normal (return s t')\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body exec_c bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call [rule_format] ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Abrupt t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t: \"t = Abrupt (return s t')\""], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "also"], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> p = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> p = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\n(init s)\\<rangle> =n\\<Rightarrow> Abrupt t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    (init\ns)\\<rangle> =n\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif [rule_format, of n \"init s\"] ctxt' this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> ModifAbr (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> ModifAbr (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> ModifAbr (init s)\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modifAbr"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)", "have \"Abrupt (return s t') = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)\n\ngoal (1 subgoal):\n 1. Abrupt (return s t') = Abrupt (return' s t')", "by simp"], ["proof (state)\nthis:\n  Abrupt (return s t') = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "finally"], ["proof (chain)\npicking this:\n  t = Abrupt (return' s t')", "have \"t = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. t = Abrupt (return' s t')", "."], ["proof (state)\nthis:\n  t = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callAbrupt)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call [rule_format] ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m f"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Fault f\" \"n = Suc m\"\n      \"t = Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callFault)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Stuck\" \"n = Suc m\"\n      \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callStuck)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma> p = None\"\n    and  \"n = Suc m\" \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callUndefined)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ProcModifyReturn:\n  assumes spec: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return' c) Q,A\"\n  assumes result_conform:\n      \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes return_conform:\n      \"\\<forall>s t. t \\<in> ModifAbr (init s)\n             \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes modifies_spec:\n  \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P call init p return c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P call init p return c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P call init p return c Q,A", "apply (rule ProcModifyReturn_sound\n          [where Modif=Modif and ModifAbr=ModifAbr,\n            OF _ _ result_conform return_conform] )"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P call init p return' c Q,A\n 2. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "using spec"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>P call init p return' c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P call init p return' c Q,A\n 2. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "using modifies_spec"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/UNIV \\<^esub>{\\<sigma>} Call p\n    (Modif \\<sigma>),(ModifAbr \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma ProcModifyReturnSameFaults_sound:\n  assumes valid_call: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P call init p return' c Q,A\"\n  assumes valid_modif:\n    \"\\<forall>\\<sigma>. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  assumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\n  assumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\n  shows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P call init p return c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>call init p return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>call init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases rule: execn_call_Normal_elim)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Normal t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c: \"\\<Gamma>\\<turnstile>\\<langle>c s t',Normal (return s t')\\<rangle> =Suc m\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> p = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal (init s)\\<rangle> =n\\<Rightarrow> Normal t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> p = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\n(init s)\\<rangle> =n\\<Rightarrow> Normal t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    (init\ns)\\<rangle> =n\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif [rule_format, of n \"init s\"] ctxt this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> Modif (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> Modif (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> Modif (init s)\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modif"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)", "have \"Normal (return' s t') =\n      Normal (return s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)\n\ngoal (1 subgoal):\n 1. Normal (return' s t') = Normal (return s t')", "by simp"], ["proof (state)\nthis:\n  Normal (return' s t') = Normal (return s t')\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body exec_c bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call [rule_format] ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Abrupt t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t: \"t = Abrupt (return s t')\""], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "also"], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> p = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call p,Normal (init s)\\<rangle> =n \\<Rightarrow> Abrupt t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> p = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   p,Normal\n(init s)\\<rangle> =n\\<Rightarrow> Abrupt t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 p,Normal\n                                    (init\ns)\\<rangle> =n\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif [rule_format, of n \"init s\"] ctxt this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> ModifAbr (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> ModifAbr (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> ModifAbr (init s)\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modifAbr"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)", "have \"Abrupt (return s t') = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)\n\ngoal (1 subgoal):\n 1. Abrupt (return s t') = Abrupt (return' s t')", "by simp"], ["proof (state)\nthis:\n  Abrupt (return s t') = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "finally"], ["proof (chain)\npicking this:\n  t = Abrupt (return' s t')", "have \"t = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. t = Abrupt (return' s t')", "."], ["proof (state)\nthis:\n  t = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> p = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callAbrupt)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call [rule_format] ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m f"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Fault f\" \"n = Suc m\"  and\n      t: \"t = Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callFault)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call [rule_format] ctxt this P] t t_notin_F"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> p = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> p = Some bdy\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Stuck\" \"n = Suc m\"\n      \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callStuck)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> p = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma> p = None\"\n    and  \"n = Suc m\" \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init p return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> p = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callUndefined)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> p = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P call init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>call init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ProcModifyReturnSameFaults:\n  assumes spec: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return' c) Q,A\"\n  assumes result_conform:\n      \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes return_conform:\n  \"\\<forall>s t. t \\<in> ModifAbr (init s) \\<longrightarrow> (return' s t) = (return s t)\"\n  assumes modifies_spec:\n  \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (call init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P call init p return c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P call init p return c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P call init p return c Q,A", "apply (rule ProcModifyReturnSameFaults_sound\n          [where Modif=Modif and ModifAbr=ModifAbr,\n         OF _ _ result_conform return_conform])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P call init p return' c Q,A\n 2. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "using spec"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>P call init p return' c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P call init p return' c Q,A\n 2. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "using modifies_spec"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>{\\<sigma>} Call p (Modif \\<sigma>),\n (ModifAbr \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>\\<sigma> n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          {\\<sigma>} Call p (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>DynCall\\<close>"], ["", "lemma dynProcModifyReturn_sound:\nassumes valid_call: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes valid_modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<forall>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P dynCall init p return c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_modif"], ["proof (chain)\npicking this:\n  \\<forall>s\\<in>P.\n     \\<forall>\\<sigma> n.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n        {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n  s \\<in> P", "have valid_modif': \"\\<forall>\\<sigma>. \\<forall>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<forall>\\<sigma> n.\n        \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n        {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma> n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n       {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<sigma> n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n     {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (cases rule: execn_dynCall_Normal_elim)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases rule: execn_call_Normal_elim)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Normal t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c: \"\\<Gamma>\\<turnstile>\\<langle>c s t',Normal (return s t')\\<rangle> =Suc m\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call (p s) ,Normal (init s)\\<rangle> =n\\<Rightarrow> Normal t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   (p s),Normal\n    (init s)\\<rangle> =n\\<Rightarrow> Normal t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 (p s),Normal\n  (init s)\\<rangle> =n\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif' [rule_format, of n \"init s\"] ctxt' this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> Modif (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> Modif (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> Modif (init s)\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modif"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)", "have \"Normal (return' s t') = Normal (return s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)\n\ngoal (1 subgoal):\n 1. Normal (return' s t') = Normal (return s t')", "by simp"], ["proof (state)\nthis:\n  Normal (return' s t') = Normal (return s t')\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body exec_c bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Abrupt t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t: \"t = Abrupt (return s t')\""], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "also"], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call (p s) ,Normal (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   (p s),Normal\n    (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 (p s),Normal\n  (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif' [rule_format, of n \"init s\"] ctxt' this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> ModifAbr (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> range Fault\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> ModifAbr (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> ModifAbr (init s)\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modifAbr"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)", "have \"Abrupt (return s t') = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)\n\ngoal (1 subgoal):\n 1. Abrupt (return s t') = Abrupt (return' s t')", "by simp"], ["proof (state)\nthis:\n  Abrupt (return s t') = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "finally"], ["proof (chain)\npicking this:\n  t = Abrupt (return' s t')", "have \"t = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. t = Abrupt (return' s t')", "."], ["proof (state)\nthis:\n  t = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callAbrupt)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m f"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Fault f\" \"n = Suc m\"\n      \"t = Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callFault)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Stuck\" \"n = Suc m\"\n      \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callStuck)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma> (p s) = None\"\n    and  \"n = Suc m\" \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callUndefined)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dynProcModifyReturn:\nassumes dyn_call: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nassumes modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/UNIV\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P dynCall init p return c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P dynCall init p return c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P dynCall init p return c Q,A", "apply (rule dynProcModifyReturn_sound [where Modif=Modif and ModifAbr=ModifAbr,\n          OF hoare_cnvalid [OF dyn_call] _ ret_modif ret_modifAbr])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>s\\<in>P.\n          \\<forall>\\<sigma> n.\n             \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/UNIV\\<^esub>\n             {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (intro ballI allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s \\<sigma> na.\n       s \\<in> P \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/UNIV\\<^esub>\n       {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (rule hoare_cnvalid [OF modif [rule_format]])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s \\<sigma> na. s \\<in> P \\<Longrightarrow> s \\<in> P", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma dynProcModifyReturnSameFaults_sound:\nassumes valid_call: \"\\<And>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes valid_modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<forall>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P dynCall init p return c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_modif"], ["proof (chain)\npicking this:\n  \\<forall>s\\<in>P.\n     \\<forall>\\<sigma> n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n  s \\<in> P", "have valid_modif': \"\\<forall>\\<sigma>. \\<forall>n.\n    \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<forall>\\<sigma> n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n        {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma> n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<sigma> n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n     {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (cases rule: execn_dynCall_Normal_elim)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>dynCall init p return\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases rule: execn_call_Normal_elim)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Normal t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_c: \"\\<Gamma>\\<turnstile>\\<langle>c s t',Normal (return s t')\\<rangle> =Suc m\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call (p s) ,Normal (init s)\\<rangle> =n \\<Rightarrow> Normal t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   (p s),Normal\n    (init s)\\<rangle> =n\\<Rightarrow> Normal t'", "by (auto simp add: intro: execn.Call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 (p s),Normal\n  (init s)\\<rangle> =n\\<Rightarrow> Normal t'\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif' [rule_format, of n \"init s\"] ctxt this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> Modif (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Normal t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Normal t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> Modif (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> Modif (init s)\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modif"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)", "have \"Normal (return' s t') = Normal (return s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> Modif (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> Modif (init s)\n\ngoal (1 subgoal):\n 1. Normal (return' s t') = Normal (return s t')", "by simp"], ["proof (state)\nthis:\n  Normal (return' s t') = Normal (return s t')\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body exec_c bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Normal t'\n  \\<Gamma>\\<turnstile> \\<langle>c s t',Normal\n  (return s t')\\<rangle> =Suc m\\<Rightarrow> t\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  Normal (return' s t') = Normal (return s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_call)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Normal t';\n        \\<Gamma>\\<turnstile> \\<langle>c s\n t',Normal (return s t')\\<rangle> =Suc i\\<Rightarrow> t;\n        n = Suc i\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 5. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m t'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_body: \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Abrupt t'\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume n: \"n = Suc m\""], ["proof (state)\nthis:\n  n = Suc m\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t: \"t = Abrupt (return s t')\""], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "also"], ["proof (state)\nthis:\n  t = Abrupt (return s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_body n bdy"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy", "have \"\\<Gamma>\\<turnstile>\\<langle>Call (p s) ,Normal (init s)\\<rangle> =n \\<Rightarrow> Abrupt t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  n = Suc m\n  \\<Gamma> (p s) = Some bdy\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Call\n                                   (p s),Normal\n    (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'", "by (auto simp add: intro: execn.intros)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Call\n                                 (p s),Normal\n  (init s)\\<rangle> =n\\<Rightarrow> Abrupt t'\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_modif' [rule_format, of n \"init s\"] ctxt this] P"], ["proof (chain)\npicking this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P", "have \"t' \\<in> ModifAbr (init s)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>init s \\<in> {init s}; Abrupt t' \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> Abrupt t'\n                    \\<in> Normal ` Modif (init s) \\<union>\n                          Abrupt ` ModifAbr (init s)\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. t' \\<in> ModifAbr (init s)", "by auto"], ["proof (state)\nthis:\n  t' \\<in> ModifAbr (init s)\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with ret_modifAbr"], ["proof (chain)\npicking this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)", "have \"Abrupt (return s t') = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     t \\<in> ModifAbr (init s) \\<longrightarrow> return' s t = return s t\n  t' \\<in> ModifAbr (init s)\n\ngoal (1 subgoal):\n 1. Abrupt (return s t') = Abrupt (return' s t')", "by simp"], ["proof (state)\nthis:\n  Abrupt (return s t') = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "finally"], ["proof (chain)\npicking this:\n  t = Abrupt (return' s t')", "have \"t = Abrupt (return' s t')\""], ["proof (prove)\nusing this:\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. t = Abrupt (return' s t')", "."], ["proof (state)\nthis:\n  t = Abrupt (return' s t')\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec_body bdy n"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Abrupt t'\n  \\<Gamma> (p s) = Some bdy\n  n = Suc m\n  t = Abrupt (return' s t')\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callAbrupt)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>bdy i t'.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Abrupt t';\n        n = Suc i; t = Abrupt (return s t')\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call ctxt this] P t_notin_F"], ["proof (chain)\npicking this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m f"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Fault f\" \"n = Suc m\"  and\n      t: \"t = Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init\n s)\\<rangle> =m\\<Rightarrow> Fault f\n  n = Suc m\n  t = Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callFault)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>bdy i f.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Fault f;\n        n = Suc i; t = Fault f\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_call ctxt this P] t t_notin_F"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by simp"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix bdy m"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume bdy: \"\\<Gamma> (p s) = Some bdy\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = Some bdy\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>bdy,Normal (init s)\\<rangle> =m\\<Rightarrow> Stuck\" \"n = Suc m\"\n      \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with bdy"], ["proof (chain)\npicking this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = Some bdy\n  \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n                                     (init s)\\<rangle> =m\\<Rightarrow> Stuck\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callStuck)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>bdy i.\n       \\<lbrakk>\\<Gamma> (p s) = Some bdy;\n        \\<Gamma>\\<turnstile> \\<langle>bdy,Normal\n     (init s)\\<rangle> =i\\<Rightarrow> Stuck;\n        n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma> (p s) = None\"\n    and  \"n = Suc m\" \"t = Stuck\""], ["proof (state)\nthis:\n  \\<Gamma> (p s) = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>call init (p s) return' c ,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma> (p s) = None\n  n = Suc m\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (auto intro: execn_callUndefined)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"\\<Gamma>\\<turnstile>\\<langle>dynCall init p return' c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>call init (p s) return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_dynCall)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>\\<Gamma> (p s) = None; n = Suc i; t = Stuck\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_call ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub>\n  P dynCall init p return' c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>dynCall init p return'\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dynProcModifyReturnSameFaults:\nassumes dyn_call: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P dynCall init p return' c Q,A\"\nassumes ret_modif:\n    \"\\<forall>s t. t \\<in> Modif (init s)\n           \\<longrightarrow> return' s t = return s t\"\nassumes ret_modifAbr: \"\\<forall>s t. t \\<in> ModifAbr (init s)\n                             \\<longrightarrow> return' s t = return s t\"\nassumes modif:\n    \"\\<forall>s \\<in> P. \\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)\"\nshows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (dynCall init p return c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P dynCall init p return c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P dynCall init p return c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P dynCall init p return c Q,A", "apply (rule dynProcModifyReturnSameFaults_sound\n        [where Modif=Modif and ModifAbr=ModifAbr,\n           OF hoare_cnvalid [OF dyn_call] _ ret_modif ret_modifAbr])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>s\\<in>P.\n          \\<forall>\\<sigma> n.\n             \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n             {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (intro ballI allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s \\<sigma> na.\n       s \\<in> P \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n       {\\<sigma>} Call (p s) (Modif \\<sigma>),(ModifAbr \\<sigma>)", "apply (rule hoare_cnvalid [OF modif [rule_format]])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n s \\<sigma> na. s \\<in> P \\<Longrightarrow> s \\<in> P", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>Conjunction of Postcondition\\<close>"], ["", "lemma PostConjI_sound:\nassumes valid_Q: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\nassumes valid_R: \"\\<forall>n. \\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B\"\nshows \"\\<Gamma>,\\<Theta> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P c (Q \\<inter> R),(A \\<inter> B)", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "from valid_Q [rule_format] ctxt exec P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "have \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "moreover"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "from valid_R [rule_format] ctxt exec P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c R,B\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "have \"t \\<in> Normal ` R \\<union> Abrupt ` B\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c R,B\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` R \\<union> Abrupt ` B", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` R \\<union> Abrupt ` B\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> B)", "ultimately"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<in> Normal ` R \\<union> Abrupt ` B", "show \"t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> B)\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<in> Normal ` R \\<union> Abrupt ` B\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> B)", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> B)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma PostConjI:\n  assumes deriv_Q: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_R: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c R,B\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P c (Q \\<inter> R),(A \\<inter> B)", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P c (Q \\<inter> R),(A \\<inter> B)", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P c (Q \\<inter> R),(A \\<inter> B)", "apply (rule PostConjI_sound)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B", "using deriv_Q"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B", "using deriv_R"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c R,B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c R,B", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma Merge_PostConj_sound:\n  assumes validF: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validG: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub> P' c R,X\"\n  assumes F_G: \"F \\<subseteq> G\"\n  assumes P_P': \"P \\<subseteq> P'\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P c (Q \\<inter> R),(A \\<inter> X)", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "with F_G"], ["proof (chain)\npicking this:\n  F \\<subseteq> G\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/G\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  F \\<subseteq> G\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/G\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/G\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "with P_P'"], ["proof (chain)\npicking this:\n  P \\<subseteq> P'\n  s \\<in> P", "have P': \"s \\<in> P'\""], ["proof (prove)\nusing this:\n  P \\<subseteq> P'\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. s \\<in> P'", "by auto"], ["proof (state)\nthis:\n  s \\<in> P'\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "assume t_noFault: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` (Q \\<inter> R) \\<union>\n                                 Abrupt ` (A \\<inter> X)", "show \"t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "from cnvalidD [OF validF [rule_format] ctxt exec P t_noFault]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "have *: \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "then"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "have \"t \\<notin> Fault ` G\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<notin> Fault ` G", "by auto"], ["proof (state)\nthis:\n  t \\<notin> Fault ` G\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "from cnvalidD [OF validG [rule_format] ctxt' exec P' this]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` R \\<union> Abrupt ` X", "have \"t \\<in> Normal ` R \\<union> Abrupt ` X\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` R \\<union> Abrupt ` X\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` R \\<union> Abrupt ` X", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` R \\<union> Abrupt ` X\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "with *"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<in> Normal ` R \\<union> Abrupt ` X", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<in> Normal ` R \\<union> Abrupt ` X\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` (Q \\<inter> R) \\<union> Abrupt ` (A \\<inter> X)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Merge_PostConj:\n  assumes validF: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validG: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/G\\<^esub> P' c R,X\"\n  assumes F_G: \"F \\<subseteq> G\"\n  assumes P_P': \"P \\<subseteq> P'\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c (Q \\<inter> R),(A \\<inter> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P c (Q \\<inter> R),(A \\<inter> X)", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P c (Q \\<inter> R),(A \\<inter> X)", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P c (Q \\<inter> R),(A \\<inter> X)", "apply (rule Merge_PostConj_sound [OF _ _ F_G P_P'])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub>\n          P' c R,X", "using validF"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub>\n          P' c R,X", "apply (blast intro:hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub>\n          P' c R,X", "using validG"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/G \\<^esub>P' c R,X\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/G\\<^esub>\n          P' c R,X", "apply (blast intro:hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>Weaken Context\\<close>"], ["", "lemma WeakenContext_sound:\n  assumes valid_c: \"\\<forall>n. \\<Gamma>,\\<Theta>'\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes valid_ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>'. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_ctxt"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "have ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>'. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (simp add: cnvalid_def)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c [rule_format] ctxt' exec P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>'\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>'\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma WeakenContext:\n  assumes deriv_c: \"\\<Gamma>,\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_ctxt: \"\\<forall>(P,p,Q,A)\\<in>\\<Theta>'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule WeakenContext_sound)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>na. \\<Gamma>,?\\<Theta>'4 n\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n          P c Q,A\n 2. \\<And>n.\n       \\<forall>(P, p, Q, A)\\<in>?\\<Theta>'4 n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "using deriv_c"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>'\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>na. \\<Gamma>,?\\<Theta>'4 n\\<Turnstile>na:\\<^bsub>/F\\<^esub>\n          P c Q,A\n 2. \\<And>n.\n       \\<forall>(P, p, Q, A)\\<in>?\\<Theta>'4 n.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "using deriv_ctxt"], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n     \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>(P, p, Q, A)\\<in>\\<Theta>'.\n          \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>Guards and Guarantees\\<close>"], ["", "lemma SplitGuards_sound:\nassumes valid_c1: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\"\nassumes valid_c2: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c\\<^sub>2 UNIV,UNIV\"\nassumes c: \"(c\\<^sub>1 \\<inter>\\<^sub>g c\\<^sub>2) = Some c\"\nshows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma> \\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases t)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Normal"], ["proof (state)\nthis:\n  t = Normal x1_\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with inter_guards_execn_noFault [OF c exec]"], ["proof (chain)\npicking this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Normal x1_", "have \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Normal x1_\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c1 [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Abrupt"], ["proof (state)\nthis:\n  t = Abrupt x2_\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with inter_guards_execn_noFault [OF c exec]"], ["proof (chain)\npicking this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Abrupt x2_", "have \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Abrupt x2_\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c1 [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Fault f)"], ["proof (state)\nthis:\n  t = Fault f\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec inter_guards_execn_Fault [OF c]"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  ?\\<Gamma>\\<turnstile> \\<langle>c,?s\\<rangle> =?n\\<Rightarrow> Fault\n                           ?f \\<Longrightarrow>\n  ?\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,?s\\<rangle> =?n\\<Rightarrow> Fault\n                                   ?f \\<or>\n  ?\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,?s\\<rangle> =?n\\<Rightarrow> Fault\n                                   ?f\n  t = Fault f", "have \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> Fault f \\<or> \\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> Fault f\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  ?\\<Gamma>\\<turnstile> \\<langle>c,?s\\<rangle> =?n\\<Rightarrow> Fault\n                           ?f \\<Longrightarrow>\n  ?\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,?s\\<rangle> =?n\\<Rightarrow> Fault\n                                   ?f \\<or>\n  ?\\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,?s\\<rangle> =?n\\<Rightarrow> Fault\n                                   ?f\n  t = Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<or>\n    \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f \\<or>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f \\<or>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f \\<or>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases rule: disjE [consumes 1])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f\n\ngoal (2 subgoals):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from Fault cnvalidD [OF valid_c1 [rule_format] ctxt this P] t_notin_F"], ["proof (chain)\npicking this:\n  t = Fault f\n  Fault f \\<notin> Fault ` F \\<Longrightarrow>\n  Fault f \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  t = Fault f\n  Fault f \\<notin> Fault ` F \\<Longrightarrow>\n  Fault f \\<in> Normal ` Q \\<union> Abrupt ` A\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>2,Normal s\\<rangle> =n\\<Rightarrow> Fault f\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> Fault f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n       s\\<rangle> =n\\<Rightarrow> Fault f \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from Fault cnvalidD [OF valid_c2 [rule_format] ctxt this P] t_notin_F"], ["proof (chain)\npicking this:\n  t = Fault f\n  Fault f \\<notin> Fault ` F \\<Longrightarrow>\n  Fault f \\<in> range Normal \\<union> range Abrupt\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  t = Fault f\n  Fault f \\<notin> Fault ` F \\<Longrightarrow>\n  Fault f \\<in> range Normal \\<union> range Abrupt\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Stuck"], ["proof (state)\nthis:\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with inter_guards_execn_noFault [OF c exec]"], ["proof (chain)\npicking this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Stuck", "have \"\\<Gamma>\\<turnstile>\\<langle>c\\<^sub>1,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<not> isFault t \\<Longrightarrow>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t \\<and>\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>2,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  t = Stuck\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n       s\\<rangle> =n\\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from valid_c1 [rule_format] ctxt this P t_notin_F"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>?n:\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n  \\<Gamma>\\<turnstile> \\<langle>c\\<^sub>1,Normal\n     s\\<rangle> =n\\<Rightarrow> t\n  s \\<in> P\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (rule cnvalidD)"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma SplitGuards:\n  assumes c: \"(c\\<^sub>1 \\<inter>\\<^sub>g c\\<^sub>2) = Some c\"\n  assumes deriv_c1: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,A\"\n  assumes deriv_c2: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c\\<^sub>2 UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule SplitGuards_sound [OF _ _ c])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>1 Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>2 UNIV,UNIV", "using deriv_c1"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,A\n\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>1 Q,A\n 2. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>2 UNIV,UNIV", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>2 UNIV,UNIV", "using deriv_c2"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>2 UNIV,UNIV\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P c\\<^sub>2 UNIV,UNIV", "apply (blast intro: hoare_cnvalid)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma CombineStrip_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes valid_strip: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (strip_guards (-F) c) UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_noFault: \"t \\<notin> Fault ` {}\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases t)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Normal t')"], ["proof (state)\nthis:\n  t = Normal t'\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Normal"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Normal t'", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Normal t'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Abrupt t')"], ["proof (state)\nthis:\n  t = Abrupt t'\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Abrupt"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Abrupt t'", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Abrupt t'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Fault f)"], ["proof (state)\nthis:\n  t = Fault f\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases \"f \\<in> F\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case True"], ["proof (state)\nthis:\n  f \\<in> F\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"f \\<notin> -F\""], ["proof (prove)\nusing this:\n  f \\<in> F\n\ngoal (1 subgoal):\n 1. f \\<notin> - F", "by simp"], ["proof (state)\nthis:\n  f \\<notin> - F\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with exec Fault"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  t = Fault f\n  f \\<notin> - F", "have \"\\<Gamma>\\<turnstile>\\<langle>strip_guards (-F) c,Normal s\\<rangle> =n\\<Rightarrow> Fault f\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n  t = Fault f\n  f \\<notin> - F\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>strip_guards (- F)\n                                   c,Normal\ns\\<rangle> =n\\<Rightarrow> Fault f", "by (auto intro: execn_to_execn_strip_guards_Fault)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>strip_guards (- F)\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> Fault f\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid_strip [rule_format] ctxt this P] Fault"], ["proof (chain)\npicking this:\n  Fault f \\<notin> Fault ` {} \\<Longrightarrow>\n  Fault f \\<in> range Normal \\<union> range Abrupt\n  t = Fault f", "have False"], ["proof (prove)\nusing this:\n  Fault f \\<notin> Fault ` {} \\<Longrightarrow>\n  Fault f \\<in> range Normal \\<union> range Abrupt\n  t = Fault f\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", ".."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case False"], ["proof (state)\nthis:\n  f \\<notin> F\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with cnvalidD [OF valid [rule_format] ctxt' exec P] Fault"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  f \\<notin> F", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  f \\<notin> F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Stuck"], ["proof (state)\nthis:\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Stuck"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Stuck", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CombineStrip:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes deriv_strip: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P (strip_guards (-F) c) UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{} \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule CombineStrip_sound)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/?F4 n\\<^esub>\n          P c Q,A\n 2. \\<And>n.\n       \\<forall>na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/{}\\<^esub>\n          P strip_guards (- ?F4 n) c UNIV,UNIV", "apply  (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub>\n          P strip_guards (- F) c UNIV,UNIV", "apply (iprover intro: hoare_cnvalid [OF deriv_strip])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma GuardsFlip_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes validFlip: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/-F\\<^esub> P c UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence ctxt': \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from ctxt"], ["proof (chain)\npicking this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A", "have ctxtFlip: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/-F\\<^esub> P (Call p) Q,A\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n       \\<Gamma>\\<Turnstile>n:\\<^bsub>/- F\\<^esub> P Call p Q,A", "by (auto intro: nvalid_augment_Faults)"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/- F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_noFault: \"t \\<notin> Fault ` {}\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases t)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Normal t')"], ["proof (state)\nthis:\n  t = Normal t'\n\ngoal (4 subgoals):\n 1. \\<And>x1.\n       t = Normal x1 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 4. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Normal"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Normal t'", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Normal t'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Abrupt t')"], ["proof (state)\nthis:\n  t = Abrupt t'\n\ngoal (3 subgoals):\n 1. \\<And>x2.\n       t = Abrupt x2 \\<Longrightarrow>\n       t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 3. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Abrupt"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Abrupt t'", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Abrupt t'\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case (Fault f)"], ["proof (state)\nthis:\n  t = Fault f\n\ngoal (2 subgoals):\n 1. \\<And>x3.\n       t = Fault x3 \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases \"f \\<in> F\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case True"], ["proof (state)\nthis:\n  f \\<in> F\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence \"f \\<notin> -F\""], ["proof (prove)\nusing this:\n  f \\<in> F\n\ngoal (1 subgoal):\n 1. f \\<notin> - F", "by simp"], ["proof (state)\nthis:\n  f \\<notin> - F\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with cnvalidD [OF validFlip [rule_format] ctxtFlip exec P] Fault"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` (- F) \\<Longrightarrow>\n  t \\<in> range Normal \\<union> range Abrupt\n  t = Fault f\n  f \\<notin> - F", "have False"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` (- F) \\<Longrightarrow>\n  t \\<in> range Normal \\<union> range Abrupt\n  t = Fault f\n  f \\<notin> - F\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. f \\<in> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", ".."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case False"], ["proof (state)\nthis:\n  f \\<notin> F\n\ngoal (1 subgoal):\n 1. f \\<notin> F \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "with cnvalidD [OF valid [rule_format] ctxt' exec P] Fault"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  f \\<notin> F", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Fault f\n  f \\<notin> F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "case Stuck"], ["proof (state)\nthis:\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t = Stuck \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt' exec P] Stuck"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Stuck", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` F \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n  t = Stuck\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma GuardsFlip:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes derivFlip: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/-F\\<^esub> P c UNIV,UNIV\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{} \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule GuardsFlip_sound)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<forall>na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/?F4 n\\<^esub>\n          P c Q,A\n 2. \\<And>n.\n       \\<forall>na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/- ?F4 n\\<^esub>\n          P c UNIV,UNIV", "apply  (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/- F\\<^esub>\n          P c UNIV,UNIV", "apply (iprover intro: hoare_cnvalid [OF derivFlip])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma MarkGuardsI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>mark_guards f c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_mark_guards_to_execn [OF exec]"], ["proof (chain)\npicking this:\n  \\<exists>t'.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ns\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (isFault t \\<longrightarrow> isFault t') \\<and>\n     (t' = Fault f \\<longrightarrow> t' = t) \\<and>\n     (isFault t' \\<longrightarrow> isFault t) \\<and>\n     (\\<not> isFault t' \\<longrightarrow> t' = t)", "obtain t' where\n    exec_c: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t'\" and\n    t'_noFault: \"\\<not> isFault t' \\<longrightarrow> t' = t\""], ["proof (prove)\nusing this:\n  \\<exists>t'.\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal\ns\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (isFault t \\<longrightarrow> isFault t') \\<and>\n     (t' = Fault f \\<longrightarrow> t' = t) \\<and>\n     (isFault t' \\<longrightarrow> isFault t) \\<and>\n     (\\<not> isFault t' \\<longrightarrow> t' = t)\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> =n\\<Rightarrow> t';\n         \\<not> isFault t' \\<longrightarrow> t' = t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t'\n  \\<not> isFault t' \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_noFault: \"t \\<notin> Fault ` {}\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec_c P]"], ["proof (chain)\npicking this:\n  t' \\<notin> Fault ` {} \\<Longrightarrow>\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A", "have \"t' \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t' \\<notin> Fault ` {} \\<Longrightarrow>\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t' \\<in> Normal ` Q \\<union> Abrupt ` A", "by blast"], ["proof (state)\nthis:\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with t'_noFault"], ["proof (chain)\npicking this:\n  \\<not> isFault t' \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> isFault t' \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MarkGuardsI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{} \\<^esub>P mark_guards f c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub>\n       P mark_guards f c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub>\n       P mark_guards f c Q,A", "apply (rule MarkGuardsI_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub>\n          P c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma MarkGuardsD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_noFault: \"t \\<notin> Fault ` {}\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof (cases \"isFault t\")"], ["proof (state)\ngoal (2 subgoals):\n 1. isFault t \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "case True"], ["proof (state)\nthis:\n  isFault t\n\ngoal (2 subgoals):\n 1. isFault t \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "with execn_to_execn_mark_guards_Fault [OF exec ]"], ["proof (chain)\npicking this:\n  t = Fault ?f \\<Longrightarrow>\n  \\<exists>f'.\n     \\<Gamma>\\<turnstile> \\<langle>mark_guards ?x\n                                    c,Normal\n s\\<rangle> =n\\<Rightarrow> Fault f'\n  isFault t", "obtain f' where \"\\<Gamma>\\<turnstile>\\<langle>mark_guards f c,Normal s\\<rangle> =n\\<Rightarrow> Fault f'\""], ["proof (prove)\nusing this:\n  t = Fault ?f \\<Longrightarrow>\n  \\<exists>f'.\n     \\<Gamma>\\<turnstile> \\<langle>mark_guards ?x\n                                    c,Normal\n s\\<rangle> =n\\<Rightarrow> Fault f'\n  isFault t\n\ngoal (1 subgoal):\n 1. (\\<And>f'.\n        \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n c,Normal s\\<rangle> =n\\<Rightarrow> Fault f' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (fastforce elim: isFaultE)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n                                 c,Normal\n                                    s\\<rangle> =n\\<Rightarrow> Fault f'\n\ngoal (2 subgoals):\n 1. isFault t \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt this P]"], ["proof (chain)\npicking this:\n  Fault f' \\<notin> Fault ` {} \\<Longrightarrow>\n  Fault f' \\<in> Normal ` Q \\<union> Abrupt ` A", "have False"], ["proof (prove)\nusing this:\n  Fault f' \\<notin> Fault ` {} \\<Longrightarrow>\n  Fault f' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. isFault t \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\n 2. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", ".."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "case False"], ["proof (state)\nthis:\n  \\<not> isFault t\n\ngoal (1 subgoal):\n 1. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_to_execn_mark_guards [OF exec False]"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>mark_guards ?f\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "obtain f' where \"\\<Gamma>\\<turnstile>\\<langle>mark_guards f c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>mark_guards ?f\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. (\\<Gamma>\\<turnstile> \\<langle>mark_guards f\n                                    c,Normal\n s\\<rangle> =n\\<Rightarrow> t \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>mark_guards f\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<not> isFault t \\<Longrightarrow>\n    t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt this P]"], ["proof (chain)\npicking this:\n  t \\<notin> Fault ` {} \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<notin> Fault ` {} \\<Longrightarrow>\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MarkGuardsD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P mark_guards f c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{} \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule MarkGuardsD_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>na. \\<Gamma>,\\<Theta>\\<Turnstile>na:\\<^bsub>/{}\\<^esub>\n          P mark_guards (?f4 n) c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma MergeGuardsI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P merge_guards c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P merge_guards c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec_merge: \"\\<Gamma>\\<turnstile>\\<langle>merge_guards c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>merge_guards\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_merge_guards_to_execn [OF exec_merge]"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t", "have exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t", "."], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>merge_guards\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec P t_notin_F]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MergeGuardsI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P merge_guards c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P merge_guards c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P merge_guards c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P merge_guards c Q,A", "apply (rule MergeGuardsI_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma MergeGuardsD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_to_execn_merge_guards [OF exec]"], ["proof (chain)\npicking this:\n  \\<Gamma>\\<turnstile> \\<langle>merge_guards\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t", "have exec_merge: \"\\<Gamma>\\<turnstile>\\<langle>merge_guards c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>merge_guards\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>merge_guards\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "."], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>merge_guards\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec_merge P t_notin_F]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MergeGuardsD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P merge_guards c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule MergeGuardsD_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P merge_guards c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma SubsetGuards_sound:\n  assumes c_c': \"c \\<subseteq>\\<^sub>g c'\"\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c' Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_to_execn_subseteq_guards [OF c_c' exec]"], ["proof (chain)\npicking this:\n  \\<exists>t'.\n     \\<Gamma>\\<turnstile> \\<langle>c',Normal\n s\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (isFault t \\<longrightarrow> isFault t') \\<and>\n     (\\<not> isFault t' \\<longrightarrow> t' = t)", "obtain t' where\n    exec_c': \"\\<Gamma>\\<turnstile>\\<langle>c',Normal s\\<rangle> =n\\<Rightarrow> t'\" and\n    t'_noFault: \"\\<not> isFault t' \\<longrightarrow> t' = t\""], ["proof (prove)\nusing this:\n  \\<exists>t'.\n     \\<Gamma>\\<turnstile> \\<langle>c',Normal\n s\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (isFault t \\<longrightarrow> isFault t') \\<and>\n     (\\<not> isFault t' \\<longrightarrow> t' = t)\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c',Normal\n             s\\<rangle> =n\\<Rightarrow> t';\n         \\<not> isFault t' \\<longrightarrow> t' = t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c',Normal s\\<rangle> =n\\<Rightarrow> t'\n  \\<not> isFault t' \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_noFault: \"t \\<notin> Fault ` {}\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` {}\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec_c' P] t'_noFault t_noFault"], ["proof (chain)\npicking this:\n  t' \\<notin> Fault ` {} \\<Longrightarrow>\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n  \\<not> isFault t' \\<longrightarrow> t' = t\n  t \\<notin> Fault ` {}", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t' \\<notin> Fault ` {} \\<Longrightarrow>\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n  \\<not> isFault t' \\<longrightarrow> t' = t\n  t \\<notin> Fault ` {}\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma SubsetGuards:\n  assumes c_c': \"c \\<subseteq>\\<^sub>g c'\"\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c' Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{}\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/{} \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub> P c Q,A", "apply (rule SubsetGuards_sound [OF c_c'])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/{}\\<^esub>\n          P c' Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma NormalizeD_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence exec_norm: \"\\<Gamma>\\<turnstile>\\<langle>normalize c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n                                   c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_to_execn_normalize)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume noFault: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec_norm P noFault]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma NormalizeD:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (normalize c) Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule NormalizeD_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n          P Language.normalize c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma NormalizeI_sound:\n  assumes valid: \"\\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (normalize c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n    P Language.normalize c Q,A", "proof (rule cnvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume ctxt: \"\\<forall>(P, p, Q, A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P (Call p) Q,A\""], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n     \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume \"\\<Gamma>\\<turnstile>\\<langle>normalize c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "hence exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n                                 c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t", "by (rule execn_normalize_to_execn)"], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume noFault: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                   \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P Call p Q,A;\n        \\<Gamma>\\<turnstile> \\<langle>Language.normalize\n c,Normal s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "from cnvalidD [OF valid [rule_format] ctxt exec P noFault]"], ["proof (chain)\npicking this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "."], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma NormalizeI:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P (normalize c) Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P Language.normalize c Q,A", "apply (rule hoare_complete')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Language.normalize c Q,A", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub>\n       P Language.normalize c Q,A", "apply (rule NormalizeI_sound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>n. \\<Gamma>,\\<Theta>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "apply (iprover intro: hoare_cnvalid [OF deriv])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsubsection \\<open>Restricting the Procedure Environment\\<close>"], ["", "lemma nvalid_restrict_to_nvalid:\nassumes valid_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule nvalidI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> =n\\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from execn_to_execn_restrict [OF exec]"], ["proof (chain)\npicking this:\n  \\<exists>t'.\n     \\<Gamma>|\\<^bsub>?P\\<^esub>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (t = Stuck \\<longrightarrow> t' = Stuck) \\<and>\n     (\\<forall>f.\n         t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}) \\<and>\n     (t' \\<noteq> Stuck \\<longrightarrow> t' = t)", "obtain t' where\n      exec_res: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile>\\<langle>c,Normal s\\<rangle> =n\\<Rightarrow> t'\" and\n      t_Fault: \"\\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\" and\n      t'_notStuck: \"t'\\<noteq>Stuck \\<longrightarrow> t'=t\""], ["proof (prove)\nusing this:\n  \\<exists>t'.\n     \\<Gamma>|\\<^bsub>?P\\<^esub>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> =n\\<Rightarrow> t' \\<and>\n     (t = Stuck \\<longrightarrow> t' = Stuck) \\<and>\n     (\\<forall>f.\n         t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}) \\<and>\n     (t' \\<noteq> Stuck \\<longrightarrow> t' = t)\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>\\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n                              s\\<rangle> =n\\<Rightarrow> t';\n         \\<forall>f.\n            t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck};\n         t' \\<noteq> Stuck \\<longrightarrow> t' = t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> =n\\<Rightarrow> t'\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from t_Fault t_notin_F t'_notStuck"], ["proof (chain)\npicking this:\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t \\<notin> Fault ` F\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t", "have \"t' \\<notin> Fault ` F\""], ["proof (prove)\nusing this:\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t \\<notin> Fault ` F\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. t' \\<notin> Fault ` F", "by (cases t') auto"], ["proof (state)\nthis:\n  t' \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_c exec_res P"], ["proof (chain)\npicking this:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> =n\\<Rightarrow> t'\n  s \\<in> P\n  t' \\<notin> Fault ` F", "have \"t' \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>n:\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> =n\\<Rightarrow> t'\n  s \\<in> P\n  t' \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t' \\<in> Normal ` Q \\<union> Abrupt ` A", "by (auto simp add: nvalid_def)"], ["proof (state)\nthis:\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with t'_notStuck"], ["proof (chain)\npicking this:\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma valid_restrict_to_valid:\nassumes valid_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "proof (rule validI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "fix s t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume exec: \"\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t\""], ["proof (state)\nthis:\n  \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume P: \"s \\<in> P\""], ["proof (state)\nthis:\n  s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "assume t_notin_F: \"t \\<notin> Fault ` F\""], ["proof (state)\nthis:\n  t \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. \\<And>s t.\n       \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n           s\\<rangle> \\<Rightarrow> t;\n        s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n       \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "show \"t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from exec_to_exec_restrict [OF exec]"], ["proof (chain)\npicking this:\n  \\<exists>t'.\n     \\<Gamma>|\\<^bsub>?P\\<^esub>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> \\<Rightarrow> t' \\<and>\n     (t = Stuck \\<longrightarrow> t' = Stuck) \\<and>\n     (\\<forall>f.\n         t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}) \\<and>\n     (t' \\<noteq> Stuck \\<longrightarrow> t' = t)", "obtain t' where\n      exec_res: \"\\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t'\" and\n      t_Fault: \"\\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\" and\n      t'_notStuck: \"t'\\<noteq>Stuck \\<longrightarrow> t'=t\""], ["proof (prove)\nusing this:\n  \\<exists>t'.\n     \\<Gamma>|\\<^bsub>?P\\<^esub>\\<turnstile> \\<langle>c,Normal\n                   s\\<rangle> \\<Rightarrow> t' \\<and>\n     (t = Stuck \\<longrightarrow> t' = Stuck) \\<and>\n     (\\<forall>f.\n         t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}) \\<and>\n     (t' \\<noteq> Stuck \\<longrightarrow> t' = t)\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>\\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n                              s\\<rangle> \\<Rightarrow> t';\n         \\<forall>f.\n            t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck};\n         t' \\<noteq> Stuck \\<longrightarrow> t' = t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> t'\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "from t_Fault t_notin_F t'_notStuck"], ["proof (chain)\npicking this:\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t \\<notin> Fault ` F\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t", "have \"t' \\<notin> Fault ` F\""], ["proof (prove)\nusing this:\n  \\<forall>f. t = Fault f \\<longrightarrow> t' \\<in> {Fault f, Stuck}\n  t \\<notin> Fault ` F\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n\ngoal (1 subgoal):\n 1. t' \\<notin> Fault ` F", "by (cases t') auto"], ["proof (state)\nthis:\n  t' \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with valid_c exec_res P"], ["proof (chain)\npicking this:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> t'\n  s \\<in> P\n  t' \\<notin> Fault ` F", "have \"t' \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\nusing this:\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Gamma>|\\<^bsub>M\\<^esub>\\<turnstile> \\<langle>c,Normal\n               s\\<rangle> \\<Rightarrow> t'\n  s \\<in> P\n  t' \\<notin> Fault ` F\n\ngoal (1 subgoal):\n 1. t' \\<in> Normal ` Q \\<union> Abrupt ` A", "by (auto simp add: valid_def)"], ["proof (state)\nthis:\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "with t'_notStuck"], ["proof (chain)\npicking this:\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A", "show ?thesis"], ["proof (prove)\nusing this:\n  t' \\<noteq> Stuck \\<longrightarrow> t' = t\n  t' \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal (1 subgoal):\n 1. t \\<in> Normal ` Q \\<union> Abrupt ` A", "by auto"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<in> Normal ` Q \\<union> Abrupt ` A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma augment_procs:\nassumes deriv_c: \"\\<Gamma>|\\<^bsub>M\\<^esub>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nshows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "apply (rule hoare_complete)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule valid_restrict_to_valid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>|\\<^bsub>?M2\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "apply (insert hoare_sound [OF deriv_c])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>|\\<^bsub>M\\<^esub>,{}\\<Turnstile>\\<^bsub>/F\\<^esub>\n    P c Q,A \\<Longrightarrow>\n    \\<Gamma>|\\<^bsub>?M2\\<^esub>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "by (simp add: cvalid_def)"], ["", "lemma augment_Faults:\nassumes deriv_c: \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F\\<^esub> P c Q,A\"\nassumes F: \"F \\<subseteq> F'\"\nshows \"\\<Gamma>,{}\\<turnstile>\\<^bsub>/F'\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<turnstile>\\<^bsub>/F' \\<^esub>P c Q,A", "apply (rule hoare_complete)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F'\\<^esub> P c Q,A", "apply (rule valid_augment_Faults [OF _ F])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "apply (insert hoare_sound [OF deriv_c])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,{}\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A \\<Longrightarrow>\n    \\<Gamma>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "by (simp add: cvalid_def)"], ["", "end"]]}