{"file_name": "/home/qj213/afp-2021-10-22/thys/Correctness_Algebras/Recursion_Strict.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Correctness_Algebras", "problem_names": ["lemma apx_n_order_reverse:\n  \"y \\<sqsubseteq> x \\<Longrightarrow> n(x) \\<le> n(y)\"", "lemma apx_n_order:\n  \"x \\<sqsubseteq> y \\<Longrightarrow> y \\<sqsubseteq> x \\<Longrightarrow> n(x) = n(y)\"", "lemma apx_transitive:\n  assumes \"x \\<sqsubseteq> y\"\n      and \"y \\<sqsubseteq> z\"\n    shows \"x \\<sqsubseteq> z\"", "lemma sup_apx_left_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x \\<squnion> z \\<sqsubseteq> y \\<squnion> z\"", "lemma mult_apx_left_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x * z \\<sqsubseteq> y * z\"", "lemma mult_apx_right_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"z * x \\<sqsubseteq> z * y\"", "lemma ni_apx_isotone:\n  \"x \\<sqsubseteq> y \\<Longrightarrow> ni(x) \\<sqsubseteq> ni(y)\"", "lemma mu_below_l:\n  \"\\<mu> f \\<le> \\<mu> f \\<squnion> n(\\<nu> f) * L\"", "lemma l_below_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> \\<mu> f \\<squnion> n(\\<nu> f) * L \\<le> \\<nu> f\"", "lemma n_l_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> n(\\<mu> f \\<squnion> n(\\<nu> f) * L) = n(\\<nu> f)\"", "lemma l_apx_mu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> \\<mu> f \\<squnion> n(\\<nu> f) * L \\<sqsubseteq> \\<mu> f\"", "lemma nu_below_mu_nu_mu_nu_apx_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> mu_nu_apx_nu f\"", "lemma mu_nu_apx_nu_mu_nu_apx_meet:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"mu_nu_apx_nu f\"\n    shows \"mu_nu_apx_meet f\"", "lemma mu_nu_apx_meet_apx_meet_below_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> mu_nu_apx_meet f \\<Longrightarrow> apx_meet_below_nu f\"", "lemma apx_meet_below_nu_nu_below_mu_nu:\n  assumes \"apx_meet_below_nu f\"\n    shows \"nu_below_mu_nu f\"", "lemma has_apx_least_fixpoint_kappa_apx_meet:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"apx.has_least_fixpoint f\"\n    shows \"kappa_apx_meet f\"", "lemma kappa_apx_meet_apx_meet_below_nu:\n  \"has_greatest_fixpoint f \\<Longrightarrow> kappa_apx_meet f \\<Longrightarrow> apx_meet_below_nu f\"", "lemma apx_meet_below_nu_kappa_mu_nu:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"isotone f\"\n      and \"apx.isotone f\"\n      and \"apx_meet_below_nu f\"\n    shows \"kappa_mu_nu f\"", "lemma kappa_mu_nu_has_apx_least_fixpoint:\n  \"kappa_mu_nu f \\<Longrightarrow> apx.has_least_fixpoint f\"", "lemma nu_below_mu_nu_kappa_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> isotone f \\<Longrightarrow> apx.isotone f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> kappa_mu_nu f\"", "lemma kappa_mu_nu_nu_below_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> kappa_mu_nu f \\<Longrightarrow> nu_below_mu_nu f\"", "lemma kappa_mu_nu_ni_kappa_mu_nu:\n  \"kappa_mu_nu_ni f \\<longleftrightarrow> kappa_mu_nu f\"", "lemma nu_below_mu_nu_kappa_mu_nu_ni:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> isotone f \\<Longrightarrow> apx.isotone f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> kappa_mu_nu_ni f\"", "lemma kappa_mu_nu_ni_nu_below_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> kappa_mu_nu_ni f \\<Longrightarrow> nu_below_mu_nu f\"", "lemma circ_apx_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>\"", "lemma omega_apx_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>\"", "lemma omega_n_star:\n  \"x\\<^sup>\\<omega> \\<squnion> n(x\\<^sup>\\<star>) * top \\<le> x\\<^sup>\\<star> * n(x\\<^sup>\\<omega>) * top\"", "lemma n_omega_zero:\n  \"n(x\\<^sup>\\<omega>) = bot \\<longleftrightarrow> n(x\\<^sup>\\<star>) = bot \\<and> x\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * bot\"", "lemma n_split_nu_mu:\n  \"y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z \\<le> y\\<^sup>\\<star> * z \\<squnion> n(y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\"", "lemma loop_exists:\n  \"\\<nu> (\\<lambda>x . y * x \\<squnion> z) \\<le> \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * top\"", "lemma loop_apx_least_fixpoint:\n  \"apx.is_least_fixpoint (\\<lambda>x . y * x \\<squnion> z) (\\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * L)\"", "lemma loop_has_apx_least_fixpoint:\n  \"apx.has_least_fixpoint (\\<lambda>x . y * x \\<squnion> z)\"", "lemma loop_semantics:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * L\"", "lemma loop_apx_least_fixpoint_ni:\n  \"apx.is_least_fixpoint (\\<lambda>x . y * x \\<squnion> z) (\\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> ni(\\<nu> (\\<lambda>x . y * x \\<squnion> z)))\"", "lemma loop_semantics_ni:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> ni(\\<nu> (\\<lambda>x . y * x \\<squnion> z))\"", "lemma loop_semantics_kappa_mu_nu:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = n(y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z\""], "translations": [["", "lemma apx_n_order_reverse:\n  \"y \\<sqsubseteq> x \\<Longrightarrow> n(x) \\<le> n(y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> x \\<Longrightarrow> n x \\<le> n y", "by (metis apx_def le_iff_sup n_sup_left_absorb_mult n_dist_sup n_export)"], ["", "lemma apx_n_order:\n  \"x \\<sqsubseteq> y \\<Longrightarrow> y \\<sqsubseteq> x \\<Longrightarrow> n(x) = n(y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq> y; y \\<sqsubseteq> x\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "by (simp add: apx_n_order_reverse order.antisym)"], ["", "lemma apx_transitive:\n  assumes \"x \\<sqsubseteq> y\"\n      and \"y \\<sqsubseteq> z\"\n    shows \"x \\<sqsubseteq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "have \"n(y) * L \\<le> n(x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n y * L \\<le> n x * L", "by (simp add: apx_n_order_reverse assms(1) mult_left_isotone)"], ["proof (state)\nthis:\n  n y * L \\<le> n x * L\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "hence 1: \"x \\<le> z \\<squnion> n(x) * L\""], ["proof (prove)\nusing this:\n  n y * L \\<le> n x * L\n\ngoal (1 subgoal):\n 1. x \\<le> z \\<squnion> n x * L", "by (smt assms sup_assoc sup_right_divisibility apx_def le_iff_sup)"], ["proof (state)\nthis:\n  x \\<le> z \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "have \"z \\<le> x \\<squnion> n(x) * top \\<squnion> n(x \\<squnion> n(x) * top) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<le> x \\<squnion> n x * top \\<squnion>\n            n (x \\<squnion> n x * top) * top", "by (smt (verit) assms sup_left_isotone order_refl sup_assoc sup_mono apx_def mult_left_isotone n_isotone order_trans)"], ["proof (state)\nthis:\n  z \\<le> x \\<squnion> n x * top \\<squnion> n (x \\<squnion> n x * top) * top\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "also"], ["proof (state)\nthis:\n  z \\<le> x \\<squnion> n x * top \\<squnion> n (x \\<squnion> n x * top) * top\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "have \"... = x \\<squnion> n(x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<squnion> n x * top \\<squnion> n (x \\<squnion> n x * top) * top =\n    x \\<squnion> n x * top", "by (simp add: n_dist_sup n_export n_sup_left_absorb_mult)"], ["proof (state)\nthis:\n  x \\<squnion> n x * top \\<squnion> n (x \\<squnion> n x * top) * top =\n  x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "finally"], ["proof (chain)\npicking this:\n  z \\<le> x \\<squnion> n x * top", "show ?thesis"], ["proof (prove)\nusing this:\n  z \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "using 1"], ["proof (prove)\nusing this:\n  z \\<le> x \\<squnion> n x * top\n  x \\<le> z \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> z", "by (simp add: apx_def)"], ["proof (state)\nthis:\n  x \\<sqsubseteq> z\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 16.1\\<close>"], ["", "subclass apx_biorder"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.apx_biorder (\\<sqsubseteq>) (\\<le>) (<)", "apply unfold_locales"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x. x \\<sqsubseteq> x\n 2. \\<And>x y.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> x \\<longrightarrow> x = y\n 3. \\<And>x y z.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> z \\<longrightarrow>\n       x \\<sqsubseteq> z", "apply (simp add: apx_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> x \\<longrightarrow> x = y\n 2. \\<And>x y z.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> z \\<longrightarrow>\n       x \\<sqsubseteq> z", "apply (smt (verit) order.antisym le_sup_iff apx_def eq_refl le_iff_sup n_galois apx_n_order)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> z \\<longrightarrow>\n       x \\<sqsubseteq> z", "using apx_transitive"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?z\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sqsubseteq> ?z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       x \\<sqsubseteq> y \\<and> y \\<sqsubseteq> z \\<longrightarrow>\n       x \\<sqsubseteq> z", "by blast"], ["", "lemma sup_apx_left_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x \\<squnion> z \\<sqsubseteq> y \\<squnion> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<squnion> z \\<sqsubseteq> y \\<squnion> z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<squnion> z \\<sqsubseteq> y \\<squnion> z", "have \"x \\<le> y \\<squnion> n(x) * L \\<and> y \\<le> x \\<squnion> n(x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "by auto"], ["proof (state)\nthis:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x \\<squnion> z \\<sqsubseteq> y \\<squnion> z", "hence \"z \\<squnion> x \\<le> z \\<squnion> y \\<squnion> n(z \\<squnion> x) * L \\<and> z \\<squnion> y \\<le> z \\<squnion> x \\<squnion> n(z \\<squnion> x) * top\""], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. z \\<squnion> x\n    \\<le> z \\<squnion> y \\<squnion> n (z \\<squnion> x) * L \\<and>\n    z \\<squnion> y \\<le> z \\<squnion> x \\<squnion> n (z \\<squnion> x) * top", "by (metis sup_assoc sup_right_isotone mult_right_sub_dist_sup_right n_dist_sup order_trans)"], ["proof (state)\nthis:\n  z \\<squnion> x\n  \\<le> z \\<squnion> y \\<squnion> n (z \\<squnion> x) * L \\<and>\n  z \\<squnion> y \\<le> z \\<squnion> x \\<squnion> n (z \\<squnion> x) * top\n\ngoal (1 subgoal):\n 1. x \\<squnion> z \\<sqsubseteq> y \\<squnion> z", "thus ?thesis"], ["proof (prove)\nusing this:\n  z \\<squnion> x\n  \\<le> z \\<squnion> y \\<squnion> n (z \\<squnion> x) * L \\<and>\n  z \\<squnion> y \\<le> z \\<squnion> x \\<squnion> n (z \\<squnion> x) * top\n\ngoal (1 subgoal):\n 1. x \\<squnion> z \\<sqsubseteq> y \\<squnion> z", "by (simp add: apx_def sup_commute)"], ["proof (state)\nthis:\n  x \\<squnion> z \\<sqsubseteq> y \\<squnion> z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mult_apx_left_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x * z \\<sqsubseteq> y * z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "have \"x \\<le> y \\<squnion> n(x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L", "by auto"], ["proof (state)\nthis:\n  x \\<le> y \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "hence \"x * z \\<le> y * z \\<squnion> n(x) * L\""], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x * z \\<le> y * z \\<squnion> n x * L", "by (smt (verit, ccfv_threshold) L_left_zero mult_left_isotone semiring.distrib_right mult_assoc)"], ["proof (state)\nthis:\n  x * z \\<le> y * z \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "hence 1: \"x * z \\<le> y * z \\<squnion> n(x * z) * L\""], ["proof (prove)\nusing this:\n  x * z \\<le> y * z \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. x * z \\<le> y * z \\<squnion> n (x * z) * L", "by (meson mult_left_isotone n_mult_left_upper_bound order_lesseq_imp sup_mono)"], ["proof (state)\nthis:\n  x * z \\<le> y * z \\<squnion> n (x * z) * L\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "have \"y * z \\<le> x * z \\<squnion> n(x) * top * z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y * z \\<le> x * z \\<squnion> n x * top * z", "by (metis assms apx_def mult_left_isotone mult_right_dist_sup)"], ["proof (state)\nthis:\n  y * z \\<le> x * z \\<squnion> n x * top * z\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "hence \"y * z \\<le> x * z \\<squnion> n(x * z) * top\""], ["proof (prove)\nusing this:\n  y * z \\<le> x * z \\<squnion> n x * top * z\n\ngoal (1 subgoal):\n 1. y * z \\<le> x * z \\<squnion> n (x * z) * top", "using mult_isotone n_mult_left_upper_bound order.trans sup_right_isotone top_greatest mult_assoc"], ["proof (prove)\nusing this:\n  y * z \\<le> x * z \\<squnion> n x * top * z\n  \\<lbrakk>?w \\<le> ?y; ?x \\<le> ?z\\<rbrakk>\n  \\<Longrightarrow> ?w * ?x \\<le> ?y * ?z\n  n ?x \\<le> n (?x * ?y)\n  \\<lbrakk>?a \\<le> ?b; ?b \\<le> ?c\\<rbrakk> \\<Longrightarrow> ?a \\<le> ?c\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<squnion> ?x \\<le> ?z \\<squnion> ?y\n  ?x \\<le> top\n  ?a * ?b * ?c = ?a * (?b * ?c)\n\ngoal (1 subgoal):\n 1. y * z \\<le> x * z \\<squnion> n (x * z) * top", "by presburger"], ["proof (state)\nthis:\n  y * z \\<le> x * z \\<squnion> n (x * z) * top\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "thus ?thesis"], ["proof (prove)\nusing this:\n  y * z \\<le> x * z \\<squnion> n (x * z) * top\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "using 1"], ["proof (prove)\nusing this:\n  y * z \\<le> x * z \\<squnion> n (x * z) * top\n  x * z \\<le> y * z \\<squnion> n (x * z) * L\n\ngoal (1 subgoal):\n 1. x * z \\<sqsubseteq> y * z", "by (simp add: apx_def)"], ["proof (state)\nthis:\n  x * z \\<sqsubseteq> y * z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mult_apx_right_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"z * x \\<sqsubseteq> z * y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "have \"x \\<le> y \\<squnion> n(x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L", "by auto"], ["proof (state)\nthis:\n  x \\<le> y \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "hence 1: \"z * x \\<le> z * y \\<squnion> n(z * x) * L\""], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L\n\ngoal (1 subgoal):\n 1. z * x \\<le> z * y \\<squnion> n (z * x) * L", "by (smt sup_assoc sup_ge1 sup_bot_right mult_assoc mult_left_dist_sup mult_right_isotone n_L_split)"], ["proof (state)\nthis:\n  z * x \\<le> z * y \\<squnion> n (z * x) * L\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "have \"y \\<le> x \\<squnion> n(x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<le> x \\<squnion> n x * top", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. y \\<le> x \\<squnion> n x * top", "by auto"], ["proof (state)\nthis:\n  y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "hence \"z * y \\<le> z * x \\<squnion> z * n(x) * top\""], ["proof (prove)\nusing this:\n  y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. z * y \\<le> z * x \\<squnion> z * n x * top", "by (smt mult_assoc mult_left_dist_sup mult_right_isotone)"], ["proof (state)\nthis:\n  z * y \\<le> z * x \\<squnion> z * n x * top\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "also"], ["proof (state)\nthis:\n  z * y \\<le> z * x \\<squnion> z * n x * top\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "have \"... \\<le> z * x \\<squnion> n(z * x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z * x \\<squnion> z * n x * top \\<le> z * x \\<squnion> n (z * x) * top", "by (smt (verit) sup_assoc le_supI le_sup_iff sup_ge1 sup_bot_right mult_left_dist_sup n_L_split n_top_split order_trans)"], ["proof (state)\nthis:\n  z * x \\<squnion> z * n x * top \\<le> z * x \\<squnion> n (z * x) * top\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "finally"], ["proof (chain)\npicking this:\n  z * y \\<le> z * x \\<squnion> n (z * x) * top", "show ?thesis"], ["proof (prove)\nusing this:\n  z * y \\<le> z * x \\<squnion> n (z * x) * top\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "using 1"], ["proof (prove)\nusing this:\n  z * y \\<le> z * x \\<squnion> n (z * x) * top\n  z * x \\<le> z * y \\<squnion> n (z * x) * L\n\ngoal (1 subgoal):\n 1. z * x \\<sqsubseteq> z * y", "by (simp add: apx_def)"], ["proof (state)\nthis:\n  z * x \\<sqsubseteq> z * y\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 16.1 and Theorem 16.2\\<close>"], ["", "subclass apx_semiring"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.apx_semiring (\\<sqsubseteq>) (\\<le>) (<) L (1::'a) (*)\n     (\\<squnion>) bot", "apply unfold_locales"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x. L \\<sqsubseteq> x\n 2. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow>\n       x \\<squnion> z \\<sqsubseteq> y \\<squnion> z\n 3. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> x * z \\<sqsubseteq> y * z\n 4. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> z * x \\<sqsubseteq> z * y", "apply (metis sup_right_top sup_ge2 apx_def mult_left_one n_L top_greatest)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow>\n       x \\<squnion> z \\<sqsubseteq> y \\<squnion> z\n 2. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> x * z \\<sqsubseteq> y * z\n 3. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> z * x \\<sqsubseteq> z * y", "apply (simp add: sup_apx_left_isotone)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> x * z \\<sqsubseteq> y * z\n 2. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> z * x \\<sqsubseteq> z * y", "apply (simp add: mult_apx_left_isotone)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       x \\<sqsubseteq> y \\<longrightarrow> z * x \\<sqsubseteq> z * y", "by (simp add: mult_apx_right_isotone)"], ["", "text \\<open>Theorem 16.2\\<close>"], ["", "lemma ni_apx_isotone:\n  \"x \\<sqsubseteq> y \\<Longrightarrow> ni(x) \\<sqsubseteq> ni(y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y \\<Longrightarrow> ni x \\<sqsubseteq> ni y", "using apx_n_order_reverse apx_def le_supI1 n_ni ni_def ni_n_order"], ["proof (prove)\nusing this:\n  ?y \\<sqsubseteq> ?x \\<Longrightarrow> n ?x \\<le> n ?y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n  ?x \\<le> ?a \\<Longrightarrow> ?x \\<le> ?a \\<squnion> ?b\n  n (ni ?x) = n ?x\n  ni ?x = n ?x * L\n  (ni ?x \\<le> ni ?y) = (n ?x \\<le> n ?y)\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y \\<Longrightarrow> ni x \\<sqsubseteq> ni y", "by force"], ["", "text \\<open>Theorem 17\\<close>"], ["", "definition kappa_apx_meet :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"kappa_apx_meet f \\<equiv> apx.has_least_fixpoint f \\<and> has_apx_meet (\\<mu> f) (\\<nu> f) \\<and> \\<kappa> f = \\<mu> f \\<triangle> \\<nu> f\""], ["", "definition kappa_mu_nu :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"kappa_mu_nu f \\<equiv> apx.has_least_fixpoint f \\<and> \\<kappa> f = \\<mu> f \\<squnion> n(\\<nu> f) * L\""], ["", "definition nu_below_mu_nu :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"nu_below_mu_nu f \\<equiv> \\<nu> f \\<le> \\<mu> f \\<squnion> n(\\<nu> f) * top\""], ["", "definition mu_nu_apx_nu :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"mu_nu_apx_nu f \\<equiv> \\<mu> f \\<squnion> n(\\<nu> f) * L \\<sqsubseteq> \\<nu> f\""], ["", "definition mu_nu_apx_meet :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"mu_nu_apx_meet f \\<equiv> has_apx_meet (\\<mu> f) (\\<nu> f) \\<and> \\<mu> f \\<triangle> \\<nu> f = \\<mu> f \\<squnion> n(\\<nu> f) * L\""], ["", "definition apx_meet_below_nu :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"apx_meet_below_nu f \\<equiv> has_apx_meet (\\<mu> f) (\\<nu> f) \\<and> \\<mu> f \\<triangle> \\<nu> f \\<le> \\<nu> f\""], ["", "lemma mu_below_l:\n  \"\\<mu> f \\<le> \\<mu> f \\<squnion> n(\\<nu> f) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu> f \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L", "by simp"], ["", "lemma l_below_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> \\<mu> f \\<squnion> n(\\<nu> f) * L \\<le> \\<nu> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f\\<rbrakk>\n    \\<Longrightarrow> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<le> \\<nu> f", "by (simp add: mu_below_nu n_L_decreasing)"], ["", "lemma n_l_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> n(\\<mu> f \\<squnion> n(\\<nu> f) * L) = n(\\<nu> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f\\<rbrakk>\n    \\<Longrightarrow> n (\\<mu> f \\<squnion> n (\\<nu> f) * L) = n (\\<nu> f)", "by (metis le_iff_sup mu_below_nu n_dist_sup n_n_L)"], ["", "lemma l_apx_mu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> \\<mu> f \\<squnion> n(\\<nu> f) * L \\<sqsubseteq> \\<mu> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f\\<rbrakk>\n    \\<Longrightarrow> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq>\n                      \\<mu> f", "by (simp add: apx_def le_supI1 n_l_nu)"], ["", "text \\<open>Theorem 17.4 implies Theorem 17.5\\<close>"], ["", "lemma nu_below_mu_nu_mu_nu_apx_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> mu_nu_apx_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     nu_below_mu_nu f\\<rbrakk>\n    \\<Longrightarrow> mu_nu_apx_nu f", "by (smt (z3) l_below_nu apx_def le_sup_iff sup.absorb2 sup_commute sup_monoid.add_assoc mu_nu_apx_nu_def n_l_nu nu_below_mu_nu_def)"], ["", "text \\<open>Theorem 17.5 implies Theorem 17.6\\<close>"], ["", "lemma mu_nu_apx_nu_mu_nu_apx_meet:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"mu_nu_apx_nu f\"\n    shows \"mu_nu_apx_meet f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mu_nu_apx_meet f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. mu_nu_apx_meet f", "let ?l = \"\\<mu> f \\<squnion> n(\\<nu> f) * L\""], ["proof (state)\ngoal (1 subgoal):\n 1. mu_nu_apx_meet f", "have \"is_apx_meet (\\<mu> f) (\\<nu> f) ?l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_apx_meet (\\<mu> f) (\\<nu> f) (\\<mu> f \\<squnion> n (\\<nu> f) * L)", "apply (unfold is_apx_meet_def, intro conjI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<mu> f\n 2. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n 3. \\<forall>w.\n       w \\<sqsubseteq> \\<mu> f \\<and>\n       w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n       w \\<sqsubseteq> \\<mu> f \\<squnion> n (\\<nu> f) * L", "apply (simp add: assms(1,2) l_apx_mu)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n 2. \\<forall>w.\n       w \\<sqsubseteq> \\<mu> f \\<and>\n       w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n       w \\<sqsubseteq> \\<mu> f \\<squnion> n (\\<nu> f) * L", "using assms(3) mu_nu_apx_nu_def"], ["proof (prove)\nusing this:\n  mu_nu_apx_nu f\n  mu_nu_apx_nu ?f \\<equiv>\n  \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L \\<sqsubseteq> \\<nu> ?f\n\ngoal (2 subgoals):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n 2. \\<forall>w.\n       w \\<sqsubseteq> \\<mu> f \\<and>\n       w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n       w \\<sqsubseteq> \\<mu> f \\<squnion> n (\\<nu> f) * L", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<sqsubseteq> \\<mu> f \\<and>\n       w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n       w \\<sqsubseteq> \\<mu> f \\<squnion> n (\\<nu> f) * L", "by (meson assms(1,2) l_below_nu apx_def order_trans sup_ge1 sup_left_isotone)"], ["proof (state)\nthis:\n  is_apx_meet (\\<mu> f) (\\<nu> f) (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. mu_nu_apx_meet f", "thus ?thesis"], ["proof (prove)\nusing this:\n  is_apx_meet (\\<mu> f) (\\<nu> f) (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. mu_nu_apx_meet f", "by (simp add: apx_meet_char mu_nu_apx_meet_def)"], ["proof (state)\nthis:\n  mu_nu_apx_meet f\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 17.6 implies Theorem 17.7\\<close>"], ["", "lemma mu_nu_apx_meet_apx_meet_below_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> mu_nu_apx_meet f \\<Longrightarrow> apx_meet_below_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     mu_nu_apx_meet f\\<rbrakk>\n    \\<Longrightarrow> apx_meet_below_nu f", "using apx_meet_below_nu_def l_below_nu mu_nu_apx_meet_def"], ["proof (prove)\nusing this:\n  apx_meet_below_nu ?f \\<equiv>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<mu> ?f \\<triangle> \\<nu> ?f \\<le> \\<nu> ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f\\<rbrakk>\n  \\<Longrightarrow> \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L \\<le> \\<nu> ?f\n  mu_nu_apx_meet ?f \\<equiv>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<mu> ?f \\<triangle> \\<nu> ?f = \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L\n\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     mu_nu_apx_meet f\\<rbrakk>\n    \\<Longrightarrow> apx_meet_below_nu f", "by auto"], ["", "text \\<open>Theorem 17.7 implies Theorem 17.4\\<close>"], ["", "lemma apx_meet_below_nu_nu_below_mu_nu:\n  assumes \"apx_meet_below_nu f\"\n    shows \"nu_below_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nu_below_mu_nu f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. nu_below_mu_nu f", "have \"\\<forall>m . m \\<sqsubseteq> \\<mu> f \\<and> m \\<sqsubseteq> \\<nu> f \\<and> m \\<le> \\<nu> f \\<longrightarrow> \\<nu> f \\<le> \\<mu> f \\<squnion> n(m) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m.\n       m \\<sqsubseteq> \\<mu> f \\<and>\n       m \\<sqsubseteq> \\<nu> f \\<and> m \\<le> \\<nu> f \\<longrightarrow>\n       \\<nu> f \\<le> \\<mu> f \\<squnion> n m * top", "by (smt (verit) sup_assoc sup_left_isotone sup_right_top apx_def mult_left_dist_sup order_trans)"], ["proof (state)\nthis:\n  \\<forall>m.\n     m \\<sqsubseteq> \\<mu> f \\<and>\n     m \\<sqsubseteq> \\<nu> f \\<and> m \\<le> \\<nu> f \\<longrightarrow>\n     \\<nu> f \\<le> \\<mu> f \\<squnion> n m * top\n\ngoal (1 subgoal):\n 1. nu_below_mu_nu f", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>m.\n     m \\<sqsubseteq> \\<mu> f \\<and>\n     m \\<sqsubseteq> \\<nu> f \\<and> m \\<le> \\<nu> f \\<longrightarrow>\n     \\<nu> f \\<le> \\<mu> f \\<squnion> n m * top\n\ngoal (1 subgoal):\n 1. nu_below_mu_nu f", "by (smt (verit) assms sup_right_isotone apx_greatest_lower_bound apx_meet_below_nu_def apx_reflexive mult_left_isotone n_isotone nu_below_mu_nu_def order_trans)"], ["proof (state)\nthis:\n  nu_below_mu_nu f\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 17.1 implies Theorem 17.2\\<close>"], ["", "lemma has_apx_least_fixpoint_kappa_apx_meet:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"apx.has_least_fixpoint f\"\n    shows \"kappa_apx_meet f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kappa_apx_meet f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. kappa_apx_meet f", "have \"\\<forall>w . w \\<sqsubseteq> \\<mu> f \\<and> w \\<sqsubseteq> \\<nu> f \\<longrightarrow> w \\<sqsubseteq> \\<kappa> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<sqsubseteq> \\<mu> f \\<and>\n       w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n       w \\<sqsubseteq> \\<kappa> f", "by (meson assms apx_def order.trans kappa_below_nu mu_below_kappa semiring.add_right_mono)"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<sqsubseteq> \\<mu> f \\<and>\n     w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n     w \\<sqsubseteq> \\<kappa> f\n\ngoal (1 subgoal):\n 1. kappa_apx_meet f", "hence \"is_apx_meet (\\<mu> f) (\\<nu> f) (\\<kappa> f)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w \\<sqsubseteq> \\<mu> f \\<and>\n     w \\<sqsubseteq> \\<nu> f \\<longrightarrow>\n     w \\<sqsubseteq> \\<kappa> f\n\ngoal (1 subgoal):\n 1. is_apx_meet (\\<mu> f) (\\<nu> f) (\\<kappa> f)", "by (simp add: assms is_apx_meet_def kappa_apx_below_mu kappa_apx_below_nu)"], ["proof (state)\nthis:\n  is_apx_meet (\\<mu> f) (\\<nu> f) (\\<kappa> f)\n\ngoal (1 subgoal):\n 1. kappa_apx_meet f", "thus ?thesis"], ["proof (prove)\nusing this:\n  is_apx_meet (\\<mu> f) (\\<nu> f) (\\<kappa> f)\n\ngoal (1 subgoal):\n 1. kappa_apx_meet f", "by (simp add: assms(3) kappa_apx_meet_def apx_meet_char)"], ["proof (state)\nthis:\n  kappa_apx_meet f\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 17.2 implies Theorem 17.7\\<close>"], ["", "lemma kappa_apx_meet_apx_meet_below_nu:\n  \"has_greatest_fixpoint f \\<Longrightarrow> kappa_apx_meet f \\<Longrightarrow> apx_meet_below_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_greatest_fixpoint f; kappa_apx_meet f\\<rbrakk>\n    \\<Longrightarrow> apx_meet_below_nu f", "using apx_meet_below_nu_def kappa_apx_meet_def kappa_below_nu"], ["proof (prove)\nusing this:\n  apx_meet_below_nu ?f \\<equiv>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<mu> ?f \\<triangle> \\<nu> ?f \\<le> \\<nu> ?f\n  kappa_apx_meet ?f \\<equiv>\n  order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<kappa> ?f = \\<mu> ?f \\<triangle> \\<nu> ?f\n  \\<lbrakk>has_greatest_fixpoint ?f;\n   order.has_least_fixpoint (\\<sqsubseteq>) ?f\\<rbrakk>\n  \\<Longrightarrow> \\<kappa> ?f \\<le> \\<nu> ?f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>has_greatest_fixpoint f; kappa_apx_meet f\\<rbrakk>\n    \\<Longrightarrow> apx_meet_below_nu f", "by force"], ["", "text \\<open>Theorem 17.7 implies Theorem 17.3\\<close>"], ["", "lemma apx_meet_below_nu_kappa_mu_nu:\n  assumes \"has_least_fixpoint f\"\n      and \"has_greatest_fixpoint f\"\n      and \"isotone f\"\n      and \"apx.isotone f\"\n      and \"apx_meet_below_nu f\"\n    shows \"kappa_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "let ?l = \"\\<mu> f \\<squnion> n(\\<nu> f) * L\""], ["proof (state)\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "let ?m = \"\\<mu> f \\<triangle> \\<nu> f\""], ["proof (state)\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have 1: \"?l \\<sqsubseteq> \\<nu> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f", "using apx_meet_below_nu_nu_below_mu_nu assms(1,2,5) mu_nu_apx_nu_def nu_below_mu_nu_mu_nu_apx_nu"], ["proof (prove)\nusing this:\n  apx_meet_below_nu ?f \\<Longrightarrow> nu_below_mu_nu ?f\n  has_least_fixpoint f\n  has_greatest_fixpoint f\n  apx_meet_below_nu f\n  mu_nu_apx_nu ?f \\<equiv>\n  \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L \\<sqsubseteq> \\<nu> ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   nu_below_mu_nu ?f\\<rbrakk>\n  \\<Longrightarrow> mu_nu_apx_nu ?f\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f", "by blast"], ["proof (state)\nthis:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "hence 2: \"?m = ?l\""], ["proof (prove)\nusing this:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<triangle> \\<nu> f = \\<mu> f \\<squnion> n (\\<nu> f) * L", "using assms(1,2) mu_nu_apx_meet_def mu_nu_apx_nu_def mu_nu_apx_nu_mu_nu_apx_meet"], ["proof (prove)\nusing this:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n  has_least_fixpoint f\n  has_greatest_fixpoint f\n  mu_nu_apx_meet ?f \\<equiv>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<mu> ?f \\<triangle> \\<nu> ?f = \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L\n  mu_nu_apx_nu ?f \\<equiv>\n  \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L \\<sqsubseteq> \\<nu> ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   mu_nu_apx_nu ?f\\<rbrakk>\n  \\<Longrightarrow> mu_nu_apx_meet ?f\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<triangle> \\<nu> f = \\<mu> f \\<squnion> n (\\<nu> f) * L", "by blast"], ["proof (state)\nthis:\n  \\<mu> f \\<triangle> \\<nu> f = \\<mu> f \\<squnion> n (\\<nu> f) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have \"\\<mu> f \\<le> f(?l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu> f \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L)", "by (metis assms(1,3) isotone_def mu_unfold sup_ge1)"], ["proof (state)\nthis:\n  \\<mu> f \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "hence 3: \"?l \\<le> f(?l) \\<squnion> n(?l) * L\""], ["proof (prove)\nusing this:\n  \\<mu> f \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L\n    \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<squnion>\n          n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * L", "using assms(1,2) semiring.add_right_mono n_l_nu"], ["proof (prove)\nusing this:\n  \\<mu> f \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n  has_least_fixpoint f\n  has_greatest_fixpoint f\n  ?a \\<le> ?b \\<Longrightarrow> ?a \\<squnion> ?c \\<le> ?b \\<squnion> ?c\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f\\<rbrakk>\n  \\<Longrightarrow> n (\\<mu> ?f \\<squnion> n (\\<nu> ?f) * L) = n (\\<nu> ?f)\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L\n    \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<squnion>\n          n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * L", "by auto"], ["proof (state)\nthis:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n  \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have \"f(?l) \\<le> f(\\<nu> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<le> f (\\<nu> f)", "using assms(1-3) l_below_nu isotone_def"], ["proof (prove)\nusing this:\n  has_least_fixpoint f\n  has_greatest_fixpoint f\n  isotone f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f\\<rbrakk>\n  \\<Longrightarrow> \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L \\<le> \\<nu> ?f\n  isotone ?f \\<equiv>\n  \\<forall>x y. x \\<le> y \\<longrightarrow> ?f x \\<le> ?f y\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<le> f (\\<nu> f)", "by blast"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<le> f (\\<nu> f)\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "also"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<le> f (\\<nu> f)\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have \"... \\<le> ?l \\<squnion> n(?l) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<nu> f)\n    \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n          n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top", "using 1"], ["proof (prove)\nusing this:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. f (\\<nu> f)\n    \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n          n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top", "by (metis assms(2) apx_def nu_unfold)"], ["proof (state)\nthis:\n  f (\\<nu> f)\n  \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "finally"], ["proof (chain)\npicking this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n  \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top", "have 4: \"?l \\<sqsubseteq> f(?l)\""], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n  \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq>\n    f (\\<mu> f \\<squnion> n (\\<nu> f) * L)", "using 3 apx_def"], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n  \\<le> \\<mu> f \\<squnion> n (\\<nu> f) * L \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * top\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n  \\<le> f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<squnion>\n        n (\\<mu> f \\<squnion> n (\\<nu> f) * L) * L\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq>\n    f (\\<mu> f \\<squnion> n (\\<nu> f) * L)", "by blast"], ["proof (state)\nthis:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq>\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have 5: \"f(?l) \\<sqsubseteq> \\<mu> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<mu> f", "by (metis assms(1,2,4) apx.isotone_def is_least_fixpoint_def least_fixpoint l_apx_mu)"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<mu> f\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "have \"f(?l) \\<sqsubseteq> \\<nu> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<nu> f", "using 1"], ["proof (prove)\nusing this:\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<nu> f", "by (metis assms(2,4) apx.isotone_def greatest_fixpoint is_greatest_fixpoint_def)"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "hence \"f(?l) \\<sqsubseteq> ?l\""], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq>\n    \\<mu> f \\<squnion> n (\\<nu> f) * L", "using 2 5 apx_meet_below_nu_def assms(5) apx_greatest_lower_bound"], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<nu> f\n  \\<mu> f \\<triangle> \\<nu> f = \\<mu> f \\<squnion> n (\\<nu> f) * L\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq> \\<mu> f\n  apx_meet_below_nu ?f \\<equiv>\n  has_apx_meet (\\<mu> ?f) (\\<nu> ?f) \\<and>\n  \\<mu> ?f \\<triangle> \\<nu> ?f \\<le> \\<nu> ?f\n  apx_meet_below_nu f\n  has_apx_meet ?x ?y \\<Longrightarrow>\n  (?w \\<sqsubseteq> ?x \\<and> ?w \\<sqsubseteq> ?y) =\n  (?w \\<sqsubseteq> ?x \\<triangle> ?y)\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq>\n    \\<mu> f \\<squnion> n (\\<nu> f) * L", "by fastforce"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq>\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "hence \"f(?l) = ?l\""], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq>\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) =\n    \\<mu> f \\<squnion> n (\\<nu> f) * L", "using 4"], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) \\<sqsubseteq>\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq>\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L)\n\ngoal (1 subgoal):\n 1. f (\\<mu> f \\<squnion> n (\\<nu> f) * L) =\n    \\<mu> f \\<squnion> n (\\<nu> f) * L", "by (simp add: apx.order.antisym)"], ["proof (state)\nthis:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) =\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "thus ?thesis"], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) =\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "using 1"], ["proof (prove)\nusing this:\n  f (\\<mu> f \\<squnion> n (\\<nu> f) * L) =\n  \\<mu> f \\<squnion> n (\\<nu> f) * L\n  \\<mu> f \\<squnion> n (\\<nu> f) * L \\<sqsubseteq> \\<nu> f\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f", "by (smt (verit, del_insts) assms(1,2) sup_left_isotone apx_antisymmetric apx_def apx.least_fixpoint_char greatest_fixpoint apx.is_least_fixpoint_def is_greatest_fixpoint_def is_least_fixpoint_def least_fixpoint n_l_nu order_trans kappa_mu_nu_def)"], ["proof (state)\nthis:\n  kappa_mu_nu f\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 17.3 implies Theorem 17.1\\<close>"], ["", "lemma kappa_mu_nu_has_apx_least_fixpoint:\n  \"kappa_mu_nu f \\<Longrightarrow> apx.has_least_fixpoint f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kappa_mu_nu f \\<Longrightarrow>\n    order.has_least_fixpoint (\\<sqsubseteq>) f", "using kappa_mu_nu_def"], ["proof (prove)\nusing this:\n  kappa_mu_nu ?f \\<equiv>\n  order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and>\n  \\<kappa> ?f = \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L\n\ngoal (1 subgoal):\n 1. kappa_mu_nu f \\<Longrightarrow>\n    order.has_least_fixpoint (\\<sqsubseteq>) f", "by auto"], ["", "text \\<open>Theorem 17.4 implies Theorem 17.3\\<close>"], ["", "lemma nu_below_mu_nu_kappa_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> isotone f \\<Longrightarrow> apx.isotone f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> kappa_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f; isotone f;\n     ord.isotone (\\<sqsubseteq>) f; nu_below_mu_nu f\\<rbrakk>\n    \\<Longrightarrow> kappa_mu_nu f", "using apx_meet_below_nu_kappa_mu_nu mu_nu_apx_meet_apx_meet_below_nu mu_nu_apx_nu_mu_nu_apx_meet nu_below_mu_nu_mu_nu_apx_nu"], ["proof (prove)\nusing this:\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f; isotone ?f;\n   ord.isotone (\\<sqsubseteq>) ?f; apx_meet_below_nu ?f\\<rbrakk>\n  \\<Longrightarrow> kappa_mu_nu ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   mu_nu_apx_meet ?f\\<rbrakk>\n  \\<Longrightarrow> apx_meet_below_nu ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   mu_nu_apx_nu ?f\\<rbrakk>\n  \\<Longrightarrow> mu_nu_apx_meet ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   nu_below_mu_nu ?f\\<rbrakk>\n  \\<Longrightarrow> mu_nu_apx_nu ?f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f; isotone f;\n     ord.isotone (\\<sqsubseteq>) f; nu_below_mu_nu f\\<rbrakk>\n    \\<Longrightarrow> kappa_mu_nu f", "by blast"], ["", "text \\<open>Theorem 17.3 implies Theorem 17.4\\<close>"], ["", "lemma kappa_mu_nu_nu_below_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> kappa_mu_nu f \\<Longrightarrow> nu_below_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     kappa_mu_nu f\\<rbrakk>\n    \\<Longrightarrow> nu_below_mu_nu f", "by (simp add: apx_meet_below_nu_nu_below_mu_nu has_apx_least_fixpoint_kappa_apx_meet kappa_apx_meet_apx_meet_below_nu kappa_mu_nu_def)"], ["", "definition kappa_mu_nu_ni :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\"\n  where \"kappa_mu_nu_ni f \\<equiv> apx.has_least_fixpoint f \\<and> \\<kappa> f = \\<mu> f \\<squnion> ni(\\<nu> f)\""], ["", "lemma kappa_mu_nu_ni_kappa_mu_nu:\n  \"kappa_mu_nu_ni f \\<longleftrightarrow> kappa_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kappa_mu_nu_ni f = kappa_mu_nu f", "by (simp add: kappa_mu_nu_def kappa_mu_nu_ni_def ni_def)"], ["", "lemma nu_below_mu_nu_kappa_mu_nu_ni:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> isotone f \\<Longrightarrow> apx.isotone f \\<Longrightarrow> nu_below_mu_nu f \\<Longrightarrow> kappa_mu_nu_ni f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f; isotone f;\n     ord.isotone (\\<sqsubseteq>) f; nu_below_mu_nu f\\<rbrakk>\n    \\<Longrightarrow> kappa_mu_nu_ni f", "by (simp add: kappa_mu_nu_ni_kappa_mu_nu nu_below_mu_nu_kappa_mu_nu)"], ["", "lemma kappa_mu_nu_ni_nu_below_mu_nu:\n  \"has_least_fixpoint f \\<Longrightarrow> has_greatest_fixpoint f \\<Longrightarrow> kappa_mu_nu_ni f \\<Longrightarrow> nu_below_mu_nu f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     kappa_mu_nu_ni f\\<rbrakk>\n    \\<Longrightarrow> nu_below_mu_nu f", "using kappa_mu_nu_ni_kappa_mu_nu kappa_mu_nu_nu_below_mu_nu"], ["proof (prove)\nusing this:\n  kappa_mu_nu_ni ?f = kappa_mu_nu ?f\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f;\n   kappa_mu_nu ?f\\<rbrakk>\n  \\<Longrightarrow> nu_below_mu_nu ?f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>has_least_fixpoint f; has_greatest_fixpoint f;\n     kappa_mu_nu_ni f\\<rbrakk>\n    \\<Longrightarrow> nu_below_mu_nu f", "by blast"], ["", "end"], ["", "class itering_apx = n_itering + semiring_apx\nbegin"], ["", "text \\<open>Theorem 16.3\\<close>"], ["", "lemma circ_apx_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have 1: \"x \\<le> y \\<squnion> n(x) * L \\<and> y \\<le> x \\<squnion> n(x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "by auto"], ["proof (state)\nthis:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "hence \"y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n(x) * top\""], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<circ>\n    \\<le> x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top", "by (metis circ_isotone circ_left_top circ_unfold_sum mult_assoc)"], ["proof (state)\nthis:\n  y\\<^sup>\\<circ>\n  \\<le> x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<circ>\n  \\<le> x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have \"... \\<le> x\\<^sup>\\<circ> \\<squnion> n(x\\<^sup>\\<circ> * x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top\n    \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * top", "by (smt le_sup_iff n_isotone n_top_split order_refl order_trans right_plus_below_circ zero_right_mult_decreasing)"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top\n  \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<squnion> x\\<^sup>\\<circ> * n x * top\n  \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have \"... \\<le> x\\<^sup>\\<circ> \\<squnion> n(x\\<^sup>\\<circ>) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * top\n    \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top", "by (simp add: circ_plus_same n_circ_left_unfold)"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * top\n  \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "finally"], ["proof (chain)\npicking this:\n  y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top", "have 2: \"y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n(x\\<^sup>\\<circ>) * top\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<circ>\n    \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top", "."], ["proof (state)\nthis:\n  y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have \"x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n(x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ>\n    \\<le> y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L", "using 1"], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ>\n    \\<le> y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L", "by (metis L_left_zero circ_isotone circ_unfold_sum mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have \"... = y\\<^sup>\\<circ> \\<squnion> n(y\\<^sup>\\<circ> * x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L =\n    y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L", "by (metis sup_assoc sup_bot_right mult_assoc mult_zero_sup_circ_2 n_L_split n_mult_right_bot)"], ["proof (state)\nthis:\n  y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L =\n  y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<circ> \\<squnion> y\\<^sup>\\<circ> * n x * L =\n  y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "have \"... \\<le> y\\<^sup>\\<circ> \\<squnion> n(x\\<^sup>\\<circ> * x) * L \\<squnion> n(x\\<^sup>\\<circ>) * n(top * x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L\n    \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * L \\<squnion>\n          n (x\\<^sup>\\<circ>) * n (top * x) * L", "using 2"], ["proof (prove)\nusing this:\n  y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L\n    \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * L \\<squnion>\n          n (x\\<^sup>\\<circ>) * n (top * x) * L", "by (metis sup_assoc sup_right_isotone mult_assoc mult_left_isotone mult_right_dist_sup n_dist_sup n_export n_isotone)"], ["proof (state)\nthis:\n  y\\<^sup>\\<circ> \\<squnion> n (y\\<^sup>\\<circ> * x) * L\n  \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * L \\<squnion>\n        n (x\\<^sup>\\<circ>) * n (top * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "finally"], ["proof (chain)\npicking this:\n  x\\<^sup>\\<circ>\n  \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * L \\<squnion>\n        n (x\\<^sup>\\<circ>) * n (top * x) * L", "have \"x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> n(x\\<^sup>\\<circ>) * L\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<circ>\n  \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ> * x) * L \\<squnion>\n        n (x\\<^sup>\\<circ>) * n (top * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * L", "by (metis sup_assoc circ_plus_same n_sup_left_absorb_mult n_circ_left_unfold n_dist_sup n_export ni_def ni_dist_sup)"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "thus ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "using 2"], ["proof (prove)\nusing this:\n  x\\<^sup>\\<circ> \\<le> y\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * L\n  y\\<^sup>\\<circ> \\<le> x\\<^sup>\\<circ> \\<squnion> n (x\\<^sup>\\<circ>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>", "by (simp add: apx_def)"], ["proof (state)\nthis:\n  x\\<^sup>\\<circ> \\<sqsubseteq> y\\<^sup>\\<circ>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "class omega_algebra_apx = n_omega_algebra_2 + semiring_apx"], ["", "sublocale omega_algebra_apx < star: itering_apx where circ = star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.itering_apx star (1::'a) (*) (\\<squnion>) (\\<le>) (<) bot top n L\n     (\\<sqsubseteq>)", ".."], ["", "sublocale omega_algebra_apx < nL_omega: itering_apx where circ = Omega"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.itering_apx Omega (1::'a) (*) (\\<squnion>) (\\<le>) (<) bot top n L\n     (\\<sqsubseteq>)", ".."], ["", "context omega_algebra_apx\nbegin"], ["", "text \\<open>Theorem 16.4\\<close>"], ["", "lemma omega_apx_isotone:\n  assumes \"x \\<sqsubseteq> y\"\n    shows \"x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have 1: \"x \\<le> y \\<squnion> n(x) * L \\<and> y \\<le> x \\<squnion> n(x) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "using assms apx_def"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  (?x \\<sqsubseteq> ?y) =\n  (?x \\<le> ?y \\<squnion> n ?x * L \\<and> ?y \\<le> ?x \\<squnion> n ?x * top)\n\ngoal (1 subgoal):\n 1. x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top", "by auto"], ["proof (state)\nthis:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "hence \"y\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * n(x) * top * (x\\<^sup>\\<star> * n(x) * top)\\<^sup>\\<omega> \\<squnion> x\\<^sup>\\<omega> \\<squnion> x\\<^sup>\\<star> * n(x) * top * (x\\<^sup>\\<star> * n(x) * top)\\<^sup>\\<star> * x\\<^sup>\\<omega>\""], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega>\n    \\<le> x\\<^sup>\\<star> * n x * top *\n          (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n          x\\<^sup>\\<omega> \\<squnion>\n          (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>", "by (smt sup_assoc mult_assoc mult_left_one mult_right_dist_sup omega_decompose omega_isotone omega_unfold star_left_unfold_equal)"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<star> * n x * top *\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n        x\\<^sup>\\<omega> \\<squnion>\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<star> * n x * top *\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n        x\\<^sup>\\<omega> \\<squnion>\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... \\<le> x\\<^sup>\\<star> * n(x) * top \\<squnion> x\\<^sup>\\<omega> \\<squnion> x\\<^sup>\\<star> * n(x) * top * (x\\<^sup>\\<star> * n(x) * top)\\<^sup>\\<star> * x\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> * n x * top *\n    (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n    x\\<^sup>\\<omega> \\<squnion>\n    (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n    \\<le> x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n          (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>", "using mult_top_omega omega_unfold sup_left_isotone"], ["proof (prove)\nusing this:\n  (?x * top)\\<^sup>\\<omega> \\<le> ?x * top\n  ?y\\<^sup>\\<omega> = ?y * ?y\\<^sup>\\<omega>\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<squnion> ?z \\<le> ?y \\<squnion> ?z\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> * n x * top *\n    (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n    x\\<^sup>\\<omega> \\<squnion>\n    (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n    \\<le> x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n          (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>", "by auto"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top *\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n  x\\<^sup>\\<omega> \\<squnion>\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top *\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>\\<omega> \\<squnion>\n  x\\<^sup>\\<omega> \\<squnion>\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n        (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... = x\\<^sup>\\<star> * n(x) * top \\<squnion> x\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n    (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega> =\n    x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>", "by (smt (z3) mult_left_dist_sup sup_assoc sup_commute sup_left_top mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega> =\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega> \\<squnion>\n  (x\\<^sup>\\<star> * n x * top)\\<^sup>+ * x\\<^sup>\\<omega> =\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... \\<le> n(x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<star> * bot \\<squnion> x\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n    \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion>\n          x\\<^sup>\\<star> * bot \\<squnion>\n          x\\<^sup>\\<omega>", "using n_top_split semiring.add_left_mono sup_commute"], ["proof (prove)\nusing this:\n  ?x * n ?y * top \\<le> ?x * bot \\<squnion> n (?x * ?y) * top\n  ?a \\<le> ?b \\<Longrightarrow> ?c \\<squnion> ?a \\<le> ?c \\<squnion> ?b\n  ?x \\<squnion> ?y = ?y \\<squnion> ?x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n    \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion>\n          x\\<^sup>\\<star> * bot \\<squnion>\n          x\\<^sup>\\<omega>", "by fastforce"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n  \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion>\n        x\\<^sup>\\<star> * bot \\<squnion>\n        x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> * n x * top \\<squnion> x\\<^sup>\\<omega>\n  \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion>\n        x\\<^sup>\\<star> * bot \\<squnion>\n        x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... \\<le> n(x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (x\\<^sup>\\<star> * x) * top \\<squnion>\n    x\\<^sup>\\<star> * bot \\<squnion>\n    x\\<^sup>\\<omega>\n    \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>", "using semiring.add_right_mono star_bot_below_omega sup_commute"], ["proof (prove)\nusing this:\n  ?a \\<le> ?b \\<Longrightarrow> ?a \\<squnion> ?c \\<le> ?b \\<squnion> ?c\n  ?x\\<^sup>\\<star> * bot \\<le> ?x\\<^sup>\\<omega>\n  ?x \\<squnion> ?y = ?y \\<squnion> ?x\n\ngoal (1 subgoal):\n 1. n (x\\<^sup>\\<star> * x) * top \\<squnion>\n    x\\<^sup>\\<star> * bot \\<squnion>\n    x\\<^sup>\\<omega>\n    \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>", "by fastforce"], ["proof (state)\nthis:\n  n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<star> * bot \\<squnion>\n  x\\<^sup>\\<omega>\n  \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "finally"], ["proof (chain)\npicking this:\n  y\\<^sup>\\<omega>\n  \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>", "have 2: \"y\\<^sup>\\<omega> \\<le> x\\<^sup>\\<omega> \\<squnion> n(x\\<^sup>\\<omega>) * top\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<omega>\n  \\<le> n (x\\<^sup>\\<star> * x) * top \\<squnion> x\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega>\n    \\<le> x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * top", "by (metis sup_commute sup_right_isotone mult_left_isotone n_star_below_n_omega n_star_left_unfold order_trans star.circ_plus_same)"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"x\\<^sup>\\<omega> \\<le> (y \\<squnion> n(x) * L)\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<le> (y \\<squnion> n x * L)\\<^sup>\\<omega>", "using 1"], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<le> (y \\<squnion> n x * L)\\<^sup>\\<omega>", "by (simp add: omega_isotone)"], ["proof (state)\nthis:\n  x\\<^sup>\\<omega> \\<le> (y \\<squnion> n x * L)\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<omega> \\<le> (y \\<squnion> n x * L)\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... = y\\<^sup>\\<star> * n(x) * L * (y\\<^sup>\\<star> * n(x) * L)\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * n(x) * L * (y\\<^sup>\\<star> * n(x) * L)\\<^sup>\\<star> * y\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<squnion> n x * L)\\<^sup>\\<omega> =\n    y\\<^sup>\\<star> * n x * L *\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n    y\\<^sup>\\<omega> \\<squnion>\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega>", "by (smt sup_assoc mult_assoc mult_left_one mult_right_dist_sup omega_decompose omega_isotone omega_unfold star_left_unfold_equal)"], ["proof (state)\nthis:\n  (y \\<squnion> n x * L)\\<^sup>\\<omega> =\n  y\\<^sup>\\<star> * n x * L *\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n  y\\<^sup>\\<omega> \\<squnion>\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  (y \\<squnion> n x * L)\\<^sup>\\<omega> =\n  y\\<^sup>\\<star> * n x * L *\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n  y\\<^sup>\\<omega> \\<squnion>\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... = y\\<^sup>\\<star> * n(x) * L \\<squnion> y\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> * n x * L *\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n    y\\<^sup>\\<omega> \\<squnion>\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega> =\n    y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>", "using L_left_zero sup_assoc sup_monoid.add_commute mult_assoc"], ["proof (prove)\nusing this:\n  L * ?x = L\n  ?x \\<squnion> ?y \\<squnion> ?z = ?x \\<squnion> (?y \\<squnion> ?z)\n  ?a \\<squnion> ?b = ?b \\<squnion> ?a\n  ?a * ?b * ?c = ?a * (?b * ?c)\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> * n x * L *\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n    y\\<^sup>\\<omega> \\<squnion>\n    (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega> =\n    y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>", "by force"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> * n x * L *\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n  y\\<^sup>\\<omega> \\<squnion>\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega> =\n  y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> * n x * L *\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>\\<omega> \\<squnion>\n  y\\<^sup>\\<omega> \\<squnion>\n  (y\\<^sup>\\<star> * n x * L)\\<^sup>+ * y\\<^sup>\\<omega> =\n  y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... \\<le> y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion> n(y\\<^sup>\\<star> * x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>\n    \\<le> y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n          n (y\\<^sup>\\<star> * x) * L", "by (simp add: n_L_split sup_assoc sup_commute)"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n        n (y\\<^sup>\\<star> * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> * n x * L \\<squnion> y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n        n (y\\<^sup>\\<star> * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "have \"... \\<le> y\\<^sup>\\<omega> \\<squnion> n(x\\<^sup>\\<star> * x) * L \\<squnion> n(x\\<^sup>\\<star>) * n(top * x) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n    n (y\\<^sup>\\<star> * x) * L\n    \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star> * x) * L \\<squnion>\n          n (x\\<^sup>\\<star>) * n (top * x) * L", "using 1"], ["proof (prove)\nusing this:\n  x \\<le> y \\<squnion> n x * L \\<and> y \\<le> x \\<squnion> n x * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n    n (y\\<^sup>\\<star> * x) * L\n    \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star> * x) * L \\<squnion>\n          n (x\\<^sup>\\<star>) * n (top * x) * L", "by (metis sup_right_isotone sup_bot_right apx_def mult_assoc mult_left_dist_sup mult_left_isotone mult_right_dist_sup n_dist_sup n_export n_isotone star.circ_apx_isotone star_mult_omega sup_assoc)"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * bot \\<squnion>\n  n (y\\<^sup>\\<star> * x) * L\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star> * x) * L \\<squnion>\n        n (x\\<^sup>\\<star>) * n (top * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "finally"], ["proof (chain)\npicking this:\n  x\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star> * x) * L \\<squnion>\n        n (x\\<^sup>\\<star>) * n (top * x) * L", "have \"x\\<^sup>\\<omega> \\<le> y\\<^sup>\\<omega> \\<squnion> n(x\\<^sup>\\<omega>) * L\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star> * x) * L \\<squnion>\n        n (x\\<^sup>\\<star>) * n (top * x) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega>\n    \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * L", "by (smt (verit, best) le_supE sup.orderE sup_commute sup_assoc sup_isotone mult_right_dist_sup n_sup_left_absorb_mult n_star_left_unfold ni_def ni_star_below_ni_omega order_refl order_trans star.circ_plus_same)"], ["proof (state)\nthis:\n  x\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "thus ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * L\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "using 2"], ["proof (prove)\nusing this:\n  x\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * L\n  y\\<^sup>\\<omega>\n  \\<le> x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>", "by (simp add: apx_def)"], ["proof (state)\nthis:\n  x\\<^sup>\\<omega> \\<sqsubseteq> y\\<^sup>\\<omega>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "class omega_algebra_apx_extra = omega_algebra_apx +\n  assumes n_split_omega: \"x\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * bot \\<squnion> n(x\\<^sup>\\<omega>) * top\"\nbegin"], ["", "lemma omega_n_star:\n  \"x\\<^sup>\\<omega> \\<squnion> n(x\\<^sup>\\<star>) * top \\<le> x\\<^sup>\\<star> * n(x\\<^sup>\\<omega>) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "have 1: \"n(x\\<^sup>\\<star>) * top \\<le> n(x\\<^sup>\\<omega>) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (x\\<^sup>\\<star>) * top \\<le> n (x\\<^sup>\\<omega>) * top", "by (simp add: mult_left_isotone n_star_below_n_omega)"], ["proof (state)\nthis:\n  n (x\\<^sup>\\<star>) * top \\<le> n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "have \"... \\<le> x\\<^sup>\\<star> * n(x\\<^sup>\\<omega>) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (x\\<^sup>\\<omega>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "by (simp add: star_n_omega_top)"], ["proof (state)\nthis:\n  n (x\\<^sup>\\<omega>) * top\n  \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "thus ?thesis"], ["proof (prove)\nusing this:\n  n (x\\<^sup>\\<omega>) * top\n  \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "using 1"], ["proof (prove)\nusing this:\n  n (x\\<^sup>\\<omega>) * top\n  \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top\n  n (x\\<^sup>\\<star>) * top \\<le> n (x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n    \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top", "by (metis le_sup_iff n_split_omega order_trans star_n_omega_top)"], ["proof (state)\nthis:\n  x\\<^sup>\\<omega> \\<squnion> n (x\\<^sup>\\<star>) * top\n  \\<le> x\\<^sup>\\<star> * n (x\\<^sup>\\<omega>) * top\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_omega_zero:\n  \"n(x\\<^sup>\\<omega>) = bot \\<longleftrightarrow> n(x\\<^sup>\\<star>) = bot \\<and> x\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * bot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n (x\\<^sup>\\<omega>) = bot) =\n    (n (x\\<^sup>\\<star>) = bot \\<and>\n     x\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * bot)", "by (metis sup_bot_right order.eq_iff mult_left_zero n_mult_bot n_split_omega star_bot_below_omega)"], ["", "lemma n_split_nu_mu:\n  \"y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z \\<le> y\\<^sup>\\<star> * z \\<squnion> n(y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "have \"y\\<^sup>\\<omega> \\<le> y\\<^sup>\\<star> * bot \\<squnion> n(y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega>\n    \\<le> y\\<^sup>\\<star> * bot \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "by (smt sup_ge1 sup_right_isotone mult_left_isotone n_isotone n_split_omega order_trans)"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<star> * bot \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<star> * bot \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "have \"... \\<le> y\\<^sup>\\<star> * z \\<squnion> n(y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> * bot \\<squnion>\n    n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "using nL_star.star_zero_below_circ_mult sup_left_isotone"], ["proof (prove)\nusing this:\n  ?x\\<^sup>\\<star> * bot \\<le> ?x\\<^sup>\\<star> * ?y\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<squnion> ?z \\<le> ?y \\<squnion> ?z\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> * bot \\<squnion>\n    n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "by auto"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> * bot \\<squnion>\n  n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n  \\<le> y\\<^sup>\\<star> * z \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "finally"], ["proof (chain)\npicking this:\n  y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<star> * z \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "show ?thesis"], ["proof (prove)\nusing this:\n  y\\<^sup>\\<omega>\n  \\<le> y\\<^sup>\\<star> * z \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n    \\<le> y\\<^sup>\\<star> * z \\<squnion>\n          n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top", "by simp"], ["proof (state)\nthis:\n  y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z\n  \\<le> y\\<^sup>\\<star> * z \\<squnion>\n        n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * top\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma loop_exists:\n  \"\\<nu> (\\<lambda>x . y * x \\<squnion> z) \\<le> \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nu> (\\<lambda>x. y * x \\<squnion> z)\n    \\<le> \\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n          n (\\<nu> (\\<lambda>x. y * x \\<squnion> z)) * top", "by (metis n_split_nu_mu omega_loop_nu star_loop_mu)"], ["", "lemma loop_apx_least_fixpoint:\n  \"apx.is_least_fixpoint (\\<lambda>x . y * x \\<squnion> z) (\\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. y * x \\<squnion> z)\n     (\\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n      n (\\<nu> (\\<lambda>x. y * x \\<squnion> z)) * L)", "using apx.least_fixpoint_char affine_apx_isotone affine_has_greatest_fixpoint affine_has_least_fixpoint affine_isotone kappa_mu_nu_def nu_below_mu_nu_def nu_below_mu_nu_kappa_mu_nu loop_exists"], ["proof (prove)\nusing this:\n  order.is_least_fixpoint (\\<sqsubseteq>) ?f ?x =\n  (order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and> ?x = \\<kappa> ?f)\n  ord.isotone (\\<sqsubseteq>) (\\<lambda>x. ?y * x \\<squnion> ?z)\n  has_greatest_fixpoint (\\<lambda>x. ?y * x \\<squnion> ?z)\n  has_least_fixpoint (\\<lambda>x. ?y * x \\<squnion> ?z)\n  isotone (\\<lambda>x. ?y * x \\<squnion> ?z)\n  kappa_mu_nu ?f \\<equiv>\n  order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and>\n  \\<kappa> ?f = \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L\n  nu_below_mu_nu ?f \\<equiv>\n  \\<nu> ?f \\<le> \\<mu> ?f \\<squnion> n (\\<nu> ?f) * top\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f; isotone ?f;\n   ord.isotone (\\<sqsubseteq>) ?f; nu_below_mu_nu ?f\\<rbrakk>\n  \\<Longrightarrow> kappa_mu_nu ?f\n  \\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)\n  \\<le> \\<mu> (\\<lambda>x. ?y * x \\<squnion> ?z) \\<squnion>\n        n (\\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)) * top\n\ngoal (1 subgoal):\n 1. order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. y * x \\<squnion> z)\n     (\\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n      n (\\<nu> (\\<lambda>x. y * x \\<squnion> z)) * L)", "by auto"], ["", "lemma loop_has_apx_least_fixpoint:\n  \"apx.has_least_fixpoint (\\<lambda>x . y * x \\<squnion> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order.has_least_fixpoint (\\<sqsubseteq>)\n     (\\<lambda>x. y * x \\<squnion> z)", "using affine_apx_isotone affine_has_greatest_fixpoint affine_has_least_fixpoint affine_isotone kappa_mu_nu_def nu_below_mu_nu_def nu_below_mu_nu_kappa_mu_nu loop_exists"], ["proof (prove)\nusing this:\n  ord.isotone (\\<sqsubseteq>) (\\<lambda>x. ?y * x \\<squnion> ?z)\n  has_greatest_fixpoint (\\<lambda>x. ?y * x \\<squnion> ?z)\n  has_least_fixpoint (\\<lambda>x. ?y * x \\<squnion> ?z)\n  isotone (\\<lambda>x. ?y * x \\<squnion> ?z)\n  kappa_mu_nu ?f \\<equiv>\n  order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and>\n  \\<kappa> ?f = \\<mu> ?f \\<squnion> n (\\<nu> ?f) * L\n  nu_below_mu_nu ?f \\<equiv>\n  \\<nu> ?f \\<le> \\<mu> ?f \\<squnion> n (\\<nu> ?f) * top\n  \\<lbrakk>has_least_fixpoint ?f; has_greatest_fixpoint ?f; isotone ?f;\n   ord.isotone (\\<sqsubseteq>) ?f; nu_below_mu_nu ?f\\<rbrakk>\n  \\<Longrightarrow> kappa_mu_nu ?f\n  \\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)\n  \\<le> \\<mu> (\\<lambda>x. ?y * x \\<squnion> ?z) \\<squnion>\n        n (\\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)) * top\n\ngoal (1 subgoal):\n 1. order.has_least_fixpoint (\\<sqsubseteq>)\n     (\\<lambda>x. y * x \\<squnion> z)", "by auto"], ["", "lemma loop_semantics:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> n(\\<nu> (\\<lambda>x . y * x \\<squnion> z)) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    \\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n    n (\\<nu> (\\<lambda>x. y * x \\<squnion> z)) * L", "using apx.least_fixpoint_char loop_apx_least_fixpoint"], ["proof (prove)\nusing this:\n  order.is_least_fixpoint (\\<sqsubseteq>) ?f ?x =\n  (order.has_least_fixpoint (\\<sqsubseteq>) ?f \\<and> ?x = \\<kappa> ?f)\n  order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. ?y * x \\<squnion> ?z)\n   (\\<mu> (\\<lambda>x. ?y * x \\<squnion> ?z) \\<squnion>\n    n (\\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)) * L)\n\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    \\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n    n (\\<nu> (\\<lambda>x. y * x \\<squnion> z)) * L", "by auto"], ["", "lemma loop_apx_least_fixpoint_ni:\n  \"apx.is_least_fixpoint (\\<lambda>x . y * x \\<squnion> z) (\\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> ni(\\<nu> (\\<lambda>x . y * x \\<squnion> z)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. y * x \\<squnion> z)\n     (\\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n      ni (\\<nu> (\\<lambda>x. y * x \\<squnion> z)))", "using ni_def loop_apx_least_fixpoint"], ["proof (prove)\nusing this:\n  ni ?x = n ?x * L\n  order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. ?y * x \\<squnion> ?z)\n   (\\<mu> (\\<lambda>x. ?y * x \\<squnion> ?z) \\<squnion>\n    n (\\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)) * L)\n\ngoal (1 subgoal):\n 1. order.is_least_fixpoint (\\<sqsubseteq>) (\\<lambda>x. y * x \\<squnion> z)\n     (\\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n      ni (\\<nu> (\\<lambda>x. y * x \\<squnion> z)))", "by auto"], ["", "lemma loop_semantics_ni:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = \\<mu> (\\<lambda>x . y * x \\<squnion> z) \\<squnion> ni(\\<nu> (\\<lambda>x . y * x \\<squnion> z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    \\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n    ni (\\<nu> (\\<lambda>x. y * x \\<squnion> z))", "using ni_def loop_semantics"], ["proof (prove)\nusing this:\n  ni ?x = n ?x * L\n  \\<kappa> (\\<lambda>x. ?y * x \\<squnion> ?z) =\n  \\<mu> (\\<lambda>x. ?y * x \\<squnion> ?z) \\<squnion>\n  n (\\<nu> (\\<lambda>x. ?y * x \\<squnion> ?z)) * L\n\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    \\<mu> (\\<lambda>x. y * x \\<squnion> z) \\<squnion>\n    ni (\\<nu> (\\<lambda>x. y * x \\<squnion> z))", "by auto"], ["", "text \\<open>Theorem 18\\<close>"], ["", "lemma loop_semantics_kappa_mu_nu:\n  \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = n(y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    n (y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    n (y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z", "have \"\\<kappa> (\\<lambda>x . y * x \\<squnion> z) = y\\<^sup>\\<star> * z \\<squnion> n(y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    y\\<^sup>\\<star> * z \\<squnion>\n    n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * L", "by (metis loop_semantics omega_loop_nu star_loop_mu)"], ["proof (state)\nthis:\n  \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n  y\\<^sup>\\<star> * z \\<squnion>\n  n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * L\n\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    n (y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n  y\\<^sup>\\<star> * z \\<squnion>\n  n (y\\<^sup>\\<omega> \\<squnion> y\\<^sup>\\<star> * z) * L\n\ngoal (1 subgoal):\n 1. \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n    n (y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z", "by (smt sup_assoc sup_commute le_iff_sup mult_right_dist_sup n_L_decreasing n_dist_sup)"], ["proof (state)\nthis:\n  \\<kappa> (\\<lambda>x. y * x \\<squnion> z) =\n  n (y\\<^sup>\\<omega>) * L \\<squnion> y\\<^sup>\\<star> * z\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "class omega_algebra_apx_extra_2 = omega_algebra_apx +\n  assumes omega_n_star: \"x\\<^sup>\\<omega> \\<le> x\\<^sup>\\<star> * n(x\\<^sup>\\<omega>) * top\"\nbegin"], ["", "subclass omega_algebra_apx_extra"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.omega_algebra_apx_extra n L top (1::'a) (*) (\\<squnion>) (\\<le>)\n     (<) bot Omega star omega (\\<sqsubseteq>)", "apply unfold_locales"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x\\<^sup>\\<omega>\n       \\<le> x\\<^sup>\\<star> * bot \\<squnion> n (x\\<^sup>\\<omega>) * top", "using omega_n_star star_n_omega_top"], ["proof (prove)\nusing this:\n  ?x\\<^sup>\\<omega> \\<le> ?x\\<^sup>\\<star> * n (?x\\<^sup>\\<omega>) * top\n  ?x\\<^sup>\\<star> * n (?x\\<^sup>\\<omega>) * top =\n  ?x\\<^sup>\\<star> * bot \\<squnion> n (?x\\<^sup>\\<omega>) * top\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x\\<^sup>\\<omega>\n       \\<le> x\\<^sup>\\<star> * bot \\<squnion> n (x\\<^sup>\\<omega>) * top", "by auto"], ["", "end"], ["", "end"]]}