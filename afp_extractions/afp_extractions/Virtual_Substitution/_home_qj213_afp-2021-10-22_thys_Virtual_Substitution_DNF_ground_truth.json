{"file_name": "/home/qj213/afp-2021-10-22/thys/Virtual_Substitution/DNF.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Virtual_Substitution", "problem_names": ["theorem dnf_eval : \n  \"(\\<exists>(al,fl)\\<in>set (dnf \\<phi>). \n     (\\<forall>a\\<in>set al. aEval a xs) \n   \\<and> (\\<forall>f\\<in>set fl. eval f xs))\n   = eval \\<phi> xs\"", "theorem dnf_modified_eval : \n  \"(\\<exists>(al,fl,n)\\<in>set (dnf_modified \\<phi>).\n      (\\<exists>L. (length L = n \n       \\<and> (\\<forall>a\\<in>set al. aEval a (L@xs))\n       \\<and> (\\<forall>f\\<in>set fl. eval f (L@xs))))) = eval \\<phi> xs\""], "translations": [["", "theorem dnf_eval : \n  \"(\\<exists>(al,fl)\\<in>set (dnf \\<phi>). \n     (\\<forall>a\\<in>set al. aEval a xs) \n   \\<and> (\\<forall>f\\<in>set fl. eval f xs))\n   = eval \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl)\\<in>set (dnf \\<phi>).\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval \\<phi> xs", "proof(induction \\<phi>)"], ["proof (state)\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "case (And \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf \\<phi>1).\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n  eval \\<phi>1 xs\n  (\\<exists>a\\<in>set (dnf \\<phi>2).\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n  eval \\<phi>2 xs\n\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "define f where \"f = (\\<lambda>a. case a of\n        (al, fl) \\<Rightarrow> (\\<forall>a\\<in>set al. aEval a xs) \\<and> (\\<forall>f\\<in>set fl. eval f xs))\""], ["proof (state)\nthis:\n  f =\n  (\\<lambda>a.\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs))\n\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "have h1:\"(\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)). f a) = (\\<exists>a\\<in>set (dnf \\<phi>1). \\<exists>a'\\<in>set(dnf \\<phi>2). f a \\<and> f a')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)). f a) =\n    (\\<exists>a\\<in>set (dnf \\<phi>1).\n        \\<exists>a'\\<in>set (dnf \\<phi>2). f a \\<and> f a')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>set (dnf \\<phi>1).\n        \\<exists>a b.\n           (\\<exists>uu_ uua_.\n               (uua_, uu_) = y \\<and>\n               (a, b)\n               \\<in> (\\<lambda>x.\n                         case x of\n                         (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n                     set (dnf \\<phi>2)) \\<and>\n           f (a, b)) =\n    ((\\<exists>a\\<in>set (dnf \\<phi>1). f a) \\<and>\n     (\\<exists>x\\<in>set (dnf \\<phi>2). f x))", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>set (dnf \\<phi>1).\n        \\<exists>a b.\n           (\\<exists>uu_ uua_.\n               (uua_, uu_) = y \\<and>\n               (a, b)\n               \\<in> (\\<lambda>x.\n                         case x of\n                         (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n                     set (dnf \\<phi>2)) \\<and>\n           (case (a, b) of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs))) =\n    ((\\<exists>a\\<in>set (dnf \\<phi>1).\n         case a of\n         (al, fl) \\<Rightarrow>\n           (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n           (\\<forall>f\\<in>set fl. eval f xs)) \\<and>\n     (\\<exists>x\\<in>set (dnf \\<phi>2).\n         case x of\n         (al, fl) \\<Rightarrow>\n           (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n           (\\<forall>f\\<in>set fl. eval f xs)))", "apply auto"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a b ab bb.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        \\<forall>a\\<in>set a \\<union> set ab. aEval a xs;\n        \\<forall>f\\<in>set b \\<union> set bb. eval f xs;\n        (ab, bb) \\<in> set (dnf \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf \\<phi>1).\n                            case x of\n                            (al, fl) \\<Rightarrow>\n                              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                              (\\<forall>f\\<in>set fl. eval f xs)\n 2. \\<And>a b ab bb.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        \\<forall>a\\<in>set a \\<union> set ab. aEval a xs;\n        \\<forall>f\\<in>set b \\<union> set bb. eval f xs;\n        (ab, bb) \\<in> set (dnf \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf \\<phi>2).\n                            case x of\n                            (al, fl) \\<Rightarrow>\n                              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                              (\\<forall>f\\<in>set fl. eval f xs)\n 3. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        (aa, ba) \\<in> set (dnf \\<phi>2); \\<forall>a\\<in>set a. aEval a xs;\n        \\<forall>f\\<in>set b. eval f xs; \\<forall>a\\<in>set aa. aEval a xs;\n        \\<forall>f\\<in>set ba. eval f xs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>set (dnf \\<phi>1).\n                            \\<exists>a b.\n                               (\\<exists>uu_ uua_.\n                                   (uua_, uu_) = y \\<and>\n                                   (a, b)\n                                   \\<in> (\\<lambda>x.\n       case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n   set (dnf \\<phi>2)) \\<and>\n                               (\\<forall>a\\<in>set a. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set b. eval f xs)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b ab bb.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        \\<forall>a\\<in>set a \\<union> set ab. aEval a xs;\n        \\<forall>f\\<in>set b \\<union> set bb. eval f xs;\n        (ab, bb) \\<in> set (dnf \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf \\<phi>2).\n                            case x of\n                            (al, fl) \\<Rightarrow>\n                              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                              (\\<forall>f\\<in>set fl. eval f xs)\n 2. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        (aa, ba) \\<in> set (dnf \\<phi>2); \\<forall>a\\<in>set a. aEval a xs;\n        \\<forall>f\\<in>set b. eval f xs; \\<forall>a\\<in>set aa. aEval a xs;\n        \\<forall>f\\<in>set ba. eval f xs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>set (dnf \\<phi>1).\n                            \\<exists>a b.\n                               (\\<exists>uu_ uua_.\n                                   (uua_, uu_) = y \\<and>\n                                   (a, b)\n                                   \\<in> (\\<lambda>x.\n       case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n   set (dnf \\<phi>2)) \\<and>\n                               (\\<forall>a\\<in>set a. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set b. eval f xs)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1);\n        (aa, ba) \\<in> set (dnf \\<phi>2); \\<forall>a\\<in>set a. aEval a xs;\n        \\<forall>f\\<in>set b. eval f xs; \\<forall>a\\<in>set aa. aEval a xs;\n        \\<forall>f\\<in>set ba. eval f xs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>set (dnf \\<phi>1).\n                            \\<exists>a b.\n                               (\\<exists>uu_ uua_.\n                                   (uua_, uu_) = y \\<and>\n                                   (a, b)\n                                   \\<in> (\\<lambda>x.\n       case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n   set (dnf \\<phi>2)) \\<and>\n                               (\\<forall>a\\<in>set a. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set b. eval f xs)", "subgoal for a b c d"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set (dnf \\<phi>1).\n                         \\<exists>a b.\n                            (\\<exists>uu_ uua_.\n                                (uua_, uu_) = y \\<and>\n                                (a, b)\n                                \\<in> (\\<lambda>x.\n    case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\nset (dnf \\<phi>2)) \\<and>\n                            (\\<forall>a\\<in>set a. aEval a xs) \\<and>\n                            (\\<forall>f\\<in>set b. eval f xs)", "apply(rule bexI[where x=\"(a,b)\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> \\<exists>aa ba.\n                         (\\<exists>uu_ uua_.\n                             (uua_, uu_) = (a, b) \\<and>\n                             (aa, ba)\n                             \\<in> (\\<lambda>x.\n case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n                                   set (dnf \\<phi>2)) \\<and>\n                         (\\<forall>a\\<in>set aa. aEval a xs) \\<and>\n                         (\\<forall>f\\<in>set ba. eval f xs)\n 2. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> (a, b) \\<in> set (dnf \\<phi>1)", "apply(rule exI[where x=\"a@c\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ba.\n                         (\\<exists>uu_ uua_.\n                             (uua_, uu_) = (a, b) \\<and>\n                             (a @ c, ba)\n                             \\<in> (\\<lambda>x.\n case x of (B, B') \\<Rightarrow> (uua_ @ B, uu_ @ B')) `\n                                   set (dnf \\<phi>2)) \\<and>\n                         (\\<forall>a\\<in>set (a @ c). aEval a xs) \\<and>\n                         (\\<forall>f\\<in>set ba. eval f xs)\n 2. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> (a, b) \\<in> set (dnf \\<phi>1)", "apply(rule exI[where x=\"b@d\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>uu_ uua_.\n                          (uua_, uu_) = (a, b) \\<and>\n                          (a @ c, b @ d)\n                          \\<in> (\\<lambda>x.\n                                    case x of\n                                    (B, B') \\<Rightarrow>\n(uua_ @ B, uu_ @ B')) `\n                                set (dnf \\<phi>2)) \\<and>\n                      (\\<forall>a\\<in>set (a @ c). aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set (b @ d). eval f xs)\n 2. \\<lbrakk>(a, b) \\<in> set (dnf \\<phi>1); (c, d) \\<in> set (dnf \\<phi>2);\n     \\<forall>a\\<in>set a. aEval a xs; \\<forall>f\\<in>set b. eval f xs;\n     \\<forall>a\\<in>set c. aEval a xs;\n     \\<forall>f\\<in>set d. eval f xs\\<rbrakk>\n    \\<Longrightarrow> (a, b) \\<in> set (dnf \\<phi>1)", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)). f a) =\n  (\\<exists>a\\<in>set (dnf \\<phi>1).\n      \\<exists>a'\\<in>set (dnf \\<phi>2). f a \\<and> f a')\n\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)). f a) =\n  (\\<exists>a\\<in>set (dnf \\<phi>1).\n      \\<exists>a'\\<in>set (dnf \\<phi>2). f a \\<and> f a')\n\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "have h2 : \"... = ((\\<exists>a\\<in>set (dnf \\<phi>1). f a)\\<and>(\\<exists>a\\<in>set(dnf \\<phi>2). f a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf \\<phi>1).\n        \\<exists>a'\\<in>set (dnf \\<phi>2). f a \\<and> f a') =\n    ((\\<exists>a\\<in>set (dnf \\<phi>1). f a) \\<and>\n     (\\<exists>a\\<in>set (dnf \\<phi>2). f a))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf \\<phi>1).\n      \\<exists>a'\\<in>set (dnf \\<phi>2). f a \\<and> f a') =\n  ((\\<exists>a\\<in>set (dnf \\<phi>1). f a) \\<and>\n   (\\<exists>a\\<in>set (dnf \\<phi>2). f a))\n\ngoal (10 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi>.\n        (\\<exists>a\\<in>set (dnf \\<phi>).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi> xs \\<Longrightarrow>\n        (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval (AllN x1 \\<phi>) xs", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval (And \\<phi>1 \\<phi>2) xs", "unfolding f_def[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)). f a) =\n    eval (And \\<phi>1 \\<phi>2) xs", "unfolding h1 h2"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Bex (set (dnf \\<phi>1)) f \\<and> Bex (set (dnf \\<phi>2)) f) =\n    eval (And \\<phi>1 \\<phi>2) xs", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>(al, fl)\\<in>set (dnf \\<phi>1).\n         (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n         (\\<forall>f\\<in>set fl. eval f xs)) \\<and>\n     (\\<exists>(al, fl)\\<in>set (dnf \\<phi>2).\n         (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n         (\\<forall>f\\<in>set fl. eval f xs))) =\n    eval (And \\<phi>1 \\<phi>2) xs", "using And"], ["proof (prove)\nusing this:\n  (\\<exists>a\\<in>set (dnf \\<phi>1).\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n  eval \\<phi>1 xs\n  (\\<exists>a\\<in>set (dnf \\<phi>2).\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n  eval \\<phi>2 xs\n\ngoal (1 subgoal):\n 1. ((\\<exists>(al, fl)\\<in>set (dnf \\<phi>1).\n         (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n         (\\<forall>f\\<in>set fl. eval f xs)) \\<and>\n     (\\<exists>(al, fl)\\<in>set (dnf \\<phi>2).\n         (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n         (\\<forall>f\\<in>set fl. eval f xs))) =\n    eval (And \\<phi>1 \\<phi>2) xs", "by auto"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf (And \\<phi>1 \\<phi>2)).\n      case a of\n      (al, fl) \\<Rightarrow>\n        (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n        (\\<forall>f\\<in>set fl. eval f xs)) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (9 subgoals):\n 1. (\\<exists>a\\<in>set (dnf TrueF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval TrueF xs\n 2. (\\<exists>a\\<in>set (dnf FalseF).\n        case a of\n        (al, fl) \\<Rightarrow>\n          (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n          (\\<forall>f\\<in>set fl. eval f xs)) =\n    eval FalseF xs\n 3. \\<And>x.\n       (\\<exists>a\\<in>set (dnf (fm.Atom x)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(\\<exists>a\\<in>set (dnf \\<phi>1).\n                    case a of\n                    (al, fl) \\<Rightarrow>\n                      (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                      (\\<forall>f\\<in>set fl. eval f xs)) =\n                eval \\<phi>1 xs;\n        (\\<exists>a\\<in>set (dnf \\<phi>2).\n            case a of\n            (al, fl) \\<Rightarrow>\n              (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n              (\\<forall>f\\<in>set fl. eval f xs)) =\n        eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>a\\<in>set (dnf (Or \\<phi>1 \\<phi>2)).\n                             case a of\n                             (al, fl) \\<Rightarrow>\n                               (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n                               (\\<forall>f\\<in>set fl. eval f xs)) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (Neg \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllQ \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (ExN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi>.\n       (\\<exists>a\\<in>set (dnf \\<phi>).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval \\<phi> xs \\<Longrightarrow>\n       (\\<exists>a\\<in>set (dnf (AllN x1 \\<phi>)).\n           case a of\n           (al, fl) \\<Rightarrow>\n             (\\<forall>a\\<in>set al. aEval a xs) \\<and>\n             (\\<forall>f\\<in>set fl. eval f xs)) =\n       eval (AllN x1 \\<phi>) xs", "qed auto"], ["", "theorem dnf_modified_eval : \n  \"(\\<exists>(al,fl,n)\\<in>set (dnf_modified \\<phi>).\n      (\\<exists>L. (length L = n \n       \\<and> (\\<forall>a\\<in>set al. aEval a (L@xs))\n       \\<and> (\\<forall>f\\<in>set fl. eval f (L@xs))))) = eval \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval \\<phi> xs", "proof(induction \\<phi> arbitrary:xs)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>x xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (fm.Atom x)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi> xs.\n        (\\<And>xs.\n            (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n                \\<exists>L.\n                   length L = n \\<and>\n                   (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                   (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n            eval \\<phi> xs) \\<Longrightarrow>\n        (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n            \\<exists>L.\n               length L = n \\<and>\n               (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n        eval (AllN x1 \\<phi>) xs", "case (Atom x)"], ["proof (state)\nthis:\n  \n\ngoal (10 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>x xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (fm.Atom x)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (fm.Atom x) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 8. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 10. \\<And>x1 \\<phi> xs.\n        (\\<And>xs.\n            (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n                \\<exists>L.\n                   length L = n \\<and>\n                   (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                   (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n            eval \\<phi> xs) \\<Longrightarrow>\n        (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n            \\<exists>L.\n               length L = n \\<and>\n               (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n        eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (fm.Atom x)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (fm.Atom x) xs", "by (cases x, auto)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified (fm.Atom x)).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (fm.Atom x) xs\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "case (And \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>1 ?xs\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>2).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>2 ?xs\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>1 ?xs\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>2).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>2 ?xs\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "fix d1 d2 A A' B B' L1 L2"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "assume A : \"(A,A',length (L1::real list))\\<in>set (dnf_modified \\<phi>1)\" and \"(B,B',length (L2::real list))\\<in>set (dnf_modified \\<phi>2)\""], ["proof (state)\nthis:\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"(\n      (\\<forall>a\\<in>set ((map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B)). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B'). eval f ((L1@L2) @ xs))) = \n      (\n      (\\<forall>a\\<in>set(map (liftAtom (length L1) (length L2)) A) \\<union> set( map (liftAtom 0 (length L1)) B). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set( map (liftFm (length L1) (length L2)) A') \\<union> set(map (liftFm 0 (length L1)) B'). eval f ((L1@L2) @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                     set (map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                     set (map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs)))", "by auto"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                   set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                   set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                   set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                   set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\n      (\\<forall>a\\<in>set(map (liftAtom (length L1) (length L2)) A).aEval a ((L1@L2) @ xs))\n    \\<and> (\\<forall>a\\<in>set(map (liftAtom 0 (length L1)) B). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set(map (liftFm (length L1) (length L2)) A').eval f ((L1@L2) @ xs))\n    \\<and> (\\<forall>f\\<in>set(map (liftFm 0 (length L1)) B'). eval f ((L1@L2) @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                     set (map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                     set (map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n         eval f ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs)))", "by blast"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                   set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                   set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n       eval f ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A) \\<union>\n                   set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A') \\<union>\n                   set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n       eval f ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... =  (\n      (\\<forall>a\\<in>set A. aEval (liftAtom (length L1) (length L2) a) ((L1@L2) @ xs))\n    \\<and> (\\<forall>a\\<in>set B. aEval (liftAtom 0 (length L1) a) ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set A'. eval (liftFm (length L1) (length L2) f) ((L1@L2) @ xs))\n    \\<and> (\\<forall>f\\<in>set B'. eval (liftFm 0 (length L1) f) ((L1@L2) @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n         eval f ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    ((\\<forall>a\\<in>set A.\n         aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>a\\<in>set B.\n         aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set A'.\n         eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'.\n         eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs)))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n       eval f ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set (map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A').\n       eval f ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... =  (\n      (\\<forall>a\\<in>set A. aEval (liftAtom (length L1) (length L2) a) (insert_into (L1 @ xs) (length L1) L2))\n    \\<and> (\\<forall>a\\<in>set B. aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1)) \n    \\<and> (\\<forall>f\\<in>set A'. eval (liftFm (length L1) (length L2) f) (insert_into (L1 @ xs) (length L1) L2))\n    \\<and> (\\<forall>f\\<in>set B'. eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set A.\n         aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>a\\<in>set B.\n         aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set A'.\n         eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'.\n         eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs))) =\n    ((\\<forall>a\\<in>set A.\n         aEval (liftAtom (length L1) (length L2) a)\n          (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n     (\\<forall>a\\<in>set B.\n         aEval (liftAtom 0 (length L1) a)\n          (insert_into (L2 @ xs) 0 L1)) \\<and>\n     (\\<forall>f\\<in>set A'.\n         eval (liftFm (length L1) (length L2) f)\n          (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n     (\\<forall>f\\<in>set B'.\n         eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)))", "by auto"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'.\n       eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>f\\<in>set B'.\n       eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f) ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'.\n       eval (liftFm 0 (length L1) f) ((L1 @ L2) @ xs))) =\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>f\\<in>set B'.\n       eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = ( \n          ((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and> \n          ((\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs))) )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set A.\n         aEval (liftAtom (length L1) (length L2) a)\n          (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n     (\\<forall>a\\<in>set B.\n         aEval (liftAtom 0 (length L1) a)\n          (insert_into (L2 @ xs) 0 L1)) \\<and>\n     (\\<forall>f\\<in>set A'.\n         eval (liftFm (length L1) (length L2) f)\n          (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n     (\\<forall>f\\<in>set B'.\n         eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "proof safe"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval a (L1 @ xs)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval f (L1 @ xs)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 5. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 6. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 7. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 8. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix a"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval a (L1 @ xs)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval f (L1 @ xs)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 5. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 6. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 7. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 8. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \"\\<forall>a\\<in>set A. aEval (liftAtom (length L1) (length L2) a) (insert_into (L1 @ xs) (length L1) L2) \\<Longrightarrow>\n           a \\<in> set A \\<Longrightarrow> aEval a (L1 @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set A.\n                aEval (liftAtom (length L1) (length L2) a)\n                 (insert_into (L1 @ xs) (length L1) L2);\n     a \\<in> set A\\<rbrakk>\n    \\<Longrightarrow> aEval a (L1 @ xs)", "using eval_liftFm[of L2 \"length L2\" \"length L1\" \"L1 @ xs\" \"Atom a\", OF refl]"], ["proof (prove)\nusing this:\n  length L1 \\<le> length (L1 @ xs) \\<Longrightarrow>\n  eval (fm.Atom a) (L1 @ xs) =\n  eval (liftFm (length L1) (length L2) (fm.Atom a))\n   (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set A.\n                aEval (liftAtom (length L1) (length L2) a)\n                 (insert_into (L1 @ xs) (length L1) L2);\n     a \\<in> set A\\<rbrakk>\n    \\<Longrightarrow> aEval a (L1 @ xs)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>a\\<in>set A.\n              aEval (liftAtom (length L1) (length L2) a)\n               (insert_into (L1 @ xs) (length L1) L2);\n   a \\<in> set A\\<rbrakk>\n  \\<Longrightarrow> aEval a (L1 @ xs)\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval f (L1 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 7. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval f (L1 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 7. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix f"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval f (L1 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 7. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \"\\<forall>f\\<in>set A'. eval (liftFm (length L1) (length L2) f) (insert_into (L1 @ xs) (length L1) L2) \\<Longrightarrow>\n          f \\<in> set A' \\<Longrightarrow> eval f (L1 @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set A'.\n                eval (liftFm (length L1) (length L2) f)\n                 (insert_into (L1 @ xs) (length L1) L2);\n     f \\<in> set A'\\<rbrakk>\n    \\<Longrightarrow> eval f (L1 @ xs)", "using eval_liftFm[of L2 \"length L2\" \"length L1\" \"L1 @ xs\" f, OF refl]"], ["proof (prove)\nusing this:\n  length L1 \\<le> length (L1 @ xs) \\<Longrightarrow>\n  eval f (L1 @ xs) =\n  eval (liftFm (length L1) (length L2) f)\n   (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set A'.\n                eval (liftFm (length L1) (length L2) f)\n                 (insert_into (L1 @ xs) (length L1) L2);\n     f \\<in> set A'\\<rbrakk>\n    \\<Longrightarrow> eval f (L1 @ xs)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>f\\<in>set A'.\n              eval (liftFm (length L1) (length L2) f)\n               (insert_into (L1 @ xs) (length L1) L2);\n   f \\<in> set A'\\<rbrakk>\n  \\<Longrightarrow> eval f (L1 @ xs)\n\ngoal (6 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix a"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval a (L2 @ xs)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 6. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \" \\<forall>a\\<in>set B. aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1) \\<Longrightarrow>\n            a \\<in> set B \\<Longrightarrow> aEval a (L2 @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set B.\n                aEval (liftAtom 0 (length L1) a)\n                 (insert_into (L2 @ xs) 0 L1);\n     a \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> aEval a (L2 @ xs)", "using eval_liftFm[of L1 \"length L1\" \"0\" \"L2@xs\" \"Atom a\", OF refl]"], ["proof (prove)\nusing this:\n  0 \\<le> length (L2 @ xs) \\<Longrightarrow>\n  eval (fm.Atom a) (L2 @ xs) =\n  eval (liftFm 0 (length L1) (fm.Atom a)) (insert_into (L2 @ xs) 0 L1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set B.\n                aEval (liftAtom 0 (length L1) a)\n                 (insert_into (L2 @ xs) 0 L1);\n     a \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> aEval a (L2 @ xs)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>a\\<in>set B.\n              aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n   a \\<in> set B\\<rbrakk>\n  \\<Longrightarrow> aEval a (L2 @ xs)\n\ngoal (5 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix f"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   aEval (liftAtom (length L1) (length L2) a)\n                    (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>a\\<in>set B.\n           aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1);\n        \\<forall>f\\<in>set A'.\n           eval (liftFm (length L1) (length L2) f)\n            (insert_into (L1 @ xs) (length L1) L2);\n        \\<forall>f\\<in>set B'.\n           eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n        f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval f (L2 @ xs)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 5. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \" \\<forall>f\\<in>set B'. eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1) \\<Longrightarrow> f \\<in> set B' \\<Longrightarrow> eval f (L2 @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set B'.\n                eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n     f \\<in> set B'\\<rbrakk>\n    \\<Longrightarrow> eval f (L2 @ xs)", "using eval_liftFm[of L1 \"length L1\" \"0\" \"L2 @ xs\" f, OF refl]"], ["proof (prove)\nusing this:\n  0 \\<le> length (L2 @ xs) \\<Longrightarrow>\n  eval f (L2 @ xs) =\n  eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set B'.\n                eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n     f \\<in> set B'\\<rbrakk>\n    \\<Longrightarrow> eval f (L2 @ xs)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>f\\<in>set B'.\n              eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1);\n   f \\<in> set B'\\<rbrakk>\n  \\<Longrightarrow> eval f (L2 @ xs)\n\ngoal (4 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix a"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set A\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 4. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \" \\<forall>a\\<in>set A. aEval a (L1 @ xs) \\<Longrightarrow>\n         a \\<in> set A \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a) (insert_into (L1 @ xs) (length L1) L2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs); a \\<in> set A\\<rbrakk>\n    \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                       (insert_into (L1 @ xs) (length L1) L2)", "using eval_liftFm[of L2 \"length L2\" \"length L1\" \"L1 @ xs\" \"Atom a\", OF refl]"], ["proof (prove)\nusing this:\n  length L1 \\<le> length (L1 @ xs) \\<Longrightarrow>\n  eval (fm.Atom a) (L1 @ xs) =\n  eval (liftFm (length L1) (length L2) (fm.Atom a))\n   (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs); a \\<in> set A\\<rbrakk>\n    \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                       (insert_into (L1 @ xs) (length L1) L2)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs); a \\<in> set A\\<rbrakk>\n  \\<Longrightarrow> aEval (liftAtom (length L1) (length L2) a)\n                     (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix a"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); a \\<in> set B\\<rbrakk>\n       \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                          (insert_into (L2 @ xs) 0 L1)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 3. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \"\\<forall>a\\<in>set B. aEval a (L2 @ xs) \\<Longrightarrow> a \\<in> set B \\<Longrightarrow> aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set B. aEval a (L2 @ xs); a \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                       (insert_into (L2 @ xs) 0 L1)", "using eval_liftFm[of L1 \"length L1\" \"0\" \"L2@xs\" \"Atom a\", OF refl]"], ["proof (prove)\nusing this:\n  0 \\<le> length (L2 @ xs) \\<Longrightarrow>\n  eval (fm.Atom a) (L2 @ xs) =\n  eval (liftFm 0 (length L1) (fm.Atom a)) (insert_into (L2 @ xs) 0 L1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>set B. aEval a (L2 @ xs); a \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                       (insert_into (L2 @ xs) 0 L1)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>a\\<in>set B. aEval a (L2 @ xs); a \\<in> set B\\<rbrakk>\n  \\<Longrightarrow> aEval (liftAtom 0 (length L1) a)\n                     (insert_into (L2 @ xs) 0 L1)\n\ngoal (2 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix f"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set A'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                          (insert_into (L1 @ xs) (length L1) L2)\n 2. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \"\\<forall>f\\<in>set A'. eval f (L1 @ xs) \\<Longrightarrow>\n         f \\<in> set A' \\<Longrightarrow> eval (liftFm (length L1) (length L2) f) (insert_into (L1 @ xs) (length L1) L2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set A'. eval f (L1 @ xs);\n     f \\<in> set A'\\<rbrakk>\n    \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                       (insert_into (L1 @ xs) (length L1) L2)", "using eval_liftFm[of L2 \"length L2\" \"length L1\" \"L1 @ xs\" f, OF refl]"], ["proof (prove)\nusing this:\n  length L1 \\<le> length (L1 @ xs) \\<Longrightarrow>\n  eval f (L1 @ xs) =\n  eval (liftFm (length L1) (length L2) f)\n   (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set A'. eval f (L1 @ xs);\n     f \\<in> set A'\\<rbrakk>\n    \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                       (insert_into (L1 @ xs) (length L1) L2)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>f\\<in>set A'. eval f (L1 @ xs); f \\<in> set A'\\<rbrakk>\n  \\<Longrightarrow> eval (liftFm (length L1) (length L2) f)\n                     (insert_into (L1 @ xs) (length L1) L2)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>a\\<in>set A. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set A'. eval f (L1 @ xs);\n        \\<forall>a\\<in>set B. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n       \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                          (insert_into (L2 @ xs) 0 L1)", "show \"\\<forall>f\\<in>set B'. eval f (L2 @ xs) \\<Longrightarrow> f \\<in> set B' \\<Longrightarrow> eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set B'. eval f (L2 @ xs);\n     f \\<in> set B'\\<rbrakk>\n    \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                       (insert_into (L2 @ xs) 0 L1)", "using eval_liftFm[of L1 \"length L1\" \"0\" \"L2 @ xs\" f, OF refl]"], ["proof (prove)\nusing this:\n  0 \\<le> length (L2 @ xs) \\<Longrightarrow>\n  eval f (L2 @ xs) =\n  eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>f\\<in>set B'. eval f (L2 @ xs);\n     f \\<in> set B'\\<rbrakk>\n    \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                       (insert_into (L2 @ xs) 0 L1)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>f\\<in>set B'. eval f (L2 @ xs); f \\<in> set B'\\<rbrakk>\n  \\<Longrightarrow> eval (liftFm 0 (length L1) f)\n                     (insert_into (L2 @ xs) 0 L1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set A.\n       aEval (liftAtom (length L1) (length L2) a)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>a\\<in>set B.\n       aEval (liftAtom 0 (length L1) a) (insert_into (L2 @ xs) 0 L1)) \\<and>\n   (\\<forall>f\\<in>set A'.\n       eval (liftFm (length L1) (length L2) f)\n        (insert_into (L1 @ xs) (length L1) L2)) \\<and>\n   (\\<forall>f\\<in>set B'.\n       eval (liftFm 0 (length L1) f) (insert_into (L2 @ xs) 0 L1))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "finally"], ["proof (chain)\npicking this:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "have \"(\n      (\\<forall>a\\<in>set ((map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B)). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B'). eval f ((L1@L2) @ xs))) = ( \n          ((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and> \n          ((\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs))) )\""], ["proof (prove)\nusing this:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?A2, ?A'2, length ?L1.2) \\<in> set (dnf_modified \\<phi>1);\n   (?B2, ?B'2, length ?L2.2) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.2) (length ?L2.2)) ?A2 @\n map (liftAtom 0 (length ?L1.2)) ?B2).\n                         aEval a ((?L1.2 @ ?L2.2) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.2) (length ?L2.2)) ?A'2 @\n map (liftFm 0 (length ?L1.2)) ?B'2).\n                         eval f ((?L1.2 @ ?L2.2) @ xs))) =\n                    (((\\<forall>a\\<in>set ?A2. aEval a (?L1.2 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set ?A'2. eval f (?L1.2 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set ?B2. aEval a (?L2.2 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set ?B'2. eval f (?L2.2 @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>(?A2, ?A'2, length ?L1.2) \\<in> set (dnf_modified \\<phi>1);\n   (?B2, ?B'2, length ?L2.2) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.2) (length ?L2.2)) ?A2 @\n map (liftAtom 0 (length ?L1.2)) ?B2).\n                         aEval a ((?L1.2 @ ?L2.2) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.2) (length ?L2.2)) ?A'2 @\n map (liftFm 0 (length ?L1.2)) ?B'2).\n                         eval f ((?L1.2 @ ?L2.2) @ xs))) =\n                    (((\\<forall>a\\<in>set ?A2. aEval a (?L1.2 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set ?A'2. eval f (?L1.2 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set ?B2. aEval a (?L2.2 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set ?B'2. eval f (?L2.2 @ xs)))", "have h : \"(\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L1.\\<exists>L2. length L1 = d1 \\<and> length L2 = d2 \\<and> \n      (\\<forall>a\\<in>set ((map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B)). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f ((L1@L2) @ xs)))) = ((\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set(dnf_modified \\<phi>2). \n          (\\<exists>L1. length L1 = d1 \\<and> (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and> \n          (\\<exists>L2. length L2 = d2 \\<and> (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs))) ))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(?A2, ?A'2, length ?L1.2) \\<in> set (dnf_modified \\<phi>1);\n   (?B2, ?B'2, length ?L2.2) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.2) (length ?L2.2)) ?A2 @\n map (liftAtom 0 (length ?L1.2)) ?B2).\n                         aEval a ((?L1.2 @ ?L2.2) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.2) (length ?L2.2)) ?A'2 @\n map (liftFm 0 (length ?L1.2)) ?B'2).\n                         eval f ((?L1.2 @ ?L2.2) @ xs))) =\n                    (((\\<forall>a\\<in>set ?A2. aEval a (?L1.2 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set ?A'2. eval f (?L1.2 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set ?B2. aEval a (?L2.2 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set ?B'2. eval f (?L2.2 @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           (\\<exists>L1.\n               length L1 = d1 \\<and>\n               (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n               (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n           (\\<exists>L2.\n               length L2 = d2 \\<and>\n               (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n               (\\<forall>f\\<in>set B'. eval f (L2 @ xs))))", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) a @\n                            map (liftAtom 0 (length L1)) ab).\n           aEval a ((L1 @ L2) @ xs);\n        \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) aa @\n                            map (liftFm 0 (length L1)) ac).\n           eval f ((L1 @ L2) @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               (\\<exists>L1.\n                                   length L1 = d1 \\<and>\n                                   (\\<forall>a\\<in>set A.\n aEval a (L1 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set A'.\n eval f (L1 @ xs))) \\<and>\n                               (\\<exists>L2.\n                                   length L2 = d2 \\<and>\n                                   (\\<forall>a\\<in>set B.\n aEval a (L2 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set B'.\n eval f (L2 @ xs)))\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "fix A A' B B'  L1 L2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) a @\n                            map (liftAtom 0 (length L1)) ab).\n           aEval a ((L1 @ L2) @ xs);\n        \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) aa @\n                            map (liftFm 0 (length L1)) ac).\n           eval f ((L1 @ L2) @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               (\\<exists>L1.\n                                   length L1 = d1 \\<and>\n                                   (\\<forall>a\\<in>set A.\n aEval a (L1 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set A'.\n eval f (L1 @ xs))) \\<and>\n                               (\\<exists>L2.\n                                   length L2 = d2 \\<and>\n                                   (\\<forall>a\\<in>set B.\n aEval a (L2 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set B'.\n eval f (L2 @ xs)))\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "assume prev : \"(\\<And>A A' L1 B B' L2.\n           (A, A', length L1) \\<in> set (dnf_modified \\<phi>1) \\<Longrightarrow>\n           (B, B', length L2) \\<in> set (dnf_modified \\<phi>2) \\<Longrightarrow>\n           ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B').\n                eval f ((L1 @ L2) @ xs))) =\n           (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n            (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs))))\"\n      and A: \"(A,A',length L1)\\<in>set (dnf_modified \\<phi>1)\" and B: \"(B,B',length L2)\\<in>set (dnf_modified \\<phi>2)\"\n      and h1 : \"\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B).\n          aEval a ((L1 @ L2) @ xs)\"\n      and h2 : \"\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B').\n          eval f ((L1 @ L2) @ xs)\""], ["proof (state)\nthis:\n  \\<lbrakk>(?A, ?A', length ?L1.0) \\<in> set (dnf_modified \\<phi>1);\n   (?B, ?B', length ?L2.0) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.0) (length ?L2.0)) ?A @\n map (liftAtom 0 (length ?L1.0)) ?B).\n                         aEval a ((?L1.0 @ ?L2.0) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.0) (length ?L2.0)) ?A' @\n map (liftFm 0 (length ?L1.0)) ?B').\n                         eval f ((?L1.0 @ ?L2.0) @ xs))) =\n                    (((\\<forall>a\\<in>set ?A. aEval a (?L1.0 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set ?A'. eval f (?L1.0 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set ?B. aEval a (?L2.0 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set ?B'. eval f (?L2.0 @ xs)))\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n  \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                      map (liftAtom 0 (length L1)) B).\n     aEval a ((L1 @ L2) @ xs)\n  \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                      map (liftFm 0 (length L1)) B').\n     eval f ((L1 @ L2) @ xs)\n\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) a @\n                            map (liftAtom 0 (length L1)) ab).\n           aEval a ((L1 @ L2) @ xs);\n        \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) aa @\n                            map (liftFm 0 (length L1)) ac).\n           eval f ((L1 @ L2) @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               (\\<exists>L1.\n                                   length L1 = d1 \\<and>\n                                   (\\<forall>a\\<in>set A.\n aEval a (L1 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set A'.\n eval f (L1 @ xs))) \\<and>\n                               (\\<exists>L2.\n                                   length L2 = d2 \\<and>\n                                   (\\<forall>a\\<in>set B.\n aEval a (L2 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set B'.\n eval f (L2 @ xs)))\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "have h : \"((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "using prev[where A=\"A\", where A'=\"A'\", where B=\"B\", where B'=\"B'\"] A B"], ["proof (prove)\nusing this:\n  \\<lbrakk>(A, A', length ?L1.0) \\<in> set (dnf_modified \\<phi>1);\n   (B, B', length ?L2.0) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.0) (length ?L2.0)) A @\n map (liftAtom 0 (length ?L1.0)) B).\n                         aEval a ((?L1.0 @ ?L2.0) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.0) (length ?L2.0)) A' @\n map (liftFm 0 (length ?L1.0)) B').\n                         eval f ((?L1.0 @ ?L2.0) @ xs))) =\n                    (((\\<forall>a\\<in>set A. aEval a (?L1.0 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set A'. eval f (?L1.0 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set B. aEval a (?L2.0 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set B'. eval f (?L2.0 @ xs)))\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) a @\n                            map (liftAtom 0 (length L1)) ab).\n           aEval a ((L1 @ L2) @ xs);\n        \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) aa @\n                            map (liftFm 0 (length L1)) ac).\n           eval f ((L1 @ L2) @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               (\\<exists>L1.\n                                   length L1 = d1 \\<and>\n                                   (\\<forall>a\\<in>set A.\n aEval a (L1 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set A'.\n eval f (L1 @ xs))) \\<and>\n                               (\\<exists>L2.\n                                   length L2 = d2 \\<and>\n                                   (\\<forall>a\\<in>set B.\n aEval a (L2 @ xs)) \\<and>\n                                   (\\<forall>f\\<in>set B'.\n eval f (L2 @ xs)))\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "show \"\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n          \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n             (\\<exists>L1. length L1 = d1 \\<and> (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n             (\\<exists>L2. length L2 = d2 \\<and> (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n       \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n          (\\<exists>L1.\n              length L1 = d1 \\<and>\n              (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n              (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n          (\\<exists>L2.\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n              (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "apply (rule bexI[where x=\"(A, A', length L1)\", OF _ A])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (A, A', length L1) of\n    (A, A', d1) \\<Rightarrow>\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L1.\n             length L1 = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n         (\\<exists>L2.\n             length L2 = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<forall>a\\<in>set A. aEval a (L1a @ xs)) \\<and>\n       (\\<forall>f\\<in>set A'. eval f (L1a @ xs))\n 2. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L2.\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n            (\\<forall>f\\<in>set B'. eval f (L2 @ xs))", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L2.\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n            (\\<forall>f\\<in>set B'. eval f (L2 @ xs))\n 2. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<forall>a\\<in>set A. aEval a (L1a @ xs)) \\<and>\n       (\\<forall>f\\<in>set A'. eval f (L1a @ xs))", "apply (rule bexI[where x=\"(B, B', length L2)\", OF _ B])"], ["proof (prove)\ngoal (2 subgoals):\n 1. case (B, B', length L2) of\n    (B, B', d2) \\<Rightarrow>\n      \\<exists>L2.\n         length L2 = d2 \\<and>\n         (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n         (\\<forall>f\\<in>set B'. eval f (L2 @ xs))\n 2. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<forall>a\\<in>set A. aEval a (L1a @ xs)) \\<and>\n       (\\<forall>f\\<in>set A'. eval f (L1a @ xs))", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>L2a.\n       length L2a = length L2 \\<and>\n       (\\<forall>a\\<in>set B. aEval a (L2a @ xs)) \\<and>\n       (\\<forall>f\\<in>set B'. eval f (L2a @ xs))\n 2. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<forall>a\\<in>set A. aEval a (L1a @ xs)) \\<and>\n       (\\<forall>f\\<in>set A'. eval f (L1a @ xs))", "using h h1 h2"], ["proof (prove)\nusing this:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n  \\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                      map (liftAtom 0 (length L1)) B).\n     aEval a ((L1 @ L2) @ xs)\n  \\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                      map (liftFm 0 (length L1)) B').\n     eval f ((L1 @ L2) @ xs)\n\ngoal (2 subgoals):\n 1. \\<exists>L2a.\n       length L2a = length L2 \\<and>\n       (\\<forall>a\\<in>set B. aEval a (L2a @ xs)) \\<and>\n       (\\<forall>f\\<in>set B'. eval f (L2a @ xs))\n 2. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<forall>a\\<in>set A. aEval a (L1a @ xs)) \\<and>\n       (\\<forall>f\\<in>set A'. eval f (L1a @ xs))", "by auto"], ["proof (state)\nthis:\n  \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n     \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n        (\\<exists>L1.\n            length L1 = d1 \\<and>\n            (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n            (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n        (\\<exists>L2.\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n            (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "fix A A' d1 B B' d2 L1 L2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "assume prev : \"(\\<And>A A' L1 B B' L2.\n           (A, A', length L1) \\<in> set (dnf_modified \\<phi>1) \\<Longrightarrow>\n           (B, B', length L2) \\<in> set (dnf_modified \\<phi>2) \\<Longrightarrow>\n           ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B').\n                eval f ((L1 @ L2) @ xs))) =\n           (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n            (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs))))\"\n      and A: \"(A,A',length L1)\\<in>set (dnf_modified \\<phi>1)\" and B: \"(B,B',length L2)\\<in>set (dnf_modified \\<phi>2)\"\n      and h1 : \"\\<forall>a\\<in>set A. aEval a (L1 @ xs)\" \"\\<forall>f\\<in>set A'. eval f (L1 @ xs)\"\n      \"\\<forall>a\\<in>set B. aEval a (L2 @ xs)\" \"\\<forall>f\\<in>set B'. eval f (L2 @ xs)\""], ["proof (state)\nthis:\n  \\<lbrakk>(?A, ?A', length ?L1.0) \\<in> set (dnf_modified \\<phi>1);\n   (?B, ?B', length ?L2.0) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.0) (length ?L2.0)) ?A @\n map (liftAtom 0 (length ?L1.0)) ?B).\n                         aEval a ((?L1.0 @ ?L2.0) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.0) (length ?L2.0)) ?A' @\n map (liftFm 0 (length ?L1.0)) ?B').\n                         eval f ((?L1.0 @ ?L2.0) @ xs))) =\n                    (((\\<forall>a\\<in>set ?A. aEval a (?L1.0 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set ?A'. eval f (?L1.0 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set ?B. aEval a (?L2.0 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set ?B'. eval f (?L2.0 @ xs)))\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n  \\<forall>a\\<in>set A. aEval a (L1 @ xs)\n  \\<forall>f\\<in>set A'. eval f (L1 @ xs)\n  \\<forall>a\\<in>set B. aEval a (L2 @ xs)\n  \\<forall>f\\<in>set B'. eval f (L2 @ xs)\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "have h : \"((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @ map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @ map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "using prev[where A=\"A\", where A'=\"A'\", where B=\"B\", where B'=\"B'\"] h1 A B"], ["proof (prove)\nusing this:\n  \\<lbrakk>(A, A', length ?L1.0) \\<in> set (dnf_modified \\<phi>1);\n   (B, B', length ?L2.0) \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n  \\<Longrightarrow> ((\\<forall>a\\<in>set\n(map (liftAtom (length ?L1.0) (length ?L2.0)) A @\n map (liftAtom 0 (length ?L1.0)) B).\n                         aEval a ((?L1.0 @ ?L2.0) @ xs)) \\<and>\n                     (\\<forall>f\\<in>set\n(map (liftFm (length ?L1.0) (length ?L2.0)) A' @\n map (liftFm 0 (length ?L1.0)) B').\n                         eval f ((?L1.0 @ ?L2.0) @ xs))) =\n                    (((\\<forall>a\\<in>set A. aEval a (?L1.0 @ xs)) \\<and>\n                      (\\<forall>f\\<in>set A'. eval f (?L1.0 @ xs))) \\<and>\n                     (\\<forall>a\\<in>set B. aEval a (?L2.0 @ xs)) \\<and>\n                     (\\<forall>f\\<in>set B'. eval f (?L2.0 @ xs)))\n  \\<forall>a\\<in>set A. aEval a (L1 @ xs)\n  \\<forall>f\\<in>set A'. eval f (L1 @ xs)\n  \\<forall>a\\<in>set B. aEval a (L2 @ xs)\n  \\<forall>f\\<in>set B'. eval f (L2 @ xs)\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n\ngoal (1 subgoal):\n 1. ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                          map (liftAtom 0 (length L1)) B).\n         aEval a ((L1 @ L2) @ xs)) \\<and>\n     (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                          map (liftFm 0 (length L1)) B').\n         eval f ((L1 @ L2) @ xs))) =\n    (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n      (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n     (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n     (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>\\<And>A A' L1 B B' L2.\n                   \\<lbrakk>(A, A', length L1)\n                            \\<in> set (dnf_modified \\<phi>1);\n                    (B, B', length L2)\n                    \\<in> set (dnf_modified \\<phi>2)\\<rbrakk>\n                   \\<Longrightarrow> ((\\<forall>a\n          \\<in>set (map (liftAtom (length L1) (length L2)) A @\n                    map (liftAtom 0 (length L1)) B).\n    aEval a ((L1 @ L2) @ xs)) \\<and>\n(\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                     map (liftFm 0 (length L1)) B').\n    eval f ((L1 @ L2) @ xs))) =\n                                     (((\\<forall>a\\<in>set A.\n     aEval a (L1 @ xs)) \\<and>\n (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n(\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n(\\<forall>f\\<in>set B'. eval f (L2 @ xs)));\n        (a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        \\<forall>a\\<in>set a. aEval a (L1 @ xs);\n        \\<forall>f\\<in>set aa. eval f (L1 @ xs);\n        \\<forall>a\\<in>set ab. aEval a (L2 @ xs);\n        \\<forall>f\\<in>set ac. eval f (L2 @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  (\\<forall>a\n      \\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B).\naEval a ((L1 @ L2) @ xs)) \\<and>\n                                  (\\<forall>f\n      \\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B').\neval f ((L1 @ L2) @ xs))", "show \"\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n          \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n             \\<exists>L1 L2.\n                length L1 = d1 \\<and>\n                length L2 = d2 \\<and>\n                (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B). aEval a ((L1 @ L2) @ xs)) \\<and>\n                (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f ((L1 @ L2) @ xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n       \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n          \\<exists>L1 L2.\n             length L1 = d1 \\<and>\n             length L2 = d2 \\<and>\n             (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                  map (liftAtom 0 d1) B).\n                 aEval a ((L1 @ L2) @ xs)) \\<and>\n             (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                  map (liftFm 0 d1) B').\n                 eval f ((L1 @ L2) @ xs))", "apply (rule bexI[where x=\"(A, A', length L1)\", OF _ A])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (A, A', length L1) of\n    (A, A', d1) \\<Rightarrow>\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L1a.\n            length L1a = length L1 \\<and>\n            (\\<exists>L2.\n                length L2 = d2 \\<and>\n                (\\<forall>a\\<in>liftAtom (length L1) d2 ` set A \\<union>\n                                liftAtom 0 (length L1) ` set B.\n                    aEval a (L1a @ L2 @ xs)) \\<and>\n                (\\<forall>f\\<in>(\\<lambda>x.\n                                    map_fm_binders\n                                     (\\<lambda>a x.\n   liftAtom (length L1 + x) d2 a)\n                                     x 0) `\n                                set A' \\<union>\n                                (\\<lambda>x.\n                                    map_fm_binders\n                                     (\\<lambda>a x.\n   liftAtom x (length L1) a)\n                                     x 0) `\n                                set B'.\n                    eval f (L1a @ L2 @ xs)))", "defer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L1a.\n            length L1a = length L1 \\<and>\n            (\\<exists>L2.\n                length L2 = d2 \\<and>\n                (\\<forall>a\\<in>liftAtom (length L1) d2 ` set A \\<union>\n                                liftAtom 0 (length L1) ` set B.\n                    aEval a (L1a @ L2 @ xs)) \\<and>\n                (\\<forall>f\\<in>(\\<lambda>x.\n                                    map_fm_binders\n                                     (\\<lambda>a x.\n   liftAtom (length L1 + x) d2 a)\n                                     x 0) `\n                                set A' \\<union>\n                                (\\<lambda>x.\n                                    map_fm_binders\n                                     (\\<lambda>a x.\n   liftAtom x (length L1) a)\n                                     x 0) `\n                                set B'.\n                    eval f (L1a @ L2 @ xs)))", "apply (rule bexI[where x=\"(B, B', length L2)\", OF _ B])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (B, B', length L2) of\n    (B, B', d2) \\<Rightarrow>\n      \\<exists>L1a.\n         length L1a = length L1 \\<and>\n         (\\<exists>L2.\n             length L2 = d2 \\<and>\n             (\\<forall>a\\<in>liftAtom (length L1) d2 ` set A \\<union>\n                             liftAtom 0 (length L1) ` set B.\n                 aEval a (L1a @ L2 @ xs)) \\<and>\n             (\\<forall>f\\<in>(\\<lambda>x.\n                                 map_fm_binders\n                                  (\\<lambda>a x.\nliftAtom (length L1 + x) d2 a)\n                                  x 0) `\n                             set A' \\<union>\n                             (\\<lambda>x.\n                                 map_fm_binders\n                                  (\\<lambda>a x. liftAtom x (length L1) a) x\n                                  0) `\n                             set B'.\n                 eval f (L1a @ L2 @ xs)))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>L1a.\n       length L1a = length L1 \\<and>\n       (\\<exists>L2a.\n           length L2a = length L2 \\<and>\n           (\\<forall>a\\<in>liftAtom (length L1) (length L2) ` set A \\<union>\n                           liftAtom 0 (length L1) ` set B.\n               aEval a (L1a @ L2a @ xs)) \\<and>\n           (\\<forall>f\\<in>(\\<lambda>x.\n                               map_fm_binders\n                                (\\<lambda>a x.\n                                    liftAtom (length L1 + x) (length L2) a)\n                                x 0) `\n                           set A' \\<union>\n                           (\\<lambda>x.\n                               map_fm_binders\n                                (\\<lambda>a x. liftAtom x (length L1) a) x\n                                0) `\n                           set B'.\n               eval f (L1a @ L2a @ xs)))", "apply (rule exI[where x=\"L1\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. length L1 = length L1 \\<and>\n    (\\<exists>L2a.\n        length L2a = length L2 \\<and>\n        (\\<forall>a\\<in>liftAtom (length L1) (length L2) ` set A \\<union>\n                        liftAtom 0 (length L1) ` set B.\n            aEval a (L1 @ L2a @ xs)) \\<and>\n        (\\<forall>f\\<in>(\\<lambda>x.\n                            map_fm_binders\n                             (\\<lambda>a x.\n                                 liftAtom (length L1 + x) (length L2) a)\n                             x 0) `\n                        set A' \\<union>\n                        (\\<lambda>x.\n                            map_fm_binders\n                             (\\<lambda>a x. liftAtom x (length L1) a) x 0) `\n                        set B'.\n            eval f (L1 @ L2a @ xs)))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>L2a.\n       length L2a = length L2 \\<and>\n       (\\<forall>a\\<in>liftAtom (length L1) (length L2) ` set A \\<union>\n                       liftAtom 0 (length L1) ` set B.\n           aEval a (L1 @ L2a @ xs)) \\<and>\n       (\\<forall>f\\<in>(\\<lambda>x.\n                           map_fm_binders\n                            (\\<lambda>a x.\n                                liftAtom (length L1 + x) (length L2) a)\n                            x 0) `\n                       set A' \\<union>\n                       (\\<lambda>x.\n                           map_fm_binders\n                            (\\<lambda>a x. liftAtom x (length L1) a) x 0) `\n                       set B'.\n           eval f (L1 @ L2a @ xs))", "apply (rule exI[where x=\"L2\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. length L2 = length L2 \\<and>\n    (\\<forall>a\\<in>liftAtom (length L1) (length L2) ` set A \\<union>\n                    liftAtom 0 (length L1) ` set B.\n        aEval a (L1 @ L2 @ xs)) \\<and>\n    (\\<forall>f\\<in>(\\<lambda>x.\n                        map_fm_binders\n                         (\\<lambda>a x.\n                             liftAtom (length L1 + x) (length L2) a)\n                         x 0) `\n                    set A' \\<union>\n                    (\\<lambda>x.\n                        map_fm_binders\n                         (\\<lambda>a x. liftAtom x (length L1) a) x 0) `\n                    set B'.\n        eval f (L1 @ L2 @ xs))", "apply auto"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       x \\<in> set A \\<Longrightarrow>\n       aEval (liftAtom (length L1) (length L2) x) (L1 @ L2 @ xs)\n 2. \\<And>x.\n       x \\<in> set B \\<Longrightarrow>\n       aEval (liftAtom 0 (length L1) x) (L1 @ L2 @ xs)\n 3. \\<And>x.\n       x \\<in> set A' \\<Longrightarrow>\n       eval\n        (map_fm_binders\n          (\\<lambda>a x. liftAtom (length L1 + x) (length L2) a) x 0)\n        (L1 @ L2 @ xs)\n 4. \\<And>x.\n       x \\<in> set B' \\<Longrightarrow>\n       eval (map_fm_binders (\\<lambda>a x. liftAtom x (length L1) a) x 0)\n        (L1 @ L2 @ xs)", "using h h1"], ["proof (prove)\nusing this:\n  ((\\<forall>a\\<in>set (map (liftAtom (length L1) (length L2)) A @\n                        map (liftAtom 0 (length L1)) B).\n       aEval a ((L1 @ L2) @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm (length L1) (length L2)) A' @\n                        map (liftFm 0 (length L1)) B').\n       eval f ((L1 @ L2) @ xs))) =\n  (((\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n    (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n   (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n   (\\<forall>f\\<in>set B'. eval f (L2 @ xs)))\n  \\<forall>a\\<in>set A. aEval a (L1 @ xs)\n  \\<forall>f\\<in>set A'. eval f (L1 @ xs)\n  \\<forall>a\\<in>set B. aEval a (L2 @ xs)\n  \\<forall>f\\<in>set B'. eval f (L2 @ xs)\n\ngoal (4 subgoals):\n 1. \\<And>x.\n       x \\<in> set A \\<Longrightarrow>\n       aEval (liftAtom (length L1) (length L2) x) (L1 @ L2 @ xs)\n 2. \\<And>x.\n       x \\<in> set B \\<Longrightarrow>\n       aEval (liftAtom 0 (length L1) x) (L1 @ L2 @ xs)\n 3. \\<And>x.\n       x \\<in> set A' \\<Longrightarrow>\n       eval\n        (map_fm_binders\n          (\\<lambda>a x. liftAtom (length L1 + x) (length L2) a) x 0)\n        (L1 @ L2 @ xs)\n 4. \\<And>x.\n       x \\<in> set B' \\<Longrightarrow>\n       eval (map_fm_binders (\\<lambda>a x. liftAtom x (length L1) a) x 0)\n        (L1 @ L2 @ xs)", "by auto"], ["proof (state)\nthis:\n  \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n     \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n        \\<exists>L1 L2.\n           length L1 = d1 \\<and>\n           length L2 = d2 \\<and>\n           (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                map (liftAtom 0 d1) B).\n               aEval a ((L1 @ L2) @ xs)) \\<and>\n           (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                map (liftFm 0 d1) B').\n               eval f ((L1 @ L2) @ xs))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L1.\n             length L1 = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n         (\\<exists>L2.\n             length L2 = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L2 @ xs))))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "define f where \"f (x:: (atom list * atom fm list * nat)) = (case x of (al,fl,n) \\<Rightarrow> (\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))))\" for x"], ["proof (state)\nthis:\n  f ?x =\n  (case ?x of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "define g where \"((g (uuaa::atom list) (uua::atom fm list) (uu::nat) x):: (atom list * atom fm list * nat)) = (\n case x of\n                       (B, B', d2) \\<Rightarrow>\n                         (map (liftAtom uu d2) uuaa @ map (liftAtom 0 uu) B,\n                          map (\\<lambda>x. map_fm_binders (\\<lambda>a x. liftAtom (uu + x) d2 a) x 0) uua @\n                          map (\\<lambda>x. map_fm_binders (\\<lambda>a x. liftAtom (0 + x) uu a) x 0) B',\n                          uu + d2))\" for uuaa uua uu x"], ["proof (state)\nthis:\n  g ?uuaa ?uua ?uu ?x =\n  (case ?x of\n   (B, B', d2) \\<Rightarrow>\n     (map (liftAtom ?uu d2) ?uuaa @ map (liftAtom 0 ?uu) B,\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (?uu + x) d2 a) x 0)\n       ?uua @\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (0 + x) ?uu a) x 0)\n       B',\n      ?uu + d2))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "define f' where \"f' L A A' d1 B B' d2 = ((\\<forall>a\\<in>set ((map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B)). aEval a (L @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f (L @ xs)))\" for L A A' d1 B B' d2"], ["proof (state)\nthis:\n  f' ?L ?A ?A' ?d1.0 ?B ?B' ?d2.0 =\n  ((\\<forall>a\\<in>set (map (liftAtom ?d1.0 ?d2.0) ?A @\n                        map (liftAtom 0 ?d1.0) ?B).\n       aEval a (?L @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm ?d1.0 ?d2.0) ?A' @\n                        map (liftFm 0 ?d1.0) ?B').\n       eval f (?L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"(\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n               \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n        = (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n        case y of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a aa b.\n           (\\<exists>uu uua uuaa.\n               (uuaa, uua, uu) = y \\<and>\n               (a, aa, b)\n               \\<in> (g uuaa uua uu) `\n                  set (dnf_modified \\<phi>2)) \\<and>\n           f (a, aa, b))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y) =\n    (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a aa b.\n           (\\<exists>uu uua uuaa.\n               (uuaa, uua, uu) = y \\<and>\n               (a, aa, b)\n               \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n           f (a, aa, b))", "using g_def"], ["proof (prove)\nusing this:\n  g ?uuaa ?uua ?uu ?x =\n  (case ?x of\n   (B, B', d2) \\<Rightarrow>\n     (map (liftAtom ?uu d2) ?uuaa @ map (liftAtom 0 ?uu) B,\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (?uu + x) d2 a) x 0)\n       ?uua @\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (0 + x) ?uu a) x 0)\n       B',\n      ?uu + d2))\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y) =\n    (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a aa b.\n           (\\<exists>uu uua uuaa.\n               (uuaa, uua, uu) = y \\<and>\n               (a, aa, b)\n               \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n           f (a, aa, b))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y) =\n  (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a aa b.\n         (\\<exists>uu uua uuaa.\n             (uuaa, uua, uu) = y \\<and>\n             (a, aa, b)\n             \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n         f (a, aa, b))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)). f y) =\n  (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a aa b.\n         (\\<exists>uu uua uuaa.\n             (uuaa, uua, uu) = y \\<and>\n             (a, aa, b)\n             \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n         f (a, aa, b))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (g A A' d1 x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a aa b.\n           (\\<exists>uu uua uuaa.\n               (uuaa, uua, uu) = y \\<and>\n               (a, aa, b)\n               \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n           f (a, aa, b)) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x))", "by (smt case_prodE f_def imageE image_eqI prod.simps(2))"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a aa b.\n         (\\<exists>uu uua uuaa.\n             (uuaa, uua, uu) = y \\<and>\n             (a, aa, b)\n             \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n         f (a, aa, b)) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a aa b.\n         (\\<exists>uu uua uuaa.\n             (uuaa, uua, uu) = y \\<and>\n             (a, aa, b)\n             \\<in> g uuaa uua uu ` set (dnf_modified \\<phi>2)) \\<and>\n         f (a, aa, b)) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (case x of (B,B',d2) \\<Rightarrow> (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                          map (\\<lambda>x. liftFm d1 d2 x) A' @\n                          map (\\<lambda>x. liftFm 0 d1 x) B',\n                          d1 + d2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x)) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2)))", "using g_def"], ["proof (prove)\nusing this:\n  g ?uuaa ?uua ?uu ?x =\n  (case ?x of\n   (B, B', d2) \\<Rightarrow>\n     (map (liftAtom ?uu d2) ?uuaa @ map (liftAtom 0 ?uu) B,\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (?uu + x) d2 a) x 0)\n       ?uua @\n      map (\\<lambda>x.\n              map_fm_binders (\\<lambda>a x. liftAtom (0 + x) ?uu a) x 0)\n       B',\n      ?uu + d2))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x)) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x)) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         f (case x of\n            (B, B', d2) \\<Rightarrow>\n              (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2). f (g A A' d1 x)) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         f (case x of\n            (B, B', d2) \\<Rightarrow>\n              (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n      (case (case x of (B,B',d2) \\<Rightarrow> (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                          map (\\<lambda>x. liftFm d1 d2 x) A' @ map (\\<lambda>x. liftFm 0 d1 x) B',\n                          d1 + d2)) of (al,fl,n) \\<Rightarrow> (\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))))\n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           case case x of\n                (B, B', d2) \\<Rightarrow>\n                  (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                   map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "using f_def"], ["proof (prove)\nusing this:\n  f ?x =\n  (case ?x of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           f (case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           case case x of\n                (B, B', d2) \\<Rightarrow>\n                  (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                   map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         f (case x of\n            (B, B', d2) \\<Rightarrow>\n              (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         case case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         f (case x of\n            (B, B', d2) \\<Rightarrow>\n              (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         case case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (case ((map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                          map (\\<lambda>x. liftFm d1 d2 x) A' @ map (\\<lambda>x. liftFm 0 d1 x) B',\n                          d1 + d2)) of (al,fl,n) \\<Rightarrow> (\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))))\n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n           case case x of\n                (B, B', d2) \\<Rightarrow>\n                  (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                   map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by(smt case_prodE case_prodE2 old.prod.case)"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         case case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n         case case x of\n              (B, B', d2) \\<Rightarrow>\n                (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L. length L = d1 + d2 \\<and> \n      (\\<forall>a\\<in>set ((map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B)). aEval a (L @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f (L @ xs))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n                 map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L.\n              length L = d1 + d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f (L @ xs)))", "by(smt case_prodE case_prodE2 old.prod.case)"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L.\n            length L = d1 + d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a (L @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         case (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B,\n               map (liftFm d1 d2) A' @ map (liftFm 0 d1) B', d1 + d2) of\n         (al, fl, n) \\<Rightarrow>\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L.\n            length L = d1 + d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a (L @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f (L @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L. length L = d1 + d2 \\<and> (f' L A A' d1 B B' d2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L.\n              length L = d1 + d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f (L @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2)", "using f'_def"], ["proof (prove)\nusing this:\n  f' ?L ?A ?A' ?d1.0 ?B ?B' ?d2.0 =\n  ((\\<forall>a\\<in>set (map (liftAtom ?d1.0 ?d2.0) ?A @\n                        map (liftAtom 0 ?d1.0) ?B).\n       aEval a (?L @ xs)) \\<and>\n   (\\<forall>f\\<in>set (map (liftFm ?d1.0 ?d2.0) ?A' @\n                        map (liftFm 0 ?d1.0) ?B').\n       eval f (?L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L.\n              length L = d1 + d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f (L @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2)", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L.\n            length L = d1 + d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a (L @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L.\n            length L = d1 + d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a (L @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f (L @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L1.\\<exists>L2. length L1 = d1 \\<and> length L2 = d2 \\<and> (f' (L1@L2) A A' d1 B B' d2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, ba) \\<in> set (dnf_modified \\<phi>2); length L = b + ba;\n        f' L a aa b ab ac ba\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  f' (L1 @ L2) A A' d1 B B' d2\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "fix A A' d1 B B' d2 L"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, ba) \\<in> set (dnf_modified \\<phi>2); length L = b + ba;\n        f' L a aa b ab ac ba\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  f' (L1 @ L2) A A' d1 B B' d2\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "assume A: \"(A,A',d1)\\<in>set (dnf_modified \\<phi>1)\" and B: \"(B,B',d2)\\<in>set (dnf_modified \\<phi>2)\"\n      and L: \"length L = d1 + d2\" \"(f' L A A' d1 B B' d2)\""], ["proof (state)\nthis:\n  (A, A', d1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', d2) \\<in> set (dnf_modified \\<phi>2)\n  length L = d1 + d2\n  f' L A A' d1 B B' d2\n\ngoal (2 subgoals):\n 1. \\<And>a aa b ab ac ba L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, ba) \\<in> set (dnf_modified \\<phi>2); length L = b + ba;\n        f' L a aa b ab ac ba\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L1 L2.\n                                  length L1 = d1 \\<and>\n                                  length L2 = d2 \\<and>\n                                  f' (L1 @ L2) A A' d1 B B' d2\n 2. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "show \"\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n          \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2). \\<exists>L1 L2. length L1 = d1 \\<and> length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n       \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n          \\<exists>L1 L2.\n             length L1 = d1 \\<and>\n             length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2", "apply (rule bexI[where x=\"(A, A', d1)\", OF _ A])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (A, A', d1) of\n    (A, A', d1) \\<Rightarrow>\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L1.\n            length L1 = d1 \\<and>\n            (\\<exists>L2.\n                length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)", "apply (rule bexI[where x=\"(B, B', d2)\", OF _ B])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (B, B', d2) of\n    (B, B', d2) \\<Rightarrow>\n      \\<exists>L1.\n         length L1 = d1 \\<and>\n         (\\<exists>L2. length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>L1.\n       length L1 = d1 \\<and>\n       (\\<exists>L2. length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)", "apply (rule exI[where x=\"take d1 L\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. length (take d1 L) = d1 \\<and>\n    (\\<exists>L2. length L2 = d2 \\<and> f' (take d1 L @ L2) A A' d1 B B' d2)", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. min (length L) d1 = d1\n 2. \\<exists>L2. length L2 = d2 \\<and> f' (take d1 L @ L2) A A' d1 B B' d2", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>L2. length L2 = d2 \\<and> f' (take d1 L @ L2) A A' d1 B B' d2\n 2. min (length L) d1 = d1", "apply (rule exI[where x=\"drop d1 L\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. length (drop d1 L) = d2 \\<and>\n    f' (take d1 L @ drop d1 L) A A' d1 B B' d2\n 2. min (length L) d1 = d1", "using L"], ["proof (prove)\nusing this:\n  length L = d1 + d2\n  f' L A A' d1 B B' d2\n\ngoal (2 subgoals):\n 1. length (drop d1 L) = d2 \\<and>\n    f' (take d1 L @ drop d1 L) A A' d1 B B' d2\n 2. min (length L) d1 = d1", "by auto"], ["proof (state)\nthis:\n  \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n     \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n        \\<exists>L1 L2.\n           length L1 = d1 \\<and>\n           length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "fix A A' d1 B B' d2 L1 L2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "assume A: \"(A,A', length L1)\\<in>set (dnf_modified \\<phi>1)\" and B: \"(B,B',length L2)\\<in>set (dnf_modified \\<phi>2)\"\n      and L: \"(f' (L1 @ L2) A A' (length L1) B B' (length L2))\""], ["proof (state)\nthis:\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n  f' (L1 @ L2) A A' (length L1) B B' (length L2)\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "thm exI"], ["proof (state)\nthis:\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n  f' (L1 @ L2) A A' (length L1) B B' (length L2)\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "thm bexI"], ["proof (state)\nthis:\n  (A, A', length L1) \\<in> set (dnf_modified \\<phi>1)\n  (B, B', length L2) \\<in> set (dnf_modified \\<phi>2)\n  f' (L1 @ L2) A A' (length L1) B B' (length L2)\n\ngoal (1 subgoal):\n 1. \\<And>a aa b ab ac ba L1 L2.\n       \\<lbrakk>(a, aa, length L1) \\<in> set (dnf_modified \\<phi>1);\n        (ab, ac, length L2) \\<in> set (dnf_modified \\<phi>2);\n        f' (L1 @ L2) a aa (length L1) ab ac (length L2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>(A, A', d1)\n                                  \\<in>set (dnf_modified \\<phi>1).\n                            \\<exists>(B, B', d2)\n                                     \\<in>set (dnf_modified \\<phi>2).\n                               \\<exists>L.\n                                  length L = d1 + d2 \\<and>\n                                  f' L A A' d1 B B' d2", "show \"\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2). \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n       \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n          \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2", "apply (rule bexI[where x=\"(A, A', length L1)\", OF _ A])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (A, A', length L1) of\n    (A, A', d1) \\<Rightarrow>\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>2).\n       case x of\n       (B, B', d2) \\<Rightarrow>\n         \\<exists>L.\n            length L = length L1 + d2 \\<and> f' L A A' (length L1) B B' d2", "apply (rule bexI[where x=\"(B, B', length L2)\", OF _ B])"], ["proof (prove)\ngoal (1 subgoal):\n 1. case (B, B', length L2) of\n    (B, B', d2) \\<Rightarrow>\n      \\<exists>L.\n         length L = length L1 + d2 \\<and> f' L A A' (length L1) B B' d2", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>L.\n       length L = length L1 + length L2 \\<and>\n       f' L A A' (length L1) B B' (length L2)", "apply (rule exI[where x=\"L1 @ L2\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. length (L1 @ L2) = length L1 + length L2 \\<and>\n    f' (L1 @ L2) A A' (length L1) B B' (length L2)", "using L"], ["proof (prove)\nusing this:\n  f' (L1 @ L2) A A' (length L1) B B' (length L2)\n\ngoal (1 subgoal):\n 1. length (L1 @ L2) = length L1 + length L2 \\<and>\n    f' (L1 @ L2) A A' (length L1) B B' (length L2)", "by auto"], ["proof (state)\nthis:\n  \\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n     \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n        \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L. length L = d1 + d2 \\<and> f' L A A' d1 B B' d2) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L1.\\<exists>L2. length L1 = d1 \\<and> length L2 = d2 \\<and> \n      (\\<forall>a\\<in>set ((map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B)). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f ((L1@L2) @ xs))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs)))", "unfolding f'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "(*also have \"... = (\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set (dnf_modified \\<phi>2).\n      (\\<exists>L1.\\<exists>L2. length L1 = d1 \\<and> length L2 = d2 \\<and> \n      (\\<forall>a\\<in>set (map (liftAtom d1 d2) A) \\<union> set ( map (liftAtom 0 d1) B). aEval a ((L1@L2) @ xs)) \n    \\<and> (\\<forall>f\\<in>set ( map (liftFm d1 d2) A' @ map (liftFm 0 d1) B'). eval f ((L1@L2) @ xs))))\"\n    proof -\n      have *: \"(\\<forall>a\\<in>set (map (liftAtom d1 d2) A @ map (liftAtom 0 d1) B). aEval a ((L1 @ L2) @ xs))\n        = (\\<forall>a\\<in>set (map (liftAtom d1 d2) A) \\<union> set ( map (liftAtom 0 d1) B). aEval a ((L1@L2) @ xs))\"\n        for d1 d2 A B L1 L2 by auto\n      then show ?thesis apply (subst * ) ..\n    qed (*\n      apply (rule bex_cong[OF refl])\n      unfolding split_beta\n      apply (rule bex_cong[OF refl])\n      apply (rule ex_cong1)+\n      apply (rule conj_cong refl)+\n      by auto *)\n    *)"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and> f' (L1 @ L2) A A' d1 B B' d2) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs)))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = ((\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set(dnf_modified \\<phi>2). \n          (\\<exists>L. length L = d1 \\<and> (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and> \n          (\\<exists>L. length L = d2 \\<and> (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set B'. eval f (L @ xs))) ))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           (\\<exists>L.\n               length L = d1 \\<and>\n               (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n           (\\<exists>L.\n               length L = d2 \\<and>\n               (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set B'. eval f (L @ xs))))", "using h"], ["proof (prove)\nusing this:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L1.\n             length L1 = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L1 @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L1 @ xs))) \\<and>\n         (\\<exists>L2.\n             length L2 = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L2 @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L2 @ xs))))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           \\<exists>L1 L2.\n              length L1 = d1 \\<and>\n              length L2 = d2 \\<and>\n              (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                   map (liftAtom 0 d1) B).\n                  aEval a ((L1 @ L2) @ xs)) \\<and>\n              (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                   map (liftFm 0 d1) B').\n                  eval f ((L1 @ L2) @ xs))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           (\\<exists>L.\n               length L = d1 \\<and>\n               (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n           (\\<exists>L.\n               length L = d2 \\<and>\n               (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set B'. eval f (L @ xs))))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L.\n             length L = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n         (\\<exists>L.\n             length L = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L @ xs))))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         \\<exists>L1 L2.\n            length L1 = d1 \\<and>\n            length L2 = d2 \\<and>\n            (\\<forall>a\\<in>set (map (liftAtom d1 d2) A @\n                                 map (liftAtom 0 d1) B).\n                aEval a ((L1 @ L2) @ xs)) \\<and>\n            (\\<forall>f\\<in>set (map (liftFm d1 d2) A' @\n                                 map (liftFm 0 d1) B').\n                eval f ((L1 @ L2) @ xs))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L.\n             length L = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n         (\\<exists>L.\n             length L = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L @ xs))))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = ((\\<exists>(A,A',d1)\\<in>set (dnf_modified \\<phi>1). \\<exists>(B,B',d2)\\<in>set(dnf_modified \\<phi>2). \n          f (A,A',d1) \\<and> \n          f (B,B',d2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           (\\<exists>L.\n               length L = d1 \\<and>\n               (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n           (\\<exists>L.\n               length L = d2 \\<and>\n               (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set B'. eval f (L @ xs)))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           f (A, A', d1) \\<and> f (B, B', d2))", "using f_def"], ["proof (prove)\nusing this:\n  f ?x =\n  (case ?x of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           (\\<exists>L.\n               length L = d1 \\<and>\n               (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n           (\\<exists>L.\n               length L = d2 \\<and>\n               (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n               (\\<forall>f\\<in>set B'. eval f (L @ xs)))) =\n    (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           f (A, A', d1) \\<and> f (B, B', d2))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L.\n             length L = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n         (\\<exists>L.\n             length L = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L @ xs)))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         f (A, A', d1) \\<and> f (B, B', d2))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         (\\<exists>L.\n             length L = d1 \\<and>\n             (\\<forall>a\\<in>set A. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set A'. eval f (L @ xs))) \\<and>\n         (\\<exists>L.\n             length L = d2 \\<and>\n             (\\<forall>a\\<in>set B. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set B'. eval f (L @ xs)))) =\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         f (A, A', d1) \\<and> f (B, B', d2))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). \\<exists>a1\\<in>set(dnf_modified \\<phi>2). f a \\<and> f a1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n           f (A, A', d1) \\<and> f (B, B', d2)) =\n    (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1)", "by (simp add: Bex_def_raw)"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         f (A, A', d1) \\<and> f (B, B', d2)) =\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>(A, A', d1)\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>(B, B', d2)\\<in>set (dnf_modified \\<phi>2).\n         f (A, A', d1) \\<and> f (B, B', d2)) =\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1)\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and> (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n        \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1) =\n    ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n     (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1) =\n  ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n   (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "also"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      \\<exists>a1\\<in>set (dnf_modified \\<phi>2). f a \\<and> f a1) =\n  ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n   (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a))\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"... = eval (And \\<phi>1 \\<phi>2) xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n     (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a)) =\n    eval (And \\<phi>1 \\<phi>2) xs", "using And f_def"], ["proof (prove)\nusing this:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>1 ?xs\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>2).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>2 ?xs\n  f ?x =\n  (case ?x of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n     (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a)) =\n    eval (And \\<phi>1 \\<phi>2) xs", "by simp"], ["proof (state)\nthis:\n  ((\\<exists>a\\<in>set (dnf_modified \\<phi>1). f a) \\<and>\n   (\\<exists>a\\<in>set (dnf_modified \\<phi>2). f a)) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "finally"], ["proof (chain)\npicking this:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs", "have \"(\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n               \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n         eval (And \\<phi>1 \\<phi>2) xs\""], ["proof (prove)\nusing this:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (And \\<phi>1 \\<phi>2) xs", "by simp"], ["proof (state)\nthis:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (9 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (And \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (And \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 7. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 9. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs", "show ?case"], ["proof (prove)\nusing this:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (And \\<phi>1 \\<phi>2) xs", "by simp"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified (And \\<phi>1 \\<phi>2)).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (And \\<phi>1 \\<phi>2) xs\n\ngoal (8 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "case (Or \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>1 ?xs\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>2).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>2 ?xs\n\ngoal (8 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have h1 : \"eval (Or \\<phi>1 \\<phi>2) xs = eval \\<phi>1 xs \\<or> eval \\<phi>2 xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eval (Or \\<phi>1 \\<phi>2) xs = eval \\<phi>1 xs \\<or> eval \\<phi>2 xs", "using eval.simps(5)"], ["proof (prove)\nusing this:\n  eval (Or ?\\<phi> ?\\<psi>) ?\\<Gamma> =\n  (eval ?\\<phi> ?\\<Gamma> \\<or> eval ?\\<psi> ?\\<Gamma>)\n\ngoal (1 subgoal):\n 1. eval (Or \\<phi>1 \\<phi>2) xs = eval \\<phi>1 xs \\<or> eval \\<phi>2 xs", "by blast"], ["proof (state)\nthis:\n  eval (Or \\<phi>1 \\<phi>2) xs = eval \\<phi>1 xs \\<or> eval \\<phi>2 xs\n\ngoal (8 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have h2 : \"set (dnf_modified (Or \\<phi>1 \\<phi>2)) = set(dnf_modified \\<phi>1) \\<union> set(dnf_modified \\<phi>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (dnf_modified (Or \\<phi>1 \\<phi>2)) =\n    set (dnf_modified \\<phi>1) \\<union> set (dnf_modified \\<phi>2)", "by simp"], ["proof (state)\nthis:\n  set (dnf_modified (Or \\<phi>1 \\<phi>2)) =\n  set (dnf_modified \\<phi>1) \\<union> set (dnf_modified \\<phi>2)\n\ngoal (8 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi>1 \\<phi>2 xs.\n       \\<lbrakk>\\<And>xs.\n                   (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>1).\n                       \\<exists>L.\n                          length L = n \\<and>\n                          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                          (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                   eval \\<phi>1 xs;\n        \\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>2).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi>2 xs\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>(al, fl, n)\n                                   \\<in>set\n   (dnf_modified (Or \\<phi>1 \\<phi>2)).\n                             \\<exists>L.\n                                length L = n \\<and>\n                                (\\<forall>a\\<in>set al.\n                                    aEval a (L @ xs)) \\<and>\n                                (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n                         eval (Or \\<phi>1 \\<phi>2) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 6. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 8. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (Or \\<phi>1 \\<phi>2)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (Or \\<phi>1 \\<phi>2) xs", "using Or h1 h2"], ["proof (prove)\nusing this:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>1).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>1 ?xs\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>2).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi>2 ?xs\n  eval (Or \\<phi>1 \\<phi>2) xs = eval \\<phi>1 xs \\<or> eval \\<phi>2 xs\n  set (dnf_modified (Or \\<phi>1 \\<phi>2)) =\n  set (dnf_modified \\<phi>1) \\<union> set (dnf_modified \\<phi>2)\n\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (Or \\<phi>1 \\<phi>2)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (Or \\<phi>1 \\<phi>2) xs", "by (metis (no_types, lifting) Un_iff eval.simps(5))"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified (Or \\<phi>1 \\<phi>2)).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (Or \\<phi>1 \\<phi>2) xs\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "case (ExQ \\<phi>)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi> ?xs\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have h1 : \"((\\<exists>x. (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ (x#xs))) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ (x#xs)))))\n              =\n              (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               (\\<exists>x.\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a ((L@[x]) @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f ((L@[x]) @ xs)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ x # xs))) =\n    (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n        \\<exists>x L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs)))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        \\<exists>xa\\<in>set (dnf_modified \\<phi>).\n           case xa of\n           (al, fl, n) \\<Rightarrow>\n             \\<exists>L.\n                length L = n \\<and>\n                (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n                (\\<forall>f\\<in>set fl. eval f (L @ x # xs))) =\n    (\\<exists>x\\<in>set (dnf_modified \\<phi>).\n        case x of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>x L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ x # xs)))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>x.\n      \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ x # xs))) =\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>x L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  (\\<exists>x.\n      \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ x # xs))) =\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>x L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "fix n al fl"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "define f where \"f L = (length (L:: real list) = ((n::nat)+1) \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\" for L"], ["proof (state)\nthis:\n  f ?L =\n  (length ?L = n + 1 \\<and>\n   (\\<forall>a\\<in>set al. aEval a (?L @ xs)) \\<and>\n   (\\<forall>f\\<in>set fl. eval f (?L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"(\\<exists>x.\\<exists>L. f (L@[x])) = (\\<exists>L. f L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x L. f (L @ [x])) = (\\<exists>L. f L)", "by (metis (full_types) One_nat_def add_Suc_right f_def list.size(3) nat.simps(3) rev_exhaust)"], ["proof (state)\nthis:\n  (\\<exists>x L. f (L @ [x])) = (\\<exists>L. f L)\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  (\\<exists>x L. f (L @ [x])) = (\\<exists>L. f L)", "have \"((\\<exists>x. \\<exists>L. length (L@[x]) = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a ((L@[x]) @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f ((L@[x]) @ xs)))\n              =\n            (\\<exists>L. length L = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))))\""], ["proof (prove)\nusing this:\n  (\\<exists>x L. f (L @ [x])) = (\\<exists>L. f L)\n\ngoal (1 subgoal):\n 1. (\\<exists>x L.\n        length (L @ [x]) = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n    (\\<exists>L.\n        length L = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<exists>x L.\n      length (L @ [x]) = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n  (\\<exists>L.\n      length L = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>x L.\n        length (L @ [x]) = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n    (\\<exists>L.\n        length L = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>x L.\n      length (L @ [x]) = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n  (\\<exists>L.\n      length L = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  (\\<exists>x L.\n      length (L @ [x]) = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a ((L @ [x]) @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f ((L @ [x]) @ xs))) =\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  (\\<exists>x L.\n      length (L @ [x]) = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a ((L @ [x]) @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f ((L @ [x]) @ xs))) =\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs)))", "have h2 : \"\\<forall>n al fl. (\n              (\\<exists>x. \\<exists>L. length (L@[x]) = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a ((L@[x]) @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f ((L@[x]) @ xs)))\n              =\n              (\\<exists>L. length L = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n            )\""], ["proof (prove)\nusing this:\n  (\\<exists>x L.\n      length (L @ [x]) = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a ((L @ [x]) @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f ((L @ [x]) @ xs))) =\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. \\<forall>n al fl.\n       (\\<exists>x L.\n           length (L @ [x]) = n + 1 \\<and>\n           (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n       (\\<exists>L.\n           length L = n + 1 \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by simp"], ["proof (state)\nthis:\n  \\<forall>n al fl.\n     (\\<exists>x L.\n         length (L @ [x]) = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n     (\\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  \\<forall>n al fl.\n     (\\<exists>x L.\n         length (L @ [x]) = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n     (\\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "fix al fl n"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "define f where \"f al fl n = (\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\" for al fl n"], ["proof (state)\nthis:\n  f ?al ?fl ?n =\n  (\\<exists>L.\n      length L = ?n \\<and>\n      (\\<forall>a\\<in>set ?al. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "have \"f al fl (n+1) = (case (case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A',d+1)) of\n             (al, fl, n) \\<Rightarrow> f al fl n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f al fl (n + 1) =\n    (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n     (al, fl, n) \\<Rightarrow> f al fl n)", "by simp"], ["proof (state)\nthis:\n  f al fl (n + 1) =\n  (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow> f al fl n)\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  f al fl (n + 1) =\n  (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow> f al fl n)", "have \"(\\<exists>L. length L = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n              = (\n             case (case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A',d+1)) of\n             (al, fl, n) \\<Rightarrow>\n               \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\""], ["proof (prove)\nusing this:\n  f al fl (n + 1) =\n  (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow> f al fl n)\n\ngoal (1 subgoal):\n 1. (\\<exists>L.\n        length L = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n     (al, fl, n) \\<Rightarrow>\n       \\<exists>L.\n          length L = n \\<and>\n          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n          (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<exists>L.\n      length L = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>L.\n        length L = n + 1 \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n     (al, fl, n) \\<Rightarrow>\n       \\<exists>L.\n          length L = n \\<and>\n          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n          (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>L.\n      length L = n + 1 \\<and>\n      (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (case case (al, fl, n) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs))) =\n  (case case (?al2, ?fl2, ?n2) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs))) =\n  (case case (?al2, ?fl2, ?n2) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "have h3 : \"\n              (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L. length L = (n+1) \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n              = (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n             case (case a of (A, A', d) \\<Rightarrow> (A, A',d+1)) of\n             (al, fl, n) \\<Rightarrow>\n               \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs)))\""], ["proof (prove)\nusing this:\n  (\\<exists>L.\n      length L = ?n2 + 1 \\<and>\n      (\\<forall>a\\<in>set ?al2. aEval a (L @ xs)) \\<and>\n      (\\<forall>f\\<in>set ?fl2. eval f (L @ xs))) =\n  (case case (?al2, ?fl2, ?n2) of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n   (al, fl, n) \\<Rightarrow>\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n        \\<exists>L.\n           length L = n + 1 \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n        case case a of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs)))", "by (smt case_prodE case_prodI2)"], ["proof (state)\nthis:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case case a of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "(* takes a second *)"], ["proof (state)\nthis:\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case case a of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (7 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExQ \\<phi>) xs\n 5. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 7. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (ExQ \\<phi>)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (ExQ \\<phi>) xs", "using ExQ h1 h2 h3"], ["proof (prove)\nusing this:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi> ?xs\n  (\\<exists>x.\n      \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ x # xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ x # xs))) =\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>x L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs)))\n  \\<forall>n al fl.\n     (\\<exists>x L.\n         length (L @ [x]) = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a ((L @ [x]) @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f ((L @ [x]) @ xs))) =\n     (\\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n  (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n      \\<exists>L.\n         length L = n + 1 \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case case a of (A, A', d) \\<Rightarrow> (A, A', d + 1) of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs)))\n\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (ExQ \\<phi>)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (ExQ \\<phi>) xs", "by simp"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified (ExQ \\<phi>)).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (ExQ \\<phi>) xs\n\ngoal (6 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 5. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 5. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "case (ExN x1 \\<phi>)"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified \\<phi>).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ ?xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ ?xs))) =\n  eval \\<phi> ?xs\n\ngoal (6 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 5. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (ExN x1 \\<phi>) xs\n 6. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n        case a of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    eval (ExN x1 \\<phi>) xs", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<in>set (dnf_modified \\<phi>).\n        case case x of (A, A', d) \\<Rightarrow> (A, A', d + x1) of\n        (al, fl, n) \\<Rightarrow>\n          \\<exists>L.\n             length L = n \\<and>\n             (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n             (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n    (\\<exists>l. length l = x1 \\<and> eval \\<phi> (l @ xs))", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>);\n        length L = b + x1; \\<forall>a\\<in>set a. aEval a (L @ xs);\n        \\<forall>f\\<in>set aa. eval f (L @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l.\n                            length l = x1 \\<and> eval \\<phi> (l @ xs)\n 2. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "fix a aa b L"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>);\n        length L = b + x1; \\<forall>a\\<in>set a. aEval a (L @ xs);\n        \\<forall>f\\<in>set aa. eval f (L @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l.\n                            length l = x1 \\<and> eval \\<phi> (l @ xs)\n 2. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "have takedrop: \"(take b L @ drop b L @ xs) = (L @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. take b L @ drop b L @ xs = L @ xs", "by auto"], ["proof (state)\nthis:\n  take b L @ drop b L @ xs = L @ xs\n\ngoal (2 subgoals):\n 1. \\<And>a aa b L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>);\n        length L = b + x1; \\<forall>a\\<in>set a. aEval a (L @ xs);\n        \\<forall>f\\<in>set aa. eval f (L @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l.\n                            length l = x1 \\<and> eval \\<phi> (l @ xs)\n 2. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "assume h: \"(a, aa, b) \\<in> set (dnf_modified \\<phi>)\" \"length L = b + x1\" \"\\<forall>a\\<in>set a. aEval a (L @ xs)\" \"\\<forall>f\\<in>set aa. eval f (L @ xs)\""], ["proof (state)\nthis:\n  (a, aa, b) \\<in> set (dnf_modified \\<phi>)\n  length L = b + x1\n  \\<forall>a\\<in>set a. aEval a (L @ xs)\n  \\<forall>f\\<in>set aa. eval f (L @ xs)\n\ngoal (2 subgoals):\n 1. \\<And>a aa b L.\n       \\<lbrakk>(a, aa, b) \\<in> set (dnf_modified \\<phi>);\n        length L = b + x1; \\<forall>a\\<in>set a. aEval a (L @ xs);\n        \\<forall>f\\<in>set aa. eval f (L @ xs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l.\n                            length l = x1 \\<and> eval \\<phi> (l @ xs)\n 2. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "show \"\\<exists>l. length l = x1 \\<and> eval \\<phi> (l @ xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l. length l = x1 \\<and> eval \\<phi> (l @ xs)", "apply(rule exI[where x=\"drop b L\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. length (drop b L) = x1 \\<and> eval \\<phi> (drop b L @ xs)", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. length L - b = x1\n 2. eval \\<phi> (drop b L @ xs)", "using h(2)"], ["proof (prove)\nusing this:\n  length L = b + x1\n\ngoal (2 subgoals):\n 1. length L - b = x1\n 2. eval \\<phi> (drop b L @ xs)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval \\<phi> (drop b L @ xs)", "unfolding ExN[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n       \\<exists>La.\n          length La = n \\<and>\n          (\\<forall>a\\<in>set al. aEval a (La @ drop b L @ xs)) \\<and>\n          (\\<forall>f\\<in>set fl. eval f (La @ drop b L @ xs))", "apply(rule bexI[where x=\"(a,aa,b)\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. case (a, aa, b) of\n    (al, fl, n) \\<Rightarrow>\n      \\<exists>La.\n         length La = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (La @ drop b L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (La @ drop b L @ xs))\n 2. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>La.\n       length La = b \\<and>\n       (\\<forall>a\\<in>set a. aEval a (La @ drop b L @ xs)) \\<and>\n       (\\<forall>f\\<in>set aa. eval f (La @ drop b L @ xs))\n 2. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "apply(rule exI[where x=\"take b L\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. length (take b L) = b \\<and>\n    (\\<forall>a\\<in>set a. aEval a (take b L @ drop b L @ xs)) \\<and>\n    (\\<forall>f\\<in>set aa. eval f (take b L @ drop b L @ xs))\n 2. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "apply auto"], ["proof (prove)\ngoal (4 subgoals):\n 1. min (length L) b = b\n 2. \\<And>aa.\n       aa \\<in> set a \\<Longrightarrow> aEval aa (take b L @ drop b L @ xs)\n 3. \\<And>f.\n       f \\<in> set aa \\<Longrightarrow> eval f (take b L @ drop b L @ xs)\n 4. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "using h"], ["proof (prove)\nusing this:\n  (a, aa, b) \\<in> set (dnf_modified \\<phi>)\n  length L = b + x1\n  \\<forall>a\\<in>set a. aEval a (L @ xs)\n  \\<forall>f\\<in>set aa. eval f (L @ xs)\n\ngoal (4 subgoals):\n 1. min (length L) b = b\n 2. \\<And>aa.\n       aa \\<in> set a \\<Longrightarrow> aEval aa (take b L @ drop b L @ xs)\n 3. \\<And>f.\n       f \\<in> set aa \\<Longrightarrow> eval f (take b L @ drop b L @ xs)\n 4. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa.\n       aa \\<in> set a \\<Longrightarrow> aEval aa (take b L @ drop b L @ xs)\n 2. \\<And>f.\n       f \\<in> set aa \\<Longrightarrow> eval f (take b L @ drop b L @ xs)\n 3. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "unfolding takedrop"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa. aa \\<in> set a \\<Longrightarrow> aEval aa (L @ xs)\n 2. \\<And>f. f \\<in> set aa \\<Longrightarrow> eval f (L @ xs)\n 3. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "using h"], ["proof (prove)\nusing this:\n  (a, aa, b) \\<in> set (dnf_modified \\<phi>)\n  length L = b + x1\n  \\<forall>a\\<in>set a. aEval a (L @ xs)\n  \\<forall>f\\<in>set aa. eval f (L @ xs)\n\ngoal (3 subgoals):\n 1. \\<And>aa. aa \\<in> set a \\<Longrightarrow> aEval aa (L @ xs)\n 2. \\<And>f. f \\<in> set aa \\<Longrightarrow> eval f (L @ xs)\n 3. (a, aa, b) \\<in> set (dnf_modified \\<phi>)", "by auto"], ["proof (state)\nthis:\n  \\<exists>l. length l = x1 \\<and> eval \\<phi> (l @ xs)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "fix l"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "assume h: \"eval \\<phi> (l @ xs)\" \"x1 = length l\""], ["proof (state)\nthis:\n  eval \\<phi> (l @ xs)\n  x1 = length l\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "obtain al fl n where h1 : \"(al, fl, n)\\<in>set (dnf_modified \\<phi>)\" \"\\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>al fl n.\n        \\<lbrakk>(al, fl, n) \\<in> set (dnf_modified \\<phi>);\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using h(1)"], ["proof (prove)\nusing this:\n  eval \\<phi> (l @ xs)\n\ngoal (1 subgoal):\n 1. (\\<And>al fl n.\n        \\<lbrakk>(al, fl, n) \\<in> set (dnf_modified \\<phi>);\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding ExN[symmetric]"], ["proof (prove)\nusing this:\n  \\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n     \\<exists>L.\n        length L = n \\<and>\n        (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n        (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\n\ngoal (1 subgoal):\n 1. (\\<And>al fl n.\n        \\<lbrakk>(al, fl, n) \\<in> set (dnf_modified \\<phi>);\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (al, fl, n) \\<in> set (dnf_modified \\<phi>)\n  \\<exists>L.\n     length L = n \\<and>\n     (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n     (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "obtain L where h2 : \"length L = n\" \"(\\<forall>a\\<in>set al. aEval a (L @ l @ xs))\" \"(\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>L.\n        \\<lbrakk>length L = n; \\<forall>a\\<in>set al. aEval a (L @ l @ xs);\n         \\<forall>f\\<in>set fl. eval f (L @ l @ xs)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using h1(2)"], ["proof (prove)\nusing this:\n  \\<exists>L.\n     length L = n \\<and>\n     (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n     (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\n\ngoal (1 subgoal):\n 1. (\\<And>L.\n        \\<lbrakk>length L = n; \\<forall>a\\<in>set al. aEval a (L @ l @ xs);\n         \\<forall>f\\<in>set fl. eval f (L @ l @ xs)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  length L = n\n  \\<forall>a\\<in>set al. aEval a (L @ l @ xs)\n  \\<forall>f\\<in>set fl. eval f (L @ l @ xs)\n\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>eval \\<phi> (l @ xs); x1 = length l\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>set (dnf_modified \\<phi>).\n                            case case x of\n                                 (A, A', d) \\<Rightarrow>\n                                   (A, A', d + length l) of\n                            (al, fl, n) \\<Rightarrow>\n                              \\<exists>L.\n                                 length L = n \\<and>\n                                 (\\<forall>a\\<in>set al.\n                                     aEval a (L @ xs)) \\<and>\n                                 (\\<forall>f\\<in>set fl. eval f (L @ xs))", "show \"\\<exists>x\\<in>set (dnf_modified \\<phi>).\n            case case x of (A, A', d) \\<Rightarrow> (A, A', d + length l) of\n            (al, fl, n) \\<Rightarrow> \\<exists>L. length L = n \\<and> (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and> (\\<forall>f\\<in>set fl. eval f (L @ xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>set (dnf_modified \\<phi>).\n       case case x of (A, A', d) \\<Rightarrow> (A, A', d + length l) of\n       (al, fl, n) \\<Rightarrow>\n         \\<exists>L.\n            length L = n \\<and>\n            (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n            (\\<forall>f\\<in>set fl. eval f (L @ xs))", "apply(rule bexI[where x=\"(al,fl,n)\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. case case (al, fl, n) of\n         (A, A', d) \\<Rightarrow> (A, A', d + length l) of\n    (al, fl, n) \\<Rightarrow>\n      \\<exists>L.\n         length L = n \\<and>\n         (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n         (\\<forall>f\\<in>set fl. eval f (L @ xs))\n 2. (al, fl, n) \\<in> set (dnf_modified \\<phi>)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>L.\n       length L = n + length l \\<and>\n       (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n       (\\<forall>f\\<in>set fl. eval f (L @ xs))\n 2. (al, fl, n) \\<in> set (dnf_modified \\<phi>)", "apply(rule exI[where x=\"L@l\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. length (L @ l) = n + length l \\<and>\n    (\\<forall>a\\<in>set al. aEval a ((L @ l) @ xs)) \\<and>\n    (\\<forall>f\\<in>set fl. eval f ((L @ l) @ xs))\n 2. (al, fl, n) \\<in> set (dnf_modified \\<phi>)", "apply auto"], ["proof (prove)\ngoal (4 subgoals):\n 1. length L = n\n 2. \\<And>a. a \\<in> set al \\<Longrightarrow> aEval a (L @ l @ xs)\n 3. \\<And>f. f \\<in> set fl \\<Longrightarrow> eval f (L @ l @ xs)\n 4. (al, fl, n) \\<in> set (dnf_modified \\<phi>)", "using h2 h1"], ["proof (prove)\nusing this:\n  length L = n\n  \\<forall>a\\<in>set al. aEval a (L @ l @ xs)\n  \\<forall>f\\<in>set fl. eval f (L @ l @ xs)\n  (al, fl, n) \\<in> set (dnf_modified \\<phi>)\n  \\<exists>L.\n     length L = n \\<and>\n     (\\<forall>a\\<in>set al. aEval a (L @ l @ xs)) \\<and>\n     (\\<forall>f\\<in>set fl. eval f (L @ l @ xs))\n\ngoal (4 subgoals):\n 1. length L = n\n 2. \\<And>a. a \\<in> set al \\<Longrightarrow> aEval a (L @ l @ xs)\n 3. \\<And>f. f \\<in> set fl \\<Longrightarrow> eval f (L @ l @ xs)\n 4. (al, fl, n) \\<in> set (dnf_modified \\<phi>)", "by auto"], ["proof (state)\nthis:\n  \\<exists>x\\<in>set (dnf_modified \\<phi>).\n     case case x of (A, A', d) \\<Rightarrow> (A, A', d + length l) of\n     (al, fl, n) \\<Rightarrow>\n       \\<exists>L.\n          length L = n \\<and>\n          (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n          (\\<forall>f\\<in>set fl. eval f (L @ xs))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>a\\<in>set (dnf_modified (ExN x1 \\<phi>)).\n      case a of\n      (al, fl, n) \\<Rightarrow>\n        \\<exists>L.\n           length L = n \\<and>\n           (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n           (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n  eval (ExN x1 \\<phi>) xs\n\ngoal (5 subgoals):\n 1. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified TrueF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval TrueF xs\n 2. \\<And>xs.\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified FalseF).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval FalseF xs\n 3. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (Neg \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (Neg \\<phi>) xs\n 4. \\<And>\\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllQ \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllQ \\<phi>) xs\n 5. \\<And>x1 \\<phi> xs.\n       (\\<And>xs.\n           (\\<exists>(al, fl, n)\\<in>set (dnf_modified \\<phi>).\n               \\<exists>L.\n                  length L = n \\<and>\n                  (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n                  (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n           eval \\<phi> xs) \\<Longrightarrow>\n       (\\<exists>(al, fl, n)\\<in>set (dnf_modified (AllN x1 \\<phi>)).\n           \\<exists>L.\n              length L = n \\<and>\n              (\\<forall>a\\<in>set al. aEval a (L @ xs)) \\<and>\n              (\\<forall>f\\<in>set fl. eval f (L @ xs))) =\n       eval (AllN x1 \\<phi>) xs", "qed auto"], ["", "end"]]}