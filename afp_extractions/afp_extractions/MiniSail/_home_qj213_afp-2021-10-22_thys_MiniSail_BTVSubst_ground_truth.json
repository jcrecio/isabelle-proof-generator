{"file_name": "/home/qj213/afp-2021-10-22/thys/MiniSail/BTVSubst.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/MiniSail", "problem_names": ["lemmas flip_subst_b = flip_subst_subst", "lemma subst_b_simple_commute:\n  fixes x::bv\n  assumes \"atom x \\<sharp> c\" \n  shows \"(c[z::=B_var x]\\<^sub>b)[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b\"", "lemma subst_b_flip_eq_one:\n  fixes z1::bv and z2::bv and x1::bv and x2::bv  \n  assumes \"[[atom z1]]lst. c1 = [[atom z2]]lst. c2\" \n    and \"atom x1 \\<sharp> (z1,z2,c1,c2)\"\n  shows \"(c1[z1::=B_var x1]\\<^sub>b) = (c2[z2::=B_var x1]\\<^sub>b)\"", "lemma subst_b_flip_eq_two:\n  fixes z1::bv and z2::bv and x1::bv and x2::bv  \n  assumes \"[[atom z1]]lst. c1 = [[atom z2]]lst. c2\" \n  shows \"(c1[z1::=b]\\<^sub>b) = (c2[z2::=b]\\<^sub>b)\"", "lemma subst_b_fresh_x:\n  fixes tm::\"'a::fs\" and x::x\n  shows \"atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b\"", "lemma subst_b_x_flip[simp]:\n  fixes x'::x and x::x and bv::bv \n  shows \"((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b = (x' \\<leftrightarrow> x) \\<bullet> (tm[bv::=b']\\<^sub>b)\"", "lemma subst_bb_inject:\n  assumes \"b1 = b2[bv::=b]\\<^sub>b\\<^sub>b\" and \"b2 \\<noteq> B_var bv\" \n  shows \n    \"b1 = B_int \\<Longrightarrow> b2 = B_int\" and \n    \"b1 = B_bool \\<Longrightarrow> b2 = B_bool\" and \n    \"b1 = B_unit \\<Longrightarrow> b2 = B_unit\" and \n    \"b1 = B_bitvec \\<Longrightarrow> b2 = B_bitvec\" and \n    \"b1 = B_pair b11 b12 \\<Longrightarrow> (\\<exists>b11' b12' . b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b12 = b12'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_pair b11' b12')\" and\n    \"b1 = B_var bv' \\<Longrightarrow> b2 = B_var bv'\" and\n    \"b1 = B_id tyid  \\<Longrightarrow> b2 = B_id tyid\" and\n    \"b1 = B_app tyid b11 \\<Longrightarrow> (\\<exists>b11'. b11= b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_app tyid b11')\"", "lemma flip_b_subst4:\n  fixes b1::b and bv1::bv and c::bv and b::b\n  assumes \"atom c \\<sharp> (b1,bv1)\" \n  shows \"b1[bv1::=b]\\<^sub>b\\<^sub>b = ((bv1 \\<leftrightarrow> c) \\<bullet> b1)[c ::= b]\\<^sub>b\\<^sub>b\"", "lemma subst_bb_flip_sym:\n  fixes b1::b and b2::b\n  assumes \"atom c \\<sharp> b\" and \"atom c \\<sharp> (bv1,bv2, b1, b2)\" and \"(bv1 \\<leftrightarrow> c) \\<bullet> b1 = (bv2 \\<leftrightarrow> c) \\<bullet> b2\" \n  shows \"b1[bv1::=b]\\<^sub>b\\<^sub>b = b2[bv2::=b]\\<^sub>b\\<^sub>b\"", "lemma subst_bb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_bb (subst_bb A i t ) j u ) = subst_bb A i (subst_bb t j u) \"", "lemma subst_vb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_vb  (subst_vb A i t )) j u = subst_vb A i (subst_bb t j u ) \"", "lemma subst_ceb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_ceb  (subst_ceb A i t )) j u = subst_ceb A i (subst_bb t j u ) \"", "lemma subst_cb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_cb  (subst_cb A i t )) j u = subst_cb A i (subst_bb t j u ) \"", "lemma subst_tb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_tb  (subst_tb A i t )) j u = subst_tb A i (subst_bb t j u ) \"", "lemma fresh_subst_sb_if [simp]: \n  \"(j \\<sharp> (subst_sb A i x  ))  = ((atom i \\<sharp> A \\<and> j \\<sharp> A) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i)))\" and\n  \"(j \\<sharp> (subst_branchb B i x  ))  = ((atom i \\<sharp> B \\<and> j \\<sharp> B) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> B \\<or> j = atom i)))\"  and\n  \"(j \\<sharp> (subst_branchlb C i x  ))  = ((atom i \\<sharp> C \\<and> j \\<sharp> C) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> C \\<or> j = atom i)))\"", "lemma \n  forget_subst_sb[simp]: \"atom a \\<sharp> A \\<Longrightarrow> subst_sb A a x = A\" and\n  forget_subst_branchb [simp]: \"atom a \\<sharp> B \\<Longrightarrow> subst_branchb B a x = B\" and \n  forget_subst_branchlb[simp]: \"atom a \\<sharp> C \\<Longrightarrow> subst_branchlb C a x = C\"", "lemma   subst_sb_id: \"subst_sb A a (B_var a) = A\" and\n  subst_branchb_id [simp]: \"subst_branchb B a (B_var a) = B\" and\n  subst_branchlb_id: \"subst_branchlb C a (B_var a) = C\"", "lemma flip_subst_s:\n  fixes  bv::bv and s::s and cs::branch_s and z::bv\n  shows   \"atom bv \\<sharp> s \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> s) = s[z::=B_var bv]\\<^sub>s\\<^sub>b\"  and\n    \"atom bv \\<sharp> cs \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> cs) = subst_branchb  cs z (B_var bv) \" and\n    \"atom bv \\<sharp> css \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> css) = subst_branchlb css z (B_var bv) \"", "lemma flip_subst_subst_s:\n  fixes  bv::bv and s::s and cs::branch_s and z::bv\n  shows   \"atom bv \\<sharp> s \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> s)[bv::=v]\\<^sub>s\\<^sub>b = s[z::=v]\\<^sub>s\\<^sub>b\"    and\n    \"atom bv \\<sharp> cs \\<Longrightarrow> subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> cs) bv v = subst_branchb cs z v\" and\n    \"atom bv \\<sharp> css \\<Longrightarrow> subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> css) bv v = subst_branchlb  css z v \"", "lemma subst_b_base_for_lit:\n  \"(base_for_lit l)[bv::=b]\\<^sub>b\\<^sub>b = base_for_lit l\"", "lemma subst_b_lookup:\n  assumes \"Some (b, c) = lookup \\<Gamma> x\"\n  shows \" Some (b[bv::=b']\\<^sub>b\\<^sub>b, c[bv::=b']\\<^sub>c\\<^sub>b) = lookup \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b x\"", "lemma subst_g_b_x_fresh:\n  fixes x::x and b::b and \\<Gamma>::\\<Gamma> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\"", "lemma subst_d_b_member:\n  assumes \"(u, \\<tau>) \\<in> setD \\<Delta>\" \n  shows  \"(u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\"", "lemmas ms_fresh_all = e.fresh s_branch_s_branch_list.fresh \\<tau>.fresh c.fresh ce.fresh v.fresh l.fresh fresh_at_base opp.fresh pure_fresh ms_fresh", "lemmas fresh_intros[intro] = fresh_GNil x_not_in_b_set x_not_in_u_atoms x_fresh_b u_not_in_x_atoms bv_not_in_x_atoms u_not_in_b_atoms", "lemmas subst_b_simps = subst_tb.simps subst_cb.simps subst_ceb.simps subst_vb.simps subst_bb.simps  subst_eb.simps subst_branchb.simps subst_sb.simps", "lemma subst_d_b_x_fresh:\n  fixes x::x and b::b and \\<Delta>::\\<Delta> and bv::bv\n  assumes \"atom x \\<sharp> \\<Delta>\"\n  shows  \"atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\"", "lemma subst_b_fresh_x:\n  fixes  x::x\n  shows \"atom x \\<sharp> v \\<Longrightarrow> atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\" and\n    \"atom x \\<sharp> ce \\<Longrightarrow> atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> e \\<Longrightarrow> atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> c \\<Longrightarrow> atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\" and\n    \"atom x \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b\" and\n    \"atom x \\<sharp> d \\<Longrightarrow> atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b\" and\n    \"atom x \\<sharp> g \\<Longrightarrow> atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\" and\n    \"atom x \\<sharp> s \\<Longrightarrow> atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b\"", "lemma subst_b_fresh_u_cls:\n  fixes tm::\"'a::has_subst_b\" and x::u\n  shows \"atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b\"", "lemma subst_g_b_u_fresh:\n  fixes x::u and b::b and \\<Gamma>::\\<Gamma> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\"", "lemma subst_d_b_u_fresh:\n  fixes x::u and b::b and \\<Gamma>::\\<Delta> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\"", "lemma subst_b_fresh_u:\n  fixes  x::u\n  shows \"atom x \\<sharp> v \\<Longrightarrow> atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\" and\n    \"atom x \\<sharp> ce \\<Longrightarrow> atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> e \\<Longrightarrow> atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> c \\<Longrightarrow> atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\" and\n    \"atom x \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b\" and\n    \"atom x \\<sharp> d \\<Longrightarrow> atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b\" and\n    \"atom x \\<sharp> g \\<Longrightarrow> atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\" and\n    \"atom x \\<sharp> s \\<Longrightarrow> atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b\"", "lemma subst_db_u_fresh:\n  fixes u::u and b::b and D::\\<Delta>\n  assumes \"atom u \\<sharp> D\"\n  shows  \"atom u \\<sharp> D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\"", "lemma flip_bt_subst4:\n  fixes t::\\<tau> and bv::bv \n  assumes \"atom bv \\<sharp> t\" \n  shows \"t[bv'::=b]\\<^sub>\\<tau>\\<^sub>b = ((bv' \\<leftrightarrow> bv) \\<bullet> t)[bv::=b]\\<^sub>\\<tau>\\<^sub>b\"", "lemma subst_bt_flip_sym:\n  fixes t1::\\<tau> and t2::\\<tau>\n  assumes \"atom bv \\<sharp> b\" and \"atom bv \\<sharp> (bv1, bv2, t1, t2)\" and \"(bv1 \\<leftrightarrow> bv) \\<bullet> t1 = (bv2 \\<leftrightarrow> bv) \\<bullet> t2\"\n  shows \" t1[bv1::=b]\\<^sub>\\<tau>\\<^sub>b = t2[bv2::=b]\\<^sub>\\<tau>\\<^sub>b\""], "translations": [["", "lemmas flip_subst_b = flip_subst_subst"], ["", "lemma subst_b_simple_commute:\n  fixes x::bv\n  assumes \"atom x \\<sharp> c\" \n  shows \"(c[z::=B_var x]\\<^sub>b)[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b", "have \"(c[z::=B_var x]\\<^sub>b)[x::=b]\\<^sub>b = (( x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n    ((x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b", "using flip_subst assms"], ["proof (prove)\nusing this:\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  atom x \\<sharp> c\n\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n    ((x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  ((x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  ((x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b", "using flip_subst_subst assms"], ["proof (prove)\nusing this:\n  c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  ((x \\<leftrightarrow> z) \\<bullet> c)[x::=b]\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  atom x \\<sharp> c\n\ngoal (1 subgoal):\n 1. c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  c[z::=B_var x]\\<^sub>b[x::=b]\\<^sub>b = c[z::=b]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_flip_eq_one:\n  fixes z1::bv and z2::bv and x1::bv and x2::bv  \n  assumes \"[[atom z1]]lst. c1 = [[atom z2]]lst. c2\" \n    and \"atom x1 \\<sharp> (z1,z2,c1,c2)\"\n  shows \"(c1[z1::=B_var x1]\\<^sub>b) = (c2[z2::=B_var x1]\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "have \"(c1[z1::=B_var x1]\\<^sub>b) = (x1 \\<leftrightarrow> z1) \\<bullet> c1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1", "using assms flip_subst"], ["proof (prove)\nusing this:\n  [[atom z1]]lst. c1 = [[atom z2]]lst. c2\n  atom x1 \\<sharp> (z1, z2, c1, c2)\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1", "by auto"], ["proof (state)\nthis:\n  c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "have  \"(c2[z2::=B_var x1]\\<^sub>b) = (x1 \\<leftrightarrow> z2) \\<bullet> c2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2", "using assms flip_subst"], ["proof (prove)\nusing this:\n  [[atom z1]]lst. c1 = [[atom z2]]lst. c2\n  atom x1 \\<sharp> (z1, z2, c1, c2)\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2", "by auto"], ["proof (state)\nthis:\n  c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1\n  c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2", "show ?thesis"], ["proof (prove)\nusing this:\n  c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1\n  c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "using Abs1_eq_iff_all(3)[of z1 c1 z2 c2 z1]  assms"], ["proof (prove)\nusing this:\n  c1[z1::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z1) \\<bullet> c1\n  c2[z2::=B_var x1]\\<^sub>b = (x1 \\<leftrightarrow> z2) \\<bullet> c2\n  ([[atom z1]]lst. c1 = [[atom z2]]lst. c2) =\n  (\\<forall>c.\n      atom c \\<sharp> z1 \\<longrightarrow>\n      atom c \\<sharp> (z1, z2, c1, c2) \\<longrightarrow>\n      (z1 \\<leftrightarrow> c) \\<bullet> c1 =\n      (z2 \\<leftrightarrow> c) \\<bullet> c2)\n  [[atom z1]]lst. c1 = [[atom z2]]lst. c2\n  atom x1 \\<sharp> (z1, z2, c1, c2)\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b", "by (metis Abs1_eq_iff_fresh(3) flip_commute)"], ["proof (state)\nthis:\n  c1[z1::=B_var x1]\\<^sub>b = c2[z2::=B_var x1]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_flip_eq_two:\n  fixes z1::bv and z2::bv and x1::bv and x2::bv  \n  assumes \"[[atom z1]]lst. c1 = [[atom z2]]lst. c2\" \n  shows \"(c1[z1::=b]\\<^sub>b) = (c2[z2::=b]\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "obtain x::bv where *:\"atom x \\<sharp> (z1,z2,c1,c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        atom x \\<sharp> (z1, z2, c1, c2) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using obtain_fresh"], ["proof (prove)\nusing this:\n  (\\<And>a. atom a \\<sharp> ?x \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        atom x \\<sharp> (z1, z2, c1, c2) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  atom x \\<sharp> (z1, z2, c1, c2)\n\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "hence \"(c1[z1::=B_var x]\\<^sub>b) = (c2[z2::=B_var x]\\<^sub>b)\""], ["proof (prove)\nusing this:\n  atom x \\<sharp> (z1, z2, c1, c2)\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x]\\<^sub>b = c2[z2::=B_var x]\\<^sub>b", "using subst_b_flip_eq_one[OF assms, of x]"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (z1, z2, c1, c2)\n  atom x \\<sharp> (z1, z2, c1, c2) \\<Longrightarrow>\n  c1[z1::=B_var x]\\<^sub>b = c2[z2::=B_var x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x]\\<^sub>b = c2[z2::=B_var x]\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  c1[z1::=B_var x]\\<^sub>b = c2[z2::=B_var x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "hence \"(c1[z1::=B_var x]\\<^sub>b)[x::=b]\\<^sub>b = (c2[z2::=B_var x]\\<^sub>b)[x::=b]\\<^sub>b\""], ["proof (prove)\nusing this:\n  c1[z1::=B_var x]\\<^sub>b = c2[z2::=B_var x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n    c2[z2::=B_var x]\\<^sub>b[x::=b]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  c1[z1::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  c2[z2::=B_var x]\\<^sub>b[x::=b]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  c1[z1::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  c2[z2::=B_var x]\\<^sub>b[x::=b]\\<^sub>b\n\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "using subst_b_simple_commute * fresh_prod4"], ["proof (prove)\nusing this:\n  c1[z1::=B_var x]\\<^sub>b[x::=b]\\<^sub>b =\n  c2[z2::=B_var x]\\<^sub>b[x::=b]\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  ?c[?z::=B_var ?x]\\<^sub>b[?x::=?b]\\<^sub>b = ?c[?z::=?b]\\<^sub>b\n  atom x \\<sharp> (z1, z2, c1, c2)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n\ngoal (1 subgoal):\n 1. c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  c1[z1::=b]\\<^sub>b = c2[z2::=b]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_fresh_x:\n  fixes tm::\"'a::fs\" and x::x\n  shows \"atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "using fresh_subst_if[of \"atom x\" tm bv b']"], ["proof (prove)\nusing this:\n  atom x \\<sharp> tm[bv::=b']\\<^sub>b =\n  (atom bv \\<sharp> tm \\<and> atom x \\<sharp> tm \\<or>\n   atom x \\<sharp> b' \\<and> (atom x \\<sharp> tm \\<or> atom x = atom bv))\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "using x_fresh_b"], ["proof (prove)\nusing this:\n  atom x \\<sharp> tm[bv::=b']\\<^sub>b =\n  (atom bv \\<sharp> tm \\<and> atom x \\<sharp> tm \\<or>\n   atom x \\<sharp> b' \\<and> (atom x \\<sharp> tm \\<or> atom x = atom bv))\n  atom ?x \\<sharp> ?b\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "by auto"], ["", "lemma subst_b_x_flip[simp]:\n  fixes x'::x and x::x and bv::bv \n  shows \"((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b = (x' \\<leftrightarrow> x) \\<bullet> (tm[bv::=b']\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "have \"(x' \\<leftrightarrow> x) \\<bullet> bv = bv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x' \\<leftrightarrow> x) \\<bullet> bv = bv", "using pure_supp flip_fresh_fresh"], ["proof (prove)\nusing this:\n  supp ?x = {}\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (x' \\<leftrightarrow> x) \\<bullet> bv = bv", "by force"], ["proof (state)\nthis:\n  (x' \\<leftrightarrow> x) \\<bullet> bv = bv\n\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  (x' \\<leftrightarrow> x) \\<bullet> bv = bv\n\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "have \"(x' \\<leftrightarrow> x) \\<bullet> b' = b'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x' \\<leftrightarrow> x) \\<bullet> b' = b'", "using x_fresh_b flip_fresh_fresh"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (x' \\<leftrightarrow> x) \\<bullet> b' = b'", "by auto"], ["proof (state)\nthis:\n  (x' \\<leftrightarrow> x) \\<bullet> b' = b'\n\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  (x' \\<leftrightarrow> x) \\<bullet> bv = bv\n  (x' \\<leftrightarrow> x) \\<bullet> b' = b'", "show ?thesis"], ["proof (prove)\nusing this:\n  (x' \\<leftrightarrow> x) \\<bullet> bv = bv\n  (x' \\<leftrightarrow> x) \\<bullet> b' = b'\n\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "using eqvt"], ["proof (prove)\nusing this:\n  (x' \\<leftrightarrow> x) \\<bullet> bv = bv\n  (x' \\<leftrightarrow> x) \\<bullet> b' = b'\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n    (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  ((x' \\<leftrightarrow> x) \\<bullet> tm)[bv::=b']\\<^sub>b =\n  (x' \\<leftrightarrow> x) \\<bullet> tm[bv::=b']\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Base Type\\<close>"], ["", "nominal_function subst_bb :: \"b \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> b\" where\n  \"subst_bb  (B_var bv2) bv1 b  = (if bv1 = bv2 then b else (B_var bv2))\"\n| \"subst_bb  B_int bv1 b  = B_int\"\n| \"subst_bb B_bool bv1 b = B_bool\"\n| \"subst_bb (B_id s) bv1 b = B_id s \"\n| \"subst_bb (B_pair b1 b2) bv1 b = B_pair (subst_bb b1 bv1 b) (subst_bb b2 bv1 b)\"\n| \"subst_bb B_unit bv1 b = B_unit  \"\n| \"subst_bb B_bitvec bv1 b = B_bitvec \"\n| \"subst_bb (B_app s b2) bv1 b = B_app s (subst_bb b2 bv1 b)\""], ["proof (prove)\ngoal (39 subgoals):\n 1. eqvt subst_bb_graph_aux\n 2. \\<And>x y. subst_bb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   x = (B_var bv2, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_int, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bool, bv1, b) \\<Longrightarrow> P;\n        \\<And>s bv1 b. x = (B_id s, bv1, b) \\<Longrightarrow> P;\n        \\<And>b1 b2 bv1 b.\n           x = ([ b1 , b2 ]\\<^sup>b, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_unit, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bitvec, bv1, b) \\<Longrightarrow> P;\n        \\<And>s b2 bv1 b.\n           x = (B_app s b2, bv1, b) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>bv2 bv1 b bv2a bv1a ba.\n       (B_var bv2, bv1, b) = (B_var bv2a, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) =\n       (if bv1a = bv2a then ba else B_var bv2a)\n 5. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_int, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_int\n 6. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_bool, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_bool\n 7. \\<And>bv2 bv1 b s bv1a ba.\n       (B_var bv2, bv1, b) = (B_id s, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_id s\n 8. \\<And>bv2 bv1 b b1 b2 bv1a ba.\n       \\<lbrakk>eqvt_at subst_bb_sumC (b1, bv1a, ba);\n        eqvt_at subst_bb_sumC (b2, bv1a, ba); True; True;\n        (B_var bv2, bv1, b) = ([ b1 , b2 ]\\<^sup>b, bv1a, ba)\\<rbrakk>\n       \\<Longrightarrow> (if bv1 = bv2 then b else B_var bv2) =\n                         [ subst_bb_sumC\n                            (b1, bv1a,\n                             ba) , subst_bb_sumC (b2, bv1a, ba) ]\\<^sup>b\n 9. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_unit, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_unit\n 10. \\<And>bv2 bv1 b bv1a ba.\n        (B_var bv2, bv1, b) = (B_bitvec, bv1a, ba) \\<Longrightarrow>\n        (if bv1 = bv2 then b else B_var bv2) = B_bitvec\nA total of 39 subgoals...", "apply (simp add: eqvt_def subst_bb_graph_aux_def )"], ["proof (prove)\ngoal (38 subgoals):\n 1. \\<And>x y. subst_bb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   x = (B_var bv2, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_int, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bool, bv1, b) \\<Longrightarrow> P;\n        \\<And>s bv1 b. x = (B_id s, bv1, b) \\<Longrightarrow> P;\n        \\<And>b1 b2 bv1 b.\n           x = ([ b1 , b2 ]\\<^sup>b, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_unit, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bitvec, bv1, b) \\<Longrightarrow> P;\n        \\<And>s b2 bv1 b.\n           x = (B_app s b2, bv1, b) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>bv2 bv1 b bv2a bv1a ba.\n       (B_var bv2, bv1, b) = (B_var bv2a, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) =\n       (if bv1a = bv2a then ba else B_var bv2a)\n 4. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_int, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_int\n 5. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_bool, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_bool\n 6. \\<And>bv2 bv1 b s bv1a ba.\n       (B_var bv2, bv1, b) = (B_id s, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_id s\n 7. \\<And>bv2 bv1 b b1 b2 bv1a ba.\n       \\<lbrakk>eqvt_at subst_bb_sumC (b1, bv1a, ba);\n        eqvt_at subst_bb_sumC (b2, bv1a, ba); True; True;\n        (B_var bv2, bv1, b) = ([ b1 , b2 ]\\<^sup>b, bv1a, ba)\\<rbrakk>\n       \\<Longrightarrow> (if bv1 = bv2 then b else B_var bv2) =\n                         [ subst_bb_sumC\n                            (b1, bv1a,\n                             ba) , subst_bb_sumC (b2, bv1a, ba) ]\\<^sup>b\n 8. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_unit, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_unit\n 9. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_bitvec, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_bitvec\n 10. \\<And>bv2 bv1 b s b2 bv1a ba.\n        \\<lbrakk>eqvt_at subst_bb_sumC (b2, bv1a, ba); True;\n         (B_var bv2, bv1, b) = (B_app s b2, bv1a, ba)\\<rbrakk>\n        \\<Longrightarrow> (if bv1 = bv2 then b else B_var bv2) =\n                          B_app s (subst_bb_sumC (b2, bv1a, ba))\nA total of 38 subgoals...", "apply (simp add: eqvt_def subst_bb_graph_aux_def )"], ["proof (prove)\ngoal (37 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   x = (B_var bv2, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_int, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bool, bv1, b) \\<Longrightarrow> P;\n        \\<And>s bv1 b. x = (B_id s, bv1, b) \\<Longrightarrow> P;\n        \\<And>b1 b2 bv1 b.\n           x = ([ b1 , b2 ]\\<^sup>b, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_unit, bv1, b) \\<Longrightarrow> P;\n        \\<And>bv1 b. x = (B_bitvec, bv1, b) \\<Longrightarrow> P;\n        \\<And>s b2 bv1 b.\n           x = (B_app s b2, bv1, b) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>bv2 bv1 b bv2a bv1a ba.\n       (B_var bv2, bv1, b) = (B_var bv2a, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) =\n       (if bv1a = bv2a then ba else B_var bv2a)\n 3. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_int, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_int\n 4. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_bool, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_bool\n 5. \\<And>bv2 bv1 b s bv1a ba.\n       (B_var bv2, bv1, b) = (B_id s, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_id s\n 6. \\<And>bv2 bv1 b b1 b2 bv1a ba.\n       \\<lbrakk>eqvt_at subst_bb_sumC (b1, bv1a, ba);\n        eqvt_at subst_bb_sumC (b2, bv1a, ba); True; True;\n        (B_var bv2, bv1, b) = ([ b1 , b2 ]\\<^sup>b, bv1a, ba)\\<rbrakk>\n       \\<Longrightarrow> (if bv1 = bv2 then b else B_var bv2) =\n                         [ subst_bb_sumC\n                            (b1, bv1a,\n                             ba) , subst_bb_sumC (b2, bv1a, ba) ]\\<^sup>b\n 7. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_unit, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_unit\n 8. \\<And>bv2 bv1 b bv1a ba.\n       (B_var bv2, bv1, b) = (B_bitvec, bv1a, ba) \\<Longrightarrow>\n       (if bv1 = bv2 then b else B_var bv2) = B_bitvec\n 9. \\<And>bv2 bv1 b s b2 bv1a ba.\n       \\<lbrakk>eqvt_at subst_bb_sumC (b2, bv1a, ba); True;\n        (B_var bv2, bv1, b) = (B_app s b2, bv1a, ba)\\<rbrakk>\n       \\<Longrightarrow> (if bv1 = bv2 then b else B_var bv2) =\n                         B_app s (subst_bb_sumC (b2, bv1a, ba))\n 10. \\<And>bv1 b bv1a ba.\n        (B_int, bv1, b) = (B_int, bv1a, ba) \\<Longrightarrow> B_int = B_int\nA total of 37 subgoals...", "by (auto,meson b.strong_exhaust)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_bb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_bb_abbrev :: \"b \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> b\" (\"_[_::=_]\\<^sub>b\\<^sub>b\" [1000,50,50] 1000)\n  where \n    \"b[bv::=b']\\<^sub>b\\<^sub>b  \\<equiv> subst_bb b bv b' \""], ["", "instantiation b :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_bb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(b, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::b"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof (induct t rule: b.induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. j \\<sharp> B_int[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> (B_id xa)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_id xa \\<and> j \\<sharp> B_id xa \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_id xa \\<or> j = atom i))\n 4. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 5. j \\<sharp> B_unit[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 6. j \\<sharp> B_bitvec[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> (B_var xa)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_var xa \\<and> j \\<sharp> B_var xa \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_var xa \\<or> j = atom i))\n 8. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "case (B_id x)"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. j \\<sharp> B_int[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> (B_id xa)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_id xa \\<and> j \\<sharp> B_id xa \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_id xa \\<or> j = atom i))\n 4. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x__]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x__ \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x__]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x__ \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x__]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x__ \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 5. j \\<sharp> B_unit[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 6. j \\<sharp> B_bitvec[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> (B_var xa)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_var xa \\<and> j \\<sharp> B_var xa \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_var xa \\<or> j = atom i))\n 8. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> (B_id x)[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_id x \\<and> j \\<sharp> B_id x \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_id x \\<or> j = atom i))", "using subst_bb.simps fresh_def pure_fresh subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> (B_id x)[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_id x \\<and> j \\<sharp> B_id x \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_id x \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (B_id x)[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> B_id x \\<and> j \\<sharp> B_id x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> B_id x \\<or> j = atom i))\n\ngoal (7 subgoals):\n 1. j \\<sharp> B_int[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x__]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x__ \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x__]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x__ \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x__]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x__ \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> (B_var xa)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_var xa \\<and> j \\<sharp> B_var xa \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_var xa \\<or> j = atom i))\n 7. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. j \\<sharp> B_int[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> (B_var xa)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_var xa \\<and> j \\<sharp> B_var xa \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_var xa \\<or> j = atom i))\n 7. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "case (B_var x)"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. j \\<sharp> B_int[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x__]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x__ \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x__]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x__ \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x__]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x__ \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> (B_var xa)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_var xa \\<and> j \\<sharp> B_var xa \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_var xa \\<or> j = atom i))\n 7. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> (B_var x)[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_var x \\<and> j \\<sharp> B_var x \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_var x \\<or> j = atom i))", "using subst_bb.simps fresh_def pure_fresh subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> (B_var x)[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_var x \\<and> j \\<sharp> B_var x \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_var x \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (B_var x)[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> B_var x \\<and> j \\<sharp> B_var x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> B_var x \\<or> j = atom i))\n\ngoal (6 subgoals):\n 1. j \\<sharp> B_int[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x__]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x__ \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x__]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x__ \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x__]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x__ \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. j \\<sharp> B_int[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "case (B_app x1 x2)"], ["proof (state)\nthis:\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n\ngoal (6 subgoals):\n 1. j \\<sharp> B_int[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))\n 6. \\<And>x1 x2.\n       j \\<sharp> x2[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x2 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "using subst_bb.simps fresh_def pure_fresh subst_b_b_def"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (B_app x1 x2)[i::=x]\\<^sub>b =\n  (atom i \\<sharp> B_app x1 x2 \\<and> j \\<sharp> B_app x1 x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> B_app x1 x2 \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. j \\<sharp> B_int[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_int \\<and> j \\<sharp> B_int \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_int \\<or> j = atom i))\n 2. j \\<sharp> B_bool[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bool \\<and> j \\<sharp> B_bool \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bool \\<or> j = atom i))\n 3. \\<And>x1 x2.\n       \\<lbrakk>j \\<sharp> x1[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1 \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1 , x2 ]\\<^sup>b[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1 , x2 ]\\<^sup>b \\<and>\n                          j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1 , x2 ]\\<^sup>b \\<or> j = atom i))\n 4. j \\<sharp> B_unit[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_unit \\<and> j \\<sharp> B_unit \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_unit \\<or> j = atom i))\n 5. j \\<sharp> B_bitvec[i::=x]\\<^sub>b =\n    (atom i \\<sharp> B_bitvec \\<and> j \\<sharp> B_bitvec \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B_bitvec \\<or> j = atom i))", "qed(auto simp add: subst_bb.simps fresh_def pure_fresh subst_b_b_def)+"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::b and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "by (induct tm rule: b.induct, auto simp add: fresh_at_base subst_bb.simps subst_b_b_def)"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::b"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_bb.simps  subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "by (induct tm rule: b.induct, auto simp add: fresh_at_base subst_bb.simps subst_b_b_def)"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::b"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by (induct tm rule: b.induct, auto simp add: fresh_at_base subst_bb.simps subst_b_b_def)"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::b and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "by (induct c rule: b.induct,  (auto simp add: fresh_at_base subst_bb.simps subst_b_b_def permute_pure pure_supp )+)"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::b and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "by (induct c rule: b.induct,  (auto simp add: fresh_at_base subst_bb.simps subst_b_b_def permute_pure pure_supp )+)"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma subst_bb_inject:\n  assumes \"b1 = b2[bv::=b]\\<^sub>b\\<^sub>b\" and \"b2 \\<noteq> B_var bv\" \n  shows \n    \"b1 = B_int \\<Longrightarrow> b2 = B_int\" and \n    \"b1 = B_bool \\<Longrightarrow> b2 = B_bool\" and \n    \"b1 = B_unit \\<Longrightarrow> b2 = B_unit\" and \n    \"b1 = B_bitvec \\<Longrightarrow> b2 = B_bitvec\" and \n    \"b1 = B_pair b11 b12 \\<Longrightarrow> (\\<exists>b11' b12' . b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b12 = b12'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_pair b11' b12')\" and\n    \"b1 = B_var bv' \\<Longrightarrow> b2 = B_var bv'\" and\n    \"b1 = B_id tyid  \\<Longrightarrow> b2 = B_id tyid\" and\n    \"b1 = B_app tyid b11 \\<Longrightarrow> (\\<exists>b11'. b11= b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_app tyid b11')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((b1 = B_int \\<Longrightarrow> b2 = B_int) &&&\n      (b1 = B_bool \\<Longrightarrow> b2 = B_bool)) &&&\n     (b1 = B_unit \\<Longrightarrow> b2 = B_unit) &&&\n     (b1 = B_bitvec \\<Longrightarrow> b2 = B_bitvec)) &&&\n    ((b1 = [ b11 , b12 ]\\<^sup>b \\<Longrightarrow>\n      \\<exists>b11' b12'.\n         b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and>\n         b12 = b12'[bv::=b]\\<^sub>b\\<^sub>b \\<and>\n         b2 = [ b11' , b12' ]\\<^sup>b) &&&\n     (b1 = B_var bv' \\<Longrightarrow> b2 = B_var bv')) &&&\n    (b1 = B_id tyid \\<Longrightarrow> b2 = B_id tyid) &&&\n    (b1 = B_app tyid b11 \\<Longrightarrow>\n     \\<exists>b11'.\n        b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_app tyid b11')", "using assms"], ["proof (prove)\nusing this:\n  b1 = b2[bv::=b]\\<^sub>b\\<^sub>b\n  b2 \\<noteq> B_var bv\n\ngoal (1 subgoal):\n 1. (((b1 = B_int \\<Longrightarrow> b2 = B_int) &&&\n      (b1 = B_bool \\<Longrightarrow> b2 = B_bool)) &&&\n     (b1 = B_unit \\<Longrightarrow> b2 = B_unit) &&&\n     (b1 = B_bitvec \\<Longrightarrow> b2 = B_bitvec)) &&&\n    ((b1 = [ b11 , b12 ]\\<^sup>b \\<Longrightarrow>\n      \\<exists>b11' b12'.\n         b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and>\n         b12 = b12'[bv::=b]\\<^sub>b\\<^sub>b \\<and>\n         b2 = [ b11' , b12' ]\\<^sup>b) &&&\n     (b1 = B_var bv' \\<Longrightarrow> b2 = B_var bv')) &&&\n    (b1 = B_id tyid \\<Longrightarrow> b2 = B_id tyid) &&&\n    (b1 = B_app tyid b11 \\<Longrightarrow>\n     \\<exists>b11'.\n        b11 = b11'[bv::=b]\\<^sub>b\\<^sub>b \\<and> b2 = B_app tyid b11')", "by(nominal_induct b2 rule:b.strong_induct,auto+)"], ["", "lemma flip_b_subst4:\n  fixes b1::b and bv1::bv and c::bv and b::b\n  assumes \"atom c \\<sharp> (b1,bv1)\" \n  shows \"b1[bv1::=b]\\<^sub>b\\<^sub>b = ((bv1 \\<leftrightarrow> c) \\<bullet> b1)[c ::= b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b1[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> b1)[c::=b]\\<^sub>b\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (b1, bv1)\n\ngoal (1 subgoal):\n 1. b1[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> b1)[c::=b]\\<^sub>b\\<^sub>b", "proof(nominal_induct b1 rule: b.strong_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. atom c \\<sharp> (B_int, bv1) \\<Longrightarrow>\n    B_int[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_int)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_bool, bv1) \\<Longrightarrow>\n    B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 5. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 6. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 7. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case B_int"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_int, bv1)\n\ngoal (8 subgoals):\n 1. atom c \\<sharp> (B_int, bv1) \\<Longrightarrow>\n    B_int[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_int)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_bool, bv1) \\<Longrightarrow>\n    B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 5. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 6. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 7. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom c \\<sharp> (B_int, bv1)", "show ?case"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_int, bv1)\n\ngoal (1 subgoal):\n 1. B_int[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_int)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps b.perm_simps"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_int, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n\ngoal (1 subgoal):\n 1. B_int[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_int)[c::=b]\\<^sub>b\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  B_int[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_int)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (7 subgoals):\n 1. atom c \\<sharp> (B_bool, bv1) \\<Longrightarrow>\n    B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 5. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. atom c \\<sharp> (B_bool, bv1) \\<Longrightarrow>\n    B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 5. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case B_bool"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_bool, bv1)\n\ngoal (7 subgoals):\n 1. atom c \\<sharp> (B_bool, bv1) \\<Longrightarrow>\n    B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 5. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom c \\<sharp> (B_bool, bv1)", "show ?case"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_bool, bv1)\n\ngoal (1 subgoal):\n 1. B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps b.perm_simps"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_bool, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n\ngoal (1 subgoal):\n 1. B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  B_bool[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_bool)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case (B_id x)"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_id x, bv1)\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "hence \"atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x\""], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_id x, bv1)\n\ngoal (1 subgoal):\n 1. atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x", "using fresh_def  pure_supp"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_id x, bv1)\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?x = {}\n\ngoal (1 subgoal):\n 1. atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x", "by auto"], ["proof (state)\nthis:\n  atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "hence \"((bv1 \\<leftrightarrow> c) \\<bullet> B_id x) = B_id x\""], ["proof (prove)\nusing this:\n  atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x\n\ngoal (1 subgoal):\n 1. (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x", "using fresh_Pair b.fresh(3) flip_fresh_fresh b.perm_simps fresh_def pure_supp"], ["proof (prove)\nusing this:\n  atom bv1 \\<sharp> x \\<and> atom c \\<sharp> x\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?a \\<sharp> B_id ?list = ?a \\<sharp> ?list\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?x = {}\n\ngoal (1 subgoal):\n 1. (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x", "by metis"], ["proof (state)\nthis:\n  (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_id x, bv1) \\<Longrightarrow>\n       (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 4. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x", "show ?case"], ["proof (prove)\nusing this:\n  (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x\n\ngoal (1 subgoal):\n 1. (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps"], ["proof (prove)\nusing this:\n  (bv1 \\<leftrightarrow> c) \\<bullet> B_id x = B_id x\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (B_id x)[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_id x)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case (B_pair x1 x2)"], ["proof (state)\nthis:\n  atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "hence \"x1[bv1::=b]\\<^sub>b\\<^sub>b = ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\n\ngoal (1 subgoal):\n 1. x1[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b", "using  b.perm_simps(4) b.fresh(4) fresh_Pair"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. x1[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "have  \"x2[bv1::=b]\\<^sub>b\\<^sub>b = ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x2[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b", "using  b.perm_simps(4) b.fresh(4) fresh_Pair B_pair"], ["proof (prove)\nusing this:\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\n\ngoal (1 subgoal):\n 1. x2[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x1, bv1) \\<Longrightarrow>\n                x1[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n        x2[bv1::=b]\\<^sub>b\\<^sub>b =\n        ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> ([ x1 , x2 ]\\<^sup>b, bv1)\\<rbrakk>\n       \\<Longrightarrow> [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 3. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps(5) b.perm_simps(4) b.fresh(4) fresh_Pair"], ["proof (prove)\nusing this:\n  x1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x1)[c::=b]\\<^sub>b\\<^sub>b\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  [ x1 , x2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> [ x1 , x2 ]\\<^sup>b)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (4 subgoals):\n 1. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case B_unit"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_unit, bv1)\n\ngoal (4 subgoals):\n 1. atom c \\<sharp> (B_unit, bv1) \\<Longrightarrow>\n    B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n 2. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom c \\<sharp> (B_unit, bv1)", "show ?case"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_unit, bv1)\n\ngoal (1 subgoal):\n 1. B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps b.perm_simps"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_unit, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n\ngoal (1 subgoal):\n 1. B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  B_unit[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_unit)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (3 subgoals):\n 1. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case B_bitvec"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_bitvec, bv1)\n\ngoal (3 subgoals):\n 1. atom c \\<sharp> (B_bitvec, bv1) \\<Longrightarrow>\n    B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom c \\<sharp> (B_bitvec, bv1)", "show ?case"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_bitvec, bv1)\n\ngoal (1 subgoal):\n 1. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps b.perm_simps"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_bitvec, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n\ngoal (1 subgoal):\n 1. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_bitvec)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case (B_var x)"], ["proof (state)\nthis:\n  atom c \\<sharp> (B_var x, bv1)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom c \\<sharp> (B_var x, bv1) \\<Longrightarrow>\n       (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n       ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom c \\<sharp> (B_var x, bv1)", "show ?case"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_var x, bv1)\n\ngoal (1 subgoal):\n 1. (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b", "proof(cases \"x=bv1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x = bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "case True"], ["proof (state)\nthis:\n  x = bv1\n\ngoal (2 subgoals):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x = bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b\n 2. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  x = bv1", "show ?thesis"], ["proof (prove)\nusing this:\n  x = bv1\n\ngoal (1 subgoal):\n 1. (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b", "using B_var subst_bb.simps b.perm_simps"], ["proof (prove)\nusing this:\n  x = bv1\n  atom c \\<sharp> (B_var x, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n\ngoal (1 subgoal):\n 1. (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "case False"], ["proof (state)\nthis:\n  x \\<noteq> bv1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  x \\<noteq> bv1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "have \"x\\<noteq>c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> c", "using B_var b.fresh fresh_def supp_at_base fresh_Pair"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (B_var x, bv1)\n  ?a \\<sharp> B_int\n  ?a \\<sharp> B_bool\n  ?a \\<sharp> B_id ?list = ?a \\<sharp> ?list\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> B_unit\n  ?a \\<sharp> B_bitvec\n  ?a \\<sharp> B_var ?bv = ?a \\<sharp> ?bv\n  ?a \\<sharp> B_app ?list ?b = (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?a = {atom ?a}\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. x \\<noteq> c", "by fastforce"], ["proof (state)\nthis:\n  x \\<noteq> c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom c \\<sharp> (B_var x, bv1); x \\<noteq> bv1\\<rbrakk>\n    \\<Longrightarrow> (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n                      ((bv1 \\<leftrightarrow> c) \\<bullet> B_var\n                      x)[c::=b]\\<^sub>b\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  x \\<noteq> bv1\n  x \\<noteq> c", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<noteq> bv1\n  x \\<noteq> c\n\ngoal (1 subgoal):\n 1. (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b", "using B_var subst_bb.simps(1) b.perm_simps(7)"], ["proof (prove)\nusing this:\n  x \\<noteq> bv1\n  x \\<noteq> c\n  atom c \\<sharp> (B_var x, bv1)\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n\ngoal (1 subgoal):\n 1. (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (B_var x)[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_var x)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "case (B_app x1 x2)"], ["proof (state)\nthis:\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (B_app x1 x2, bv1)\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "hence \"x2[bv1::=b]\\<^sub>b\\<^sub>b = ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (B_app x1 x2, bv1)\n\ngoal (1 subgoal):\n 1. x2[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b", "using  b.perm_simps b.fresh fresh_Pair"], ["proof (prove)\nusing this:\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (B_app x1 x2, bv1)\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n  ?a \\<sharp> B_int\n  ?a \\<sharp> B_bool\n  ?a \\<sharp> B_id ?list = ?a \\<sharp> ?list\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> B_unit\n  ?a \\<sharp> B_bitvec\n  ?a \\<sharp> B_var ?bv = ?a \\<sharp> ?bv\n  ?a \\<sharp> B_app ?list ?b = (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. x2[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n                x2[bv1::=b]\\<^sub>b\\<^sub>b =\n                ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b;\n        atom c \\<sharp> (B_app x1 x2, bv1)\\<rbrakk>\n       \\<Longrightarrow> (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                         ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1\n                         x2)[c::=b]\\<^sub>b\\<^sub>b", "thus ?case"], ["proof (prove)\nusing this:\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1. (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1 x2)[c::=b]\\<^sub>b\\<^sub>b", "using subst_bb.simps b.perm_simps b.fresh fresh_Pair B_app"], ["proof (prove)\nusing this:\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  ?p \\<bullet> B_int = B_int\n  ?p \\<bullet> B_bool = B_bool\n  ?p \\<bullet> B_id ?list = B_id (?p \\<bullet> ?list)\n  ?p \\<bullet> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  [ ?p \\<bullet> ?b1.0 , ?p \\<bullet> ?b2.0 ]\\<^sup>b\n  ?p \\<bullet> B_unit = B_unit\n  ?p \\<bullet> B_bitvec = B_bitvec\n  ?p \\<bullet> B_var ?bv = B_var (?p \\<bullet> ?bv)\n  ?p \\<bullet> B_app ?list ?b = B_app (?p \\<bullet> ?list) (?p \\<bullet> ?b)\n  ?a \\<sharp> B_int\n  ?a \\<sharp> B_bool\n  ?a \\<sharp> B_id ?list = ?a \\<sharp> ?list\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> B_unit\n  ?a \\<sharp> B_bitvec\n  ?a \\<sharp> B_var ?bv = ?a \\<sharp> ?bv\n  ?a \\<sharp> B_app ?list ?b = (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  atom c \\<sharp> (x2, bv1) \\<Longrightarrow>\n  x2[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> x2)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (B_app x1 x2, bv1)\n\ngoal (1 subgoal):\n 1. (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n    ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1 x2)[c::=b]\\<^sub>b\\<^sub>b", "by (simp add: permute_pure)"], ["proof (state)\nthis:\n  (B_app x1 x2)[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> B_app x1 x2)[c::=b]\\<^sub>b\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_bb_flip_sym:\n  fixes b1::b and b2::b\n  assumes \"atom c \\<sharp> b\" and \"atom c \\<sharp> (bv1,bv2, b1, b2)\" and \"(bv1 \\<leftrightarrow> c) \\<bullet> b1 = (bv2 \\<leftrightarrow> c) \\<bullet> b2\" \n  shows \"b1[bv1::=b]\\<^sub>b\\<^sub>b = b2[bv2::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b1[bv1::=b]\\<^sub>b\\<^sub>b = b2[bv2::=b]\\<^sub>b\\<^sub>b", "using assms  flip_b_subst4[of c b1 bv1 b]   flip_b_subst4[of c b2 bv2 b] fresh_prod4 fresh_Pair"], ["proof (prove)\nusing this:\n  atom c \\<sharp> b\n  atom c \\<sharp> (bv1, bv2, b1, b2)\n  (bv1 \\<leftrightarrow> c) \\<bullet> b1 =\n  (bv2 \\<leftrightarrow> c) \\<bullet> b2\n  atom c \\<sharp> (b1, bv1) \\<Longrightarrow>\n  b1[bv1::=b]\\<^sub>b\\<^sub>b =\n  ((bv1 \\<leftrightarrow> c) \\<bullet> b1)[c::=b]\\<^sub>b\\<^sub>b\n  atom c \\<sharp> (b2, bv2) \\<Longrightarrow>\n  b2[bv2::=b]\\<^sub>b\\<^sub>b =\n  ((bv2 \\<leftrightarrow> c) \\<bullet> b2)[c::=b]\\<^sub>b\\<^sub>b\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. b1[bv1::=b]\\<^sub>b\\<^sub>b = b2[bv2::=b]\\<^sub>b\\<^sub>b", "by simp"], ["", "section \\<open>Value\\<close>"], ["", "nominal_function subst_vb :: \"v \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> v\" where\n  \"subst_vb (V_lit l) x v = V_lit l\"\n| \"subst_vb (V_var y) x v = V_var y\"\n| \"subst_vb (V_cons tyid c v') x v  = V_cons tyid c (subst_vb v' x v)\"\n| \"subst_vb (V_consp tyid c b v') x v  = V_consp tyid c (subst_bb b x v) (subst_vb v' x v)\"\n| \"subst_vb (V_pair v1 v2) x v = V_pair (subst_vb v1 x v ) (subst_vb v2 x v )\""], ["proof (prove)\ngoal (18 subgoals):\n 1. eqvt subst_vb_graph_aux\n 2. \\<And>x y. subst_vb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>l xa v.\n                   x = ([ l ]\\<^sup>v, xa, v) \\<Longrightarrow> P;\n        \\<And>y xa v. x = ([ y ]\\<^sup>v, xa, v) \\<Longrightarrow> P;\n        \\<And>tyid c v' xa v.\n           x = (V_cons tyid c v', xa, v) \\<Longrightarrow> P;\n        \\<And>tyid c b v' xa v.\n           x = (V_consp tyid c b v', xa, v) \\<Longrightarrow> P;\n        \\<And>v1 v2 xa v.\n           x = ([ v1 , v2 ]\\<^sup>v, xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>l x v la xa va.\n       ([ l ]\\<^sup>v, x, v) = ([ la ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ l ]\\<^sup>v = [ la ]\\<^sup>v\n 5. \\<And>l x v y xa va.\n       ([ l ]\\<^sup>v, x, v) = ([ y ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ l ]\\<^sup>v = [ y ]\\<^sup>v\n 6. \\<And>l x v tyid c v' xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n        ([ l ]\\<^sup>v, x, v) = (V_cons tyid c v', xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         V_cons tyid c (subst_vb_sumC (v', xa, va))\n 7. \\<And>l x v tyid c b v' xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n        ([ l ]\\<^sup>v, x, v) = (V_consp tyid c b v', xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         V_consp tyid c b[xa::=va]\\<^sub>b\\<^sub>b\n                          (subst_vb_sumC (v', xa, va))\n 8. \\<And>l x v v1 v2 xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v1, xa, va);\n        eqvt_at subst_vb_sumC (v2, xa, va); True; True;\n        ([ l ]\\<^sup>v, x, v) = ([ v1 , v2 ]\\<^sup>v, xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         [ subst_vb_sumC\n                            (v1, xa,\n                             va) , subst_vb_sumC (v2, xa, va) ]\\<^sup>v\n 9. \\<And>y x v ya xa va.\n       ([ y ]\\<^sup>v, x, v) = ([ ya ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ y ]\\<^sup>v = [ ya ]\\<^sup>v\n 10. \\<And>y x v tyid c v' xa va.\n        \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n         ([ y ]\\<^sup>v, x, v) = (V_cons tyid c v', xa, va)\\<rbrakk>\n        \\<Longrightarrow> [ y ]\\<^sup>v =\n                          V_cons tyid c (subst_vb_sumC (v', xa, va))\nA total of 18 subgoals...", "apply (simp add: eqvt_def subst_vb_graph_aux_def)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>x y. subst_vb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>l xa v.\n                   x = ([ l ]\\<^sup>v, xa, v) \\<Longrightarrow> P;\n        \\<And>y xa v. x = ([ y ]\\<^sup>v, xa, v) \\<Longrightarrow> P;\n        \\<And>tyid c v' xa v.\n           x = (V_cons tyid c v', xa, v) \\<Longrightarrow> P;\n        \\<And>tyid c b v' xa v.\n           x = (V_consp tyid c b v', xa, v) \\<Longrightarrow> P;\n        \\<And>v1 v2 xa v.\n           x = ([ v1 , v2 ]\\<^sup>v, xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>l x v la xa va.\n       ([ l ]\\<^sup>v, x, v) = ([ la ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ l ]\\<^sup>v = [ la ]\\<^sup>v\n 4. \\<And>l x v y xa va.\n       ([ l ]\\<^sup>v, x, v) = ([ y ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ l ]\\<^sup>v = [ y ]\\<^sup>v\n 5. \\<And>l x v tyid c v' xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n        ([ l ]\\<^sup>v, x, v) = (V_cons tyid c v', xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         V_cons tyid c (subst_vb_sumC (v', xa, va))\n 6. \\<And>l x v tyid c b v' xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n        ([ l ]\\<^sup>v, x, v) = (V_consp tyid c b v', xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         V_consp tyid c b[xa::=va]\\<^sub>b\\<^sub>b\n                          (subst_vb_sumC (v', xa, va))\n 7. \\<And>l x v v1 v2 xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v1, xa, va);\n        eqvt_at subst_vb_sumC (v2, xa, va); True; True;\n        ([ l ]\\<^sup>v, x, v) = ([ v1 , v2 ]\\<^sup>v, xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ l ]\\<^sup>v =\n                         [ subst_vb_sumC\n                            (v1, xa,\n                             va) , subst_vb_sumC (v2, xa, va) ]\\<^sup>v\n 8. \\<And>y x v ya xa va.\n       ([ y ]\\<^sup>v, x, v) = ([ ya ]\\<^sup>v, xa, va) \\<Longrightarrow>\n       [ y ]\\<^sup>v = [ ya ]\\<^sup>v\n 9. \\<And>y x v tyid c v' xa va.\n       \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n        ([ y ]\\<^sup>v, x, v) = (V_cons tyid c v', xa, va)\\<rbrakk>\n       \\<Longrightarrow> [ y ]\\<^sup>v =\n                         V_cons tyid c (subst_vb_sumC (v', xa, va))\n 10. \\<And>y x v tyid c b v' xa va.\n        \\<lbrakk>eqvt_at subst_vb_sumC (v', xa, va); True;\n         ([ y ]\\<^sup>v, x, v) = (V_consp tyid c b v', xa, va)\\<rbrakk>\n        \\<Longrightarrow> [ y ]\\<^sup>v =\n                          V_consp tyid c b[xa::=va]\\<^sub>b\\<^sub>b\n                           (subst_vb_sumC (v', xa, va))\nA total of 17 subgoals...", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>\\<And>l. a = [ l ]\\<^sup>v \\<Longrightarrow> P;\n        \\<And>y. a = [ y ]\\<^sup>v \\<Longrightarrow> P;\n        \\<And>tyid c v'. a = V_cons tyid c v' \\<Longrightarrow> P;\n        \\<And>tyid c b v'. a = V_consp tyid c b v' \\<Longrightarrow> P;\n        \\<And>v1 v2. a = [ v1 , v2 ]\\<^sup>v \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using v.strong_exhaust"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x1. ?y = [ x1 ]\\<^sup>v \\<Longrightarrow> ?P;\n   \\<And>x2. ?y = [ x2 ]\\<^sup>v \\<Longrightarrow> ?P;\n   \\<And>x31 x32. ?y = [ x31 , x32 ]\\<^sup>v \\<Longrightarrow> ?P;\n   \\<And>x41 x42 x43. ?y = V_cons x41 x42 x43 \\<Longrightarrow> ?P;\n   \\<And>x51 x52 x53 x54.\n      ?y = V_consp x51 x52 x53 x54 \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>\\<And>l. a = [ l ]\\<^sup>v \\<Longrightarrow> P;\n        \\<And>y. a = [ y ]\\<^sup>v \\<Longrightarrow> P;\n        \\<And>tyid c v'. a = V_cons tyid c v' \\<Longrightarrow> P;\n        \\<And>tyid c b v'. a = V_consp tyid c b v' \\<Longrightarrow> P;\n        \\<And>v1 v2. a = [ v1 , v2 ]\\<^sup>v \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "by meson"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_vb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_vb_abbrev :: \"v \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> v\" (\"_[_::=_]\\<^sub>v\\<^sub>b\" [1000,50,50] 500)\n  where \n    \"e[bv::=b]\\<^sub>v\\<^sub>b  \\<equiv> subst_vb e bv b\""], ["", "instantiation v :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_vb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(v, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::v"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof (induct t rule: v.induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "case (V_lit l)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "have \"j \\<sharp> subst_b (V_lit l) i x = j \\<sharp> (V_lit l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v", "using subst_vb.simps fresh_def pure_fresh \n        subst_b_v_def v.supp  v.fresh has_subst_b_class.fresh_subst_if subst_b_b_def subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_vb_abbrev\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "have \"... = True\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ l ]\\<^sup>v = True", "using fresh_at_base v.fresh l.fresh supp_l_empty fresh_def"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> L_num ?int = ?a \\<sharp> ?int\n  ?a \\<sharp> L_true\n  ?a \\<sharp> L_false\n  ?a \\<sharp> L_unit\n  ?a \\<sharp> L_bitvec ?list = ?a \\<sharp> ?list\n  supp [ ?l ]\\<^sup>v = {}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ l ]\\<^sup>v = True", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [ l ]\\<^sup>v = True\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "moreover"], ["proof (state)\nthis:\n  j \\<sharp> [ l ]\\<^sup>v = True\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "have \"(atom i \\<sharp>  (V_lit l) \\<and> j \\<sharp>  (V_lit l) \\<or> j \\<sharp> x \\<and> (j \\<sharp>  (V_lit l) \\<or> j = atom i)) = True\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i)) =\n    True", "using fresh_at_base v.fresh l.fresh supp_l_empty fresh_def"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> L_num ?int = ?a \\<sharp> ?int\n  ?a \\<sharp> L_true\n  ?a \\<sharp> L_false\n  ?a \\<sharp> L_unit\n  ?a \\<sharp> L_bitvec ?list = ?a \\<sharp> ?list\n  supp [ ?l ]\\<^sup>v = {}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n\ngoal (1 subgoal):\n 1. (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i)) =\n    True", "by metis"], ["proof (state)\nthis:\n  (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i)) =\n  True\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 3. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 4. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 5. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "ultimately"], ["proof (chain)\npicking this:\n  j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v\n  j \\<sharp> [ l ]\\<^sup>v = True\n  (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i)) =\n  True", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b = j \\<sharp> [ l ]\\<^sup>v\n  j \\<sharp> [ l ]\\<^sup>v = True\n  (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i)) =\n  True\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i))", "by simp"], ["proof (state)\nthis:\n  j \\<sharp> [ l ]\\<^sup>v[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ l ]\\<^sup>v \\<and> j \\<sharp> [ l ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ l ]\\<^sup>v \\<or> j = atom i))\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 3. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 4. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 3. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 4. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "case (V_var y)"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>v[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>v \\<and>\n        j \\<sharp> [ xa ]\\<^sup>v \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>v \\<or> j = atom i))\n 2. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 3. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 4. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ y ]\\<^sup>v[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ y ]\\<^sup>v \\<and> j \\<sharp> [ y ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ y ]\\<^sup>v \\<or> j = atom i))", "using  subst_b_v_def subst_vb.simps pure_fresh"], ["proof (prove)\nusing this:\n  subst_b = subst_vb_abbrev\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ y ]\\<^sup>v[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ y ]\\<^sup>v \\<and> j \\<sharp> [ y ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ y ]\\<^sup>v \\<or> j = atom i))", "by force"], ["proof (state)\nthis:\n  j \\<sharp> [ y ]\\<^sup>v[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ y ]\\<^sup>v \\<and> j \\<sharp> [ y ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ y ]\\<^sup>v \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 3. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 3. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "case (V_pair x1a x2a)"], ["proof (state)\nthis:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2a[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n                         (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n                          j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 3. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n     j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or> j = atom i))", "using subst_b_v_def subst_vb.simps"], ["proof (prove)\nusing this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2a \\<and> j \\<sharp> x2a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2a \\<or> j = atom i))\n  subst_b = subst_vb_abbrev\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n     j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> [ x1a , x2a ]\\<^sup>v[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ x1a , x2a ]\\<^sup>v \\<and>\n   j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ x1a , x2a ]\\<^sup>v \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 2. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 2. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "case (V_cons x1a x2a x3)"], ["proof (state)\nthis:\n  j \\<sharp> x3[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       j \\<sharp> x3[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x3 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n        j \\<sharp> V_cons x1a x2a x3 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n 2. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x3[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x3[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n     j \\<sharp> V_cons x1a x2a x3 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))", "using V_cons subst_b_v_def subst_vb.simps pure_fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x3[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\n  j \\<sharp> x3[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\n  subst_b = subst_vb_abbrev\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n     j \\<sharp> V_cons x1a x2a x3 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))", "by force"], ["proof (state)\nthis:\n  j \\<sharp> (V_cons x1a x2a x3)[i::=x]\\<^sub>b =\n  (atom i \\<sharp> V_cons x1a x2a x3 \\<and>\n   j \\<sharp> V_cons x1a x2a x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> V_cons x1a x2a x3 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "case (V_consp x1a x2a x3 x4)"], ["proof (state)\nthis:\n  j \\<sharp> x4[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x4 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       j \\<sharp> x4[i::=x]\\<^sub>b =\n       (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> x4 \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n       (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n        j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x4[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x4 \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x4[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x4 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n     j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "using  subst_b_v_def subst_vb.simps pure_fresh  has_subst_b_class.fresh_subst_if subst_b_b_def subst_b_v_def"], ["proof (prove)\nusing this:\n  j \\<sharp> x4[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x4 \\<or> j = atom i))\n  subst_b = subst_vb_abbrev\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> ?x\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n    (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n     j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))", "by fastforce"], ["proof (state)\nthis:\n  j \\<sharp> (V_consp x1a x2a x3 x4)[i::=x]\\<^sub>b =\n  (atom i \\<sharp> V_consp x1a x2a x3 x4 \\<and>\n   j \\<sharp> V_consp x1a x2a x3 x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> V_consp x1a x2a x3 x4 \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::v and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "apply(induct tm rule: v.induct)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> [ x ]\\<^sup>v \\<Longrightarrow>\n       [ x ]\\<^sup>v[a::=x]\\<^sub>b = [ x ]\\<^sup>v\n 2. \\<And>x.\n       atom a \\<sharp> [ x ]\\<^sup>v \\<Longrightarrow>\n       [ x ]\\<^sup>v[a::=x]\\<^sub>b = [ x ]\\<^sup>v\n 3. \\<And>x1a x2a.\n       \\<lbrakk>atom a \\<sharp> x1a \\<Longrightarrow>\n                x1a[a::=x]\\<^sub>b = x1a;\n        atom a \\<sharp> x2a \\<Longrightarrow> x2a[a::=x]\\<^sub>b = x2a;\n        atom a \\<sharp> [ x1a , x2a ]\\<^sup>v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[a::=x]\\<^sub>b =\n                         [ x1a , x2a ]\\<^sup>v\n 4. \\<And>x1a x2a x3.\n       \\<lbrakk>atom a \\<sharp> x3 \\<Longrightarrow> x3[a::=x]\\<^sub>b = x3;\n        atom a \\<sharp> V_cons x1a x2a x3\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a x3)[a::=x]\\<^sub>b =\n                         V_cons x1a x2a x3\n 5. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom a \\<sharp> x4 \\<Longrightarrow> x4[a::=x]\\<^sub>b = x4;\n        atom a \\<sharp> V_consp x1a x2a x3 x4\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3 x4)[a::=x]\\<^sub>b =\n                         V_consp x1a x2a x3 x4", "apply(auto simp add: fresh_at_base subst_vb.simps subst_b_v_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>x4[a::=x]\\<^sub>v\\<^sub>b = x4; atom a \\<sharp> x1a;\n        atom a \\<sharp> x2a; atom a \\<sharp> x3; atom a \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>b\\<^sub>b = x3", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>x4[a::=x]\\<^sub>v\\<^sub>b = x4; atom a \\<sharp> x1a;\n        atom a \\<sharp> x2a; atom a \\<sharp> x3; atom a \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>b\\<^sub>b = x3", "using has_subst_b_class.forget_subst"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>x4[a::=x]\\<^sub>v\\<^sub>b = x4; atom a \\<sharp> x1a;\n        atom a \\<sharp> x2a; atom a \\<sharp> x3; atom a \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>b\\<^sub>b = x3", "by fastforce"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::v"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_bb.simps  subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "apply (induct tm rule: v.induct)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x ]\\<^sup>v[a::=B_var a]\\<^sub>b = [ x ]\\<^sup>v\n 2. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x ]\\<^sup>v[a::=B_var a]\\<^sub>b = [ x ]\\<^sup>v\n 3. \\<And>x1a x2a.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x1a[a::=B_var a]\\<^sub>b = x1a;\n        \\<lbrakk>\\<And>bv2 bv1 b.\n                    (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    (if bv1 = bv2 then b else B_var bv2);\n         \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n         \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n         \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n         \\<And>b1 b2 bv1 b.\n            [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n            [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n         \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n         \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n         \\<And>s b2 bv1 b.\n            (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n            B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n         subst_b = subst_bb_abbrev\\<rbrakk>\n        \\<Longrightarrow> x2a[a::=B_var a]\\<^sub>b = x2a;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[a::=B_var a]\\<^sub>b =\n                         [ x1a , x2a ]\\<^sup>v\n 4. \\<And>x1a x2a x3.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x3[a::=B_var a]\\<^sub>b = x3;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a x3)[a::=B_var a]\\<^sub>b =\n                         V_cons x1a x2a x3\n 5. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x4[a::=B_var a]\\<^sub>b = x4;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3 x4)[a::=B_var a]\\<^sub>b =\n                         V_consp x1a x2a x3 x4", "apply(auto simp add: fresh_at_base subst_vb.simps subst_b_v_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x3 x4.\n       \\<lbrakk>x4[a::=B_var a]\\<^sub>v\\<^sub>b = x4;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> x3[a::=B_var a]\\<^sub>b\\<^sub>b = x3", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. \\<And>x3 x4.\n       \\<lbrakk>x4[a::=B_var a]\\<^sub>v\\<^sub>b = x4;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> x3[a::=B_var a]\\<^sub>b\\<^sub>b = x3", "using has_subst_b_class.subst_id"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. \\<And>x3 x4.\n       \\<lbrakk>x4[a::=B_var a]\\<^sub>v\\<^sub>b = x4;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> x3[a::=B_var a]\\<^sub>b\\<^sub>b = x3", "by metis"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::v"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply(induct tm rule: v.induct)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>x1a x2a.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>x1a x2a x3.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>x1a x2a x3 x4.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply(auto simp add: fresh_at_base subst_bb.simps subst_b_b_def )"], ["proof (prove)\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by (simp add: subst_b_v_def)+"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::v and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (induct c rule: v.induct,  (auto simp add: fresh_at_base  subst_vb.simps subst_b_v_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x = x\n 2. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b =\n                         x3[z::=B_var bv]\\<^sub>b\\<^sub>b", "apply (metis flip_fresh_fresh flip_l_eq permute_flip_cancel2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b =\n                         x3[z::=B_var bv]\\<^sub>b\\<^sub>b", "using  fresh_at_base flip_fresh_fresh[of bv  x z]"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x; atom z \\<sharp> x\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x = x\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b =\n                         x3[z::=B_var bv]\\<^sub>b\\<^sub>b", "apply (simp add: flip_fresh_fresh)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4;\n        \\<And>a b.\n           sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow>\n           a \\<sharp> b;\n        \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b)\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b =\n                         x3[z::=B_var bv]\\<^sub>b\\<^sub>b", "using subst_b_b_def"], ["proof (prove)\nusing this:\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4;\n        \\<And>a b.\n           sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow>\n           a \\<sharp> b;\n        \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b)\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b =\n                         x3[z::=B_var bv]\\<^sub>b\\<^sub>b", "by argo"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::v and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "apply (induct c rule: v.induct,  (auto simp add: fresh_at_base  subst_vb.simps subst_b_v_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x = x\n 2. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>v\\<^sub>b =\n                x4[z::=v]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x3[z::=v]\\<^sub>b\\<^sub>b", "apply (metis flip_fresh_fresh flip_l_eq permute_flip_cancel2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>v\\<^sub>b =\n                x4[z::=v]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x3[z::=v]\\<^sub>b\\<^sub>b", "using  fresh_at_base flip_fresh_fresh[of bv  x z]"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x; atom z \\<sharp> x\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x = x\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>v\\<^sub>b =\n                x4[z::=v]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x3[z::=v]\\<^sub>b\\<^sub>b", "apply (simp add: flip_fresh_fresh)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>v\\<^sub>b =\n                x4[z::=v]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4;\n        \\<And>a b.\n           sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow>\n           a \\<sharp> b;\n        \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b)\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x3[z::=v]\\<^sub>b\\<^sub>b", "using     subst_b_b_def  flip_subst_subst"], ["proof (prove)\nusing this:\n  subst_b = subst_bb_abbrev\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>v\\<^sub>b =\n                x4[z::=v]\\<^sub>v\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2a; atom bv \\<sharp> x3;\n        atom bv \\<sharp> x4;\n        \\<And>a b.\n           sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow>\n           a \\<sharp> b;\n        \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b)\\<rbrakk>\n       \\<Longrightarrow> x3[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x3[z::=v]\\<^sub>b\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Constraints Expressions\\<close>"], ["", "nominal_function subst_ceb :: \"ce \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> ce\" where\n  \"subst_ceb  ( (CE_val v') ) bv b = ( CE_val (subst_vb v' bv b) )\"\n| \"subst_ceb  ( (CE_op opp v1 v2) ) bv b = ( (CE_op opp (subst_ceb v1 bv b)(subst_ceb v2 bv b)) )\"\n| \"subst_ceb  ( (CE_fst v')) bv b = CE_fst (subst_ceb v' bv b)\"\n| \"subst_ceb  ( (CE_snd v')) bv b = CE_snd (subst_ceb v' bv b)\"\n| \"subst_ceb  ( (CE_len v')) bv b = CE_len (subst_ceb v' bv b)\"\n| \"subst_ceb  ( CE_concat v1 v2) bv b = CE_concat (subst_ceb v1 bv b) (subst_ceb v2 bv b)\""], ["proof (prove)\ngoal (24 subgoals):\n 1. eqvt subst_ceb_graph_aux\n 2. \\<And>x y. subst_ceb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = ([ v' ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>opp v1 v2 bv b.\n           x = ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([#1v']\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([#2v']\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([| v' |]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1 @@ v2 ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n       ([ v'a ]\\<^sup>c\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n       [ v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n 5. \\<And>v' bv b opp v1 v2 bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bva, ba);\n        eqvt_at subst_ceb_sumC (v2, bva, ba); True; True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [ opp subst_ceb_sumC\n                                (v1, bva,\n                                 ba) subst_ceb_sumC\n(v2, bva, ba) ]\\<^sup>c\\<^sup>e\n 6. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([#1v'a]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [#1subst_ceb_sumC (v'a, bva, ba)]\\<^sup>c\\<^sup>e\n 7. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([#2v'a]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [#2subst_ceb_sumC (v'a, bva, ba)]\\<^sup>c\\<^sup>e\n 8. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([| v'a |]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [| subst_ceb_sumC (v'a, bva, ba) |]\\<^sup>c\\<^sup>e\n 9. \\<And>v' bv b v1 v2 bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bva, ba);\n        eqvt_at subst_ceb_sumC (v2, bva, ba); True; True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([ v1 @@ v2 ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [ subst_ceb_sumC\n                            (v1, bva,\n                             ba) @@ subst_ceb_sumC\n                                     (v2, bva, ba) ]\\<^sup>c\\<^sup>e\n 10. \\<And>opp v1 v2 bv b oppa v1a v2a bva ba.\n        \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bv, b);\n         eqvt_at subst_ceb_sumC (v2, bv, b);\n         eqvt_at subst_ceb_sumC (v1a, bva, ba);\n         eqvt_at subst_ceb_sumC (v2a, bva, ba); True; True; True; True;\n         ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bv, b) =\n         ([ oppa v1a v2a ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n        \\<Longrightarrow> [ opp subst_ceb_sumC\n                                 (v1, bv,\n                                  b) subst_ceb_sumC\n(v2, bv, b) ]\\<^sup>c\\<^sup>e =\n                          [ oppa subst_ceb_sumC\n                                  (v1a, bva,\n                                   ba) subst_ceb_sumC\n  (v2a, bva, ba) ]\\<^sup>c\\<^sup>e\nA total of 24 subgoals...", "apply (simp add: eqvt_def subst_ceb_graph_aux_def)"], ["proof (prove)\ngoal (23 subgoals):\n 1. \\<And>x y. subst_ceb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = ([ v' ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>opp v1 v2 bv b.\n           x = ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([#1v']\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([#2v']\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b.\n           x = ([| v' |]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1 @@ v2 ]\\<^sup>c\\<^sup>e, bv, b) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n       ([ v'a ]\\<^sup>c\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n       [ v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n 4. \\<And>v' bv b opp v1 v2 bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bva, ba);\n        eqvt_at subst_ceb_sumC (v2, bva, ba); True; True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [ opp subst_ceb_sumC\n                                (v1, bva,\n                                 ba) subst_ceb_sumC\n(v2, bva, ba) ]\\<^sup>c\\<^sup>e\n 5. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([#1v'a]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [#1subst_ceb_sumC (v'a, bva, ba)]\\<^sup>c\\<^sup>e\n 6. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([#2v'a]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [#2subst_ceb_sumC (v'a, bva, ba)]\\<^sup>c\\<^sup>e\n 7. \\<And>v' bv b v'a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v'a, bva, ba); True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([| v'a |]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [| subst_ceb_sumC (v'a, bva, ba) |]\\<^sup>c\\<^sup>e\n 8. \\<And>v' bv b v1 v2 bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bva, ba);\n        eqvt_at subst_ceb_sumC (v2, bva, ba); True; True;\n        ([ v' ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([ v1 @@ v2 ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e =\n                         [ subst_ceb_sumC\n                            (v1, bva,\n                             ba) @@ subst_ceb_sumC\n                                     (v2, bva, ba) ]\\<^sup>c\\<^sup>e\n 9. \\<And>opp v1 v2 bv b oppa v1a v2a bva ba.\n       \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bv, b);\n        eqvt_at subst_ceb_sumC (v2, bv, b);\n        eqvt_at subst_ceb_sumC (v1a, bva, ba);\n        eqvt_at subst_ceb_sumC (v2a, bva, ba); True; True; True; True;\n        ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bv, b) =\n        ([ oppa v1a v2a ]\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> [ opp subst_ceb_sumC\n                                (v1, bv,\n                                 b) subst_ceb_sumC\n                                     (v2, bv, b) ]\\<^sup>c\\<^sup>e =\n                         [ oppa subst_ceb_sumC\n                                 (v1a, bva,\n                                  ba) subst_ceb_sumC\n (v2a, bva, ba) ]\\<^sup>c\\<^sup>e\n 10. \\<And>opp v1 v2 bv b v' bva ba.\n        \\<lbrakk>eqvt_at subst_ceb_sumC (v1, bv, b);\n         eqvt_at subst_ceb_sumC (v2, bv, b);\n         eqvt_at subst_ceb_sumC (v', bva, ba); True; True; True;\n         ([ opp v1 v2 ]\\<^sup>c\\<^sup>e, bv, b) =\n         ([#1v']\\<^sup>c\\<^sup>e, bva, ba)\\<rbrakk>\n        \\<Longrightarrow> [ opp subst_ceb_sumC\n                                 (v1, bv,\n                                  b) subst_ceb_sumC\n(v2, bv, b) ]\\<^sup>c\\<^sup>e =\n                          [#1subst_ceb_sumC (v', bva, ba)]\\<^sup>c\\<^sup>e\nA total of 23 subgoals...", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>\\<And>v'. a = [ v' ]\\<^sup>c\\<^sup>e \\<Longrightarrow> P;\n        \\<And>opp v1 v2.\n           a = [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [#1v']\\<^sup>c\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [#2v']\\<^sup>c\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [| v' |]\\<^sup>c\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v1 v2.\n           a = [ v1 @@ v2 ]\\<^sup>c\\<^sup>e \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "by (meson ce.strong_exhaust)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_ceb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_ceb_abbrev :: \"ce \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> ce\" (\"_[_::=_]\\<^sub>c\\<^sub>e\\<^sub>b\" [1000,50,50] 500)\n  where \n    \"ce[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b  \\<equiv> subst_ceb ce bv b\""], ["", "instantiation ce :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_ceb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(ce, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::ce"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof (induct t rule: ce.induct)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_val v)"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ xa ]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ v ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "using subst_ceb.simps fresh_def pure_fresh subst_b_ce_def ce.supp v.supp  ce.fresh has_subst_b_class.fresh_subst_if subst_b_b_def subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_ceb_abbrev\n  supp [ ?v ]\\<^sup>c\\<^sup>e = supp ?v\n  supp [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  supp ?opp \\<union> (supp ?ce1.0 \\<union> supp ?ce2.0)\n  supp [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  supp ?ce1.0 \\<union> supp ?ce2.0\n  supp [#1?ce]\\<^sup>c\\<^sup>e = supp ?ce\n  supp [#2?ce]\\<^sup>c\\<^sup>e = supp ?ce\n  supp [| ?ce |]\\<^sup>c\\<^sup>e = supp ?ce\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ v ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [ v ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ v ]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_op opp v1 v2)"], ["proof (state)\nthis:\n  j \\<sharp> v1[i::=x]\\<^sub>b =\n  (atom i \\<sharp> v1 \\<and> j \\<sharp> v1 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> v1 \\<or> j = atom i))\n  j \\<sharp> v2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> v2 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> v2 \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "have \"(j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and> j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) = ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j \\<sharp> x \\<and> (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n    ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))", "using has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n    ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))", "using CE_op.hyps(1) CE_op.hyps(2) subst_b_ce_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  j \\<sharp> v1[i::=x]\\<^sub>b =\n  (atom i \\<sharp> v1 \\<and> j \\<sharp> v1 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> v1 \\<or> j = atom i))\n  j \\<sharp> v2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> v2 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> v2 \\<or> j = atom i))\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n    ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n   j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n  ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n   j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>j \\<sharp> x2[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i));\n        j \\<sharp> x3[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x3 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "thus ?case"], ["proof (prove)\nusing this:\n  (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n   j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n  ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n   j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "unfolding subst_ceb.simps subst_b_ce_def ce.fresh"], ["proof (prove)\nusing this:\n  (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n   j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n  ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n   j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. (j \\<sharp> opp \\<and>\n     j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n    ((atom i \\<sharp> opp \\<and>\n      atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n      j = atom i))", "using fresh_def pure_fresh opp.fresh subst_b_v_def  opp.exhaust fresh_e_opp_all"], ["proof (prove)\nusing this:\n  (j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n   j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n  ((atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n   j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or> j = atom i))\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  ?a \\<sharp> plus\n  ?a \\<sharp> leq\n  ?a \\<sharp> eq\n  subst_b = subst_vb_abbrev\n  \\<lbrakk>?y = plus \\<Longrightarrow> ?P; ?y = leq \\<Longrightarrow> ?P;\n   ?y = eq \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  (?z \\<sharp> ?v1.0 \\<and> ?z \\<sharp> ?v2.0) =\n  ?z \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. (j \\<sharp> opp \\<and>\n     j \\<sharp> v1[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>c\\<^sub>e\\<^sub>b) =\n    ((atom i \\<sharp> opp \\<and>\n      atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n      j = atom i))", "by (metis (full_types))"], ["proof (state)\nthis:\n  j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> [ opp v1 v2 ]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_concat x1a x2)"], ["proof (state)\nthis:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>j \\<sharp> x1a[i::=x]\\<^sub>b =\n                (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n                 j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i));\n        j \\<sharp> x2[i::=x]\\<^sub>b =\n        (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n                          j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n                           j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "using subst_ceb.simps  subst_b_ce_def e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def  ce.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x1a[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x1a \\<and> j \\<sharp> x1a \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x1a \\<or> j = atom i))\n  j \\<sharp> x2[i::=x]\\<^sub>b =\n  (atom i \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> x2 \\<or> j = atom i))\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "by force"], ["proof (state)\nthis:\n  j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_fst x)"], ["proof (state)\nthis:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [#1xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#1x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "using subst_ceb.simps  subst_b_ce_def e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def  ce.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#1x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [#1x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and>\n   (j \\<sharp> [#1x]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_snd x)"], ["proof (state)\nthis:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [#2xa]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#2x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "using subst_ceb.simps  subst_b_ce_def e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def  ce.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#2x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [#2x]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and>\n   (j \\<sharp> [#2x]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "case (CE_len x)"], ["proof (state)\nthis:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> xa[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> xa \\<and> j \\<sharp> xa \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> xa \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [| x |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "using subst_ceb.simps  subst_b_ce_def e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def  ce.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> x \\<and> j \\<sharp> x \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> x \\<or> j = atom i))\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n\ngoal (1 subgoal):\n 1. j \\<sharp> [| x |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<and>\n     j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and>\n     (j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [| x |]\\<^sup>c\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<and>\n   j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and>\n   (j \\<sharp> [| x |]\\<^sup>c\\<^sup>e \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::ce and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "apply(induct tm rule: ce.induct)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> [ x ]\\<^sup>c\\<^sup>e \\<Longrightarrow>\n       [ x ]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b = [ x ]\\<^sup>c\\<^sup>e\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x2 \\<Longrightarrow> x2[a::=x]\\<^sub>b = x2;\n        atom a \\<sharp> x3 \\<Longrightarrow> x3[a::=x]\\<^sub>b = x3;\n        atom a \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n 3. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a \\<Longrightarrow>\n                x1a[a::=x]\\<^sub>b = x1a;\n        atom a \\<sharp> x2 \\<Longrightarrow> x2[a::=x]\\<^sub>b = x2;\n        atom a \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n 4. \\<And>x.\n       \\<lbrakk>atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>b = x;\n        atom a \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> [#1x]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e\n 5. \\<And>x.\n       \\<lbrakk>atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>b = x;\n        atom a \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> [#2x]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e\n 6. \\<And>x.\n       \\<lbrakk>atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>b = x;\n        atom a \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> [| x |]\\<^sup>c\\<^sup>e[a::=x]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e", "apply( auto simp add: fresh_at_base subst_ceb.simps subst_b_ce_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x", "using has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::ce"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_bb.simps  subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "apply (induct tm rule: ce.induct)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x ]\\<^sup>c\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [ x ]\\<^sup>c\\<^sup>e\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x2[a::=B_var a]\\<^sub>b = x2;\n        \\<lbrakk>\\<And>bv2 bv1 b.\n                    (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    (if bv1 = bv2 then b else B_var bv2);\n         \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n         \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n         \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n         \\<And>b1 b2 bv1 b.\n            [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n            [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n         \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n         \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n         \\<And>s b2 bv1 b.\n            (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n            B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n         subst_b = subst_bb_abbrev\\<rbrakk>\n        \\<Longrightarrow> x3[a::=B_var a]\\<^sub>b = x3;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[a::=B_var\n                      a]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n 3. \\<And>x1a x2.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x1a[a::=B_var a]\\<^sub>b = x1a;\n        \\<lbrakk>\\<And>bv2 bv1 b.\n                    (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    (if bv1 = bv2 then b else B_var bv2);\n         \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n         \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n         \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n         \\<And>b1 b2 bv1 b.\n            [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n            [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n         \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n         \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n         \\<And>s b2 bv1 b.\n            (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n            B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n         subst_b = subst_bb_abbrev\\<rbrakk>\n        \\<Longrightarrow> x2[a::=B_var a]\\<^sub>b = x2;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[a::=B_var\n                      a]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n 4. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x[a::=B_var a]\\<^sub>b = x;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [#1x]\\<^sup>c\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x[a::=B_var a]\\<^sub>b = x;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [#2x]\\<^sup>c\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>bv2 bv1 b.\n                            (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                            (if bv1 = bv2 then b else B_var bv2);\n                 \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n                 \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n                 \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n                 \\<And>b1 b2 bv1 b.\n                    [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n                    [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n                 \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n                 \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n                 \\<And>s b2 bv1 b.\n                    (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n                 subst_b = subst_bb_abbrev\\<rbrakk>\n                \\<Longrightarrow> x[a::=B_var a]\\<^sub>b = x;\n        \\<And>bv2 bv1 b.\n           (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [| x |]\\<^sup>c\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e", "apply(auto simp add: fresh_at_base subst_ceb.simps subst_b_ce_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x", "using has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::ce"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply(induct tm rule: ce.induct)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>x1a x2.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 6. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply( auto simp add: fresh_at_base subst_bb.simps subst_b_b_def )"], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt  subst_b_b_def ce.fresh"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by (simp add: subst_b_ce_def)+"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::ce and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (induct c rule: ce.induct,  (auto simp add: fresh_at_base  subst_ceb.simps subst_b_ce_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       x[z::=B_var bv]\\<^sub>b = x[z::=B_var bv]\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "using  flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       x[z::=B_var bv]\\<^sub>b = x[z::=B_var bv]\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "apply metis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "using  flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>(bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b;\n        atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "by (simp add: flip_fresh_fresh fresh_opp_all)"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::ce and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "proof (induct c rule: ce.induct)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n                x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n        x3[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_val x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n                x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n        x3[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using flip_subst_subst subst_b_v_def subst_ceb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using subst_b_ce_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [ x ]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [ x ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n                x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n        x3[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n                x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n        x3[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_op x1a x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n  x3[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n\ngoal (5 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n                x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n        x3[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n  x3[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>b =\n  x3[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "unfolding subst_ceb.simps subst_b_ce_def ce.perm_simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x3[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n  atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. [ (bv \\<leftrightarrow> z) \\<bullet> x1a ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e =\n    [ x1a x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b x3[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e", "using flip_subst_subst subst_b_v_def  opp.perm_simps opp.strong_exhaust"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x3[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n  atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?p \\<bullet> plus = plus\n  ?p \\<bullet> leq = leq\n  ?p \\<bullet> eq = eq\n  \\<lbrakk>?y = plus \\<Longrightarrow> ?P; ?y = leq \\<Longrightarrow> ?P;\n   ?y = eq \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. [ (bv \\<leftrightarrow> z) \\<bullet> x1a ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e =\n    [ x1a x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b x3[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e", "by (metis (full_types) ce.fresh(2))"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_concat x1a x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1a \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n  x1a[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n\ngoal (4 subgoals):\n 1. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> x1a \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n                x1a[z::=v]\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n        x2[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x1a \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n  x1a[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1a \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n  x1a[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using flip_subst_subst subst_b_v_def subst_ceb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1a \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n  x1a[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using subst_b_ce_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1a \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1a)[bv::=v]\\<^sub>b =\n  x1a[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_fst x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using flip_subst_subst subst_b_v_def subst_ceb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using subst_b_ce_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#1x]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [#1x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [#1x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_snd x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using flip_subst_subst subst_b_v_def subst_ceb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using subst_b_ce_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [#2x]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [#2x]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [#2x]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "case (CE_len x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b =\n                x[z::=v]\\<^sub>b;\n        atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n                         [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using flip_subst_subst subst_b_v_def subst_ceb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "using subst_b_ce_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x)[bv::=v]\\<^sub>b = x[z::=v]\\<^sub>b\n  atom bv \\<sharp> [| x |]\\<^sup>c\\<^sup>e\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n    [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>c\\<^sup>e)[bv::=v]\\<^sub>b =\n  [| x |]\\<^sup>c\\<^sup>e[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Constraints\\<close>"], ["", "nominal_function subst_cb :: \"c \\<Rightarrow> bv \\<Rightarrow> b  \\<Rightarrow> c\" where\n  \"subst_cb (C_true) x v = C_true\"\n|  \"subst_cb (C_false) x v = C_false\"\n|  \"subst_cb (C_conj c1 c2) x v = C_conj (subst_cb c1 x v ) (subst_cb c2 x v )\"\n|  \"subst_cb (C_disj c1 c2) x v = C_disj (subst_cb c1 x v ) (subst_cb c2 x v )\"\n|  \"subst_cb (C_imp c1 c2) x v = C_imp (subst_cb c1 x v ) (subst_cb c2 x v )\"\n|  \"subst_cb (C_eq e1 e2) x v = C_eq (subst_ceb e1 x v ) (subst_ceb e2 x v )\"\n|  \"subst_cb (C_not c) x v = C_not (subst_cb c x v )\""], ["proof (prove)\ngoal (31 subgoals):\n 1. eqvt subst_cb_graph_aux\n 2. \\<And>x y. subst_cb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>xa v. x = (TRUE, xa, v) \\<Longrightarrow> P;\n        \\<And>xa v. x = (FALSE, xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1  AND  c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1 OR c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1  IMP  c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>e1 e2 xa v. x = (e1  ==  e2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c xa v. x = (\\<not> c , xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>x v xa va.\n       (TRUE, x, v) = (TRUE, xa, va) \\<Longrightarrow> (TRUE) = (TRUE)\n 5. \\<And>x v xa va.\n       (TRUE, x, v) = (FALSE, xa, va) \\<Longrightarrow> (TRUE) = (FALSE)\n 6. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1  AND  c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va)  AND  subst_cb_sumC (c2, xa, va) )\n 7. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1 OR c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va) OR subst_cb_sumC (c2, xa, va) )\n 8. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1  IMP  c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va)  IMP  subst_cb_sumC (c2, xa, va) )\n 9. \\<And>x v e1 e2 xa va.\n       (TRUE, x, v) = (e1  ==  e2 , xa, va) \\<Longrightarrow>\n       (TRUE) =\n       (e1[xa::=va]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[xa::=va]\\<^sub>c\\<^sub>e\\<^sub>b )\n 10. \\<And>x v c xa va.\n        \\<lbrakk>eqvt_at subst_cb_sumC (c, xa, va); True;\n         (TRUE, x, v) = (\\<not> c , xa, va)\\<rbrakk>\n        \\<Longrightarrow> (TRUE) = (\\<not> subst_cb_sumC (c, xa, va) )\nA total of 31 subgoals...", "apply (simp add: eqvt_def subst_cb_graph_aux_def)"], ["proof (prove)\ngoal (30 subgoals):\n 1. \\<And>x y. subst_cb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>xa v. x = (TRUE, xa, v) \\<Longrightarrow> P;\n        \\<And>xa v. x = (FALSE, xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1  AND  c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1 OR c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c1 c2 xa v. x = (c1  IMP  c2 , xa, v) \\<Longrightarrow> P;\n        \\<And>e1 e2 xa v. x = (e1  ==  e2 , xa, v) \\<Longrightarrow> P;\n        \\<And>c xa v. x = (\\<not> c , xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>x v xa va.\n       (TRUE, x, v) = (TRUE, xa, va) \\<Longrightarrow> (TRUE) = (TRUE)\n 4. \\<And>x v xa va.\n       (TRUE, x, v) = (FALSE, xa, va) \\<Longrightarrow> (TRUE) = (FALSE)\n 5. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1  AND  c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va)  AND  subst_cb_sumC (c2, xa, va) )\n 6. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1 OR c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va) OR subst_cb_sumC (c2, xa, va) )\n 7. \\<And>x v c1 c2 xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c1, xa, va);\n        eqvt_at subst_cb_sumC (c2, xa, va); True; True;\n        (TRUE, x, v) = (c1  IMP  c2 , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) =\n                         (subst_cb_sumC\n                           (c1, xa, va)  IMP  subst_cb_sumC (c2, xa, va) )\n 8. \\<And>x v e1 e2 xa va.\n       (TRUE, x, v) = (e1  ==  e2 , xa, va) \\<Longrightarrow>\n       (TRUE) =\n       (e1[xa::=va]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[xa::=va]\\<^sub>c\\<^sub>e\\<^sub>b )\n 9. \\<And>x v c xa va.\n       \\<lbrakk>eqvt_at subst_cb_sumC (c, xa, va); True;\n        (TRUE, x, v) = (\\<not> c , xa, va)\\<rbrakk>\n       \\<Longrightarrow> (TRUE) = (\\<not> subst_cb_sumC (c, xa, va) )\n 10. \\<And>x v xa va.\n        (FALSE, x, v) = (FALSE, xa, va) \\<Longrightarrow> (FALSE) = (FALSE)\nA total of 30 subgoals...", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = (TRUE) \\<Longrightarrow> P;\n        a = (FALSE) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1  AND  c2 ) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1 OR c2 ) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1  IMP  c2 ) \\<Longrightarrow> P;\n        \\<And>e1 e2. a = (e1  ==  e2 ) \\<Longrightarrow> P;\n        \\<And>c. a = (\\<not> c ) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using c.strong_exhaust"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y = (TRUE) \\<Longrightarrow> ?P;\n   ?y = (FALSE) \\<Longrightarrow> ?P;\n   \\<And>x31 x32. ?y = (x31  AND  x32 ) \\<Longrightarrow> ?P;\n   \\<And>x41 x42. ?y = (x41 OR x42 ) \\<Longrightarrow> ?P;\n   \\<And>x5. ?y = (\\<not> x5 ) \\<Longrightarrow> ?P;\n   \\<And>x61 x62. ?y = (x61  IMP  x62 ) \\<Longrightarrow> ?P;\n   \\<And>x71 x72. ?y = (x71  ==  x72 ) \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = (TRUE) \\<Longrightarrow> P;\n        a = (FALSE) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1  AND  c2 ) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1 OR c2 ) \\<Longrightarrow> P;\n        \\<And>c1 c2. a = (c1  IMP  c2 ) \\<Longrightarrow> P;\n        \\<And>e1 e2. a = (e1  ==  e2 ) \\<Longrightarrow> P;\n        \\<And>c. a = (\\<not> c ) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "apply metis"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_cb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_cb_abbrev :: \"c \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> c\" (\"_[_::=_]\\<^sub>c\\<^sub>b\" [1000,50,50] 500)\n  where \n    \"c[bv::=b]\\<^sub>c\\<^sub>b  \\<equiv> subst_cb c bv b\""], ["", "instantiation c :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_cb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(c, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::c"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "by (induct t rule: c.induct, unfold subst_cb.simps subst_b_c_def c.fresh,\n        (metis has_subst_b_class.fresh_subst_if subst_b_ce_def c.fresh)+\n        )"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::c and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "by(induct tm rule: c.induct, unfold subst_cb.simps subst_b_c_def c.fresh,\n        (metis has_subst_b_class.forget_subst subst_b_ce_def)+)"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::c"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_bb.simps  subst_b_c_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "by(induct tm rule: c.induct, unfold subst_cb.simps subst_b_c_def c.fresh,\n        (metis has_subst_b_class.subst_id subst_b_ce_def)+)"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::c"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply(induct tm rule: c.induct,unfold subst_cb.simps subst_b_c_def c.fresh)"], ["proof (prove)\ngoal (7 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 3. \\<And>x1a x2.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 4. \\<And>x1a x2.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 5. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 6. \\<And>x1a x2.\n       \\<lbrakk>p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b;\n        p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n                         (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b\n 7. \\<And>x1a x2.\n       p \\<bullet> t1[x1::=v]\\<^sub>c\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>c\\<^sub>b", "by( auto simp add: fresh_at_base subst_bb.simps subst_b_b_def )"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::c and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (induct c rule: c.induct,  (auto simp add: fresh_at_base  subst_cb.simps subst_b_c_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1[z::=B_var bv]\\<^sub>b =\n                         x1[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b", "using  flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_ce_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_ceb_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1[z::=B_var bv]\\<^sub>b =\n                         x1[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b", "apply metis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b", "using  flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_ce_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_ceb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>c\\<^sub>e\\<^sub>b", "apply (metis opp.perm_simps(2) opp.strong_exhaust)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::c and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "apply (induct c rule: c.induct,  (auto simp add: fresh_at_base  subst_cb.simps subst_b_c_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x1[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "using flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_ce_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_ceb_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x1[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "using flip_subst_subst"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_ceb_abbrev\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x1[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "using  flip_fresh_fresh flip_l_eq permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_ce_def \n      opp.perm_simps(2) opp.strong_exhaust"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?z \\<leftrightarrow> ?c) \\<bullet> ?x =\n  (?z' \\<leftrightarrow> ?c) \\<bullet> ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_ceb_abbrev\n  ?p \\<bullet> leq = leq\n  \\<lbrakk>?y = plus \\<Longrightarrow> ?P; ?y = leq \\<Longrightarrow> ?P;\n   ?y = eq \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2;\n        \\<And>a x b.\n           \\<lbrakk>atom a \\<sharp> x; atom b \\<sharp> x\\<rbrakk>\n           \\<Longrightarrow> (a \\<leftrightarrow> b) \\<bullet> x = x;\n        \\<And>z c x z'.\n           (z \\<leftrightarrow> c) \\<bullet> x =\n           (z' \\<leftrightarrow> c) \\<bullet> x;\n        \\<And>a b x.\n           (a \\<leftrightarrow> b) \\<bullet> (b \\<leftrightarrow> a) \\<bullet> x =\n           x;\n        \\<And>bv c z.\n           atom bv \\<sharp> c \\<Longrightarrow>\n           (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b;\n        subst_b = subst_ceb_abbrev; \\<And>p. p \\<bullet> leq = leq;\n        \\<And>y P.\n           \\<lbrakk>y = plus \\<Longrightarrow> P;\n            y = leq \\<Longrightarrow> P; y = eq \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "fix x1a :: ce and x2 :: ce"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2;\n        \\<And>a x b.\n           \\<lbrakk>atom a \\<sharp> x; atom b \\<sharp> x\\<rbrakk>\n           \\<Longrightarrow> (a \\<leftrightarrow> b) \\<bullet> x = x;\n        \\<And>z c x z'.\n           (z \\<leftrightarrow> c) \\<bullet> x =\n           (z' \\<leftrightarrow> c) \\<bullet> x;\n        \\<And>a b x.\n           (a \\<leftrightarrow> b) \\<bullet> (b \\<leftrightarrow> a) \\<bullet> x =\n           x;\n        \\<And>bv c z.\n           atom bv \\<sharp> c \\<Longrightarrow>\n           (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b;\n        subst_b = subst_ceb_abbrev; \\<And>p. p \\<bullet> leq = leq;\n        \\<And>y P.\n           \\<lbrakk>y = plus \\<Longrightarrow> P;\n            y = leq \\<Longrightarrow> P; y = eq \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "assume a1: \"atom bv \\<sharp> x2\""], ["proof (state)\nthis:\n  atom bv \\<sharp> x2\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2;\n        \\<And>a x b.\n           \\<lbrakk>atom a \\<sharp> x; atom b \\<sharp> x\\<rbrakk>\n           \\<Longrightarrow> (a \\<leftrightarrow> b) \\<bullet> x = x;\n        \\<And>z c x z'.\n           (z \\<leftrightarrow> c) \\<bullet> x =\n           (z' \\<leftrightarrow> c) \\<bullet> x;\n        \\<And>a b x.\n           (a \\<leftrightarrow> b) \\<bullet> (b \\<leftrightarrow> a) \\<bullet> x =\n           x;\n        \\<And>bv c z.\n           atom bv \\<sharp> c \\<Longrightarrow>\n           (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b;\n        subst_b = subst_ceb_abbrev; \\<And>p. p \\<bullet> leq = leq;\n        \\<And>y P.\n           \\<lbrakk>y = plus \\<Longrightarrow> P;\n            y = leq \\<Longrightarrow> P; y = eq \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x2", "have \"((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b = x2[z::=v]\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n    x2[z::=v]\\<^sub>b", "by (metis flip_subst_subst)"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2;\n        \\<And>a x b.\n           \\<lbrakk>atom a \\<sharp> x; atom b \\<sharp> x\\<rbrakk>\n           \\<Longrightarrow> (a \\<leftrightarrow> b) \\<bullet> x = x;\n        \\<And>z c x z'.\n           (z \\<leftrightarrow> c) \\<bullet> x =\n           (z' \\<leftrightarrow> c) \\<bullet> x;\n        \\<And>a b x.\n           (a \\<leftrightarrow> b) \\<bullet> (b \\<leftrightarrow> a) \\<bullet> x =\n           x;\n        \\<And>bv c z.\n           atom bv \\<sharp> c \\<Longrightarrow>\n           (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b;\n        subst_b = subst_ceb_abbrev; \\<And>p. p \\<bullet> leq = leq;\n        \\<And>y P.\n           \\<lbrakk>y = plus \\<Longrightarrow> P;\n            y = leq \\<Longrightarrow> P; y = eq \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1; atom bv \\<sharp> x2;\n        \\<And>a x b.\n           \\<lbrakk>atom a \\<sharp> x; atom b \\<sharp> x\\<rbrakk>\n           \\<Longrightarrow> (a \\<leftrightarrow> b) \\<bullet> x = x;\n        \\<And>z c x z'.\n           (z \\<leftrightarrow> c) \\<bullet> x =\n           (z' \\<leftrightarrow> c) \\<bullet> x;\n        \\<And>a b x.\n           (a \\<leftrightarrow> b) \\<bullet> (b \\<leftrightarrow> a) \\<bullet> x =\n           x;\n        \\<And>bv c z.\n           atom bv \\<sharp> c \\<Longrightarrow>\n           (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b;\n        subst_b = subst_ceb_abbrev; \\<And>p. p \\<bullet> leq = leq;\n        \\<And>y P.\n           \\<lbrakk>y = plus \\<Longrightarrow> P;\n            y = leq \\<Longrightarrow> P; y = eq \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var\n                                 bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b", "show \"x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b = x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\""], ["proof (prove)\nusing this:\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n    x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "using a1"], ["proof (prove)\nusing this:\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>b =\n  x2[z::=v]\\<^sub>b\n  atom bv \\<sharp> x2\n\ngoal (1 subgoal):\n 1. x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n    x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b", "by (simp add: subst_b_ce_def)"], ["proof (state)\nthis:\n  x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n\ngoal:\nNo subgoals!", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>c\\<^sub>e\\<^sub>b =\n  x2[z::=v]\\<^sub>c\\<^sub>e\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Types\\<close>"], ["", "nominal_function subst_tb :: \"\\<tau> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<tau>\" where\n  \"subst_tb  (\\<lbrace> z : b2 | c \\<rbrace>) bv1 b1 = \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (4 subgoals):\n 1. eqvt subst_tb_graph_aux\n 2. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 4. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "proof(goal_cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. eqvt subst_tb_graph_aux\n 2. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 4. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. eqvt subst_tb_graph_aux\n 2. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 4. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt subst_tb_graph_aux", "using eqvt_def subst_tb_graph_aux_def"], ["proof (prove)\nusing this:\n  eqvt ?f \\<equiv> \\<forall>p. p \\<bullet> ?f = ?f\n  subst_tb_graph_aux \\<equiv>\n  lfp (\\<lambda>p x1 x2.\n          \\<exists>subst_tb_aux z b2 c bv1 b1.\n             x1 = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<and>\n             x2 =\n             \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>)\n\ngoal (1 subgoal):\n 1. eqvt subst_tb_graph_aux", "by force"], ["proof (state)\nthis:\n  eqvt subst_tb_graph_aux\n\ngoal (3 subgoals):\n 1. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 3. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 3. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "case (2 x y)"], ["proof (state)\nthis:\n  subst_tb_graph x y\n\ngoal (3 subgoals):\n 1. \\<And>x y. subst_tb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 3. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  subst_tb_graph x y", "show ?case"], ["proof (prove)\nusing this:\n  subst_tb_graph x y\n\ngoal (1 subgoal):\n 1. True", "by auto"], ["proof (state)\nthis:\n  True\n\ngoal (2 subgoals):\n 1. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 2. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 2. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "case (3 P x)"], ["proof (state)\nthis:\n  x =\n  (\\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>, ?bv1.0, ?b1.0) \\<Longrightarrow>\n  P\n\ngoal (2 subgoals):\n 1. \\<And>P x.\n       (\\<And>z b2 c bv1 b1.\n           x = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 2. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  x =\n  (\\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>, ?bv1.0, ?b1.0) \\<Longrightarrow>\n  P", "show ?case"], ["proof (prove)\nusing this:\n  x =\n  (\\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>, ?bv1.0, ?b1.0) \\<Longrightarrow>\n  P\n\ngoal (1 subgoal):\n 1. P", "using eqvt_def subst_tb_graph_aux_def \\<tau>.strong_exhaust"], ["proof (prove)\nusing this:\n  x =\n  (\\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>, ?bv1.0, ?b1.0) \\<Longrightarrow>\n  P\n  eqvt ?f \\<equiv> \\<forall>p. p \\<bullet> ?f = ?f\n  subst_tb_graph_aux \\<equiv>\n  lfp (\\<lambda>p x1 x2.\n          \\<exists>subst_tb_aux z b2 c bv1 b1.\n             x1 = (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) \\<and>\n             x2 =\n             \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>)\n  (\\<And>x1 x2 x3.\n      \\<lbrakk>{atom x1} \\<sharp>* ?c;\n       ?y = \\<lbrace> x1 : x2  | x3 \\<rbrace>\\<rbrakk>\n      \\<Longrightarrow> ?P) \\<Longrightarrow>\n  ?P\n\ngoal (1 subgoal):\n 1. P", "by (metis b_of.cases prod_cases3)"], ["proof (state)\nthis:\n  P\n\ngoal (1 subgoal):\n 1. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "case (4 z' b2' c' bv1' b1' z b2 c bv1 b1)"], ["proof (state)\nthis:\n  (\\<lbrace> z' : b2'  | c' \\<rbrace>, bv1', b1') =\n  (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1)\n\ngoal (1 subgoal):\n 1. \\<And>z b2 c bv1 b1 za b2a ca bv1a b1a.\n       (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1) =\n       (\\<lbrace> za : b2a  | ca \\<rbrace>, bv1a, b1a) \\<Longrightarrow>\n       \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace> =\n       \\<lbrace> za : b2a[bv1a::=b1a]\\<^sub>b\\<^sub>b  | ca[bv1a::=b1a]\\<^sub>c\\<^sub>b \\<rbrace>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z' : b2'[bv1'::=b1']\\<^sub>b\\<^sub>b  | c'[bv1'::=b1']\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>", "unfolding \\<tau>.eq_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. [[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b \\<and>\n    b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. [[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b\n 2. b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "have *:\"[[atom z']]lst. c' = [[atom z]]lst. c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [[atom z']]lst. c' = [[atom z]]lst. c", "using  \\<tau>.eq_iff 4"], ["proof (prove)\nusing this:\n  (\\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n   \\<lbrace> ?xa : ?ba  | ?ca \\<rbrace>) =\n  ([[atom ?x]]lst. ?c = [[atom ?xa]]lst. ?ca \\<and> ?b = ?ba)\n  (\\<lbrace> z' : b2'  | c' \\<rbrace>, bv1', b1') =\n  (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1)\n\ngoal (1 subgoal):\n 1. [[atom z']]lst. c' = [[atom z]]lst. c", "by auto"], ["proof (state)\nthis:\n  [[atom z']]lst. c' = [[atom z]]lst. c\n\ngoal (2 subgoals):\n 1. [[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b\n 2. b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "show \"[[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b = [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b", "proof(subst Abs1_eq_iff_all(3),rule,rule,rule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "fix ca::x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "assume \"atom ca \\<sharp> z\" and 1:\"atom ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b, c[bv1::=b1]\\<^sub>c\\<^sub>b)\""], ["proof (state)\nthis:\n  atom ca \\<sharp> z\n  atom\n   ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                c[bv1::=b1]\\<^sub>c\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "hence 2:\"atom ca \\<sharp> (c',c)\""], ["proof (prove)\nusing this:\n  atom ca \\<sharp> z\n  atom\n   ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                c[bv1::=b1]\\<^sub>c\\<^sub>b)\n\ngoal (1 subgoal):\n 1. atom ca \\<sharp> (c', c)", "using fresh_subst_if subst_b_c_def fresh_Pair fresh_prod4 fresh_at_base subst_b_fresh_x"], ["proof (prove)\nusing this:\n  atom ca \\<sharp> z\n  atom\n   ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                c[bv1::=b1]\\<^sub>c\\<^sub>b)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_cb_abbrev\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n\ngoal (1 subgoal):\n 1. atom ca \\<sharp> (c', c)", "by metis"], ["proof (state)\nthis:\n  atom ca \\<sharp> (c', c)\n\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "hence \"(z' \\<leftrightarrow> ca) \\<bullet> c' = (z \\<leftrightarrow> ca) \\<bullet> c\""], ["proof (prove)\nusing this:\n  atom ca \\<sharp> (c', c)\n\ngoal (1 subgoal):\n 1. (z' \\<leftrightarrow> ca) \\<bullet> c' =\n    (z \\<leftrightarrow> ca) \\<bullet> c", "using 1 2 * Abs1_eq_iff_all(3)"], ["proof (prove)\nusing this:\n  atom ca \\<sharp> (c', c)\n  atom\n   ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                c[bv1::=b1]\\<^sub>c\\<^sub>b)\n  atom ca \\<sharp> (c', c)\n  [[atom z']]lst. c' = [[atom z]]lst. c\n  ([[atom ?a]]lst. ?x = [[atom ?b]]lst. ?y) =\n  (\\<forall>c.\n      atom c \\<sharp> ?z \\<longrightarrow>\n      atom c \\<sharp> (?a, ?b, ?x, ?y) \\<longrightarrow>\n      (?a \\<leftrightarrow> c) \\<bullet> ?x =\n      (?b \\<leftrightarrow> c) \\<bullet> ?y)\n\ngoal (1 subgoal):\n 1. (z' \\<leftrightarrow> ca) \\<bullet> c' =\n    (z \\<leftrightarrow> ca) \\<bullet> c", "by auto"], ["proof (state)\nthis:\n  (z' \\<leftrightarrow> ca) \\<bullet> c' =\n  (z \\<leftrightarrow> ca) \\<bullet> c\n\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "hence \"((z' \\<leftrightarrow> ca) \\<bullet> c')[bv1'::=b1']\\<^sub>c\\<^sub>b = ((z \\<leftrightarrow> ca) \\<bullet> c)[bv1'::=b1']\\<^sub>c\\<^sub>b\""], ["proof (prove)\nusing this:\n  (z' \\<leftrightarrow> ca) \\<bullet> c' =\n  (z \\<leftrightarrow> ca) \\<bullet> c\n\ngoal (1 subgoal):\n 1. ((z' \\<leftrightarrow> ca) \\<bullet> c')[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    ((z \\<leftrightarrow> ca) \\<bullet> c)[bv1'::=b1']\\<^sub>c\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((z' \\<leftrightarrow> ca) \\<bullet> c')[bv1'::=b1']\\<^sub>c\\<^sub>b =\n  ((z \\<leftrightarrow> ca) \\<bullet> c)[bv1'::=b1']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "hence \"(z' \\<leftrightarrow> ca) \\<bullet> c'[(z' \\<leftrightarrow> ca) \\<bullet> bv1'::=(z' \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b = (z \\<leftrightarrow> ca) \\<bullet> c[(z \\<leftrightarrow> ca) \\<bullet> bv1'::=(z \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b\""], ["proof (prove)\nusing this:\n  ((z' \\<leftrightarrow> ca) \\<bullet> c')[bv1'::=b1']\\<^sub>c\\<^sub>b =\n  ((z \\<leftrightarrow> ca) \\<bullet> c)[bv1'::=b1']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. (z' \\<leftrightarrow> ca) \\<bullet> c'[(z' \\<leftrightarrow> ca) \\<bullet> bv1'::=(z' \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b =\n    (z \\<leftrightarrow> ca) \\<bullet> c[(z \\<leftrightarrow> ca) \\<bullet> bv1'::=(z \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (z' \\<leftrightarrow> ca) \\<bullet> c'[(z' \\<leftrightarrow> ca) \\<bullet> bv1'::=(z' \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b =\n  (z \\<leftrightarrow> ca) \\<bullet> c[(z \\<leftrightarrow> ca) \\<bullet> bv1'::=(z \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>ca.\n       \\<lbrakk>atom ca \\<sharp> ?z;\n        atom\n         ca \\<sharp> (z', z, c'[bv1'::=b1']\\<^sub>c\\<^sub>b,\n                      c[bv1::=b1]\\<^sub>c\\<^sub>b)\\<rbrakk>\n       \\<Longrightarrow> (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n                         (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "thus \"(z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b = (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b\""], ["proof (prove)\nusing this:\n  (z' \\<leftrightarrow> ca) \\<bullet> c'[(z' \\<leftrightarrow> ca) \\<bullet> bv1'::=(z' \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b =\n  (z \\<leftrightarrow> ca) \\<bullet> c[(z \\<leftrightarrow> ca) \\<bullet> bv1'::=(z \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "using  4  flip_x_b_cancel"], ["proof (prove)\nusing this:\n  (z' \\<leftrightarrow> ca) \\<bullet> c'[(z' \\<leftrightarrow> ca) \\<bullet> bv1'::=(z' \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b =\n  (z \\<leftrightarrow> ca) \\<bullet> c[(z \\<leftrightarrow> ca) \\<bullet> bv1'::=(z \\<leftrightarrow> ca) \\<bullet> b1']\\<^sub>c\\<^sub>b\n  (\\<lbrace> z' : b2'  | c' \\<rbrace>, bv1', b1') =\n  (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1)\n  (?x \\<leftrightarrow> ?y) \\<bullet> ?b = ?b\n  (?x \\<leftrightarrow> ?y) \\<bullet> ?bv = ?bv\n\ngoal (1 subgoal):\n 1. (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n    (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (z' \\<leftrightarrow> ca) \\<bullet> c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n  (z \\<leftrightarrow> ca) \\<bullet> c[bv1::=b1]\\<^sub>c\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [[atom z']]lst. c'[bv1'::=b1']\\<^sub>c\\<^sub>b =\n  [[atom z]]lst. c[bv1::=b1]\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "show \"b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "using 4"], ["proof (prove)\nusing this:\n  (\\<lbrace> z' : b2'  | c' \\<rbrace>, bv1', b1') =\n  (\\<lbrace> z : b2  | c \\<rbrace>, bv1, b1)\n\ngoal (1 subgoal):\n 1. b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  b2'[bv1'::=b1']\\<^sub>b\\<^sub>b = b2[bv1::=b1]\\<^sub>b\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrace> z' : b2'[bv1'::=b1']\\<^sub>b\\<^sub>b  | c'[bv1'::=b1']\\<^sub>c\\<^sub>b \\<rbrace> =\n  \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_tb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_tb_abbrev :: \"\\<tau> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<tau>\" (\"_[_::=_]\\<^sub>\\<tau>\\<^sub>b\" [1000,50,50] 1000)\n  where \n    \"t[bv::=b']\\<^sub>\\<tau>\\<^sub>b  \\<equiv> subst_tb t bv b' \""], ["", "instantiation \\<tau> :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_tb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(\\<tau>, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::\\<tau>"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof (nominal_induct t avoiding: i x j rule: \\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a i x j.\n       \\<lbrakk>atom x1a \\<sharp> i; atom x1a \\<sharp> x;\n        atom x1a \\<sharp> j\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<and>\n                          j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<or>\n                           j = atom i))", "case (T_refined_type z b c)"], ["proof (state)\nthis:\n  atom z \\<sharp> i\n  atom z \\<sharp> x\n  atom z \\<sharp> j\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a i x j.\n       \\<lbrakk>atom x1a \\<sharp> i; atom x1a \\<sharp> x;\n        atom x1a \\<sharp> j\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<and>\n                          j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<or>\n                           j = atom i))", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> i\n  atom z \\<sharp> x\n  atom z \\<sharp> j", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> i\n  atom z \\<sharp> x\n  atom z \\<sharp> j\n\ngoal (1 subgoal):\n 1. j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>[i::=x]\\<^sub>b =\n    (atom i \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<and>\n     j \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<or> j = atom i))", "unfolding subst_b_\\<tau>_def  subst_tb.simps \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom z \\<sharp> i\n  atom z \\<sharp> x\n  atom z \\<sharp> j\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> c[i::=x]\\<^sub>c\\<^sub>b \\<or> j \\<in> set [atom z]) \\<and>\n     j \\<sharp> b[i::=x]\\<^sub>b\\<^sub>b) =\n    (((atom i \\<sharp> c \\<or> atom i \\<in> set [atom z]) \\<and>\n      atom i \\<sharp> b) \\<and>\n     (j \\<sharp> c \\<or> j \\<in> set [atom z]) \\<and> j \\<sharp> b \\<or>\n     j \\<sharp> x \\<and>\n     ((j \\<sharp> c \\<or> j \\<in> set [atom z]) \\<and> j \\<sharp> b \\<or>\n      j = atom i))", "using fresh_subst_if[of j b i x ] subst_b_b_def subst_b_c_def"], ["proof (prove)\nusing this:\n  atom z \\<sharp> i\n  atom z \\<sharp> x\n  atom z \\<sharp> j\n  j \\<sharp> b[i::=x]\\<^sub>b =\n  (atom i \\<sharp> b \\<and> j \\<sharp> b \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> b \\<or> j = atom i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> c[i::=x]\\<^sub>c\\<^sub>b \\<or> j \\<in> set [atom z]) \\<and>\n     j \\<sharp> b[i::=x]\\<^sub>b\\<^sub>b) =\n    (((atom i \\<sharp> c \\<or> atom i \\<in> set [atom z]) \\<and>\n      atom i \\<sharp> b) \\<and>\n     (j \\<sharp> c \\<or> j \\<in> set [atom z]) \\<and> j \\<sharp> b \\<or>\n     j \\<sharp> x \\<and>\n     ((j \\<sharp> c \\<or> j \\<in> set [atom z]) \\<and> j \\<sharp> b \\<or>\n      j = atom i))", "by (metis has_subst_b_class.fresh_subst_if list.distinct(1) list.set_cases not_self_fresh set_ConsD)"], ["proof (state)\nthis:\n  j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<and>\n   j \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> \\<lbrace> z : b  | c \\<rbrace> \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<tau> and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x  = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "proof (nominal_induct tm avoiding: a x rule: \\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a a x.\n       \\<lbrakk>atom x1a \\<sharp> a; atom x1a \\<sharp> x;\n        atom a \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=x]\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "case (T_refined_type xx bb cc )"], ["proof (state)\nthis:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a a x.\n       \\<lbrakk>atom x1a \\<sharp> a; atom x1a \\<sharp> x;\n        atom a \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=x]\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "moreover"], ["proof (state)\nthis:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a a x.\n       \\<lbrakk>atom x1a \\<sharp> a; atom x1a \\<sharp> x;\n        atom a \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=x]\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "hence \"atom a \\<sharp> bb \\<and> atom a \\<sharp> cc\""], ["proof (prove)\nusing this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n\ngoal (1 subgoal):\n 1. atom a \\<sharp> bb \\<and> atom a \\<sharp> cc", "using \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom a \\<sharp> bb \\<and> atom a \\<sharp> cc", "by auto"], ["proof (state)\nthis:\n  atom a \\<sharp> bb \\<and> atom a \\<sharp> cc\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a a x.\n       \\<lbrakk>atom x1a \\<sharp> a; atom x1a \\<sharp> x;\n        atom a \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=x]\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "ultimately"], ["proof (chain)\npicking this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n  atom a \\<sharp> bb \\<and> atom a \\<sharp> cc", "show   ?case"], ["proof (prove)\nusing this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n  atom a \\<sharp> bb \\<and> atom a \\<sharp> cc\n\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb  | cc \\<rbrace>[a::=x]\\<^sub>b =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "unfolding  subst_b_\\<tau>_def subst_tb.simps"], ["proof (prove)\nusing this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n  atom a \\<sharp> bb \\<and> atom a \\<sharp> cc\n\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb[a::=x]\\<^sub>b\\<^sub>b  | cc[a::=x]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "using forget_subst subst_b_b_def subst_b_c_def forget_subst \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom xx \\<sharp> a\n  atom xx \\<sharp> x\n  atom a \\<sharp> \\<lbrace> xx : bb  | cc \\<rbrace>\n  atom a \\<sharp> bb \\<and> atom a \\<sharp> cc\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb[a::=x]\\<^sub>b\\<^sub>b  | cc[a::=x]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<lbrace> xx : bb  | cc \\<rbrace>[a::=x]\\<^sub>b =\n  \\<lbrace> xx : bb  | cc \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<tau>"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "proof (nominal_induct tm rule: \\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=B_var a]\\<^sub>b =\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "case (T_refined_type xx bb cc)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>[a::=B_var a]\\<^sub>b =\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>", "thus  ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb  | cc \\<rbrace>[a::=B_var a]\\<^sub>b =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "unfolding  subst_b_\\<tau>_def subst_tb.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb[a::=B_var\n                           a]\\<^sub>b\\<^sub>b  | cc[a::=B_var\n                   a]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "using subst_id subst_b_b_def subst_b_c_def"], ["proof (prove)\nusing this:\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. \\<lbrace> xx : bb[a::=B_var\n                           a]\\<^sub>b\\<^sub>b  | cc[a::=B_var\n                   a]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> xx : bb  | cc \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<lbrace> xx : bb  | cc \\<rbrace>[a::=B_var a]\\<^sub>b =\n  \\<lbrace> xx : bb  | cc \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::\\<tau>"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v = subst_b (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by (induct tm rule: \\<tau>.induct, auto simp add: fresh_at_base subst_tb.simps subst_b_\\<tau>_def subst_bb.simps subst_b_b_def)"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::\\<tau> and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (induct c rule: \\<tau>.induct,  (auto simp add: fresh_at_base  subst_ceb.simps subst_b_ce_def permute_pure pure_supp )+)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       \\<lbrakk>atom bv \\<sharp> x3a; atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a[z::=B_var\n            bv]\\<^sub>b  | x3a[z::=B_var bv]\\<^sub>b \\<rbrace> =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=B_var\n                             bv]\\<^sub>b", "using  flip_fresh_fresh permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_c_def  subst_b_b_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_cb_abbrev\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       \\<lbrakk>atom bv \\<sharp> x3a; atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a[z::=B_var\n            bv]\\<^sub>b  | x3a[z::=B_var bv]\\<^sub>b \\<rbrace> =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=B_var\n                             bv]\\<^sub>b", "by (simp add: flip_fresh_fresh subst_b_\\<tau>_def)"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::\\<tau> and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "proof (induct c rule: \\<tau>.induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       atom\n        bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> \\<lbrace> x1a : x2a  | x3a \\<rbrace>)[bv::=v]\\<^sub>b =\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=v]\\<^sub>b", "case (T_refined_type x1a x2a x3a)"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       atom\n        bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> \\<lbrace> x1a : x2a  | x3a \\<rbrace>)[bv::=v]\\<^sub>b =\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=v]\\<^sub>b", "hence \"atom bv \\<sharp> x2a \\<and> atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> x2a \\<and>\n    atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a", "using fresh_at_base \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> x2a \\<and>\n    atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a", "by simp"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2a \\<and>\n  atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a.\n       atom\n        bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace> \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> \\<lbrace> x1a : x2a  | x3a \\<rbrace>)[bv::=v]\\<^sub>b =\n       \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x2a \\<and>\n  atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2a \\<and>\n  atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> \\<lbrace> x1a : x2a  | x3a \\<rbrace>)[bv::=v]\\<^sub>b =\n    \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=v]\\<^sub>b", "unfolding subst_tb.simps subst_b_\\<tau>_def \\<tau>.perm_simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2a \\<and>\n  atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "using fresh_at_base flip_fresh_fresh[of bv x1a z] flip_subst_subst subst_b_b_def  subst_b_c_def T_refined_type"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2a \\<and>\n  atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1a; atom z \\<sharp> x1a\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom bv \\<sharp> x2a \\<and>\n             atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<lbrakk>atom bv \\<sharp> x1a; atom z \\<sharp> x1a\\<rbrakk>\n     \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a;\n     \\<And>bv c z v.\n        atom bv \\<sharp> c \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n        c[z::=v]\\<^sub>b;\n     subst_b = subst_bb_abbrev; subst_b = subst_cb_abbrev;\n     atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n                      \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "have \"atom z \\<sharp> x1a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> x1a", "by (metis b.fresh(7) fresh_at_base(2) x_fresh_b)"], ["proof (state)\nthis:\n  atom z \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom bv \\<sharp> x2a \\<and>\n             atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<lbrakk>atom bv \\<sharp> x1a; atom z \\<sharp> x1a\\<rbrakk>\n     \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a;\n     \\<And>bv c z v.\n        atom bv \\<sharp> c \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n        c[z::=v]\\<^sub>b;\n     subst_b = subst_bb_abbrev; subst_b = subst_cb_abbrev;\n     atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n                      \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  atom z \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom bv \\<sharp> x2a \\<and>\n             atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<lbrakk>atom bv \\<sharp> x1a; atom z \\<sharp> x1a\\<rbrakk>\n     \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a;\n     \\<And>bv c z v.\n        atom bv \\<sharp> c \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n        c[z::=v]\\<^sub>b;\n     subst_b = subst_bb_abbrev; subst_b = subst_cb_abbrev;\n     atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n                      \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> x1a", "show \"\\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> = \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\nusing this:\n  atom z \\<sharp> x1a\n\ngoal (1 subgoal):\n 1. \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n    \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>", "by (metis \\<open>\\<lbrakk>atom bv \\<sharp> x1a; atom z \\<sharp> x1a\\<rbrakk> \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a\\<close> \\<open>atom bv \\<sharp> x2a \\<and> atom bv \\<sharp> x3a \\<and> atom bv \\<sharp> x1a\\<close> flip_subst_subst subst_b_b_def subst_b_c_def)"], ["proof (state)\nthis:\n  \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n  \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal:\nNo subgoals!", "(* 78 ms *)"], ["proof (state)\nthis:\n  \\<lbrace> (bv \\<leftrightarrow> z) \\<bullet> x1a : ((bv \\<leftrightarrow> z) \\<bullet> x2a)[bv::=v]\\<^sub>b\\<^sub>b  | ((bv \\<leftrightarrow> z) \\<bullet> x3a)[bv::=v]\\<^sub>c\\<^sub>b \\<rbrace> =\n  \\<lbrace> x1a : x2a[z::=v]\\<^sub>b\\<^sub>b  | x3a[z::=v]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<lbrace> x1a : x2a  | x3a \\<rbrace>)[bv::=v]\\<^sub>b =\n  \\<lbrace> x1a : x2a  | x3a \\<rbrace>[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma subst_bb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_bb (subst_bb A i t ) j u ) = subst_bb A i (subst_bb t j u) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    A[i::=t]\\<^sub>b\\<^sub>b[j::=u]\\<^sub>b\\<^sub>b =\n    A[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "by (nominal_induct A avoiding: i j t u rule: b.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_vb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_vb  (subst_vb A i t )) j u = subst_vb A i (subst_bb t j u ) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    (A[i::=t]\\<^sub>v\\<^sub>b)[j::=u]\\<^sub>v\\<^sub>b =\n    A[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>v\\<^sub>b", "by (nominal_induct A avoiding: i j t u rule: v.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_ceb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_ceb  (subst_ceb A i t )) j u = subst_ceb A i (subst_bb t j u ) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    (A[i::=t]\\<^sub>c\\<^sub>e\\<^sub>b)[j::=u]\\<^sub>c\\<^sub>e\\<^sub>b =\n    A[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>e\\<^sub>b", "by (nominal_induct A avoiding: i j t u rule: ce.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_cb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_cb  (subst_cb A i t )) j u = subst_cb A i (subst_bb t j u ) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    (A[i::=t]\\<^sub>c\\<^sub>b)[j::=u]\\<^sub>c\\<^sub>b =\n    A[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "by (nominal_induct A avoiding: i j t u rule: c.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_tb_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (subst_tb  (subst_tb A i t )) j u = subst_tb A i (subst_bb t j u ) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    A[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n    A[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "proof (nominal_induct A avoiding: i j t u rule: \\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a i j t u.\n       \\<lbrakk>atom x1a \\<sharp> i; atom x1a \\<sharp> j;\n        atom x1a \\<sharp> t; atom x1a \\<sharp> u;\n        atom j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "case (T_refined_type z b c)"], ["proof (state)\nthis:\n  atom z \\<sharp> i\n  atom z \\<sharp> j\n  atom z \\<sharp> t\n  atom z \\<sharp> u\n  atom j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a i j t u.\n       \\<lbrakk>atom x1a \\<sharp> i; atom x1a \\<sharp> j;\n        atom x1a \\<sharp> t; atom x1a \\<sharp> u;\n        atom j \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> i\n  atom z \\<sharp> j\n  atom z \\<sharp> t\n  atom z \\<sharp> u\n  atom j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> i\n  atom z \\<sharp> j\n  atom z \\<sharp> t\n  atom z \\<sharp> u\n  atom j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n    \\<lbrace> z : b  | c \\<rbrace>[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "using subst_tb.simps subst_bb_commute subst_cb_commute"], ["proof (prove)\nusing this:\n  atom z \\<sharp> i\n  atom z \\<sharp> j\n  atom z \\<sharp> t\n  atom z \\<sharp> u\n  atom j \\<sharp> \\<lbrace> z : b  | c \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  atom ?j \\<sharp> ?A \\<Longrightarrow>\n  ?A[?i::=?t]\\<^sub>b\\<^sub>b[?j::=?u]\\<^sub>b\\<^sub>b =\n  ?A[?i::=?t[?j::=?u]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b\n  atom ?j \\<sharp> ?A \\<Longrightarrow>\n  (?A[?i::=?t]\\<^sub>c\\<^sub>b)[?j::=?u]\\<^sub>c\\<^sub>b =\n  ?A[?i::=?t[?j::=?u]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n    \\<lbrace> z : b  | c \\<rbrace>[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  \\<lbrace> z : b  | c \\<rbrace>[i::=t]\\<^sub>\\<tau>\\<^sub>b[j::=u]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> z : b  | c \\<rbrace>[i::=t[j::=u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Expressions\\<close>"], ["", "nominal_function subst_eb :: \"e \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> e\" where\n  \"subst_eb ( (AE_val v')) bv b  = ( AE_val (subst_vb v' bv b))\"\n| \"subst_eb ( (AE_app f v') ) bv b = ( (AE_app f (subst_vb v' bv b)) )\"                \n| \"subst_eb ( (AE_appP f b' v') ) bv b = ( (AE_appP f (b'[bv::=b]\\<^sub>b\\<^sub>b) (subst_vb v' bv b)))\"   \n| \"subst_eb ( (AE_op opp v1 v2) ) bv b = ( (AE_op opp (subst_vb v1 bv b) (subst_vb v2 bv b)) )\"\n| \"subst_eb ( (AE_fst v')) bv b = AE_fst (subst_vb v' bv b)\"\n| \"subst_eb ( (AE_snd v')) bv b = AE_snd (subst_vb v' bv b)\"\n| \"subst_eb ( (AE_mvar u)) bv b = AE_mvar u\"\n| \"subst_eb ( (AE_len v')) bv b = AE_len (subst_vb v' bv b)\"\n| \"subst_eb ( AE_concat v1 v2) bv b = AE_concat (subst_vb v1 bv b) (subst_vb v2 bv b)\"\n| \"subst_eb ( AE_split v1 v2) bv b = AE_split (subst_vb v1 bv b) (subst_vb v2 bv b)\""], ["proof (prove)\ngoal (58 subgoals):\n 1. eqvt subst_eb_graph_aux\n 2. \\<And>x y. subst_eb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = ([ v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>f v' bv b.\n           x = ([ f  v'  ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>f b' v' bv b.\n           x = ([f [ b' ]  v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>opp v1 v2 bv b.\n           x = ([ opp v1 v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([#1v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([#2v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>u bv b. x = ([ u ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([| v' |]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1 @@ v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1  v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. \\<And>v' bv b f v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ f  v'a  ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ f  v'a[bva::=ba]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n 6. \\<And>v' bv b f b' v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([f [ b' ]  v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [f [ b'[bva::=ba]\\<^sub>b\\<^sub>b ]  v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 7. \\<And>v' bv b opp v1 v2 bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ opp v1 v2 ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ opp v1[bva::=ba]\\<^sub>v\\<^sub>b v2[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 8. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([#1v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [#1v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 9. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([#2v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [#2v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 10. \\<And>v' bv b u bva ba.\n        ([ v' ]\\<^sup>e, bv, b) = ([ u ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e = [ u ]\\<^sup>e\nA total of 58 subgoals...", "apply (simp add: eqvt_def subst_eb_graph_aux_def)"], ["proof (prove)\ngoal (57 subgoals):\n 1. \\<And>x y. subst_eb_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = ([ v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>f v' bv b.\n           x = ([ f  v'  ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>f b' v' bv b.\n           x = ([f [ b' ]  v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>opp v1 v2 bv b.\n           x = ([ opp v1 v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([#1v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([#2v' ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>u bv b. x = ([ u ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v' bv b. x = ([| v' |]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1 @@ v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P;\n        \\<And>v1 v2 bv b.\n           x = ([ v1  v2 ]\\<^sup>e, bv, b) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. \\<And>v' bv b f v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ f  v'a  ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ f  v'a[bva::=ba]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n 5. \\<And>v' bv b f b' v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([f [ b' ]  v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [f [ b'[bva::=ba]\\<^sub>b\\<^sub>b ]  v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. \\<And>v' bv b opp v1 v2 bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([ opp v1 v2 ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [ opp v1[bva::=ba]\\<^sub>v\\<^sub>b v2[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 7. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([#1v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [#1v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 8. \\<And>v' bv b v'a bva ba.\n       ([ v' ]\\<^sup>e, bv, b) =\n       ([#2v'a ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n       [#2v'a[bva::=ba]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 9. \\<And>v' bv b u bva ba.\n       ([ v' ]\\<^sup>e, bv, b) = ([ u ]\\<^sup>e, bva, ba) \\<Longrightarrow>\n       [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e = [ u ]\\<^sup>e\n 10. \\<And>v' bv b v'a bva ba.\n        ([ v' ]\\<^sup>e, bv, b) =\n        ([| v'a |]\\<^sup>e, bva, ba) \\<Longrightarrow>\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e =\n        [| v'a[bva::=ba]\\<^sub>v\\<^sub>b |]\\<^sup>e\nA total of 57 subgoals...", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>\\<And>v'. a = [ v' ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>f v'. a = [ f  v'  ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>f b' v'. a = [f [ b' ]  v' ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>opp v1 v2. a = [ opp v1 v2 ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [#1v' ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [#2v' ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>u. a = [ u ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v'. a = [| v' |]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v1 v2. a = [ v1 @@ v2 ]\\<^sup>e \\<Longrightarrow> P;\n        \\<And>v1 v2. a = [ v1  v2 ]\\<^sup>e \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "by (meson e.strong_exhaust)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_eb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_eb_abbrev :: \"e \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> e\" (\"_[_::=_]\\<^sub>e\\<^sub>b\" [1000,50,50] 500)\n  where \n    \"e[bv::=b]\\<^sub>e\\<^sub>b  \\<equiv> subst_eb e bv b\""], ["", "instantiation e :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_eb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(e, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::e"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof (induct t rule: e.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2  ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2  ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 9. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 10. \\<And>x1a x2.\n        j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n        (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n         x2 ]\\<^sup>e \\<or>\n         j \\<sharp> x \\<and>\n         (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_val v)"], ["proof (state)\nthis:\n  \n\ngoal (10 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2  ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2  ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 9. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 10. \\<And>x1a x2.\n        j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n        (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n         x2 ]\\<^sup>e \\<or>\n         j \\<sharp> x \\<and>\n         (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ v ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ v ]\\<^sup>e \\<and> j \\<sharp> [ v ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ v ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp  \n        e.fresh has_subst_b_class.fresh_subst_if subst_b_e_def subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ v ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ v ]\\<^sup>e \\<and> j \\<sharp> [ v ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ v ]\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [ v ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ v ]\\<^sup>e \\<and> j \\<sharp> [ v ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ v ]\\<^sup>e \\<or> j = atom i))\n\ngoal (9 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2  ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2  ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 9. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2  ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2  ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 9. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_app f v)"], ["proof (state)\nthis:\n  \n\ngoal (9 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2  ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2  ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2  ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 9. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ f  v  ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ f  v  ]\\<^sup>e \\<and>\n     j \\<sharp> [ f  v  ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ f  v  ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def \n        e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ f  v  ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ f  v  ]\\<^sup>e \\<and>\n     j \\<sharp> [ f  v  ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ f  v  ]\\<^sup>e \\<or> j = atom i))", "by (metis (mono_tags, hide_lams) e.fresh(2))"], ["proof (state)\nthis:\n  j \\<sharp> [ f  v  ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ f  v  ]\\<^sup>e \\<and>\n   j \\<sharp> [ f  v  ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ f  v  ]\\<^sup>e \\<or> j = atom i))\n\ngoal (8 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_appP f b' v)"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 8. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [f [ b' ]  v ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<and>\n     j \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<or> j = atom i))", "unfolding subst_eb.simps   subst_b_e_def e.fresh"], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> f \\<and>\n     j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n     j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> f \\<and>\n      atom i \\<sharp> b' \\<and> atom i \\<sharp> v) \\<and>\n     j \\<sharp> f \\<and> j \\<sharp> b' \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> f \\<and> j \\<sharp> b' \\<and> j \\<sharp> v \\<or>\n      j = atom i))", "using\n        fresh_def pure_fresh subst_b_e_def e.supp v.supp\n        e.fresh has_subst_b_class.fresh_subst_if subst_b_b_def subst_vb_def"], ["proof (prove)\nusing this:\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_vb_abbrev \\<equiv> \\<lambda>x0 x1 x2. subst_vb_sumC (x0, x1, x2)\n\ngoal (1 subgoal):\n 1. (j \\<sharp> f \\<and>\n     j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n     j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> f \\<and>\n      atom i \\<sharp> b' \\<and> atom i \\<sharp> v) \\<and>\n     j \\<sharp> f \\<and> j \\<sharp> b' \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> f \\<and> j \\<sharp> b' \\<and> j \\<sharp> v \\<or>\n      j = atom i))", "by (metis subst_b_v_def)"], ["proof (state)\nthis:\n  j \\<sharp> [f [ b' ]  v ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<and>\n   j \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [f [ b' ]  v ]\\<^sup>e \\<or> j = atom i))\n\ngoal (7 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_op opp v1 v2)"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. \\<And>x1a x2 x3.\n       j \\<sharp> [ x1a x2 x3 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 7. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ opp v1 v2 ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<and>\n     j \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<or> j = atom i))", "unfolding subst_eb.simps   subst_b_e_def e.fresh"], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> opp \\<and>\n     j \\<sharp> v1[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> opp \\<and>\n      atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n      j = atom i))", "using\n        fresh_def pure_fresh subst_b_e_def e.supp v.supp fresh_e_opp_all\n        e.fresh has_subst_b_class.fresh_subst_if subst_b_b_def subst_vb_def"], ["proof (prove)\nusing this:\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  (?z \\<sharp> ?v1.0 \\<and> ?z \\<sharp> ?v2.0) =\n  ?z \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_vb_abbrev \\<equiv> \\<lambda>x0 x1 x2. subst_vb_sumC (x0, x1, x2)\n\ngoal (1 subgoal):\n 1. (j \\<sharp> opp \\<and>\n     j \\<sharp> v1[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> v2[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> opp \\<and>\n      atom i \\<sharp> v1 \\<and> atom i \\<sharp> v2) \\<and>\n     j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> opp \\<and> j \\<sharp> v1 \\<and> j \\<sharp> v2 \\<or>\n      j = atom i))", "by (metis subst_b_v_def)"], ["proof (state)\nthis:\n  j \\<sharp> [ opp v1 v2 ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<and>\n   j \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ opp v1 v2 ]\\<^sup>e \\<or> j = atom i))\n\ngoal (6 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_concat x1a x2)"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<And>x1a x2.\n       j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n        j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 6. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n     j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp  \n        has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n     j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))", "by (metis subst_vb.simps(5))"], ["proof (state)\nthis:\n  j \\<sharp> [ x1a @@ x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<and>\n   j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "case (AE_split x1a x2)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))\n 5. \\<And>x1a x2.\n       j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n        x2 ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n     x2 ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp  \n        has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n    (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n     x2 ]\\<^sup>e \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))", "by (metis subst_vb.simps(5))"], ["proof (state)\nthis:\n  j \\<sharp> [ x1a  x2 ]\\<^sup>e[i::=x]\\<^sub>b =\n  (atom i \\<sharp> [ x1a  x2 ]\\<^sup>e \\<and> j \\<sharp> [ x1a \n   x2 ]\\<^sup>e \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [ x1a  x2 ]\\<^sup>e \\<or> j = atom i))\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "case (AE_fst x)"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#1xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#1xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#1xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [#1xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 4. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [#1x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#1x ]\\<^sup>e \\<and> j \\<sharp> [#1x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [#1x ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp  has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#1x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#1x ]\\<^sup>e \\<and> j \\<sharp> [#1x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [#1x ]\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [#1x ]\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [#1x ]\\<^sup>e \\<and> j \\<sharp> [#1x ]\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> [#1x ]\\<^sup>e \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "case (AE_snd x)"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [#2xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [#2xa ]\\<^sup>e \\<and>\n        j \\<sharp> [#2xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [#2xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 3. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [#2x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#2x ]\\<^sup>e \\<and> j \\<sharp> [#2x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [#2x ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#2x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#2x ]\\<^sup>e \\<and> j \\<sharp> [#2x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [#2x ]\\<^sup>e \\<or> j = atom i))", "using  has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [#2x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [#2x ]\\<^sup>e \\<and> j \\<sharp> [#2x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [#2x ]\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [#2x ]\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [#2x ]\\<^sup>e \\<and> j \\<sharp> [#2x ]\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> [#2x ]\\<^sup>e \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "case (AE_mvar x)"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       j \\<sharp> [ xa ]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [ xa ]\\<^sup>e \\<and>\n        j \\<sharp> [ xa ]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and> (j \\<sharp> [ xa ]\\<^sup>e \\<or> j = atom i))\n 2. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [ x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [ x ]\\<^sup>e \\<and> j \\<sharp> [ x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [ x ]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [ x ]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [ x ]\\<^sup>e \\<and> j \\<sharp> [ x ]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [ x ]\\<^sup>e \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> [ x ]\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [ x ]\\<^sup>e \\<and> j \\<sharp> [ x ]\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> [ x ]\\<^sup>e \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "case (AE_len x)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       j \\<sharp> [| xa |]\\<^sup>e[i::=x__]\\<^sub>b =\n       (atom i \\<sharp> [| xa |]\\<^sup>e \\<and>\n        j \\<sharp> [| xa |]\\<^sup>e \\<or>\n        j \\<sharp> x__ \\<and>\n        (j \\<sharp> [| xa |]\\<^sup>e \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [| x |]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [| x |]\\<^sup>e \\<and> j \\<sharp> [| x |]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [| x |]\\<^sup>e \\<or> j = atom i))", "using subst_eb.simps fresh_def pure_fresh subst_b_e_def e.supp v.supp"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n\ngoal (1 subgoal):\n 1. j \\<sharp> [| x |]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [| x |]\\<^sup>e \\<and> j \\<sharp> [| x |]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [| x |]\\<^sup>e \\<or> j = atom i))", "using  has_subst_b_class.fresh_subst_if subst_b_v_def"], ["proof (prove)\nusing this:\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_eb_abbrev\n  supp [ ?v ]\\<^sup>e = supp ?v\n  supp [ ?list  ?v  ]\\<^sup>e = supp ?list \\<union> supp ?v\n  supp [?list [ ?b ]  ?v ]\\<^sup>e =\n  supp ?list \\<union> (supp ?b \\<union> supp ?v)\n  supp [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  supp ?opp \\<union> (supp ?v1.0 \\<union> supp ?v2.0)\n  supp [ ?v1.0 @@ ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [#1?v ]\\<^sup>e = supp ?v\n  supp [#2?v ]\\<^sup>e = supp ?v\n  supp [ ?u ]\\<^sup>e = supp ?u\n  supp [| ?v |]\\<^sup>e = supp ?v\n  supp [ ?v1.0  ?v2.0 ]\\<^sup>e = supp ?v1.0 \\<union> supp ?v2.0\n  supp [ ?l ]\\<^sup>v = supp ?l\n  supp [ ?x ]\\<^sup>v = supp ?x\n  supp [ ?v1.0 , ?v2.0 ]\\<^sup>v = supp ?v1.0 \\<union> supp ?v2.0\n  supp (V_cons ?list1.0 ?list2.0 ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> supp ?v)\n  supp (V_consp ?list1.0 ?list2.0 ?b ?v) =\n  supp ?list1.0 \\<union> (supp ?list2.0 \\<union> (supp ?b \\<union> supp ?v))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [| x |]\\<^sup>e[i::=x__]\\<^sub>b =\n    (atom i \\<sharp> [| x |]\\<^sup>e \\<and> j \\<sharp> [| x |]\\<^sup>e \\<or>\n     j \\<sharp> x__ \\<and> (j \\<sharp> [| x |]\\<^sup>e \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [| x |]\\<^sup>e[i::=x__]\\<^sub>b =\n  (atom i \\<sharp> [| x |]\\<^sup>e \\<and> j \\<sharp> [| x |]\\<^sup>e \\<or>\n   j \\<sharp> x__ \\<and> (j \\<sharp> [| x |]\\<^sup>e \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::e and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "apply(induct tm rule: e.induct)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       [ x ]\\<^sup>e[a::=x]\\<^sub>b = [ x ]\\<^sup>e\n 2. \\<And>x1a x2.\n       atom a \\<sharp> [ x1a  x2  ]\\<^sup>e \\<Longrightarrow>\n       [ x1a  x2  ]\\<^sup>e[a::=x]\\<^sub>b = [ x1a  x2  ]\\<^sup>e\n 3. \\<And>x1a x2 x3.\n       atom a \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<Longrightarrow>\n       [x1a [ x2 ]  x3 ]\\<^sup>e[a::=x]\\<^sub>b = [x1a [ x2 ]  x3 ]\\<^sup>e\n 4. \\<And>x1a x2 x3.\n       atom a \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<Longrightarrow>\n       [ x1a x2 x3 ]\\<^sup>e[a::=x]\\<^sub>b = [ x1a x2 x3 ]\\<^sup>e\n 5. \\<And>x1a x2.\n       atom a \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<Longrightarrow>\n       [ x1a @@ x2 ]\\<^sup>e[a::=x]\\<^sub>b = [ x1a @@ x2 ]\\<^sup>e\n 6. \\<And>x.\n       atom a \\<sharp> [#1x ]\\<^sup>e \\<Longrightarrow>\n       [#1x ]\\<^sup>e[a::=x]\\<^sub>b = [#1x ]\\<^sup>e\n 7. \\<And>x.\n       atom a \\<sharp> [#2x ]\\<^sup>e \\<Longrightarrow>\n       [#2x ]\\<^sup>e[a::=x]\\<^sub>b = [#2x ]\\<^sup>e\n 8. \\<And>x.\n       atom a \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       [ x ]\\<^sup>e[a::=x]\\<^sub>b = [ x ]\\<^sup>e\n 9. \\<And>x.\n       atom a \\<sharp> [| x |]\\<^sup>e \\<Longrightarrow>\n       [| x |]\\<^sup>e[a::=x]\\<^sub>b = [| x |]\\<^sup>e\n 10. \\<And>x1a x2.\n        atom a \\<sharp> [ x1a  x2 ]\\<^sup>e \\<Longrightarrow>\n        [ x1a  x2 ]\\<^sup>e[a::=x]\\<^sub>b = [ x1a  x2 ]\\<^sup>e", "apply( auto simp add: fresh_at_base subst_eb.simps subst_b_e_def)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1a[a::=x]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1a[a::=x]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "using has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x1a x2 x3.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2;\n        atom a \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x3[a::=x]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x1a[a::=x]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x1a x2.\n       \\<lbrakk>atom a \\<sharp> x1a; atom a \\<sharp> x2\\<rbrakk>\n       \\<Longrightarrow> x2[a::=x]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        atom a \\<sharp> x \\<Longrightarrow> x[a::=x]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::e"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_bb.simps  subst_b_b_def"], ["proof (prove)\nusing this:\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "apply (induct tm rule: e.induct)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x ]\\<^sup>e[a::=B_var a]\\<^sub>b = [ x ]\\<^sup>e\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a  x2  ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [ x1a  x2  ]\\<^sup>e\n 3. \\<And>x1a x2 x3.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [x1a [ x2 ]  x3 ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [x1a [ x2 ]  x3 ]\\<^sup>e\n 4. \\<And>x1a x2 x3.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a x2 x3 ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [ x1a x2 x3 ]\\<^sup>e\n 5. \\<And>x1a x2.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x1a @@ x2 ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [ x1a @@ x2 ]\\<^sup>e\n 6. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [#1x ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [#1x ]\\<^sup>e\n 7. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [#2x ]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [#2x ]\\<^sup>e\n 8. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [ x ]\\<^sup>e[a::=B_var a]\\<^sub>b = [ x ]\\<^sup>e\n 9. \\<And>x.\n       \\<lbrakk>\\<And>bv2 bv1 b.\n                   (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                   (if bv1 = bv2 then b else B_var bv2);\n        \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n        \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n        \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n        \\<And>b1 b2 bv1 b.\n           [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n           [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n        \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n        \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n        \\<And>s b2 bv1 b.\n           (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n           B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n        subst_b = subst_bb_abbrev\\<rbrakk>\n       \\<Longrightarrow> [| x |]\\<^sup>e[a::=B_var a]\\<^sub>b =\n                         [| x |]\\<^sup>e\n 10. \\<And>x1a x2.\n        \\<lbrakk>\\<And>bv2 bv1 b.\n                    (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n                    (if bv1 = bv2 then b else B_var bv2);\n         \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n         \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n         \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n         \\<And>b1 b2 bv1 b.\n            [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n            [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n         \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n         \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n         \\<And>s b2 bv1 b.\n            (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n            B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n         subst_b = subst_bb_abbrev\\<rbrakk>\n        \\<Longrightarrow> [ x1a  x2 ]\\<^sup>e[a::=B_var a]\\<^sub>b = [ x1a \n                          x2 ]\\<^sup>e", "apply(auto simp add: fresh_at_base subst_eb.simps subst_b_e_def)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x1a[a::=B_var a]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        subst_b = subst_bb_abbrev \\<Longrightarrow>\n        x[a::=B_var a]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "using has_subst_b_class.fresh_subst_if  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x1a[a::=B_var a]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        subst_b = subst_bb_abbrev \\<Longrightarrow>\n        x[a::=B_var a]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "using has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 2. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 3. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>b\\<^sub>b = x2\n 4. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 5. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 6. \\<And>x3.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x3[a::=B_var a]\\<^sub>v\\<^sub>b = x3\n 7. \\<And>x1a.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x1a[a::=B_var a]\\<^sub>v\\<^sub>b = x1a\n 8. \\<And>x2.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x2[a::=B_var a]\\<^sub>v\\<^sub>b = x2\n 9. \\<And>x.\n       subst_b = subst_bb_abbrev \\<Longrightarrow>\n       x[a::=B_var a]\\<^sub>v\\<^sub>b = x\n 10. \\<And>x.\n        subst_b = subst_bb_abbrev \\<Longrightarrow>\n        x[a::=B_var a]\\<^sub>v\\<^sub>b = x\nA total of 13 subgoals...", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::e"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply(induct tm rule: e.induct)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x1a x2.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>x1a x2 x3.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>x1a x2 x3.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>x1a x2.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 6. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 7. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 8. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 9. \\<And>x.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 10. \\<And>x1a x2.\n        p \\<bullet> t1[x1::=v]\\<^sub>b =\n        (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply( auto simp add: fresh_at_base subst_bb.simps subst_b_b_def )"], ["proof (prove)\ngoal (10 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 6. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 7. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 8. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 9. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 10. p \\<bullet> t1[x1::=v]\\<^sub>b =\n     (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt  subst_b_b_def e.fresh"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (10 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 6. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 7. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 8. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 9. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 10. p \\<bullet> t1[x1::=v]\\<^sub>b =\n     (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using has_subst_b_class.eqvt"], ["proof (prove)\nusing this:\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (10 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 6. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 7. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 8. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 9. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 10. p \\<bullet> t1[x1::=v]\\<^sub>b =\n     (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by (simp add: subst_b_e_def)+"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::e and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (induct c rule: e.induct)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>e =\n       [ x ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 2. \\<And>x1a x2.\n       atom bv \\<sharp> [ x1a  x2  ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [ x1a  x2  ]\\<^sup>e =\n       [ x1a  x2  ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 3. \\<And>x1a x2 x3.\n       atom bv \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x1a [ x2 ]  x3 ]\\<^sup>e =\n       [x1a [ x2 ]  x3 ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 4. \\<And>x1a x2 x3.\n       atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>e =\n       [ x1a x2 x3 ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 5. \\<And>x1a x2.\n       atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>e =\n       [ x1a @@ x2 ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 6. \\<And>x.\n       atom bv \\<sharp> [#1x ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [#1x ]\\<^sup>e =\n       [#1x ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 7. \\<And>x.\n       atom bv \\<sharp> [#2x ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [#2x ]\\<^sup>e =\n       [#2x ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 8. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>e =\n       [ x ]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 9. \\<And>x.\n       atom bv \\<sharp> [| x |]\\<^sup>e \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>e =\n       [| x |]\\<^sup>e[z::=B_var bv]\\<^sub>b\n 10. \\<And>x1a x2.\n        atom bv \\<sharp> [ x1a  x2 ]\\<^sup>e \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> [ x1a  x2 ]\\<^sup>e = [ x1a \n        x2 ]\\<^sup>e[z::=B_var bv]\\<^sub>b", "apply(auto simp add: fresh_at_base  subst_eb.simps subst_b_e_def subst_b_v_def  permute_pure pure_supp )"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>b\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "using  flip_fresh_fresh permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_v_def  subst_b_b_def \n      flip_fresh_fresh subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  subst_b = subst_bb_abbrev\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  subst_b = subst_tb_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b =\n                         x2[z::=B_var bv]\\<^sub>b\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "apply metis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "apply (metis (full_types) opp.perm_simps  opp.strong_exhaust)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::e and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "apply (induct c rule: e.induct)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x ]\\<^sup>e[z::=v]\\<^sub>b\n 2. \\<And>x1a x2.\n       atom bv \\<sharp> [ x1a  x2  ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x1a  x2  ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x1a  x2  ]\\<^sup>e[z::=v]\\<^sub>b\n 3. \\<And>x1a x2 x3.\n       atom bv \\<sharp> [x1a [ x2 ]  x3 ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x1a [ x2 ]  x3 ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [x1a [ x2 ]  x3 ]\\<^sup>e[z::=v]\\<^sub>b\n 4. \\<And>x1a x2 x3.\n       atom bv \\<sharp> [ x1a x2 x3 ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x1a x2 x3 ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x1a x2 x3 ]\\<^sup>e[z::=v]\\<^sub>b\n 5. \\<And>x1a x2.\n       atom bv \\<sharp> [ x1a @@ x2 ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x1a @@ x2 ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x1a @@ x2 ]\\<^sup>e[z::=v]\\<^sub>b\n 6. \\<And>x.\n       atom bv \\<sharp> [#1x ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [#1x ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [#1x ]\\<^sup>e[z::=v]\\<^sub>b\n 7. \\<And>x.\n       atom bv \\<sharp> [#2x ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [#2x ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [#2x ]\\<^sup>e[z::=v]\\<^sub>b\n 8. \\<And>x.\n       atom bv \\<sharp> [ x ]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [ x ]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [ x ]\\<^sup>e[z::=v]\\<^sub>b\n 9. \\<And>x.\n       atom bv \\<sharp> [| x |]\\<^sup>e \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [| x |]\\<^sup>e)[bv::=v]\\<^sub>b =\n       [| x |]\\<^sup>e[z::=v]\\<^sub>b\n 10. \\<And>x1a x2.\n        atom bv \\<sharp> [ x1a  x2 ]\\<^sup>e \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> [ x1a \n         x2 ]\\<^sup>e)[bv::=v]\\<^sub>b =\n        [ x1a  x2 ]\\<^sup>e[z::=v]\\<^sub>b", "apply(auto simp add: fresh_at_base  subst_eb.simps subst_b_e_def subst_b_v_def  permute_pure pure_supp )"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x2[z::=v]\\<^sub>b\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "using  flip_fresh_fresh permute_flip_cancel2 has_subst_b_class.flip_subst subst_b_v_def  subst_b_b_def \n      flip_fresh_fresh subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  (?a \\<leftrightarrow> ?b) \\<bullet> (?b \\<leftrightarrow> ?a) \\<bullet> ?x =\n  ?x\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n  subst_b = subst_bb_abbrev\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  subst_b = subst_tb_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> x2[z::=B_var bv]\\<^sub>b[bv::=v]\\<^sub>b\\<^sub>b =\n                         x2[z::=v]\\<^sub>b\\<^sub>b\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x1a; atom bv \\<sharp> x2;\n        atom bv \\<sharp> x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1a = x1a", "apply (metis (full_types) opp.perm_simps  opp.strong_exhaust)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Statements\\<close>"], ["", "nominal_function (default \"case_sum (\\<lambda>x. Inl undefined) (case_sum (\\<lambda>x. Inl undefined) (\\<lambda>x. Inr undefined))\")\n  subst_sb :: \"s \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> s\"\n  and subst_branchb :: \"branch_s \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> branch_s\" \n  and subst_branchlb :: \"branch_list \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> branch_list\"\n  where\n    \"subst_sb (AS_val v') bv b         = (AS_val (subst_vb v' bv b))\"\n  | \"subst_sb  (AS_let y  e s)  bv b   = (AS_let y  (e[bv::=b]\\<^sub>e\\<^sub>b) (subst_sb s bv b ))\"  \n  | \"subst_sb (AS_let2 y t s1 s2) bv b = (AS_let2 y (subst_tb t bv b) (subst_sb s1 bv b ) (subst_sb s2 bv b))\"  \n  | \"subst_sb (AS_match v'  cs) bv b   = AS_match  (subst_vb v' bv b)  (subst_branchlb cs bv b)\"\n  | \"subst_sb  (AS_assign y v') bv b   = AS_assign y (subst_vb v' bv b)\"\n  | \"subst_sb  (AS_if v' s1 s2) bv b   = (AS_if (subst_vb v' bv b) (subst_sb s1 bv b ) (subst_sb s2 bv b ) )\"  \n  | \"subst_sb  (AS_var u \\<tau> v' s) bv b  = AS_var u (subst_tb  \\<tau> bv b)  (subst_vb v' bv b) (subst_sb s bv b )\"\n  | \"subst_sb  (AS_while s1 s2) bv b   = AS_while (subst_sb s1 bv b  ) (subst_sb s2 bv b )\"\n  | \"subst_sb  (AS_seq s1 s2)  bv b    = AS_seq (subst_sb s1 bv b ) (subst_sb s2 bv b )\"\n  | \"subst_sb  (AS_assert c s)  bv b   = AS_assert (subst_cb c bv b ) (subst_sb s bv b )\"\n\n| \"subst_branchb (AS_branch dc x1 s') bv b = AS_branch dc x1 (subst_sb s' bv b)\"\n\n| \"subst_branchlb  (AS_final sb)  bv b     = AS_final (subst_branchb sb bv b )\"\n| \"subst_branchlb  (AS_cons sb ssb) bv b   = AS_cons (subst_branchb sb bv b) (subst_branchlb ssb bv b)\""], ["proof (prove)\ngoal (94 subgoals):\n 1. eqvt subst_sb_subst_branchb_subst_branchlb_graph_aux\n 2. \\<And>x y.\n       subst_sb_subst_branchb_subst_branchlb_graph x y \\<Longrightarrow>\n       True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = Inl ([v']\\<^sup>s, bv, b) \\<Longrightarrow> P;\n        \\<And>y e s bv b.\n           x = Inl (LET y = e IN s, bv, b) \\<Longrightarrow> P;\n        \\<And>y t s1 s2 bv b.\n           x = Inl (LET y : t = s1 IN s2, bv, b) \\<Longrightarrow> P;\n        \\<And>v' cs bv b.\n           x = Inl (MATCH v' WITH { cs }, bv, b) \\<Longrightarrow> P;\n        \\<And>y v' bv b. x = Inl (y ::= v', bv, b) \\<Longrightarrow> P;\n        \\<And>v' s1 s2 bv b.\n           x = Inl (IF v' THEN s1 ELSE s2, bv, b) \\<Longrightarrow> P;\n        \\<And>u \\<tau> v' s bv b.\n           x = Inl (VAR u : \\<tau> = v' IN s, bv, b) \\<Longrightarrow> P;\n        \\<And>s1 s2 bv b.\n           x = Inl (WHILE s1 DO { s2 } , bv, b) \\<Longrightarrow> P;\n        \\<And>s1 s2 bv b. x = Inl ( s1 ;; s2 , bv, b) \\<Longrightarrow> P;\n        \\<And>c s bv b. x = Inl (ASSERT c IN s , bv, b) \\<Longrightarrow> P;\n        \\<And>dc x1 s' bv b.\n           x = Inr (Inl ( dc x1 \\<Rightarrow> s' , bv, b)) \\<Longrightarrow>\n           P;\n        \\<And>sb bv b. x = Inr (Inr ({ sb }, bv, b)) \\<Longrightarrow> P;\n        \\<And>sb ssb bv b.\n           x = Inr (Inr ( sb | ssb  , bv, b)) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>v' bv b v'a bva ba.\n       Inl ([v']\\<^sup>s, bv, b) =\n       Inl ([v'a]\\<^sup>s, bva, ba) \\<Longrightarrow>\n       Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n       Inl [v'a[bva::=ba]\\<^sub>v\\<^sub>b]\\<^sup>s\n 5. \\<And>v' bv b y e s bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bva, ba));\n        True;\n        Inl ([v']\\<^sup>s, bv, b) = Inl (LET y = e IN s, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl LET y = e[bva::=ba]\\<^sub>e\\<^sub>b IN projl\n                               (subst_sb_subst_branchb_subst_branchlb_sumC\n                                 (Inl (s, bva, ba)))\n 6. \\<And>v' bv b y t s1 s2 bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s1, bva, ba));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2, bva, ba));\n        True; True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (LET y : t = s1 IN s2, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl LET y : t[bva::=ba]\\<^sub>\\<tau>\\<^sub>b = projl\n                                   (subst_sb_subst_branchb_subst_branchlb_sumC\n                                     (Inl\n (s1, bva,\n  ba))) IN projl\n            (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bva, ba)))\n 7. \\<And>v' bv b v'a cs bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inr (Inr (cs, bva, ba)));\n        True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (MATCH v'a WITH { cs }, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl MATCH v'a[bva::=ba]\\<^sub>v\\<^sub>b WITH { projr\n                                   (projr\n                                     (subst_sb_subst_branchb_subst_branchlb_sumC\n (Inr (Inr (cs, bva, ba))))) }\n 8. \\<And>v' bv b y v'a bva ba.\n       Inl ([v']\\<^sup>s, bv, b) =\n       Inl (y ::= v'a, bva, ba) \\<Longrightarrow>\n       Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n       Inl y ::= v'a[bva::=ba]\\<^sub>v\\<^sub>b\n 9. \\<And>v' bv b v'a s1 s2 bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s1, bva, ba));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2, bva, ba));\n        True; True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (IF v'a THEN s1 ELSE s2, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl (IF v'a[bva::=ba]\\<^sub>v\\<^sub>b THEN projl\n                               (subst_sb_subst_branchb_subst_branchlb_sumC\n                                 (Inl (s1, bva,\n ba))) ELSE projl\n             (subst_sb_subst_branchb_subst_branchlb_sumC\n               (Inl (s2, bva, ba))))\n 10. \\<And>v' bv b u \\<tau> v'a s bva ba.\n        \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bva, ba));\n         True;\n         Inl ([v']\\<^sup>s, bv, b) =\n         Inl (VAR u : \\<tau> = v'a IN s, bva, ba)\\<rbrakk>\n        \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                          Inl VAR u : \\<tau>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b = v'a[bva::=ba]\\<^sub>v\\<^sub>b IN projl\n                                    (subst_sb_subst_branchb_subst_branchlb_sumC\n(Inl (s, bva, ba)))\nA total of 94 subgoals...", "apply (simp add: eqvt_def subst_sb_subst_branchb_subst_branchlb_graph_aux_def )"], ["proof (prove)\ngoal (93 subgoals):\n 1. \\<And>x y.\n       subst_sb_subst_branchb_subst_branchlb_graph x y \\<Longrightarrow>\n       True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>v' bv b.\n                   x = Inl ([v']\\<^sup>s, bv, b) \\<Longrightarrow> P;\n        \\<And>y e s bv b.\n           x = Inl (LET y = e IN s, bv, b) \\<Longrightarrow> P;\n        \\<And>y t s1 s2 bv b.\n           x = Inl (LET y : t = s1 IN s2, bv, b) \\<Longrightarrow> P;\n        \\<And>v' cs bv b.\n           x = Inl (MATCH v' WITH { cs }, bv, b) \\<Longrightarrow> P;\n        \\<And>y v' bv b. x = Inl (y ::= v', bv, b) \\<Longrightarrow> P;\n        \\<And>v' s1 s2 bv b.\n           x = Inl (IF v' THEN s1 ELSE s2, bv, b) \\<Longrightarrow> P;\n        \\<And>u \\<tau> v' s bv b.\n           x = Inl (VAR u : \\<tau> = v' IN s, bv, b) \\<Longrightarrow> P;\n        \\<And>s1 s2 bv b.\n           x = Inl (WHILE s1 DO { s2 } , bv, b) \\<Longrightarrow> P;\n        \\<And>s1 s2 bv b. x = Inl ( s1 ;; s2 , bv, b) \\<Longrightarrow> P;\n        \\<And>c s bv b. x = Inl (ASSERT c IN s , bv, b) \\<Longrightarrow> P;\n        \\<And>dc x1 s' bv b.\n           x = Inr (Inl ( dc x1 \\<Rightarrow> s' , bv, b)) \\<Longrightarrow>\n           P;\n        \\<And>sb bv b. x = Inr (Inr ({ sb }, bv, b)) \\<Longrightarrow> P;\n        \\<And>sb ssb bv b.\n           x = Inr (Inr ( sb | ssb  , bv, b)) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>v' bv b v'a bva ba.\n       Inl ([v']\\<^sup>s, bv, b) =\n       Inl ([v'a]\\<^sup>s, bva, ba) \\<Longrightarrow>\n       Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n       Inl [v'a[bva::=ba]\\<^sub>v\\<^sub>b]\\<^sup>s\n 4. \\<And>v' bv b y e s bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bva, ba));\n        True;\n        Inl ([v']\\<^sup>s, bv, b) = Inl (LET y = e IN s, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl LET y = e[bva::=ba]\\<^sub>e\\<^sub>b IN projl\n                               (subst_sb_subst_branchb_subst_branchlb_sumC\n                                 (Inl (s, bva, ba)))\n 5. \\<And>v' bv b y t s1 s2 bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s1, bva, ba));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2, bva, ba));\n        True; True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (LET y : t = s1 IN s2, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl LET y : t[bva::=ba]\\<^sub>\\<tau>\\<^sub>b = projl\n                                   (subst_sb_subst_branchb_subst_branchlb_sumC\n                                     (Inl\n (s1, bva,\n  ba))) IN projl\n            (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bva, ba)))\n 6. \\<And>v' bv b v'a cs bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inr (Inr (cs, bva, ba)));\n        True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (MATCH v'a WITH { cs }, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl MATCH v'a[bva::=ba]\\<^sub>v\\<^sub>b WITH { projr\n                                   (projr\n                                     (subst_sb_subst_branchb_subst_branchlb_sumC\n (Inr (Inr (cs, bva, ba))))) }\n 7. \\<And>v' bv b y v'a bva ba.\n       Inl ([v']\\<^sup>s, bv, b) =\n       Inl (y ::= v'a, bva, ba) \\<Longrightarrow>\n       Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n       Inl y ::= v'a[bva::=ba]\\<^sub>v\\<^sub>b\n 8. \\<And>v' bv b v'a s1 s2 bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s1, bva, ba));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2, bva, ba));\n        True; True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (IF v'a THEN s1 ELSE s2, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl (IF v'a[bva::=ba]\\<^sub>v\\<^sub>b THEN projl\n                               (subst_sb_subst_branchb_subst_branchlb_sumC\n                                 (Inl (s1, bva,\n ba))) ELSE projl\n             (subst_sb_subst_branchb_subst_branchlb_sumC\n               (Inl (s2, bva, ba))))\n 9. \\<And>v' bv b u \\<tau> v'a s bva ba.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bva, ba));\n        True;\n        Inl ([v']\\<^sup>s, bv, b) =\n        Inl (VAR u : \\<tau> = v'a IN s, bva, ba)\\<rbrakk>\n       \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                         Inl VAR u : \\<tau>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b = v'a[bva::=ba]\\<^sub>v\\<^sub>b IN projl\n                                   (subst_sb_subst_branchb_subst_branchlb_sumC\n                                     (Inl (s, bva, ba)))\n 10. \\<And>v' bv b s1 s2 bva ba.\n        \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s1, bva, ba));\n         eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (s2, bva, ba));\n         True; True;\n         Inl ([v']\\<^sup>s, bv, b) =\n         Inl (WHILE s1 DO { s2 } , bva, ba)\\<rbrakk>\n        \\<Longrightarrow> Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s =\n                          Inl (WHILE projl\n(subst_sb_subst_branchb_subst_branchlb_sumC\n  (Inl (s1, bva,\n        ba))) DO { projl\n                    (subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s2, bva, ba))) } )\nA total of 93 subgoals...", "apply (auto,metis s_branch_s_branch_list.exhaust s_branch_s_branch_list.exhaust(2) old.sum.exhaust surj_pair)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "proof(goal_cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "have eqvt_at_proj: \"\\<And> s xa va . eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, xa, va)) \\<Longrightarrow> \n           eqvt_at (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a))) (s, xa, va)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s xa va.\n       eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n        (Inl (s, xa, va)) \\<Longrightarrow>\n       eqvt_at\n        (\\<lambda>a.\n            projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n        (s, xa, va)", "apply(simp only: eqvt_at_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s xa va.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       \\<forall>p.\n          p \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s, xa, va))) =\n          projl\n           (subst_sb_subst_branchb_subst_branchlb_sumC\n             (Inl (p \\<bullet> (s, xa, va))))", "apply(rule)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       p \\<bullet> projl\n                    (subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(subst Projl_permute)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       \\<exists>y.\n          subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, xa, va)) =\n          Inl y\n 2. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(thin_tac _)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s xa va p.\n       \\<exists>y.\n          subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, xa, va)) =\n          Inl y\n 2. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(simp add: subst_sb_subst_branchb_subst_branchlb_sumC_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s xa va.\n       \\<exists>y.\n          THE_default (Inl undefined)\n           (subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))) =\n          Inl y\n 2. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(simp add: THE_default_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s xa va.\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 2. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(case_tac \"Ex1 (subst_sb_subst_branchb_subst_branchlb_graph (Inl (s,xa,va)))\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s xa va.\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 2. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 3. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s xa va.\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<Longrightarrow>\n       \\<exists>y.\n          The (subst_sb_subst_branchb_subst_branchlb_graph\n                (Inl (s, xa, va))) =\n          Inl y\n 2. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 3. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(auto)[1]"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s xa va x.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y \\<and>\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           y = y'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 2. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 3. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(erule_tac x=\"x\" in allE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s xa va x.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            x \\<and>\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 2. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 3. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s xa va x.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 2. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 3. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(cases rule: subst_sb_subst_branchb_subst_branchlb_graph.cases)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>s xa va x.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y'\\<rbrakk>\n       \\<Longrightarrow> subst_sb_subst_branchb_subst_branchlb_graph\n                          (?a1.17 s xa va x) (?a2.17 s xa va x)\n 2. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl ([v']\\<^sup>s, bv, b);\n        ?a2.17 s xa va x = Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 3. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y e sa bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (LET y = e IN sa, bv, b);\n        ?a2.17 s xa va x =\n        Inl LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN projl\n            (subst_sb_subst_branchb_subst_branchlb_sum (Inl (sa, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (sa, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (sa, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 4. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y t s1 s2 bv\n       b. \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va)) x;\n           \\<forall>y'.\n              subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n               y' \\<longrightarrow>\n              x = y';\n           ?a1.17 s xa va x = Inl (LET y : t = s1 IN s2, bv, b);\n           ?a2.17 s xa va x =\n           Inl LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = projl\n                   (subst_sb_subst_branchb_subst_branchlb_sum\n                     (Inl (s1, bv,\n                           b))) IN projl\n                                    (subst_sb_subst_branchb_subst_branchlb_sum\n(Inl (s2, bv, b)));\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n            (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n            (subst_sb_subst_branchb_subst_branchlb_sum\n              (Inl (s2, bv, b)))\\<rbrakk>\n          \\<Longrightarrow> \\<exists>y.\n                               The (subst_sb_subst_branchb_subst_branchlb_graph\n                                     (Inl (s, xa, va))) =\n                               Inl y\n 5. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' cs bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (MATCH v' WITH { cs }, bv, b);\n        ?a2.17 s xa va x =\n        Inl MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { projr\n               (projr\n                 (subst_sb_subst_branchb_subst_branchlb_sum\n                   (Inr (Inr (cs, bv, b))))) };\n        subst_sb_subst_branchb_subst_branchlb_graph (Inr (Inr (cs, bv, b)))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inr (Inr (cs, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 6. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y v' bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (y ::= v', bv, b);\n        ?a2.17 s xa va x = Inl y ::= v'[bv::=b]\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 7. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' s1 s2 bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (IF v' THEN s1 ELSE s2, bv, b);\n        ?a2.17 s xa va x =\n        Inl (IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN projl\n           (subst_sb_subst_branchb_subst_branchlb_sum\n             (Inl (s1, bv,\n                   b))) ELSE projl\n                              (subst_sb_subst_branchb_subst_branchlb_sum\n                                (Inl (s2, bv, b))));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s2, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 8. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum u \\<tau> v' sa\n       bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (VAR u : \\<tau> = v' IN sa, bv, b);\n        ?a2.17 s xa va x =\n        Inl VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN projl\n             (subst_sb_subst_branchb_subst_branchlb_sum (Inl (sa, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (sa, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (sa, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 9. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum s1 s2 bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        ?a1.17 s xa va x = Inl (WHILE s1 DO { s2 } , bv, b);\n        ?a2.17 s xa va x =\n        Inl (WHILE projl\n                    (subst_sb_subst_branchb_subst_branchlb_sum\n                      (Inl (s1, bv,\n                            b))) DO { projl\n (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s2, bv, b))) } );\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s2, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 10. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum s1 s2 bv b.\n        \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                  (Inl (s, xa, va)) x;\n         \\<forall>y'.\n            subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n             y' \\<longrightarrow>\n            x = y';\n         ?a1.17 s xa va x = Inl ( s1 ;; s2 , bv, b);\n         ?a2.17 s xa va x =\n         Inl ( (projl\n                 (subst_sb_subst_branchb_subst_branchlb_sum\n                   (Inl (s1, bv,\n                         b)))) ;; projl\n                                   (subst_sb_subst_branchb_subst_branchlb_sum\n                                     (Inl (s2, bv, b))) );\n         subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n          (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n         subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n          (subst_sb_subst_branchb_subst_branchlb_sum\n            (Inl (s2, bv, b)))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>y.\n                             The (subst_sb_subst_branchb_subst_branchlb_graph\n                                   (Inl (s, xa, va))) =\n                             Inl y\nA total of 16 subgoals...", "apply(assumption)"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl ([v']\\<^sup>s, bv, b);\n        x = Inl [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 2. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y e sa bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (LET y = e IN sa, bv, b);\n        x =\n        Inl LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN projl\n            (subst_sb_subst_branchb_subst_branchlb_sum (Inl (sa, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (sa, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (sa, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 3. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y t s1 s2 bv\n       b. \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va)) x;\n           \\<forall>y'.\n              subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n               y' \\<longrightarrow>\n              x = y';\n           Inl (s, xa, va) = Inl (LET y : t = s1 IN s2, bv, b);\n           x =\n           Inl LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = projl\n                   (subst_sb_subst_branchb_subst_branchlb_sum\n                     (Inl (s1, bv,\n                           b))) IN projl\n                                    (subst_sb_subst_branchb_subst_branchlb_sum\n(Inl (s2, bv, b)));\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n            (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n            (subst_sb_subst_branchb_subst_branchlb_sum\n              (Inl (s2, bv, b)))\\<rbrakk>\n          \\<Longrightarrow> \\<exists>y.\n                               The (subst_sb_subst_branchb_subst_branchlb_graph\n                                     (Inl (s, xa, va))) =\n                               Inl y\n 4. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' cs bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (MATCH v' WITH { cs }, bv, b);\n        x =\n        Inl MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { projr\n               (projr\n                 (subst_sb_subst_branchb_subst_branchlb_sum\n                   (Inr (Inr (cs, bv, b))))) };\n        subst_sb_subst_branchb_subst_branchlb_graph (Inr (Inr (cs, bv, b)))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inr (Inr (cs, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 5. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum y v' bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (y ::= v', bv, b);\n        x = Inl y ::= v'[bv::=b]\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 6. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum v' s1 s2 bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (IF v' THEN s1 ELSE s2, bv, b);\n        x =\n        Inl (IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN projl\n           (subst_sb_subst_branchb_subst_branchlb_sum\n             (Inl (s1, bv,\n                   b))) ELSE projl\n                              (subst_sb_subst_branchb_subst_branchlb_sum\n                                (Inl (s2, bv, b))));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s2, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 7. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum u \\<tau> v' sa\n       bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (VAR u : \\<tau> = v' IN sa, bv, b);\n        x =\n        Inl VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN projl\n             (subst_sb_subst_branchb_subst_branchlb_sum (Inl (sa, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (sa, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (sa, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 8. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum s1 s2 bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl (WHILE s1 DO { s2 } , bv, b);\n        x =\n        Inl (WHILE projl\n                    (subst_sb_subst_branchb_subst_branchlb_sum\n                      (Inl (s1, bv,\n                            b))) DO { projl\n (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s2, bv, b))) } );\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s2, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 9. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum s1 s2 bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inl ( s1 ;; s2 , bv, b);\n        x =\n        Inl ( (projl\n                (subst_sb_subst_branchb_subst_branchlb_sum\n                  (Inl (s1, bv,\n                        b)))) ;; projl\n                                  (subst_sb_subst_branchb_subst_branchlb_sum\n                                    (Inl (s2, bv, b))) );\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s1, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s1, bv, b)));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s2, bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s2, bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 10. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum c sa bv b.\n        \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                  (Inl (s, xa, va)) x;\n         \\<forall>y'.\n            subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n             y' \\<longrightarrow>\n            x = y';\n         Inl (s, xa, va) = Inl (ASSERT c IN sa , bv, b);\n         x =\n         Inl ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN projl\n            (subst_sb_subst_branchb_subst_branchlb_sum (Inl (sa, bv, b))) ;\n         subst_sb_subst_branchb_subst_branchlb_graph (Inl (sa, bv, b))\n          (subst_sb_subst_branchb_subst_branchlb_sum\n            (Inl (sa, bv, b)))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>y.\n                             The (subst_sb_subst_branchb_subst_branchlb_graph\n                                   (Inl (s, xa, va))) =\n                             Inl y\nA total of 15 subgoals...", "apply(rule_tac x=\"Sum_Type.projl x\" in exI,clarify,rule the1_equality,blast,simp (no_asm) only: sum.sel)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum dc x1 s' bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inr (Inl ( dc x1 \\<Rightarrow> s' , bv, b));\n        x =\n        Inr (Inl  dc x1 \\<Rightarrow> projl\n (subst_sb_subst_branchb_subst_branchlb_sum (Inl (s', bv, b))) );\n        subst_sb_subst_branchb_subst_branchlb_graph (Inl (s', bv, b))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inl (s', bv, b)))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 2. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum sb bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inr (Inr ({ sb }, bv, b));\n        x =\n        Inr (Inr { projl\n                    (projr\n                      (subst_sb_subst_branchb_subst_branchlb_sum\n                        (Inr (Inl (sb, bv, b))))) });\n        subst_sb_subst_branchb_subst_branchlb_graph (Inr (Inl (sb, bv, b)))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inr (Inl (sb, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 3. \\<And>s xa va x subst_sb_subst_branchb_subst_branchlb_sum sb ssb bv b.\n       \\<lbrakk>subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va)) x;\n        \\<forall>y'.\n           subst_sb_subst_branchb_subst_branchlb_graph (Inl (s, xa, va))\n            y' \\<longrightarrow>\n           x = y';\n        Inl (s, xa, va) = Inr (Inr ( sb | ssb  , bv, b));\n        x =\n        Inr (Inr  projl\n                   (projr\n                     (subst_sb_subst_branchb_subst_branchlb_sum\n                       (Inr (Inl (sb, bv,\n                                  b))))) | projr\n      (projr\n        (subst_sb_subst_branchb_subst_branchlb_sum\n          (Inr (Inr (ssb, bv, b)))))  );\n        subst_sb_subst_branchb_subst_branchlb_graph (Inr (Inl (sb, bv, b)))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inr (Inl (sb, bv, b))));\n        subst_sb_subst_branchb_subst_branchlb_graph (Inr (Inr (ssb, bv, b)))\n         (subst_sb_subst_branchb_subst_branchlb_sum\n           (Inr (Inr (ssb, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            The (subst_sb_subst_branchb_subst_branchlb_graph\n                                  (Inl (s, xa, va))) =\n                            Inl y\n 4. \\<And>s xa va.\n       \\<not> Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n                    (Inl (s, xa, va))) \\<Longrightarrow>\n       Ex1 (subst_sb_subst_branchb_subst_branchlb_graph\n             (Inl (s, xa, va))) \\<longrightarrow>\n       (\\<exists>y.\n           The (subst_sb_subst_branchb_subst_branchlb_graph\n                 (Inl (s, xa, va))) =\n           Inl y)\n 5. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(blast)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s xa va p.\n       \\<forall>p.\n          p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                       (Inl (s, xa, va)) =\n          subst_sb_subst_branchb_subst_branchlb_sumC\n           (p \\<bullet> Inl (s, xa, va)) \\<Longrightarrow>\n       projl\n        (p \\<bullet> subst_sb_subst_branchb_subst_branchlb_sumC\n                      (Inl (s, xa, va))) =\n       projl\n        (subst_sb_subst_branchb_subst_branchlb_sumC\n          (Inl (p \\<bullet> (s, xa, va))))", "apply(simp)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "{"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "case (1 y s bv b ya sa c)"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s =\n     (ya \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "moreover"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s =\n     (ya \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "have  \"atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "using x_fresh_b x_fresh_bv fresh_Pair"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  atom ?x \\<sharp> ?bv\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "by simp"], ["proof (state)\nthis:\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n\ngoal (4 subgoals):\n 1. \\<And>y s bv b ya sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s =\n           (ya \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 3. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 4. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "ultimately"], ["proof (chain)\npicking this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s =\n     (ya \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "show ?case"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s =\n     (ya \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n\ngoal (1 subgoal):\n 1. (y \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))) =\n    (ya \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))", "using eqvt_triple eqvt_at_proj"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s, sa) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s =\n     (ya \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n  \\<lbrakk>atom ?y \\<sharp> (?xa, ?va); atom ?ya \\<sharp> (?xa, ?va);\n   \\<forall>c.\n      atom c \\<sharp> (?s, ?sa) \\<longrightarrow>\n      atom c \\<sharp> (?y, ?ya, ?s, ?sa) \\<longrightarrow>\n      (?y \\<leftrightarrow> c) \\<bullet> ?s =\n      (?ya \\<leftrightarrow> c) \\<bullet> ?sa;\n   eqvt_at ?f (?s, ?xa, ?va); eqvt_at ?f (?sa, ?xa, ?va);\n   atom ?c \\<sharp> (?s, ?va, ?xa, ?sa);\n   atom\n    ?c \\<sharp> (?y, ?ya, ?f (?s, ?xa, ?va), ?f (?sa, ?xa, ?va))\\<rbrakk>\n  \\<Longrightarrow> (?y \\<leftrightarrow> ?c) \\<bullet> ?f (?s, ?xa, ?va) =\n                    (?ya \\<leftrightarrow> ?c) \\<bullet> ?f (?sa, ?xa, ?va)\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (1 subgoal):\n 1. (y \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))) =\n    (ya \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))", "by metis"], ["proof (state)\nthis:\n  (y \\<leftrightarrow> c) \\<bullet> projl\n                                     (subst_sb_subst_branchb_subst_branchlb_sumC\n (Inl (s, bv, b))) =\n  (ya \\<leftrightarrow> c) \\<bullet> projl\n(subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))\n\ngoal (3 subgoals):\n 1. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 2. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 3. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 2. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 3. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "case (2 y s1 s2 bv b ya s2a c)"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s1, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s2 =\n     (ya \\<leftrightarrow> c) \\<bullet> s2a\n  atom c \\<sharp> (s2, b, bv, s2a)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2a, bv, b))))\n\ngoal (3 subgoals):\n 1. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 2. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 3. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "moreover"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s1, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s2 =\n     (ya \\<leftrightarrow> c) \\<bullet> s2a\n  atom c \\<sharp> (s2, b, bv, s2a)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2a, bv, b))))\n\ngoal (3 subgoals):\n 1. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 2. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 3. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "have  \"atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "using x_fresh_b x_fresh_bv   fresh_Pair"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  atom ?x \\<sharp> ?bv\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "by simp"], ["proof (state)\nthis:\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n\ngoal (3 subgoals):\n 1. \\<And>y s1 s2 bv b ya s2a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s2, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s1, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s2a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n           atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n           (y \\<leftrightarrow> c) \\<bullet> s2 =\n           (ya \\<leftrightarrow> c) \\<bullet> s2a;\n        atom c \\<sharp> (s2, b, bv, s2a);\n        atom\n         c \\<sharp> (y, ya,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (y \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s2, bv, b))) =\n                         (ya \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s2a, bv, b)))\n 2. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 3. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "ultimately"], ["proof (chain)\npicking this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s1, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s2 =\n     (ya \\<leftrightarrow> c) \\<bullet> s2a\n  atom c \\<sharp> (s2, b, bv, s2a)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2a, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)", "show ?case"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s1, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s2 =\n     (ya \\<leftrightarrow> c) \\<bullet> s2a\n  atom c \\<sharp> (s2, b, bv, s2a)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2a, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n\ngoal (1 subgoal):\n 1. (y \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))) =\n    (ya \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b)))", "using eqvt_triple eqvt_at_proj"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s1, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s2, s2a) \\<longrightarrow>\n     atom c \\<sharp> (y, ya, s2, s2a) \\<longrightarrow>\n     (y \\<leftrightarrow> c) \\<bullet> s2 =\n     (ya \\<leftrightarrow> c) \\<bullet> s2a\n  atom c \\<sharp> (s2, b, bv, s2a)\n  atom\n   c \\<sharp> (y, ya,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s2a, bv, b))))\n  atom y \\<sharp> (bv, b) \\<and> atom ya \\<sharp> (bv, b)\n  \\<lbrakk>atom ?y \\<sharp> (?xa, ?va); atom ?ya \\<sharp> (?xa, ?va);\n   \\<forall>c.\n      atom c \\<sharp> (?s, ?sa) \\<longrightarrow>\n      atom c \\<sharp> (?y, ?ya, ?s, ?sa) \\<longrightarrow>\n      (?y \\<leftrightarrow> c) \\<bullet> ?s =\n      (?ya \\<leftrightarrow> c) \\<bullet> ?sa;\n   eqvt_at ?f (?s, ?xa, ?va); eqvt_at ?f (?sa, ?xa, ?va);\n   atom ?c \\<sharp> (?s, ?va, ?xa, ?sa);\n   atom\n    ?c \\<sharp> (?y, ?ya, ?f (?s, ?xa, ?va), ?f (?sa, ?xa, ?va))\\<rbrakk>\n  \\<Longrightarrow> (?y \\<leftrightarrow> ?c) \\<bullet> ?f (?s, ?xa, ?va) =\n                    (?ya \\<leftrightarrow> ?c) \\<bullet> ?f (?sa, ?xa, ?va)\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (1 subgoal):\n 1. (y \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2, bv, b))) =\n    (ya \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b)))", "by metis"], ["proof (state)\nthis:\n  (y \\<leftrightarrow> c) \\<bullet> projl\n                                     (subst_sb_subst_branchb_subst_branchlb_sumC\n (Inl (s2, bv, b))) =\n  (ya \\<leftrightarrow> c) \\<bullet> projl\n(subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s2a, bv, b)))\n\ngoal (2 subgoals):\n 1. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "case (3 u s bv b ua sa c)"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n     (u \\<leftrightarrow> c) \\<bullet> s =\n     (ua \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (u, ua,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n\ngoal (2 subgoals):\n 1. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "moreover"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n     (u \\<leftrightarrow> c) \\<bullet> s =\n     (ua \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (u, ua,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n\ngoal (2 subgoals):\n 1. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "have  \"atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)", "using x_fresh_b x_fresh_bv   fresh_Pair"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  atom ?x \\<sharp> ?bv\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)", "by simp"], ["proof (state)\nthis:\n  atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)\n\ngoal (2 subgoals):\n 1. \\<And>u s bv b ua sa c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s, bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (sa, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s, sa) \\<longrightarrow>\n           atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n           (u \\<leftrightarrow> c) \\<bullet> s =\n           (ua \\<leftrightarrow> c) \\<bullet> sa;\n        atom c \\<sharp> (s, b, bv, sa);\n        atom\n         c \\<sharp> (u, ua,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (sa, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (u \\<leftrightarrow> c) \\<bullet> projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s, bv, b))) =\n                         (ua \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (sa, bv, b)))\n 2. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "ultimately"], ["proof (chain)\npicking this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n     (u \\<leftrightarrow> c) \\<bullet> s =\n     (ua \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (u, ua,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)", "show ?case"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n     (u \\<leftrightarrow> c) \\<bullet> s =\n     (ua \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (u, ua,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)\n\ngoal (1 subgoal):\n 1. (u \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))) =\n    (ua \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))", "using eqvt_triple eqvt_at_proj"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s, sa) \\<longrightarrow>\n     atom c \\<sharp> (u, ua, s, sa) \\<longrightarrow>\n     (u \\<leftrightarrow> c) \\<bullet> s =\n     (ua \\<leftrightarrow> c) \\<bullet> sa\n  atom c \\<sharp> (s, b, bv, sa)\n  atom\n   c \\<sharp> (u, ua,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s, bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (sa, bv, b))))\n  atom u \\<sharp> (bv, b) \\<and> atom ua \\<sharp> (bv, b)\n  \\<lbrakk>atom ?y \\<sharp> (?xa, ?va); atom ?ya \\<sharp> (?xa, ?va);\n   \\<forall>c.\n      atom c \\<sharp> (?s, ?sa) \\<longrightarrow>\n      atom c \\<sharp> (?y, ?ya, ?s, ?sa) \\<longrightarrow>\n      (?y \\<leftrightarrow> c) \\<bullet> ?s =\n      (?ya \\<leftrightarrow> c) \\<bullet> ?sa;\n   eqvt_at ?f (?s, ?xa, ?va); eqvt_at ?f (?sa, ?xa, ?va);\n   atom ?c \\<sharp> (?s, ?va, ?xa, ?sa);\n   atom\n    ?c \\<sharp> (?y, ?ya, ?f (?s, ?xa, ?va), ?f (?sa, ?xa, ?va))\\<rbrakk>\n  \\<Longrightarrow> (?y \\<leftrightarrow> ?c) \\<bullet> ?f (?s, ?xa, ?va) =\n                    (?ya \\<leftrightarrow> ?c) \\<bullet> ?f (?sa, ?xa, ?va)\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (1 subgoal):\n 1. (u \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s, bv, b))) =\n    (ua \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))", "by metis"], ["proof (state)\nthis:\n  (u \\<leftrightarrow> c) \\<bullet> projl\n                                     (subst_sb_subst_branchb_subst_branchlb_sumC\n (Inl (s, bv, b))) =\n  (ua \\<leftrightarrow> c) \\<bullet> projl\n(subst_sb_subst_branchb_subst_branchlb_sumC (Inl (sa, bv, b)))\n\ngoal (1 subgoal):\n 1. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "case (4 x1 s' bv b x1a s'a c)"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s', s'a) \\<longrightarrow>\n     atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n     (x1 \\<leftrightarrow> c) \\<bullet> s' =\n     (x1a \\<leftrightarrow> c) \\<bullet> s'a\n  atom c \\<sharp> (s', b, bv, s'a)\n  atom\n   c \\<sharp> (x1, x1a,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s', bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s'a, bv, b))))\n\ngoal (1 subgoal):\n 1. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "moreover"], ["proof (state)\nthis:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s', s'a) \\<longrightarrow>\n     atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n     (x1 \\<leftrightarrow> c) \\<bullet> s' =\n     (x1a \\<leftrightarrow> c) \\<bullet> s'a\n  atom c \\<sharp> (s', b, bv, s'a)\n  atom\n   c \\<sharp> (x1, x1a,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s', bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s'a, bv, b))))\n\ngoal (1 subgoal):\n 1. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "have  \"atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)", "using x_fresh_b x_fresh_bv   fresh_Pair"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  atom ?x \\<sharp> ?bv\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)", "by simp"], ["proof (state)\nthis:\n  atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)\n\ngoal (1 subgoal):\n 1. \\<And>x1 s' bv b x1a s'a c.\n       \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n                 (Inl (s', bv, b));\n        eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n         (Inl (s'a, bv, b));\n        \\<forall>c.\n           atom c \\<sharp> (s', s'a) \\<longrightarrow>\n           atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n           (x1 \\<leftrightarrow> c) \\<bullet> s' =\n           (x1a \\<leftrightarrow> c) \\<bullet> s'a;\n        atom c \\<sharp> (s', b, bv, s'a);\n        atom\n         c \\<sharp> (x1, x1a,\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s', bv, b))),\n                     projl\n                      (subst_sb_subst_branchb_subst_branchlb_sumC\n                        (Inl (s'a, bv, b))))\\<rbrakk>\n       \\<Longrightarrow> (x1 \\<leftrightarrow> c) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (s', bv, b))) =\n                         (x1a \\<leftrightarrow> c) \\<bullet> projl\n                        (subst_sb_subst_branchb_subst_branchlb_sumC\n                          (Inl (s'a, bv, b)))", "ultimately"], ["proof (chain)\npicking this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s', s'a) \\<longrightarrow>\n     atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n     (x1 \\<leftrightarrow> c) \\<bullet> s' =\n     (x1a \\<leftrightarrow> c) \\<bullet> s'a\n  atom c \\<sharp> (s', b, bv, s'a)\n  atom\n   c \\<sharp> (x1, x1a,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s', bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s'a, bv, b))))\n  atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)", "show ?case"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s', s'a) \\<longrightarrow>\n     atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n     (x1 \\<leftrightarrow> c) \\<bullet> s' =\n     (x1a \\<leftrightarrow> c) \\<bullet> s'a\n  atom c \\<sharp> (s', b, bv, s'a)\n  atom\n   c \\<sharp> (x1, x1a,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s', bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s'a, bv, b))))\n  atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)\n\ngoal (1 subgoal):\n 1. (x1 \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))) =\n    (x1a \\<leftrightarrow> c) \\<bullet> projl\n   (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b)))", "using eqvt_triple eqvt_at_proj"], ["proof (prove)\nusing this:\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b))\n  \\<forall>c.\n     atom c \\<sharp> (s', s'a) \\<longrightarrow>\n     atom c \\<sharp> (x1, x1a, s', s'a) \\<longrightarrow>\n     (x1 \\<leftrightarrow> c) \\<bullet> s' =\n     (x1a \\<leftrightarrow> c) \\<bullet> s'a\n  atom c \\<sharp> (s', b, bv, s'a)\n  atom\n   c \\<sharp> (x1, x1a,\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s', bv, b))),\n               projl\n                (subst_sb_subst_branchb_subst_branchlb_sumC\n                  (Inl (s'a, bv, b))))\n  atom x1 \\<sharp> (bv, b) \\<and> atom x1a \\<sharp> (bv, b)\n  \\<lbrakk>atom ?y \\<sharp> (?xa, ?va); atom ?ya \\<sharp> (?xa, ?va);\n   \\<forall>c.\n      atom c \\<sharp> (?s, ?sa) \\<longrightarrow>\n      atom c \\<sharp> (?y, ?ya, ?s, ?sa) \\<longrightarrow>\n      (?y \\<leftrightarrow> c) \\<bullet> ?s =\n      (?ya \\<leftrightarrow> c) \\<bullet> ?sa;\n   eqvt_at ?f (?s, ?xa, ?va); eqvt_at ?f (?sa, ?xa, ?va);\n   atom ?c \\<sharp> (?s, ?va, ?xa, ?sa);\n   atom\n    ?c \\<sharp> (?y, ?ya, ?f (?s, ?xa, ?va), ?f (?sa, ?xa, ?va))\\<rbrakk>\n  \\<Longrightarrow> (?y \\<leftrightarrow> ?c) \\<bullet> ?f (?s, ?xa, ?va) =\n                    (?ya \\<leftrightarrow> ?c) \\<bullet> ?f (?sa, ?xa, ?va)\n  eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n   (Inl (?s, ?xa, ?va)) \\<Longrightarrow>\n  eqvt_at\n   (\\<lambda>a. projl (subst_sb_subst_branchb_subst_branchlb_sumC (Inl a)))\n   (?s, ?xa, ?va)\n\ngoal (1 subgoal):\n 1. (x1 \\<leftrightarrow> c) \\<bullet> projl\n  (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))) =\n    (x1a \\<leftrightarrow> c) \\<bullet> projl\n   (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b)))", "by metis"], ["proof (state)\nthis:\n  (x1 \\<leftrightarrow> c) \\<bullet> projl\n(subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s', bv, b))) =\n  (x1a \\<leftrightarrow> c) \\<bullet> projl\n (subst_sb_subst_branchb_subst_branchlb_sumC (Inl (s'a, bv, b)))\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n            (Inl (?s'2, ?bv2, ?b2));\n   eqvt_at subst_sb_subst_branchb_subst_branchlb_sumC\n    (Inl (?s'a2, ?bv2, ?b2));\n   \\<forall>c.\n      atom c \\<sharp> (?s'2, ?s'a2) \\<longrightarrow>\n      atom c \\<sharp> (?x1.2, ?x1a2, ?s'2, ?s'a2) \\<longrightarrow>\n      (?x1.2 \\<leftrightarrow> c) \\<bullet> ?s'2 =\n      (?x1a2 \\<leftrightarrow> c) \\<bullet> ?s'a2;\n   atom ?c2 \\<sharp> (?s'2, ?b2, ?bv2, ?s'a2);\n   atom\n    ?c2 \\<sharp> (?x1.2, ?x1a2,\n                  projl\n                   (subst_sb_subst_branchb_subst_branchlb_sumC\n                     (Inl (?s'2, ?bv2, ?b2))),\n                  projl\n                   (subst_sb_subst_branchb_subst_branchlb_sumC\n                     (Inl (?s'a2, ?bv2, ?b2))))\\<rbrakk>\n  \\<Longrightarrow> (?x1.2 \\<leftrightarrow> ?c2) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (?s'2, ?bv2, ?b2))) =\n                    (?x1a2 \\<leftrightarrow> ?c2) \\<bullet> projl\n                       (subst_sb_subst_branchb_subst_branchlb_sumC\n                         (Inl (?s'a2, ?bv2, ?b2)))\n\ngoal:\nNo subgoals!", "qed"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_sb_subst_branchb_subst_branchlb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_sb_abbrev :: \"s \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> s\" (\"_[_::=_]\\<^sub>s\\<^sub>b\" [1000,50,50] 1000)\n  where \n    \"b[bv::=b']\\<^sub>s\\<^sub>b  \\<equiv> subst_sb b bv b'\""], ["", "lemma fresh_subst_sb_if [simp]: \n  \"(j \\<sharp> (subst_sb A i x  ))  = ((atom i \\<sharp> A \\<and> j \\<sharp> A) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i)))\" and\n  \"(j \\<sharp> (subst_branchb B i x  ))  = ((atom i \\<sharp> B \\<and> j \\<sharp> B) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> B \\<or> j = atom i)))\"  and\n  \"(j \\<sharp> (subst_branchlb C i x  ))  = ((atom i \\<sharp> C \\<and> j \\<sharp> C) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> C \\<or> j = atom i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> A[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> A \\<and> j \\<sharp> A \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i)) &&&\n    j \\<sharp> subst_branchb B i x =\n    (atom i \\<sharp> B \\<and> j \\<sharp> B \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> B \\<or> j = atom i)) &&&\n    j \\<sharp> subst_branchlb C i x =\n    (atom i \\<sharp> C \\<and> j \\<sharp> C \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> C \\<or> j = atom i))", "proof (nominal_induct A and B and C avoiding: i x rule: s_branch_s_branch_list.strong_induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "case (AS_branch x1 x2 x3)"], ["proof (state)\nthis:\n  atom x2 \\<sharp> i\n  atom x2 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "have \" (j \\<sharp> subst_branchb (AS_branch x1 x2 x3) i x ) =  (j \\<sharp> (AS_branch x1 x2 (subst_sb x3 i x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n    j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n  j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b \n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "also"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n  j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b \n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "have \"... = ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and> j \\<sharp> x1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b  =\n    ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1)", "using s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b  =\n    ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1)", "by auto"], ["proof (state)\nthis:\n  j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b  =\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1)\n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "also"], ["proof (state)\nthis:\n  j \\<sharp>  x1 x2 \\<Rightarrow> x3[i::=x]\\<^sub>s\\<^sub>b  =\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1)\n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "have \"...  = ((atom i \\<sharp> AS_branch x1 x2 x3 \\<and> j \\<sharp> AS_branch x1 x2 x3) \\<or> j \\<sharp> x \\<and> (j \\<sharp> AS_branch x1 x2 x3 \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "using subst_branchb.simps(1) s_branch_s_branch_list.fresh(1)  fresh_at_base has_subst_b_class.fresh_subst_if list.distinct list.set_cases set_ConsD subst_b_\\<tau>_def \n      v.fresh AS_branch"], ["proof (prove)\nusing this:\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  [] \\<noteq> ?x21.0 # ?x22.0\n  ?x21.0 # ?x22.0 \\<noteq> []\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_b = subst_tb_abbrev\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  atom x2 \\<sharp> i\n  atom x2 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "have f1: \"\\<forall>cs b. atom (b::bv) \\<sharp> (cs::char list)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>cs b. atom b \\<sharp> cs", "using pure_fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. \\<forall>cs b. atom b \\<sharp> cs", "by auto"], ["proof (state)\nthis:\n  \\<forall>cs b. atom b \\<sharp> cs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "then"], ["proof (chain)\npicking this:\n  \\<forall>cs b. atom b \\<sharp> cs", "have \"j \\<sharp> x \\<and> atom i = j \\<longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and> j \\<sharp> x1) = (atom i \\<sharp> AS_branch x1 x2 x3 \\<and> j \\<sharp> AS_branch x1 x2 x3 \\<or> j \\<sharp> x \\<and> (j \\<sharp> AS_branch x1 x2 x3 \\<or> j = atom i))\""], ["proof (prove)\nusing this:\n  \\<forall>cs b. atom b \\<sharp> cs\n\ngoal (1 subgoal):\n 1. j \\<sharp> x \\<and> atom i = j \\<longrightarrow>\n    ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "by (metis (full_types) AS_branch.hyps(3))"], ["proof (state)\nthis:\n  j \\<sharp> x \\<and> atom i = j \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x \\<and> atom i = j \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "have \"j \\<sharp> x \\<longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and> j \\<sharp> x1) = (atom i \\<sharp> AS_branch x1 x2 x3 \\<and> j \\<sharp> AS_branch x1 x2 x3 \\<or> j \\<sharp> x \\<and> (j \\<sharp> AS_branch x1 x2 x3 \\<or> j = atom i))\""], ["proof (prove)\nusing this:\n  j \\<sharp> x \\<and> atom i = j \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> x \\<longrightarrow>\n    ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "using  AS_branch.hyps s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x \\<and> atom i = j \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n  atom x2 \\<sharp> i\n  atom x2 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. j \\<sharp> x \\<longrightarrow>\n    ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> x \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "moreover"], ["proof (state)\nthis:\n  j \\<sharp> x \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "{"], ["proof (state)\nthis:\n  j \\<sharp> x \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "assume \"\\<not> j \\<sharp> x\""], ["proof (state)\nthis:\n  \\<not> j \\<sharp> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "have ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "using f1 AS_branch.hyps(2) AS_branch.hyps(3)"], ["proof (prove)\nusing this:\n  \\<forall>cs b. atom b \\<sharp> cs\n  atom x2 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "by force"], ["proof (state)\nthis:\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "}"], ["proof (state)\nthis:\n  \\<not> j \\<sharp> x \\<Longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>dc x1 s' bv b.\n                subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n                 dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a b.\n        sort_of a \\<noteq> sort_of (atom b) \\<Longrightarrow> a \\<sharp> b;\n     \\<And>a b. a \\<sharp> b = (a \\<noteq> atom b);\n     \\<And>j t i x.\n        j \\<sharp> t[i::=x]\\<^sub>b =\n        (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i));\n     \\<And>x21 x22. [] \\<noteq> x21 # x22;\n     \\<And>x21 x22. x21 # x22 \\<noteq> [];\n     \\<And>e a thesis.\n        \\<lbrakk>e \\<in> set a;\n         \\<And>z2. a = e # z2 \\<Longrightarrow> thesis;\n         \\<And>z1 z2.\n            \\<lbrakk>a = z1 # z2; e \\<in> set z2\\<rbrakk>\n            \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>y x xs.\n        y \\<in> set (x # xs) \\<Longrightarrow> y = x \\<or> y \\<in> set xs;\n     subst_b = subst_tb_abbrev;\n     \\<And>a l. a \\<sharp> [ l ]\\<^sup>v = a \\<sharp> l;\n     \\<And>a x. a \\<sharp> [ x ]\\<^sup>v = a \\<sharp> x;\n     \\<And>a v1 v2.\n        a \\<sharp> [ v1 , v2 ]\\<^sup>v =\n        (a \\<sharp> v1 \\<and> a \\<sharp> v2);\n     \\<And>a list1 list2 v.\n        a \\<sharp> V_cons list1 list2 v =\n        (a \\<sharp> list1 \\<and> a \\<sharp> list2 \\<and> a \\<sharp> v);\n     \\<And>a list1 list2 b v.\n        a \\<sharp> V_consp list1 list2 b v =\n        (a \\<sharp> list1 \\<and>\n         a \\<sharp> list2 \\<and> a \\<sharp> b \\<and> a \\<sharp> v);\n     atom x2 \\<sharp> i; atom x2 \\<sharp> x;\n     \\<And>b ba.\n        j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n        (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n         j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n    \\<Longrightarrow> ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n                        j \\<in> set [atom x2]) \\<and>\n                       j \\<sharp> x1) =\n                      (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n                       j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                       j \\<sharp> x \\<and>\n                       (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n                        j = atom i))", "ultimately"], ["proof (chain)\npicking this:\n  j \\<sharp> x \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n  \\<not> j \\<sharp> x \\<Longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "show ?thesis"], ["proof (prove)\nusing this:\n  j \\<sharp> x \\<longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n  \\<not> j \\<sharp> x \\<Longrightarrow>\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or>\n      j \\<in> set [atom x2]) \\<and>\n     j \\<sharp> x1) =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "by satx"], ["proof (state)\nthis:\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b \\<or> j \\<in> set [atom x2]) \\<and>\n   j \\<sharp> x1) =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (13 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 13 subgoals...", "finally"], ["proof (chain)\npicking this:\n  j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n    (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n     j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchb  x1 x2 \\<Rightarrow> x3  i x =\n  (atom i \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<and>\n   j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp>  x1 x2 \\<Rightarrow> x3  \\<or> j = atom i))\n\ngoal (12 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 12 subgoals...", "case (AS_cons cs css i x)"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchb cs ?b ?ba =\n  (atom ?b \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> cs \\<or> j = atom ?b))\n  j \\<sharp> subst_branchlb css ?b ?ba =\n  (atom ?b \\<sharp> css \\<and> j \\<sharp> css \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> css \\<or> j = atom ?b))\n\ngoal (12 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 12 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> subst_branchlb  cs | css   i x =\n    (atom i \\<sharp>  cs | css   \\<and> j \\<sharp>  cs | css   \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp>  cs | css   \\<or> j = atom i))", "unfolding subst_branchlb.simps s_branch_s_branch_list.fresh"], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> subst_branchb cs i x \\<and>\n     j \\<sharp> subst_branchlb css i x) =\n    ((atom i \\<sharp> cs \\<and> atom i \\<sharp> css) \\<and>\n     j \\<sharp> cs \\<and> j \\<sharp> css \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> cs \\<and> j \\<sharp> css \\<or> j = atom i))", "using AS_cons"], ["proof (prove)\nusing this:\n  j \\<sharp> subst_branchb cs ?b ?ba =\n  (atom ?b \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> cs \\<or> j = atom ?b))\n  j \\<sharp> subst_branchlb css ?b ?ba =\n  (atom ?b \\<sharp> css \\<and> j \\<sharp> css \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> css \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. (j \\<sharp> subst_branchb cs i x \\<and>\n     j \\<sharp> subst_branchlb css i x) =\n    ((atom i \\<sharp> cs \\<and> atom i \\<sharp> css) \\<and>\n     j \\<sharp> cs \\<and> j \\<sharp> css \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> cs \\<and> j \\<sharp> css \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchlb  cs | css   i x =\n  (atom i \\<sharp>  cs | css   \\<and> j \\<sharp>  cs | css   \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp>  cs | css   \\<or> j = atom i))\n\ngoal (11 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 11 subgoals...", "case (AS_val xx)"], ["proof (state)\nthis:\n  \n\ngoal (11 subgoals):\n 1. \\<And>x i xa.\n       j \\<sharp> [x]\\<^sup>s[i::=xa]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> [x]\\<^sup>s \\<and> j \\<sharp> [x]\\<^sup>s \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> [x]\\<^sup>s \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 6. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 10. \\<And>x1 x2 i x.\n        (\\<And>b ba.\n            j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n            (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n        (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n         j \\<sharp> ASSERT x1 IN x2  \\<or>\n         j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> [xx]\\<^sup>s[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> [xx]\\<^sup>s \\<and> j \\<sharp> [xx]\\<^sup>s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [xx]\\<^sup>s \\<or> j = atom i))", "using  subst_sb.simps(1) s_branch_s_branch_list.fresh has_subst_b_class.fresh_subst_if subst_b_b_def subst_b_v_def"], ["proof (prove)\nusing this:\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> [xx]\\<^sup>s[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> [xx]\\<^sup>s \\<and> j \\<sharp> [xx]\\<^sup>s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> [xx]\\<^sup>s \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> [xx]\\<^sup>s[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> [xx]\\<^sup>s \\<and> j \\<sharp> [xx]\\<^sup>s \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> [xx]\\<^sup>s \\<or> j = atom i))\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 10. \\<And>x i xa.\n        (\\<And>b ba.\n            j \\<sharp> subst_branchb x b ba =\n            (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> subst_branchlb { x } i xa =\n        (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n         j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 10. \\<And>x i xa.\n        (\\<And>b ba.\n            j \\<sharp> subst_branchb x b ba =\n            (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> subst_branchlb { x } i xa =\n        (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n         j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_let x1 x2 x3)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n                          j \\<sharp> LET x1 = x2 IN x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 5. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 9. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 10. \\<And>x i xa.\n        (\\<And>b ba.\n            j \\<sharp> subst_branchb x b ba =\n            (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n             j \\<sharp> ba \\<and>\n             (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n        j \\<sharp> subst_branchlb { x } i xa =\n        (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n         j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n     j \\<sharp> LET x1 = x2 IN x3 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))", "using subst_sb.simps s_branch_s_branch_list.fresh  fresh_at_base has_subst_b_class.fresh_subst_if list.distinct list.set_cases set_ConsD subst_b_e_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  [] \\<noteq> ?x21.0 # ?x22.0\n  ?x21.0 # ?x22.0 \\<noteq> []\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_b = subst_eb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n     j \\<sharp> LET x1 = x2 IN x3 \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))", "by fastforce"], ["proof (state)\nthis:\n  j \\<sharp> LET x1 = x2 IN x3[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> LET x1 = x2 IN x3 \\<and>\n   j \\<sharp> LET x1 = x2 IN x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> LET x1 = x2 IN x3 \\<or> j = atom i))\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 9. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 9. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_let2 x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  j \\<sharp> x4[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x4 \\<or> j = atom ?b))\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 4. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 8. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 9. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  j \\<sharp> x4[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x4 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  j \\<sharp> x4[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x4 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n     j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or> j = atom i))", "using subst_sb.simps s_branch_s_branch_list.fresh  fresh_at_base has_subst_b_class.fresh_subst_if list.distinct list.set_cases set_ConsD subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> i\n  atom x1 \\<sharp> x\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  j \\<sharp> x4[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x4 \\<or> j = atom ?b))\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  [] \\<noteq> ?x21.0 # ?x22.0\n  ?x21.0 # ?x22.0 \\<noteq> []\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n     j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or> j = atom i))", "by fastforce"], ["proof (state)\nthis:\n  j \\<sharp> LET x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> LET x1 : x2 = x3 IN x4 \\<and>\n   j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> LET x1 : x2 = x3 IN x4 \\<or> j = atom i))\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 8. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 8. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_if x1 x2 x3)"], ["proof (state)\nthis:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x3[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x3 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n                          j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 3. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 7. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 8. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n     j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or> j = atom i))", "unfolding   subst_sb.simps s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. (j \\<sharp> x1[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> x2[i::=x]\\<^sub>s\\<^sub>b \\<and>\n     j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b) =\n    ((atom i \\<sharp> x1 \\<and>\n      atom i \\<sharp> x2 \\<and> atom i \\<sharp> x3) \\<and>\n     j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<and> j \\<sharp> x3 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<and> j \\<sharp> x3 \\<or>\n      j = atom i))", "using\n      has_subst_b_class.fresh_subst_if  subst_b_v_def"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  j \\<sharp> x3[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x3 \\<and> j \\<sharp> x3 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x3 \\<or> j = atom ?b))\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (j \\<sharp> x1[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> x2[i::=x]\\<^sub>s\\<^sub>b \\<and>\n     j \\<sharp> x3[i::=x]\\<^sub>s\\<^sub>b) =\n    ((atom i \\<sharp> x1 \\<and>\n      atom i \\<sharp> x2 \\<and> atom i \\<sharp> x3) \\<and>\n     j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<and> j \\<sharp> x3 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<and> j \\<sharp> x3 \\<or>\n      j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> (IF x1 THEN x2 ELSE x3)[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> IF x1 THEN x2 ELSE x3 \\<and>\n   j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> IF x1 THEN x2 ELSE x3 \\<or> j = atom i))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_var u t v s)"], ["proof (state)\nthis:\n  atom u \\<sharp> i\n  atom u \\<sharp> x\n  j \\<sharp> s[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> s \\<and> j \\<sharp> s \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> s \\<or> j = atom ?b))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \"(((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or> j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or> j \\<in> set [atom u]) \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and> j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) = \n          (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or> j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or> j \\<in> set [atom u]) \\<and> \n                    ((atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))) \\<and>\n                    ((atom i \\<sharp> v \\<and> j \\<sharp> v \\<or> j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n     j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i)))", "using    has_subst_b_class.fresh_subst_if  subst_b_v_def  subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n     j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i)))", "by metis"], ["proof (state)\nthis:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n   j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i)))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n   j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i)))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \"... =  (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and> atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and> \n               (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and> j \\<sharp> t \\<and> j \\<sharp> v \\<or> j \\<sharp> x \\<and> ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and> j \\<sharp> t \\<and> j \\<sharp> v \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i))) =\n    (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n      atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n     (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n     j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n      j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n      j = atom i))", "using u_fresh_b"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n\ngoal (1 subgoal):\n 1. (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n       j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n      j \\<in> set [atom u]) \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i))) =\n    (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n      atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n     (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n     j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n      j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n      j = atom i))", "by auto"], ["proof (state)\nthis:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> v \\<and> j \\<sharp> v \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> v \\<or> j = atom i))) =\n  (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n    atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n   (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n   j \\<sharp> x \\<and>\n   ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n    j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n    j = atom i))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4 i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           j \\<sharp> x4[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x4 \\<and> j \\<sharp> x4 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x4 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> VAR x1 : x2 = x3 IN x4[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> VAR x1 : x2 = x3 IN x4 \\<and>\n                          j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> VAR x1 : x2 = x3 IN x4 \\<or>\n                           j = atom i))\n 2. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 6. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 7. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "finally"], ["proof (chain)\npicking this:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n   j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n  (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n    atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n   (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n   j \\<sharp> x \\<and>\n   ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n    j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n    j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n   j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n  (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n    atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n   (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n   j \\<sharp> x \\<and>\n   ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n    j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n    j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> VAR u : t = v IN s[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> VAR u : t = v IN s \\<and>\n     j \\<sharp> VAR u : t = v IN s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> VAR u : t = v IN s \\<or> j = atom i))", "using  subst_sb.simps s_branch_s_branch_list.fresh AS_var"], ["proof (prove)\nusing this:\n  (((atom i \\<sharp> s \\<and> j \\<sharp> s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> s \\<or> j = atom i)) \\<or>\n    j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b \\<and>\n   j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n  (((atom i \\<sharp> s \\<or> atom i \\<in> set [atom u]) \\<and>\n    atom i \\<sharp> t \\<and> atom i \\<sharp> v) \\<and>\n   (j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n   j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n   j \\<sharp> x \\<and>\n   ((j \\<sharp> s \\<or> j \\<in> set [atom u]) \\<and>\n    j \\<sharp> t \\<and> j \\<sharp> v \\<or>\n    j = atom i))\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  atom u \\<sharp> i\n  atom u \\<sharp> x\n  j \\<sharp> s[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> s \\<and> j \\<sharp> s \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> s \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> VAR u : t = v IN s[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> VAR u : t = v IN s \\<and>\n     j \\<sharp> VAR u : t = v IN s \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> VAR u : t = v IN s \\<or> j = atom i))", "by simp"], ["proof (state)\nthis:\n  j \\<sharp> VAR u : t = v IN s[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> VAR u : t = v IN s \\<and>\n   j \\<sharp> VAR u : t = v IN s \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> VAR u : t = v IN s \\<or> j = atom i))\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 6. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 6. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_assign u v )"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 i x.\n       j \\<sharp> x1 ::= x2[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> x1 ::= x2 \\<and> j \\<sharp> x1 ::= x2 \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> x1 ::= x2 \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 5. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 6. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> u ::= v[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> u ::= v \\<and> j \\<sharp> u ::= v \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> u ::= v \\<or> j = atom i))", "unfolding   subst_sb.simps s_branch_s_branch_list.fresh"], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> u \\<and> j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> u \\<and> atom i \\<sharp> v) \\<and>\n     j \\<sharp> u \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> u \\<and> j \\<sharp> v \\<or> j = atom i))", "using\n      has_subst_b_class.fresh_subst_if  subst_b_v_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (j \\<sharp> u \\<and> j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b) =\n    ((atom i \\<sharp> u \\<and> atom i \\<sharp> v) \\<and>\n     j \\<sharp> u \\<and> j \\<sharp> v \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> u \\<and> j \\<sharp> v \\<or> j = atom i))", "by force"], ["proof (state)\nthis:\n  j \\<sharp> u ::= v[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> u ::= v \\<and> j \\<sharp> u ::= v \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> u ::= v \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_match v cs)"], ["proof (state)\nthis:\n  j \\<sharp> subst_branchlb cs ?b ?ba =\n  (atom ?b \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> cs \\<or> j = atom ?b))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \" j \\<sharp> (AS_match v cs)[i::=x]\\<^sub>s\\<^sub>b = j \\<sharp> (AS_match (subst_vb v i x) (subst_branchlb cs i x ))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n    j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x }", "using subst_sb.simps"], ["proof (prove)\nusing this:\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1. j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n    j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x }", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n  j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x }\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n  j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x }\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \"... = (j \\<sharp> (subst_vb v i x) \\<and> j \\<sharp> (subst_branchlb cs i x ))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i\n                x } =\n    (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> subst_branchlb cs i x)", "using s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i\n                x } =\n    (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> subst_branchlb cs i x)", "by simp"], ["proof (state)\nthis:\n  j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x } =\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   j \\<sharp> subst_branchlb cs i x)\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> MATCH v[i::=x]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs i x } =\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   j \\<sharp> subst_branchlb cs i x)\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \"... = (j \\<sharp> (subst_vb v i x) \\<and> ((atom i \\<sharp> cs \\<and> j \\<sharp> cs) \\<or> j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> subst_branchlb cs i x) =\n    (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i)))", "using  AS_match[of i x]"], ["proof (prove)\nusing this:\n  j \\<sharp> subst_branchlb cs i x =\n  (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     j \\<sharp> subst_branchlb cs i x) =\n    (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i)))", "by auto"], ["proof (state)\nthis:\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   j \\<sharp> subst_branchlb cs i x) =\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i)))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   j \\<sharp> subst_branchlb cs i x) =\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i)))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "have \"... =  (atom i \\<sharp> AS_match v cs \\<and> j \\<sharp> AS_match v cs \\<or> j \\<sharp> x \\<and> (j \\<sharp> AS_match v cs \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n     (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i))) =\n    (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n     j \\<sharp> MATCH v WITH { cs } \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))", "by (metis (no_types) s_branch_s_branch_list.fresh has_subst_b_class.fresh_subst_if subst_b_v_def)"], ["proof (state)\nthis:\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i))) =\n  (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n   j \\<sharp> MATCH v WITH { cs } \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "(* 93 ms *)"], ["proof (state)\nthis:\n  (j \\<sharp> v[i::=x]\\<^sub>v\\<^sub>b \\<and>\n   (atom i \\<sharp> cs \\<and> j \\<sharp> cs \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> cs \\<or> j = atom i))) =\n  (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n   j \\<sharp> MATCH v WITH { cs } \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchlb x2 b ba =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> MATCH x1 WITH { x2 }[i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> MATCH x1 WITH { x2 } \\<and>\n        j \\<sharp> MATCH x1 WITH { x2 } \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> MATCH x1 WITH { x2 } \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 4. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 5. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "finally"], ["proof (chain)\npicking this:\n  j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n   j \\<sharp> MATCH v WITH { cs } \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n   j \\<sharp> MATCH v WITH { cs } \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n     j \\<sharp> MATCH v WITH { cs } \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> MATCH v WITH { cs }[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> MATCH v WITH { cs } \\<and>\n   j \\<sharp> MATCH v WITH { cs } \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> MATCH v WITH { cs } \\<or> j = atom i))\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 4. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 4. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_while x1 x2)"], ["proof (state)\nthis:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n                          j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 3. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 4. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n     j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (WHILE x1 DO { x2 } )[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> WHILE x1 DO { x2 }  \\<and>\n   j \\<sharp> WHILE x1 DO { x2 }  \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> WHILE x1 DO { x2 }  \\<or> j = atom i))\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 3. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 3. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_seq x1 x2)"], ["proof (state)\nthis:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 i x.\n       \\<lbrakk>\\<And>b ba.\n                   j \\<sharp> x1[b::=ba]\\<^sub>s\\<^sub>b =\n                   (atom b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n                    j \\<sharp> ba \\<and> (j \\<sharp> x1 \\<or> j = atom b));\n        \\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and> (j \\<sharp> x2 \\<or> j = atom b))\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n                         (atom i \\<sharp>  x1 ;; x2  \\<and>\n                          j \\<sharp>  x1 ;; x2  \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n 2. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 3. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x1[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x1 \\<and> j \\<sharp> x1 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x1 \\<or> j = atom ?b))\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp>  x1 ;; x2  \\<and> j \\<sharp>  x1 ;; x2  \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> ( x1 ;; x2 )[i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp>  x1 ;; x2  \\<and> j \\<sharp>  x1 ;; x2  \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp>  x1 ;; x2  \\<or> j = atom i))\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 2. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 2. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "case (AS_assert x1 x2)"], ["proof (state)\nthis:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 i x.\n       (\\<And>b ba.\n           j \\<sharp> x2[b::=ba]\\<^sub>s\\<^sub>b =\n           (atom b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x2 \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n       (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n        j \\<sharp> ASSERT x1 IN x2  \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n 2. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n    (atom i \\<sharp> ASSERT x1 IN x2  \\<and>\n     j \\<sharp> ASSERT x1 IN x2  \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))", "unfolding subst_sb.simps  s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n\ngoal (1 subgoal):\n 1. (j \\<sharp> x1[i::=x]\\<^sub>c\\<^sub>b \\<and>\n     j \\<sharp> x2[i::=x]\\<^sub>s\\<^sub>b) =\n    ((atom i \\<sharp> x1 \\<and> atom i \\<sharp> x2) \\<and>\n     j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<or> j = atom i))", "using  fresh_at_base has_subst_b_class.fresh_subst_if list.distinct list.set_cases set_ConsD subst_b_e_def"], ["proof (prove)\nusing this:\n  j \\<sharp> x2[?b::=?ba]\\<^sub>s\\<^sub>b =\n  (atom ?b \\<sharp> x2 \\<and> j \\<sharp> x2 \\<or>\n   j \\<sharp> ?ba \\<and> (j \\<sharp> x2 \\<or> j = atom ?b))\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  [] \\<noteq> ?x21.0 # ?x22.0\n  ?x21.0 # ?x22.0 \\<noteq> []\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_b = subst_eb_abbrev\n\ngoal (1 subgoal):\n 1. (j \\<sharp> x1[i::=x]\\<^sub>c\\<^sub>b \\<and>\n     j \\<sharp> x2[i::=x]\\<^sub>s\\<^sub>b) =\n    ((atom i \\<sharp> x1 \\<and> atom i \\<sharp> x2) \\<and>\n     j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> x1 \\<and> j \\<sharp> x2 \\<or> j = atom i))", "by (metis subst_b_c_def)"], ["proof (state)\nthis:\n  j \\<sharp> ASSERT x1 IN x2 [i::=x]\\<^sub>s\\<^sub>b =\n  (atom i \\<sharp> ASSERT x1 IN x2  \\<and> j \\<sharp> ASSERT x1 IN x2  \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> ASSERT x1 IN x2  \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>x i xa.\n       (\\<And>b ba.\n           j \\<sharp> subst_branchb x b ba =\n           (atom b \\<sharp> x \\<and> j \\<sharp> x \\<or>\n            j \\<sharp> ba \\<and>\n            (j \\<sharp> x \\<or> j = atom b))) \\<Longrightarrow>\n       j \\<sharp> subst_branchlb { x } i xa =\n       (atom i \\<sharp> { x } \\<and> j \\<sharp> { x } \\<or>\n        j \\<sharp> xa \\<and> (j \\<sharp> { x } \\<or> j = atom i))", "qed(auto+)"], ["", "lemma \n  forget_subst_sb[simp]: \"atom a \\<sharp> A \\<Longrightarrow> subst_sb A a x = A\" and\n  forget_subst_branchb [simp]: \"atom a \\<sharp> B \\<Longrightarrow> subst_branchb B a x = B\" and \n  forget_subst_branchlb[simp]: \"atom a \\<sharp> C \\<Longrightarrow> subst_branchlb C a x = C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (atom a \\<sharp> A \\<Longrightarrow> A[a::=x]\\<^sub>s\\<^sub>b = A) &&&\n    (atom a \\<sharp> B \\<Longrightarrow> subst_branchb B a x = B) &&&\n    (atom a \\<sharp> C \\<Longrightarrow> subst_branchlb C a x = C)", "proof (nominal_induct A and B and C avoiding: a x rule: s_branch_s_branch_list.strong_induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 10. \\<And>x1 x2 a x.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x2 \\<Longrightarrow>\n                    x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n         atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 \nA total of 13 subgoals...", "case (AS_let x1 x2 x3)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> LET x1 = x2 IN x3\n\ngoal (13 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 10. \\<And>x1 x2 a x.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x2 \\<Longrightarrow>\n                    x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n         atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 \nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> LET x1 = x2 IN x3", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> LET x1 = x2 IN x3\n\ngoal (1 subgoal):\n 1. LET x1 = x2 IN x3[a::=x]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> LET x1 = x2 IN x3\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. LET x1 = x2 IN x3[a::=x]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3", "by force"], ["proof (state)\nthis:\n  LET x1 = x2 IN x3[a::=x]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3\n\ngoal (12 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 10. \\<And>x1 x2 x3 a x.\n        \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n         \\<And>b ba.\n            atom b \\<sharp> x3 \\<Longrightarrow>\n            x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n         atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n        \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                           x1 x2 \\<Rightarrow> x3 \nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 10. \\<And>x1 x2 x3 a x.\n        \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n         \\<And>b ba.\n            atom b \\<sharp> x3 \\<Longrightarrow>\n            x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n         atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n        \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                           x1 x2 \\<Rightarrow> x3 \nA total of 12 subgoals...", "case (AS_let2 x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (12 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 10. \\<And>x1 x2 x3 a x.\n        \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n         \\<And>b ba.\n            atom b \\<sharp> x3 \\<Longrightarrow>\n            x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n         atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n        \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                           x1 x2 \\<Rightarrow> x3 \nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> LET x1 : x2 = x3 IN x4", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = LET x1 : x2 = x3 IN x4", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> LET x1 : x2 = x3 IN x4\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = LET x1 : x2 = x3 IN x4", "by force"], ["proof (state)\nthis:\n  LET x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = LET x1 : x2 = x3 IN x4\n\ngoal (11 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 9. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 10. \\<And>x a xa.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x \\<Longrightarrow>\n                    subst_branchb x b ba = x;\n         atom a \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb { x } a xa = { x }\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 9. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 10. \\<And>x a xa.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x \\<Longrightarrow>\n                    subst_branchb x b ba = x;\n         atom a \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb { x } a xa = { x }\nA total of 11 subgoals...", "case (AS_var x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (11 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 x3 x4 a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x4 \\<Longrightarrow>\n           x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n        atom a \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 8. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 9. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 10. \\<And>x a xa.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x \\<Longrightarrow>\n                    subst_branchb x b ba = x;\n         atom a \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb { x } a xa = { x }\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4", "using subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  atom x1 \\<sharp> x\n  atom ?b \\<sharp> x4 \\<Longrightarrow> x4[?b::=?ba]\\<^sub>s\\<^sub>b = x4\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n     \\<And>b ba.\n        atom b \\<sharp> x4 \\<Longrightarrow>\n        x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n     atom a \\<sharp> VAR x1 : x2 = x3 IN x4;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a x e s.\n        a \\<sharp> LET x = e IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> e);\n     \\<And>a x \\<tau> s1 s2.\n        a \\<sharp> LET x : \\<tau> = s1 IN s2 =\n        ((a \\<sharp> s2 \\<or> a \\<in> set [atom x]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> s1);\n     \\<And>a v s1 s2.\n        a \\<sharp> IF v THEN s1 ELSE s2 =\n        (a \\<sharp> v \\<and> a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a u \\<tau> v s.\n        a \\<sharp> VAR u : \\<tau> = v IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom u]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> v);\n     \\<And>a u v. a \\<sharp> u ::= v = (a \\<sharp> u \\<and> a \\<sharp> v);\n     \\<And>a v branch_list.\n        a \\<sharp> MATCH v WITH { branch_list } =\n        (a \\<sharp> v \\<and> a \\<sharp> branch_list);\n     \\<And>a s1 s2.\n        a \\<sharp> WHILE s1 DO { s2 }  =\n        (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a s1 s2.\n        a \\<sharp>  s1 ;; s2  = (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a c s.\n        a \\<sharp> ASSERT c IN s  = (a \\<sharp> c \\<and> a \\<sharp> s);\n     \\<And>a list x s.\n        a \\<sharp>  list x \\<Rightarrow> s  =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> list);\n     \\<And>a branch_s. a \\<sharp> { branch_s } = a \\<sharp> branch_s;\n     \\<And>a branch_s branch_list.\n        a \\<sharp>  branch_s | branch_list   =\n        (a \\<sharp> branch_s \\<and> a \\<sharp> branch_list);\n     subst_b = subst_eb_abbrev;\n     \\<And>a tm x.\n        atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm;\n     subst_b = subst_vb_abbrev; subst_b = subst_tb_abbrev\\<rbrakk>\n    \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                      VAR x1 : x2 = x3 IN x4", "have f1: \"(atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and> atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n    atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3", "using AS_var.prems s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom a \\<sharp> VAR x1 : x2 = x3 IN x4\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n    atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3", "by simp"], ["proof (state)\nthis:\n  (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n  atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n     \\<And>b ba.\n        atom b \\<sharp> x4 \\<Longrightarrow>\n        x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n     atom a \\<sharp> VAR x1 : x2 = x3 IN x4;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a x e s.\n        a \\<sharp> LET x = e IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> e);\n     \\<And>a x \\<tau> s1 s2.\n        a \\<sharp> LET x : \\<tau> = s1 IN s2 =\n        ((a \\<sharp> s2 \\<or> a \\<in> set [atom x]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> s1);\n     \\<And>a v s1 s2.\n        a \\<sharp> IF v THEN s1 ELSE s2 =\n        (a \\<sharp> v \\<and> a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a u \\<tau> v s.\n        a \\<sharp> VAR u : \\<tau> = v IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom u]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> v);\n     \\<And>a u v. a \\<sharp> u ::= v = (a \\<sharp> u \\<and> a \\<sharp> v);\n     \\<And>a v branch_list.\n        a \\<sharp> MATCH v WITH { branch_list } =\n        (a \\<sharp> v \\<and> a \\<sharp> branch_list);\n     \\<And>a s1 s2.\n        a \\<sharp> WHILE s1 DO { s2 }  =\n        (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a s1 s2.\n        a \\<sharp>  s1 ;; s2  = (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a c s.\n        a \\<sharp> ASSERT c IN s  = (a \\<sharp> c \\<and> a \\<sharp> s);\n     \\<And>a list x s.\n        a \\<sharp>  list x \\<Rightarrow> s  =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> list);\n     \\<And>a branch_s. a \\<sharp> { branch_s } = a \\<sharp> branch_s;\n     \\<And>a branch_s branch_list.\n        a \\<sharp>  branch_s | branch_list   =\n        (a \\<sharp> branch_s \\<and> a \\<sharp> branch_list);\n     subst_b = subst_eb_abbrev;\n     \\<And>a tm x.\n        atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm;\n     subst_b = subst_vb_abbrev; subst_b = subst_tb_abbrev\\<rbrakk>\n    \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                      VAR x1 : x2 = x3 IN x4", "then"], ["proof (chain)\npicking this:\n  (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n  atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3", "have \"atom a \\<sharp> x4\""], ["proof (prove)\nusing this:\n  (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n  atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3\n\ngoal (1 subgoal):\n 1. atom a \\<sharp> x4", "by (metis (no_types) \"Nominal-Utils.fresh_star_singleton\" AS_var.hyps(1) empty_set fresh_star_def list.simps(15) not_self_fresh)"], ["proof (state)\nthis:\n  atom a \\<sharp> x4\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n     \\<And>b ba.\n        atom b \\<sharp> x4 \\<Longrightarrow>\n        x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n     atom a \\<sharp> VAR x1 : x2 = x3 IN x4;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a x e s.\n        a \\<sharp> LET x = e IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> e);\n     \\<And>a x \\<tau> s1 s2.\n        a \\<sharp> LET x : \\<tau> = s1 IN s2 =\n        ((a \\<sharp> s2 \\<or> a \\<in> set [atom x]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> s1);\n     \\<And>a v s1 s2.\n        a \\<sharp> IF v THEN s1 ELSE s2 =\n        (a \\<sharp> v \\<and> a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a u \\<tau> v s.\n        a \\<sharp> VAR u : \\<tau> = v IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom u]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> v);\n     \\<And>a u v. a \\<sharp> u ::= v = (a \\<sharp> u \\<and> a \\<sharp> v);\n     \\<And>a v branch_list.\n        a \\<sharp> MATCH v WITH { branch_list } =\n        (a \\<sharp> v \\<and> a \\<sharp> branch_list);\n     \\<And>a s1 s2.\n        a \\<sharp> WHILE s1 DO { s2 }  =\n        (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a s1 s2.\n        a \\<sharp>  s1 ;; s2  = (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a c s.\n        a \\<sharp> ASSERT c IN s  = (a \\<sharp> c \\<and> a \\<sharp> s);\n     \\<And>a list x s.\n        a \\<sharp>  list x \\<Rightarrow> s  =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> list);\n     \\<And>a branch_s. a \\<sharp> { branch_s } = a \\<sharp> branch_s;\n     \\<And>a branch_s branch_list.\n        a \\<sharp>  branch_s | branch_list   =\n        (a \\<sharp> branch_s \\<and> a \\<sharp> branch_list);\n     subst_b = subst_eb_abbrev;\n     \\<And>a tm x.\n        atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm;\n     subst_b = subst_vb_abbrev; subst_b = subst_tb_abbrev\\<rbrakk>\n    \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                      VAR x1 : x2 = x3 IN x4", "(* 46 ms *)"], ["proof (state)\nthis:\n  atom a \\<sharp> x4\n\ngoal (1 subgoal):\n 1. \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n     \\<And>b ba.\n        atom b \\<sharp> x4 \\<Longrightarrow>\n        x4[b::=ba]\\<^sub>s\\<^sub>b = x4;\n     atom a \\<sharp> VAR x1 : x2 = x3 IN x4;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>a v. a \\<sharp> [v]\\<^sup>s = a \\<sharp> v;\n     \\<And>a x e s.\n        a \\<sharp> LET x = e IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> e);\n     \\<And>a x \\<tau> s1 s2.\n        a \\<sharp> LET x : \\<tau> = s1 IN s2 =\n        ((a \\<sharp> s2 \\<or> a \\<in> set [atom x]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> s1);\n     \\<And>a v s1 s2.\n        a \\<sharp> IF v THEN s1 ELSE s2 =\n        (a \\<sharp> v \\<and> a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a u \\<tau> v s.\n        a \\<sharp> VAR u : \\<tau> = v IN s =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom u]) \\<and>\n         a \\<sharp> \\<tau> \\<and> a \\<sharp> v);\n     \\<And>a u v. a \\<sharp> u ::= v = (a \\<sharp> u \\<and> a \\<sharp> v);\n     \\<And>a v branch_list.\n        a \\<sharp> MATCH v WITH { branch_list } =\n        (a \\<sharp> v \\<and> a \\<sharp> branch_list);\n     \\<And>a s1 s2.\n        a \\<sharp> WHILE s1 DO { s2 }  =\n        (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a s1 s2.\n        a \\<sharp>  s1 ;; s2  = (a \\<sharp> s1 \\<and> a \\<sharp> s2);\n     \\<And>a c s.\n        a \\<sharp> ASSERT c IN s  = (a \\<sharp> c \\<and> a \\<sharp> s);\n     \\<And>a list x s.\n        a \\<sharp>  list x \\<Rightarrow> s  =\n        ((a \\<sharp> s \\<or> a \\<in> set [atom x]) \\<and> a \\<sharp> list);\n     \\<And>a branch_s. a \\<sharp> { branch_s } = a \\<sharp> branch_s;\n     \\<And>a branch_s branch_list.\n        a \\<sharp>  branch_s | branch_list   =\n        (a \\<sharp> branch_s \\<and> a \\<sharp> branch_list);\n     subst_b = subst_eb_abbrev;\n     \\<And>a tm x.\n        atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm;\n     subst_b = subst_vb_abbrev; subst_b = subst_tb_abbrev\\<rbrakk>\n    \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b =\n                      VAR x1 : x2 = x3 IN x4", "then"], ["proof (chain)\npicking this:\n  atom a \\<sharp> x4", "show ?thesis"], ["proof (prove)\nusing this:\n  atom a \\<sharp> x4\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4", "using f1"], ["proof (prove)\nusing this:\n  atom a \\<sharp> x4\n  (atom a \\<sharp> x4 \\<or> atom a \\<in> set [atom x1]) \\<and>\n  atom a \\<sharp> x2 \\<and> atom a \\<sharp> x3\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4", "by (metis AS_var.hyps(3) has_subst_b_class.forget_subst subst_b_\\<tau>_def subst_b_v_def subst_sb.simps(7))"], ["proof (state)\nthis:\n  VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4\n\ngoal:\nNo subgoals!", "(* 62 ms *)"], ["proof (state)\nthis:\n  VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  VAR x1 : x2 = x3 IN x4[a::=x]\\<^sub>s\\<^sub>b = VAR x1 : x2 = x3 IN x4\n\ngoal (10 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 9. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 10. \\<And>x1 x2 a x.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x1 \\<Longrightarrow>\n                    subst_branchb x1 b ba = x1;\n         \\<And>b ba.\n            atom b \\<sharp> x2 \\<Longrightarrow>\n            subst_branchlb x2 b ba = x2;\n         atom a \\<sharp>  x1 | x2  \\<rbrakk>\n        \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 9. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 10. \\<And>x1 x2 a x.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x1 \\<Longrightarrow>\n                    subst_branchb x1 b ba = x1;\n         \\<And>b ba.\n            atom b \\<sharp> x2 \\<Longrightarrow>\n            subst_branchlb x2 b ba = x2;\n         atom a \\<sharp>  x1 | x2  \\<rbrakk>\n        \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "case (AS_branch x1 x2 x3)"], ["proof (state)\nthis:\n  atom x2 \\<sharp> a\n  atom x2 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (10 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>atom x2 \\<sharp> a; atom x2 \\<sharp> x;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \\<rbrakk>\n       \\<Longrightarrow> subst_branchb  x1 x2 \\<Rightarrow> x3  a x =\n                          x1 x2 \\<Rightarrow> x3 \n 9. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 10. \\<And>x1 x2 a x.\n        \\<lbrakk>\\<And>b ba.\n                    atom b \\<sharp> x1 \\<Longrightarrow>\n                    subst_branchb x1 b ba = x1;\n         \\<And>b ba.\n            atom b \\<sharp> x2 \\<Longrightarrow>\n            subst_branchlb x2 b ba = x2;\n         atom a \\<sharp>  x1 | x2  \\<rbrakk>\n        \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "then"], ["proof (chain)\npicking this:\n  atom x2 \\<sharp> a\n  atom x2 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp>  x1 x2 \\<Rightarrow> x3", "show ?case"], ["proof (prove)\nusing this:\n  atom x2 \\<sharp> a\n  atom x2 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1. subst_branchb  x1 x2 \\<Rightarrow> x3  a x =  x1 x2 \\<Rightarrow> x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom x2 \\<sharp> a\n  atom x2 \\<sharp> x\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp>  x1 x2 \\<Rightarrow> x3 \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. subst_branchb  x1 x2 \\<Rightarrow> x3  a x =  x1 x2 \\<Rightarrow> x3", "by force"], ["proof (state)\nthis:\n  subst_branchb  x1 x2 \\<Rightarrow> x3  a x =  x1 x2 \\<Rightarrow> x3 \n\ngoal (9 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   subst_branchb x1 b ba = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 b ba = x2;\n        atom a \\<sharp>  x1 | x2  \\<rbrakk>\n       \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   subst_branchb x1 b ba = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 b ba = x2;\n        atom a \\<sharp>  x1 | x2  \\<rbrakk>\n       \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "case (AS_cons x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> subst_branchb x1 ?b ?ba = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom x3 \\<sharp>  x1 | x2  \n\ngoal (9 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }\n 9. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   subst_branchb x1 b ba = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 b ba = x2;\n        atom a \\<sharp>  x1 | x2  \\<rbrakk>\n       \\<Longrightarrow> subst_branchlb  x1 | x2   a x =  x1 | x2", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> subst_branchb x1 ?b ?ba = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom x3 \\<sharp>  x1 | x2", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> subst_branchb x1 ?b ?ba = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom x3 \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1. subst_branchlb  x1 | x2   x3 x4 =  x1 | x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> subst_branchb x1 ?b ?ba = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom x3 \\<sharp>  x1 | x2  \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. subst_branchlb  x1 | x2   x3 x4 =  x1 | x2", "by force"], ["proof (state)\nthis:\n  subst_branchlb  x1 | x2   x3 x4 =  x1 | x2  \n\ngoal (8 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_val x)"], ["proof (state)\nthis:\n  atom a \\<sharp> [xa__]\\<^sup>s\n\ngoal (8 subgoals):\n 1. \\<And>x a xa.\n       atom a \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       [x]\\<^sup>s[a::=xa]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 3. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 7. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 8. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom a \\<sharp> [xa__]\\<^sup>s", "show ?case"], ["proof (prove)\nusing this:\n  atom a \\<sharp> [xa__]\\<^sup>s\n\ngoal (1 subgoal):\n 1. [xa__]\\<^sup>s[a::=x]\\<^sub>s\\<^sub>b = [xa__]\\<^sup>s", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> [xa__]\\<^sup>s\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. [xa__]\\<^sup>s[a::=x]\\<^sub>s\\<^sub>b = [xa__]\\<^sup>s", "by force"], ["proof (state)\nthis:\n  [xa__]\\<^sup>s[a::=x]\\<^sub>s\\<^sub>b = [xa__]\\<^sup>s\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 2. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 7. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 2. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 7. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_if x1 x2 x3)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b ba.\n           atom b \\<sharp> x3 \\<Longrightarrow>\n           x3[b::=ba]\\<^sub>s\\<^sub>b = x3;\n        atom a \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 2. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 6. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 7. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> IF x1 THEN x2 ELSE x3", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (1 subgoal):\n 1. (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b = IF x1 THEN x2 ELSE x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom ?b \\<sharp> x3 \\<Longrightarrow> x3[?b::=?ba]\\<^sub>s\\<^sub>b = x3\n  atom a \\<sharp> IF x1 THEN x2 ELSE x3\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b = IF x1 THEN x2 ELSE x3", "by force"], ["proof (state)\nthis:\n  (IF x1 THEN x2 ELSE x3)[a::=x]\\<^sub>s\\<^sub>b = IF x1 THEN x2 ELSE x3\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 6. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 6. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_assign x1 x2)"], ["proof (state)\nthis:\n  atom a \\<sharp> x1 ::= x2\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 a x.\n       atom a \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 5. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 6. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom a \\<sharp> x1 ::= x2", "show ?case"], ["proof (prove)\nusing this:\n  atom a \\<sharp> x1 ::= x2\n\ngoal (1 subgoal):\n 1. x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> x1 ::= x2\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2", "by force"], ["proof (state)\nthis:\n  x1 ::= x2[a::=x]\\<^sub>s\\<^sub>b = x1 ::= x2\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 5. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 5. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_match x1 x2)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom a \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   subst_branchlb x2 b ba = x2;\n        atom a \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }\n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 4. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 5. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom a \\<sharp> MATCH x1 WITH { x2 }", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom a \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (1 subgoal):\n 1. MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x2 \\<Longrightarrow> subst_branchlb x2 ?b ?ba = x2\n  atom a \\<sharp> MATCH x1 WITH { x2 }\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }", "by force"], ["proof (state)\nthis:\n  MATCH x1 WITH { x2 }[a::=x]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 4. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 4. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_while x1 x2)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp> WHILE x1 DO { x2 } \n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 3. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 4. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp> WHILE x1 DO { x2 }", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp> WHILE x1 DO { x2 } \n\ngoal (1 subgoal):\n 1. (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 }", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp> WHILE x1 DO { x2 } \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 }", "by force"], ["proof (state)\nthis:\n  (WHILE x1 DO { x2 } )[a::=x]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 } \n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 3. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 3. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_seq x1 x2)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp>  x1 ;; x2 \n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x1 \\<Longrightarrow>\n                   x1[b::=ba]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b ba.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n 2. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 3. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp>  x1 ;; x2", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp>  x1 ;; x2 \n\ngoal (1 subgoal):\n 1. ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> x1 \\<Longrightarrow> x1[?b::=?ba]\\<^sub>s\\<^sub>b = x1\n  atom ?b \\<sharp> x2 \\<Longrightarrow> x2[?b::=?ba]\\<^sub>s\\<^sub>b = x2\n  atom a \\<sharp>  x1 ;; x2 \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2", "by force"], ["proof (state)\nthis:\n  ( x1 ;; x2 )[a::=x]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 2. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 2. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "case (AS_assert c s)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> s \\<Longrightarrow> s[?b::=?ba]\\<^sub>s\\<^sub>b = s\n  atom a \\<sharp> ASSERT c IN s \n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a x.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x2 \\<Longrightarrow>\n                   x2[b::=ba]\\<^sub>s\\<^sub>b = x2;\n        atom a \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ASSERT x1 IN x2 [a::=x]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 \n 2. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> s \\<Longrightarrow> s[?b::=?ba]\\<^sub>s\\<^sub>b = s\n  atom a \\<sharp> ASSERT c IN s", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> s \\<Longrightarrow> s[?b::=?ba]\\<^sub>s\\<^sub>b = s\n  atom a \\<sharp> ASSERT c IN s \n\ngoal (1 subgoal):\n 1. ASSERT c IN s [a::=x]\\<^sub>s\\<^sub>b = ASSERT c IN s", "unfolding  subst_sb.simps"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> s \\<Longrightarrow> s[?b::=?ba]\\<^sub>s\\<^sub>b = s\n  atom a \\<sharp> ASSERT c IN s \n\ngoal (1 subgoal):\n 1. ASSERT c[a::=x]\\<^sub>c\\<^sub>b IN s[a::=x]\\<^sub>s\\<^sub>b  =\n    ASSERT c IN s", "using\n      s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.forget_subst subst_b_v_def  subst_b_c_def subst_cb.simps"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> s \\<Longrightarrow> s[?b::=?ba]\\<^sub>s\\<^sub>b = s\n  atom a \\<sharp> ASSERT c IN s \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n  subst_b = subst_cb_abbrev\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n\ngoal (1 subgoal):\n 1. ASSERT c[a::=x]\\<^sub>c\\<^sub>b IN s[a::=x]\\<^sub>s\\<^sub>b  =\n    ASSERT c IN s", "by force"], ["proof (state)\nthis:\n  ASSERT c IN s [a::=x]\\<^sub>s\\<^sub>b = ASSERT c IN s \n\ngoal (1 subgoal):\n 1. \\<And>x a xa.\n       \\<lbrakk>\\<And>b ba.\n                   atom b \\<sharp> x \\<Longrightarrow>\n                   subst_branchb x b ba = x;\n        atom a \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb { x } a xa = { x }", "qed(auto+)"], ["", "lemma   subst_sb_id: \"subst_sb A a (B_var a) = A\" and\n  subst_branchb_id [simp]: \"subst_branchb B a (B_var a) = B\" and\n  subst_branchlb_id: \"subst_branchlb C a (B_var a) = C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A[a::=B_var a]\\<^sub>s\\<^sub>b = A &&&\n    subst_branchb B a (B_var a) = B &&& subst_branchlb C a (B_var a) = C", "proof(nominal_induct A and B and C avoiding: a  rule: s_branch_s_branch_list.strong_induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 13 subgoals...", "case (AS_branch x1 x2 x3)"], ["proof (state)\nthis:\n  atom x2 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (13 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom x2 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3", "show ?case"], ["proof (prove)\nusing this:\n  atom x2 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (1 subgoal):\n 1. subst_branchb  x1 x2 \\<Rightarrow> x3  a (B_var a) =\n     x1 x2 \\<Rightarrow> x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  atom x2 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. subst_branchb  x1 x2 \\<Rightarrow> x3  a (B_var a) =\n     x1 x2 \\<Rightarrow> x3", "by simp"], ["proof (state)\nthis:\n  subst_branchb  x1 x2 \\<Rightarrow> x3  a (B_var a) =\n   x1 x2 \\<Rightarrow> x3 \n\ngoal (12 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 12 subgoals...", "case (AS_cons x1 x2 )"], ["proof (state)\nthis:\n  subst_branchb x1 ?b (B_var ?b) = x1\n  subst_branchlb x2 ?b (B_var ?b) = x2\n\ngoal (12 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  subst_branchb x1 ?b (B_var ?b) = x1\n  subst_branchlb x2 ?b (B_var ?b) = x2", "show ?case"], ["proof (prove)\nusing this:\n  subst_branchb x1 ?b (B_var ?b) = x1\n  subst_branchlb x2 ?b (B_var ?b) = x2\n\ngoal (1 subgoal):\n 1. subst_branchlb  x1 | x2   a (B_var a) =  x1 | x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  subst_branchb x1 ?b (B_var ?b) = x1\n  subst_branchlb x2 ?b (B_var ?b) = x2\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. subst_branchlb  x1 | x2   a (B_var a) =  x1 | x2", "by simp"], ["proof (state)\nthis:\n  subst_branchlb  x1 | x2   a (B_var a) =  x1 | x2  \n\ngoal (11 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 11 subgoals...", "case (AS_val x)"], ["proof (state)\nthis:\n  \n\ngoal (11 subgoals):\n 1. \\<And>x a. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n 2. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 5. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 6. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 7. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 9. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 10. \\<And>x1 x2 a.\n        (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n        ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s", "by metis"], ["proof (state)\nthis:\n  [x]\\<^sup>s[a::=B_var a]\\<^sub>s\\<^sub>b = [x]\\<^sup>s\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 9. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 10. \\<And>x a.\n        (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n        subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 9. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 10. \\<And>x a.\n        (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n        subst_branchlb { x } a (B_var a) = { x }", "case (AS_if x1 x2 x3)"], ["proof (state)\nthis:\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 a.\n       \\<lbrakk>\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> (IF x1 THEN x2 ELSE x3)[a::=B_var\n                a]\\<^sub>s\\<^sub>b =\n                         IF x1 THEN x2 ELSE x3\n 4. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 5. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 6. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 8. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 9. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 10. \\<And>x a.\n        (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n        subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3", "show ?case"], ["proof (prove)\nusing this:\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (1 subgoal):\n 1. (IF x1 THEN x2 ELSE x3)[a::=B_var a]\\<^sub>s\\<^sub>b =\n    IF x1 THEN x2 ELSE x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (IF x1 THEN x2 ELSE x3)[a::=B_var a]\\<^sub>s\\<^sub>b =\n    IF x1 THEN x2 ELSE x3", "by metis"], ["proof (state)\nthis:\n  (IF x1 THEN x2 ELSE x3)[a::=B_var a]\\<^sub>s\\<^sub>b =\n  IF x1 THEN x2 ELSE x3\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 8. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 9. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 8. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 9. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_assign x1 x2)"], ["proof (state)\nthis:\n  \n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n 5. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 7. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 8. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 9. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2", "by metis"], ["proof (state)\nthis:\n  x1 ::= x2[a::=B_var a]\\<^sub>s\\<^sub>b = x1 ::= x2\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 7. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 8. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 7. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 8. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_match x1 x2)"], ["proof (state)\nthis:\n  subst_branchlb x2 ?b (B_var ?b) = x2\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. subst_branchlb x2 b (B_var b) = x2) \\<Longrightarrow>\n       MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b =\n       MATCH x1 WITH { x2 }\n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 6. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 7. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 8. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  subst_branchlb x2 ?b (B_var ?b) = x2", "show ?case"], ["proof (prove)\nusing this:\n  subst_branchlb x2 ?b (B_var ?b) = x2\n\ngoal (1 subgoal):\n 1. MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  subst_branchlb x2 ?b (B_var ?b) = x2\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }", "by metis"], ["proof (state)\nthis:\n  MATCH x1 WITH { x2 }[a::=B_var a]\\<^sub>s\\<^sub>b = MATCH x1 WITH { x2 }\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 6. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 7. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 6. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 7. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_while x1 x2)"], ["proof (state)\nthis:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> (WHILE x1 DO { x2 } )[a::=B_var\n              a]\\<^sub>s\\<^sub>b =\n                         WHILE x1 DO { x2 } \n 5. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 6. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 7. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2", "show ?case"], ["proof (prove)\nusing this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n\ngoal (1 subgoal):\n 1. (WHILE x1 DO { x2 } )[a::=B_var a]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 }", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. (WHILE x1 DO { x2 } )[a::=B_var a]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 }", "by metis"], ["proof (state)\nthis:\n  (WHILE x1 DO { x2 } )[a::=B_var a]\\<^sub>s\\<^sub>b = WHILE x1 DO { x2 } \n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 5. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 6. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 5. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 6. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_seq x1 x2)"], ["proof (state)\nthis:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       \\<lbrakk>\\<And>b. x1[b::=B_var b]\\<^sub>s\\<^sub>b = x1;\n        \\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2\\<rbrakk>\n       \\<Longrightarrow> ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =\n                          x1 ;; x2 \n 5. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 6. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2", "show ?case"], ["proof (prove)\nusing this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n\ngoal (1 subgoal):\n 1. ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =  x1 ;; x2", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  x1[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x1\n  x2[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x2\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =  x1 ;; x2", "by metis"], ["proof (state)\nthis:\n  ( x1 ;; x2 )[a::=B_var a]\\<^sub>s\\<^sub>b =  x1 ;; x2 \n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 5. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 5. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_let x1 x2 x3)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2 x3 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3\\<rbrakk>\n       \\<Longrightarrow> LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 4. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 5. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n\ngoal (1 subgoal):\n 1. LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_e_def has_subst_b_class.subst_id"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_eb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3", "by metis"], ["proof (state)\nthis:\n  LET x1 = x2 IN x3[a::=B_var a]\\<^sub>s\\<^sub>b = LET x1 = x2 IN x3\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 4. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 4. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_let2 x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x3[b::=B_var b]\\<^sub>s\\<^sub>b = x3;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> LET x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 3. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 4. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n\ngoal (1 subgoal):\n 1. LET x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n    LET x1 : x2 = x3 IN x4", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x3[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x3\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. LET x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n    LET x1 : x2 = x3 IN x4", "by metis"], ["proof (state)\nthis:\n  LET x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n  LET x1 : x2 = x3 IN x4\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 3. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 3. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_var x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom x1 \\<sharp> a\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 x3 x4 a.\n       \\<lbrakk>atom x1 \\<sharp> a;\n        \\<And>b. x4[b::=B_var b]\\<^sub>s\\<^sub>b = x4\\<rbrakk>\n       \\<Longrightarrow> VAR x1 : x2 = x3 IN x4[a::=B_var\n               a]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4\n 2. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 3. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  atom x1 \\<sharp> a\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4", "show ?case"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n    VAR x1 : x2 = x3 IN x4", "using subst_sb.simps s_branch_s_branch_list.fresh subst_b_\\<tau>_def has_subst_b_class.subst_id subst_b_v_def"], ["proof (prove)\nusing this:\n  atom x1 \\<sharp> a\n  x4[?b::=B_var ?b]\\<^sub>s\\<^sub>b = x4\n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_tb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. VAR x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n    VAR x1 : x2 = x3 IN x4", "by metis"], ["proof (state)\nthis:\n  VAR x1 : x2 = x3 IN x4[a::=B_var a]\\<^sub>s\\<^sub>b =\n  VAR x1 : x2 = x3 IN x4\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 2. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 2. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "case (AS_assert c s )"], ["proof (state)\nthis:\n  s[?b::=B_var ?b]\\<^sub>s\\<^sub>b = s\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2 a.\n       (\\<And>b. x2[b::=B_var b]\\<^sub>s\\<^sub>b = x2) \\<Longrightarrow>\n       ASSERT x1 IN x2 [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT x1 IN x2 \n 2. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "then"], ["proof (chain)\npicking this:\n  s[?b::=B_var ?b]\\<^sub>s\\<^sub>b = s", "show ?case"], ["proof (prove)\nusing this:\n  s[?b::=B_var ?b]\\<^sub>s\\<^sub>b = s\n\ngoal (1 subgoal):\n 1. ASSERT c IN s [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT c IN s", "unfolding subst_sb.simps"], ["proof (prove)\nusing this:\n  s[?b::=B_var ?b]\\<^sub>s\\<^sub>b = s\n\ngoal (1 subgoal):\n 1. ASSERT c[a::=B_var\n                  a]\\<^sub>c\\<^sub>b IN s[a::=B_var a]\\<^sub>s\\<^sub>b  =\n    ASSERT c IN s", "using s_branch_s_branch_list.fresh subst_b_c_def has_subst_b_class.subst_id"], ["proof (prove)\nusing this:\n  s[?b::=B_var ?b]\\<^sub>s\\<^sub>b = s\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  subst_b = subst_cb_abbrev\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. ASSERT c[a::=B_var\n                  a]\\<^sub>c\\<^sub>b IN s[a::=B_var a]\\<^sub>s\\<^sub>b  =\n    ASSERT c IN s", "by metis"], ["proof (state)\nthis:\n  ASSERT c IN s [a::=B_var a]\\<^sub>s\\<^sub>b = ASSERT c IN s \n\ngoal (1 subgoal):\n 1. \\<And>x a.\n       (\\<And>b. subst_branchb x b (B_var b) = x) \\<Longrightarrow>\n       subst_branchlb { x } a (B_var a) = { x }", "qed (auto)"], ["", "lemma flip_subst_s:\n  fixes  bv::bv and s::s and cs::branch_s and z::bv\n  shows   \"atom bv \\<sharp> s \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> s) = s[z::=B_var bv]\\<^sub>s\\<^sub>b\"  and\n    \"atom bv \\<sharp> cs \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> cs) = subst_branchb  cs z (B_var bv) \" and\n    \"atom bv \\<sharp> css \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> css) = subst_branchlb css z (B_var bv) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. (atom bv \\<sharp> s \\<Longrightarrow>\n     (bv \\<leftrightarrow> z) \\<bullet> s =\n     s[z::=B_var bv]\\<^sub>s\\<^sub>b) &&&\n    (atom bv \\<sharp> cs \\<Longrightarrow>\n     (bv \\<leftrightarrow> z) \\<bullet> cs =\n     subst_branchb cs z (B_var bv)) &&&\n    (atom bv \\<sharp> css \\<Longrightarrow>\n     (bv \\<leftrightarrow> z) \\<bullet> css =\n     subst_branchlb css z (B_var bv))", "proof(nominal_induct s and cs and css  rule: s_branch_s_branch_list.strong_induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "case (AS_branch x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using pure_fresh fresh_at_base flip_fresh_fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n  ?a \\<sharp> ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by metis"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "moreover"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "have \"((bv \\<leftrightarrow> z) \\<bullet> x2) = x2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "using  fresh_at_base flip_fresh_fresh[of bv x2 z] AS_branch"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x2; atom z \\<sharp> x2\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "show ?case"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet>  x1 x2 \\<Rightarrow> x3  =\n    subst_branchb  x1 x2 \\<Rightarrow> x3  z (B_var bv)", "unfolding  s_branch_s_branch_list.perm_simps subst_branchb.simps"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 (bv \\<leftrightarrow> z) \\<bullet> x2 \\<Rightarrow> (bv \\<leftrightarrow> z) \\<bullet> x3  =\n     x1 x2 \\<Rightarrow> x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "using s_branch_s_branch_list.fresh(1) AS_branch"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 (bv \\<leftrightarrow> z) \\<bullet> x2 \\<Rightarrow> (bv \\<leftrightarrow> z) \\<bullet> x3  =\n     x1 x2 \\<Rightarrow> x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet>  x1 x2 \\<Rightarrow> x3  =\n  subst_branchb  x1 x2 \\<Rightarrow> x3  z (B_var bv)\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "case (AS_cons x1 x2 )"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) =  subst_branchb x1 z (B_var bv)\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)", "using pure_fresh fresh_at_base flip_fresh_fresh  s_branch_s_branch_list.fresh(13)"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp>  x1 | x2  \n  ?a \\<sharp> ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)", "by metis"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "moreover"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "have \"((bv \\<leftrightarrow> z) \\<bullet> x2) =  subst_branchlb x2 z (B_var bv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)", "using  fresh_at_base flip_fresh_fresh[of bv x2 z] AS_cons s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x2; atom z \\<sharp> x2\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp>  x1 | x2  \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)", "by metis"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)", "show ?case"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet>  x1 | x2   =\n    subst_branchlb  x1 | x2   z (B_var bv)", "unfolding  s_branch_s_branch_list.perm_simps subst_branchb.simps"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 | (bv \\<leftrightarrow> z) \\<bullet> x2   =\n    subst_branchlb  x1 | x2   z (B_var bv)", "using s_branch_s_branch_list.fresh(1) AS_cons"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = subst_branchb x1 z (B_var bv)\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 | (bv \\<leftrightarrow> z) \\<bullet> x2   =\n    subst_branchlb  x1 | x2   z (B_var bv)", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet>  x1 | x2   =\n  subst_branchlb  x1 | x2   z (B_var bv)\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "case (AS_val x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n       [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                 x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                          ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> [x]\\<^sup>s", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n    [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_branchb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (1 subgoal):\n 1. [(bv \\<leftrightarrow> z) \\<bullet> x]\\<^sup>s =\n    [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. [(bv \\<leftrightarrow> z) \\<bullet> x]\\<^sup>s =\n    [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s =\n  [x]\\<^sup>s[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x =\n                 subst_branchb x z (B_var bv);\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                          subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x =\n                 subst_branchb x z (B_var bv);\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                          subst_branchlb { x } z (B_var bv)", "case (AS_let x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x =\n                 subst_branchb x z (B_var bv);\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                          subst_branchlb { x } z (B_var bv)", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x =\n                 subst_branchb x z (B_var bv);\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                          subst_branchlb { x } z (B_var bv)", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n                         LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 (bv \\<leftrightarrow> z) \\<bullet> x =\n                 subst_branchb x z (B_var bv);\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                          subst_branchlb { x } z (B_var bv)", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n    LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 = (bv \\<leftrightarrow> z) \\<bullet> x2 IN (bv \\<leftrightarrow> z) \\<bullet> x3 =\n    LET x1 = x2[z::=B_var\n                     bv]\\<^sub>e\\<^sub>b IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 = (bv \\<leftrightarrow> z) \\<bullet> x2 IN (bv \\<leftrightarrow> z) \\<bullet> x3 =\n    LET x1 = x2[z::=B_var\n                     bv]\\<^sub>e\\<^sub>b IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3 =\n  LET x1 = x2 IN x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_let2 x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x3 =\n                x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x4 =\n        x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n                         LET x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n    LET x1 : x2 = x3 IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 : (bv \\<leftrightarrow> z) \\<bullet> x2 = (bv \\<leftrightarrow> z) \\<bullet> x3 IN (bv \\<leftrightarrow> z) \\<bullet> x4 =\n    LET x1 : x2[z::=B_var\n                     bv]\\<^sub>\\<tau>\\<^sub>b = x3[z::=B_var\n                  bv]\\<^sub>s\\<^sub>b IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst s_branch_s_branch_list.fresh(5) subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 : (bv \\<leftrightarrow> z) \\<bullet> x2 = (bv \\<leftrightarrow> z) \\<bullet> x3 IN (bv \\<leftrightarrow> z) \\<bullet> x4 =\n    LET x1 : x2[z::=B_var\n                     bv]\\<^sub>\\<tau>\\<^sub>b = x3[z::=B_var\n                  bv]\\<^sub>s\\<^sub>b IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4 =\n  LET x1 : x2 = x3 IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_if x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x3 =\n        x3[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n                         (IF x1 THEN x2 ELSE x3)[z::=B_var\n                bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n    (IF x1 THEN x2 ELSE x3)[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (1 subgoal):\n 1. IF (bv \\<leftrightarrow> z) \\<bullet> x1 THEN (bv \\<leftrightarrow> z) \\<bullet> x2 ELSE (bv \\<leftrightarrow> z) \\<bullet> x3 =\n    IF x1[z::=B_var\n               bv]\\<^sub>v\\<^sub>b THEN x2[z::=B_var\n          bv]\\<^sub>s\\<^sub>b ELSE x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x3 = x3[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. IF (bv \\<leftrightarrow> z) \\<bullet> x1 THEN (bv \\<leftrightarrow> z) \\<bullet> x2 ELSE (bv \\<leftrightarrow> z) \\<bullet> x3 =\n    IF x1[z::=B_var\n               bv]\\<^sub>v\\<^sub>b THEN x2[z::=B_var\n          bv]\\<^sub>s\\<^sub>b ELSE x3[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3) =\n  (IF x1 THEN x2 ELSE x3)[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_var x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x4 =\n                x4[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n                         VAR x1 : x2 = x3 IN x4[z::=B_var\n               bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n    VAR x1 : x2 = x3 IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. VAR (bv \\<leftrightarrow> z) \\<bullet> x1 : (bv \\<leftrightarrow> z) \\<bullet> x2 = (bv \\<leftrightarrow> z) \\<bullet> x3 IN (bv \\<leftrightarrow> z) \\<bullet> x4 =\n    VAR x1 : x2[z::=B_var\n                     bv]\\<^sub>\\<tau>\\<^sub>b = x3[z::=B_var\n                  bv]\\<^sub>v\\<^sub>b IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def subst_b_\\<tau>_def s_branch_s_branch_list.fresh fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x4 = x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  subst_b = subst_tb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. VAR (bv \\<leftrightarrow> z) \\<bullet> x1 : (bv \\<leftrightarrow> z) \\<bullet> x2 = (bv \\<leftrightarrow> z) \\<bullet> x3 IN (bv \\<leftrightarrow> z) \\<bullet> x4 =\n    VAR x1 : x2[z::=B_var\n                     bv]\\<^sub>\\<tau>\\<^sub>b = x3[z::=B_var\n                  bv]\\<^sub>v\\<^sub>b IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4 =\n  VAR x1 : x2 = x3 IN x4[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_assign x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n       x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n    x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 ::= (bv \\<leftrightarrow> z) \\<bullet> x2 =\n    x1 ::= x2[z::=B_var bv]\\<^sub>v\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 ::= (bv \\<leftrightarrow> z) \\<bullet> x2 =\n    x1 ::= x2[z::=B_var bv]\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2 =\n  x1 ::= x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_match x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                subst_branchlb x2 z (B_var bv);\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n                         MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n    MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (1 subgoal):\n 1. MATCH (bv \\<leftrightarrow> z) \\<bullet> x1 WITH { (bv \\<leftrightarrow> z) \\<bullet> x2 } =\n    MATCH x1[z::=B_var\n                  bv]\\<^sub>v\\<^sub>b WITH { subst_branchlb x2 z\n        (B_var bv) }", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = subst_branchlb x2 z (B_var bv)\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. MATCH (bv \\<leftrightarrow> z) \\<bullet> x1 WITH { (bv \\<leftrightarrow> z) \\<bullet> x2 } =\n    MATCH x1[z::=B_var\n                  bv]\\<^sub>v\\<^sub>b WITH { subst_branchlb x2 z\n        (B_var bv) }", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 } =\n  MATCH x1 WITH { x2 }[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_while x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n                         (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n    (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (1 subgoal):\n 1. WHILE (bv \\<leftrightarrow> z) \\<bullet> x1 DO { (bv \\<leftrightarrow> z) \\<bullet> x2 }  =\n    WHILE x1[z::=B_var\n                  bv]\\<^sub>s\\<^sub>b DO { x2[z::=B_var\n             bv]\\<^sub>s\\<^sub>b }", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. WHILE (bv \\<leftrightarrow> z) \\<bullet> x1 DO { (bv \\<leftrightarrow> z) \\<bullet> x2 }  =\n    WHILE x1[z::=B_var\n                  bv]\\<^sub>s\\<^sub>b DO { x2[z::=B_var\n             bv]\\<^sub>s\\<^sub>b }", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ) =\n  (WHILE x1 DO { x2 } )[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_seq x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x1 =\n                x1[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        (bv \\<leftrightarrow> z) \\<bullet> x2 =\n        x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n                         ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n    ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (1 subgoal):\n 1.  ((bv \\<leftrightarrow> z) \\<bullet> x1) ;; (bv \\<leftrightarrow> z) \\<bullet> x2  =\n     x1[z::=B_var bv]\\<^sub>s\\<^sub>b ;; x2[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1.  ((bv \\<leftrightarrow> z) \\<bullet> x1) ;; (bv \\<leftrightarrow> z) \\<bullet> x2  =\n     x1[z::=B_var bv]\\<^sub>s\\<^sub>b ;; x2[z::=B_var bv]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ) =\n  ( x1 ;; x2 )[z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "case (AS_assert x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x2 =\n                x2[z::=B_var bv]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n                         ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n    ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (1 subgoal):\n 1. ASSERT (bv \\<leftrightarrow> z) \\<bullet> x1 IN (bv \\<leftrightarrow> z) \\<bullet> x2  =\n    ASSERT x1[z::=B_var\n                   bv]\\<^sub>c\\<^sub>b IN x2[z::=B_var bv]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_c_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2[z::=B_var bv]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_cb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. ASSERT (bv \\<leftrightarrow> z) \\<bullet> x1 IN (bv \\<leftrightarrow> z) \\<bullet> x2  =\n    ASSERT x1[z::=B_var\n                   bv]\\<^sub>c\\<^sub>b IN x2[z::=B_var bv]\\<^sub>s\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2  =\n  ASSERT x1 IN x2 [z::=B_var bv]\\<^sub>s\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> x =\n                subst_branchb x z (B_var bv);\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> { x } =\n                         subst_branchlb { x } z (B_var bv)", "qed(auto)"], ["", "lemma flip_subst_subst_s:\n  fixes  bv::bv and s::s and cs::branch_s and z::bv\n  shows   \"atom bv \\<sharp> s \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> s)[bv::=v]\\<^sub>s\\<^sub>b = s[z::=v]\\<^sub>s\\<^sub>b\"    and\n    \"atom bv \\<sharp> cs \\<Longrightarrow> subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> cs) bv v = subst_branchb cs z v\" and\n    \"atom bv \\<sharp> css \\<Longrightarrow> subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> css) bv v = subst_branchlb  css z v \""], ["proof (prove)\ngoal (1 subgoal):\n 1. (atom bv \\<sharp> s \\<Longrightarrow>\n     ((bv \\<leftrightarrow> z) \\<bullet> s)[bv::=v]\\<^sub>s\\<^sub>b =\n     s[z::=v]\\<^sub>s\\<^sub>b) &&&\n    (atom bv \\<sharp> cs \\<Longrightarrow>\n     subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> cs) bv v =\n     subst_branchb cs z v) &&&\n    (atom bv \\<sharp> css \\<Longrightarrow>\n     subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> css) bv v =\n     subst_branchlb css z v)", "proof(nominal_induct s  and cs and css rule: s_branch_s_branch_list.strong_induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "case (AS_branch x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using pure_fresh fresh_at_base flip_fresh_fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n  ?a \\<sharp> ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by metis"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "moreover"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "have \"((bv \\<leftrightarrow> z) \\<bullet> x2) = x2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "using  fresh_at_base flip_fresh_fresh[of bv x2 z] AS_branch"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x2; atom z \\<sharp> x2\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 13 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2", "show ?case"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (1 subgoal):\n 1. subst_branchb\n     ((bv \\<leftrightarrow> z) \\<bullet>  x1 x2 \\<Rightarrow> x3 ) bv v =\n    subst_branchb  x1 x2 \\<Rightarrow> x3  z v", "unfolding  s_branch_s_branch_list.perm_simps subst_branchb.simps"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 (bv \\<leftrightarrow> z) \\<bullet> x2 \\<Rightarrow> ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b  =\n     x1 x2 \\<Rightarrow> x3[z::=v]\\<^sub>s\\<^sub>b", "using s_branch_s_branch_list.fresh(1) AS_branch"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  (bv \\<leftrightarrow> z) \\<bullet> x2 = x2\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 x2 \\<Rightarrow> x3 \n\ngoal (1 subgoal):\n 1.  (bv \\<leftrightarrow> z) \\<bullet> x1 (bv \\<leftrightarrow> z) \\<bullet> x2 \\<Rightarrow> ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b  =\n     x1 x2 \\<Rightarrow> x3[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  subst_branchb\n   ((bv \\<leftrightarrow> z) \\<bullet>  x1 x2 \\<Rightarrow> x3 ) bv v =\n  subst_branchb  x1 x2 \\<Rightarrow> x3  z v\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "case (AS_cons x1 x2 )"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv v =\n  subst_branchb x1 z v\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (12 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv v =\n  subst_branchb x1 z v\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1. subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet>  x1 | x2  ) bv v =\n    subst_branchlb  x1 | x2   z v", "unfolding  s_branch_s_branch_list.perm_simps subst_branchlb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv v =\n  subst_branchb x1 z v\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1.  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv\n      v | subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v   =\n     subst_branchb x1 z v | subst_branchlb x2 z v", "using s_branch_s_branch_list.fresh(1) AS_cons"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv v =\n  subst_branchb x1 z v\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp>  x1 | x2  \n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv v =\n  subst_branchb x1 z v\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp>  x1 | x2  \n\ngoal (1 subgoal):\n 1.  subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x1) bv\n      v | subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v   =\n     subst_branchb x1 z v | subst_branchlb x2 z v", "by auto"], ["proof (state)\nthis:\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet>  x1 | x2  ) bv v =\n  subst_branchlb  x1 | x2   z v\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "case (AS_val x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       atom bv \\<sharp> [x]\\<^sup>s \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n       [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x1 x2.\n        \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                 ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                 x2[z::=v]\\<^sub>s\\<^sub>b;\n         atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n        \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                          ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> [x]\\<^sup>s", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n    [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_branchb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n\ngoal (1 subgoal):\n 1. [(bv \\<leftrightarrow> z) \\<bullet> x]\\<^sup>s[bv::=v]\\<^sub>s\\<^sub>b =\n    [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [x]\\<^sup>s\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. [(bv \\<leftrightarrow> z) \\<bullet> x]\\<^sup>s[bv::=v]\\<^sub>s\\<^sub>b =\n    [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> [x]\\<^sup>s)[bv::=v]\\<^sub>s\\<^sub>b =\n  [x]\\<^sup>s[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                 subst_branchb x z v;\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb\n                           ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                          subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                 subst_branchb x z v;\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb\n                           ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                          subst_branchlb { x } z v", "case (AS_let x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                 subst_branchb x z v;\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb\n                           ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                          subst_branchlb { x } z v", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                 subst_branchb x z v;\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb\n                           ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                          subst_branchlb { x } z v", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 = x2 IN x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 10. \\<And>x.\n        \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                 subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                 subst_branchb x z v;\n         atom bv \\<sharp> { x }\\<rbrakk>\n        \\<Longrightarrow> subst_branchlb\n                           ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                          subst_branchlb { x } z v", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 = ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>e\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 = x2[z::=v]\\<^sub>e\\<^sub>b IN x3[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst_subst subst_b_e_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 = x2 IN x3\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 = ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>e\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 = x2[z::=v]\\<^sub>e\\<^sub>b IN x3[z::=v]\\<^sub>s\\<^sub>b", "by force"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> LET x1 = x2 IN x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  LET x1 = x2 IN x3[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_let2 x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "hence \"((bv \\<leftrightarrow> z) \\<bullet> x1) = x1\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "using fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x3 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n                x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x4 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n        x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> LET x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 9. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 : ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>\\<tau>\\<^sub>b = ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 : x2[z::=v]\\<^sub>\\<tau>\\<^sub>b = x3[z::=v]\\<^sub>s\\<^sub>b IN x4[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst s_branch_s_branch_list.fresh(5) subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> LET x1 : x2 = x3 IN x4\n  (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. LET (bv \\<leftrightarrow> z) \\<bullet> x1 : ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>\\<tau>\\<^sub>b = ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    LET x1 : x2[z::=v]\\<^sub>\\<tau>\\<^sub>b = x3[z::=v]\\<^sub>s\\<^sub>b IN x4[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> LET x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  LET x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_if x1 x2 x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (8 subgoals):\n 1. \\<And>x1 x2 x3.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x3 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n        x3[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> IF x1 THEN x2 ELSE x3\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 8. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n    (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n\ngoal (1 subgoal):\n 1. IF ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>v\\<^sub>b THEN ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b ELSE ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n    IF x1[z::=v]\\<^sub>v\\<^sub>b THEN x2[z::=v]\\<^sub>s\\<^sub>b ELSE x3[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x3 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n  x3[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> IF x1 THEN x2 ELSE x3\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. IF ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>v\\<^sub>b THEN ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b ELSE ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>s\\<^sub>b =\n    IF x1[z::=v]\\<^sub>v\\<^sub>b THEN x2[z::=v]\\<^sub>s\\<^sub>b ELSE x3[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> (IF x1 THEN x2 ELSE x3))[bv::=v]\\<^sub>s\\<^sub>b =\n  (IF x1 THEN x2 ELSE x3)[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_var x1 x2 x3 x4)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>atom bv \\<sharp> x4 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                x4[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n                         VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 7. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n\ngoal (1 subgoal):\n 1. VAR (bv \\<leftrightarrow> z) \\<bullet> x1 : ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>\\<tau>\\<^sub>b = ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>v\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    VAR x1 : x2[z::=v]\\<^sub>\\<tau>\\<^sub>b = x3[z::=v]\\<^sub>v\\<^sub>b IN x4[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def subst_b_\\<tau>_def s_branch_s_branch_list.fresh fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x4 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  x4[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> VAR x1 : x2 = x3 IN x4\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  subst_b = subst_tb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. VAR (bv \\<leftrightarrow> z) \\<bullet> x1 : ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>\\<tau>\\<^sub>b = ((bv \\<leftrightarrow> z) \\<bullet> x3)[bv::=v]\\<^sub>v\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x4)[bv::=v]\\<^sub>s\\<^sub>b =\n    VAR x1 : x2[z::=v]\\<^sub>\\<tau>\\<^sub>b = x3[z::=v]\\<^sub>v\\<^sub>b IN x4[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> VAR x1 : x2 = x3 IN x4)[bv::=v]\\<^sub>s\\<^sub>b =\n  VAR x1 : x2 = x3 IN x4[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_assign x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (6 subgoals):\n 1. \\<And>x1 x2.\n       atom bv \\<sharp> x1 ::= x2 \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n       x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 6. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n    x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 ::= ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>v\\<^sub>b =\n    x1 ::= x2[z::=v]\\<^sub>v\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh fresh_at_base flip_fresh_fresh[of bv x1 z]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 ::= x2\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>atom bv \\<sharp> x1; atom z \\<sharp> x1\\<rbrakk>\n  \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> x1 = x1\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> x1 ::= ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>v\\<^sub>b =\n    x1 ::= x2[z::=v]\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> x1 ::= x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1 ::= x2[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_match x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (5 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv\n                 v =\n                subst_branchlb x2 z v;\n        atom bv \\<sharp> MATCH x1 WITH { x2 }\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n                         MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 5. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n    MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n\ngoal (1 subgoal):\n 1. MATCH ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>v\\<^sub>b WITH { subst_branchlb\n      ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v } =\n    MATCH x1[z::=v]\\<^sub>v\\<^sub>b WITH { subst_branchlb x2 z v }", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  subst_branchlb ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v =\n  subst_branchlb x2 z v\n  atom bv \\<sharp> MATCH x1 WITH { x2 }\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. MATCH ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>v\\<^sub>b WITH { subst_branchlb\n      ((bv \\<leftrightarrow> z) \\<bullet> x2) bv v } =\n    MATCH x1[z::=v]\\<^sub>v\\<^sub>b WITH { subst_branchlb x2 z v }", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> MATCH x1 WITH { x2 })[bv::=v]\\<^sub>s\\<^sub>b =\n  MATCH x1 WITH { x2 }[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_while x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (4 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> WHILE x1 DO { x2 } \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 4. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n    (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n\ngoal (1 subgoal):\n 1. WHILE ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b DO { ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b }  =\n    WHILE x1[z::=v]\\<^sub>s\\<^sub>b DO { x2[z::=v]\\<^sub>s\\<^sub>b }", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> WHILE x1 DO { x2 } \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. WHILE ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b DO { ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b }  =\n    WHILE x1[z::=v]\\<^sub>s\\<^sub>b DO { x2[z::=v]\\<^sub>s\\<^sub>b }", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> (WHILE x1 DO { x2 } ))[bv::=v]\\<^sub>s\\<^sub>b =\n  (WHILE x1 DO { x2 } )[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_seq x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (3 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x1 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n                x1[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> x2 \\<Longrightarrow>\n        ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n        x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp>  x1 ;; x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n                         ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 3. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n    ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n\ngoal (1 subgoal):\n 1.  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b ;; ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b  =\n     x1[z::=v]\\<^sub>s\\<^sub>b ;; x2[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_v_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x1 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b =\n  x1[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp>  x1 ;; x2 \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1.  ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>s\\<^sub>b ;; ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b  =\n     x1[z::=v]\\<^sub>s\\<^sub>b ;; x2[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> ( x1 ;; x2 ))[bv::=v]\\<^sub>s\\<^sub>b =\n  ( x1 ;; x2 )[z::=v]\\<^sub>s\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "case (AS_assert x1 x2)"], ["proof (state)\nthis:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (2 subgoals):\n 1. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> x2 \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n                x2[z::=v]\\<^sub>s\\<^sub>b;\n        atom bv \\<sharp> ASSERT x1 IN x2 \\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n                         ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n 2. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n    ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b", "unfolding  s_branch_s_branch_list.perm_simps subst_sb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n\ngoal (1 subgoal):\n 1. ASSERT ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>c\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b  =\n    ASSERT x1[z::=v]\\<^sub>c\\<^sub>b IN x2[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst subst_b_e_def subst_b_c_def s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> x2 \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b =\n  x2[z::=v]\\<^sub>s\\<^sub>b\n  atom bv \\<sharp> ASSERT x1 IN x2 \n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_eb_abbrev\n  subst_b = subst_cb_abbrev\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. ASSERT ((bv \\<leftrightarrow> z) \\<bullet> x1)[bv::=v]\\<^sub>c\\<^sub>b IN ((bv \\<leftrightarrow> z) \\<bullet> x2)[bv::=v]\\<^sub>s\\<^sub>b  =\n    ASSERT x1[z::=v]\\<^sub>c\\<^sub>b IN x2[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> ASSERT x1 IN x2 )[bv::=v]\\<^sub>s\\<^sub>b =\n  ASSERT x1 IN x2 [z::=v]\\<^sub>s\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>atom bv \\<sharp> x \\<Longrightarrow>\n                subst_branchb ((bv \\<leftrightarrow> z) \\<bullet> x) bv v =\n                subst_branchb x z v;\n        atom bv \\<sharp> { x }\\<rbrakk>\n       \\<Longrightarrow> subst_branchlb\n                          ((bv \\<leftrightarrow> z) \\<bullet> { x }) bv v =\n                         subst_branchlb { x } z v", "qed(auto)"], ["", "instantiation s :: has_subst_b\nbegin"], ["", "definition \"subst_b = (\\<lambda>s bv b. subst_sb s bv b)\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(s, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::s"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = ((atom i \\<sharp> t \\<and> j \\<sharp> t) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "using fresh_subst_sb_if subst_b_s_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?A[?i::=?x]\\<^sub>s\\<^sub>b =\n  (atom ?i \\<sharp> ?A \\<and> ?j \\<sharp> ?A \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?A \\<or> ?j = atom ?i))\n  subst_b = subst_sb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::s and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "using subst_b_s_def forget_subst_sb"], ["proof (prove)\nusing this:\n  subst_b = subst_sb_abbrev\n  atom ?a \\<sharp> ?A \\<Longrightarrow> ?A[?a::=?x]\\<^sub>s\\<^sub>b = ?A\n\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "by metis"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::s"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "using subst_b_s_def  subst_sb_id"], ["proof (prove)\nusing this:\n  subst_b = subst_sb_abbrev\n  ?A[?a::=B_var ?a]\\<^sub>s\\<^sub>b = ?A\n\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "by metis"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::s"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using subst_b_s_def subst_sb_subst_branchb_subst_branchlb.eqvt"], ["proof (prove)\nusing this:\n  subst_b = subst_sb_abbrev\n  ?p \\<bullet> ?a[?aa::=?ab]\\<^sub>s\\<^sub>b =\n  (?p \\<bullet> ?a)[?p \\<bullet> ?aa::=?p \\<bullet> ?ab]\\<^sub>s\\<^sub>b\n  ?p \\<bullet> subst_branchb ?b ?ba ?bb =\n  subst_branchb (?p \\<bullet> ?b) (?p \\<bullet> ?ba) (?p \\<bullet> ?bb)\n  ?p \\<bullet> subst_branchlb ?c ?ca ?cb =\n  subst_branchlb (?p \\<bullet> ?c) (?p \\<bullet> ?ca) (?p \\<bullet> ?cb)\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::s and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "using subst_b_s_def flip_subst_s"], ["proof (prove)\nusing this:\n  subst_b = subst_sb_abbrev\n  atom ?bv \\<sharp> ?s \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?s =\n  ?s[?z::=B_var ?bv]\\<^sub>s\\<^sub>b\n  atom ?bv \\<sharp> ?cs \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?cs =\n  subst_branchb ?cs ?z (B_var ?bv)\n  atom ?bv \\<sharp> ?css \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?css =\n  subst_branchlb ?css ?z (B_var ?bv)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::s and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "using flip_subst_subst_s subst_b_s_def"], ["proof (prove)\nusing this:\n  atom ?bv \\<sharp> ?s \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?s)[?bv::=?v]\\<^sub>s\\<^sub>b =\n  ?s[?z::=?v]\\<^sub>s\\<^sub>b\n  atom ?bv \\<sharp> ?cs \\<Longrightarrow>\n  subst_branchb ((?bv \\<leftrightarrow> ?z) \\<bullet> ?cs) ?bv ?v =\n  subst_branchb ?cs ?z ?v\n  atom ?bv \\<sharp> ?css \\<Longrightarrow>\n  subst_branchlb ((?bv \\<leftrightarrow> ?z) \\<bullet> ?css) ?bv ?v =\n  subst_branchlb ?css ?z ?v\n  subst_b = subst_sb_abbrev\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Function Type\\<close>"], ["", "nominal_function subst_ft_b :: \"fun_typ \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> fun_typ\" where\n  \"subst_ft_b ( AF_fun_typ z b c t (s::s)) x v = AF_fun_typ z (subst_bb b x v) (subst_cb c x v) t[x::=v]\\<^sub>\\<tau>\\<^sub>b s[x::=v]\\<^sub>s\\<^sub>b\""], ["proof (prove)\ngoal (4 subgoals):\n 1. eqvt subst_ft_b_graph_aux\n 2. \\<And>x y. subst_ft_b_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       (\\<And>z b c t s xa v.\n           x = (AF_fun_typ z b c t s, xa, v) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 4. \\<And>z b c t s x v za ba ca ta sa xa va.\n       (AF_fun_typ z b c t s, x, v) =\n       (AF_fun_typ za ba ca ta sa, xa, va) \\<Longrightarrow>\n       AF_fun_typ z b[x::=v]\\<^sub>b\\<^sub>b (c[x::=v]\\<^sub>c\\<^sub>b)\n        t[x::=v]\\<^sub>\\<tau>\\<^sub>b s[x::=v]\\<^sub>s\\<^sub>b =\n       AF_fun_typ za ba[xa::=va]\\<^sub>b\\<^sub>b\n        (ca[xa::=va]\\<^sub>c\\<^sub>b) ta[xa::=va]\\<^sub>\\<tau>\\<^sub>b\n        sa[xa::=va]\\<^sub>s\\<^sub>b", "apply(simp add: eqvt_def subst_ft_b_graph_aux_def )"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x y. subst_ft_b_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       (\\<And>z b c t s xa v.\n           x = (AF_fun_typ z b c t s, xa, v) \\<Longrightarrow>\n           P) \\<Longrightarrow>\n       P\n 3. \\<And>z b c t s x v za ba ca ta sa xa va.\n       (AF_fun_typ z b c t s, x, v) =\n       (AF_fun_typ za ba ca ta sa, xa, va) \\<Longrightarrow>\n       AF_fun_typ z b[x::=v]\\<^sub>b\\<^sub>b (c[x::=v]\\<^sub>c\\<^sub>b)\n        t[x::=v]\\<^sub>\\<tau>\\<^sub>b s[x::=v]\\<^sub>s\\<^sub>b =\n       AF_fun_typ za ba[xa::=va]\\<^sub>b\\<^sub>b\n        (ca[xa::=va]\\<^sub>c\\<^sub>b) ta[xa::=va]\\<^sub>\\<tau>\\<^sub>b\n        sa[xa::=va]\\<^sub>s\\<^sub>b", "apply(simp add:fun_typ.strong_exhaust,auto )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       (\\<And>z b c t s.\n           a = AF_fun_typ z b c t s \\<Longrightarrow> P) \\<Longrightarrow>\n       P", "apply(rule_tac y=a and c=\"(a,b)\" in fun_typ.strong_exhaust)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a x1 x2 x3 x4 x5.\n       \\<lbrakk>\\<And>z b c t s.\n                   a = AF_fun_typ z b c t s \\<Longrightarrow> P;\n        {atom x1} \\<sharp>* (a, b); a = AF_fun_typ x1 x2 x3 x4 x5\\<rbrakk>\n       \\<Longrightarrow> P", "apply (auto simp: eqvt_at_def fresh_star_def fresh_Pair fresh_at_base)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_ft_b_dom", "by lexicographic_order"], ["", "nominal_function subst_ftq_b :: \"fun_typ_q \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> fun_typ_q\" where\n  \"atom bv \\<sharp> (x,v) \\<Longrightarrow>  subst_ftq_b (AF_fun_typ_some bv ft) x v = (AF_fun_typ_some bv (subst_ft_b ft x v))\" \n|  \"subst_ftq_b (AF_fun_typ_none  ft) x v = (AF_fun_typ_none (subst_ft_b ft x v))\""], ["proof (prove)\ngoal (6 subgoals):\n 1. eqvt subst_ftq_b_graph_aux\n 2. \\<And>x y. subst_ftq_b_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>bv xa v ft.\n                   \\<lbrakk>atom bv \\<sharp> (xa, v);\n                    x = (AF_fun_typ_some bv ft, xa, v)\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>ft xa v.\n           x = (AF_fun_typ_none ft, xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>bv x v ft bva xa va fta.\n       \\<lbrakk>atom bv \\<sharp> (x, v); atom bva \\<sharp> (xa, va);\n        (AF_fun_typ_some bv ft, x, v) =\n        (AF_fun_typ_some bva fta, xa, va)\\<rbrakk>\n       \\<Longrightarrow> AF_fun_typ_some bv (subst_ft_b ft x v) =\n                         AF_fun_typ_some bva (subst_ft_b fta xa va)\n 5. \\<And>bv x v ft fta xa va.\n       \\<lbrakk>atom bv \\<sharp> (x, v);\n        (AF_fun_typ_some bv ft, x, v) =\n        (AF_fun_typ_none fta, xa, va)\\<rbrakk>\n       \\<Longrightarrow> AF_fun_typ_some bv (subst_ft_b ft x v) =\n                         AF_fun_typ_none (subst_ft_b fta xa va)\n 6. \\<And>ft x v fta xa va.\n       (AF_fun_typ_none ft, x, v) =\n       (AF_fun_typ_none fta, xa, va) \\<Longrightarrow>\n       AF_fun_typ_none (subst_ft_b ft x v) =\n       AF_fun_typ_none (subst_ft_b fta xa va)", "apply(simp add: eqvt_def subst_ftq_b_graph_aux_def )"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x y. subst_ftq_b_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>bv xa v ft.\n                   \\<lbrakk>atom bv \\<sharp> (xa, v);\n                    x = (AF_fun_typ_some bv ft, xa, v)\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>ft xa v.\n           x = (AF_fun_typ_none ft, xa, v) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>bv x v ft bva xa va fta.\n       \\<lbrakk>atom bv \\<sharp> (x, v); atom bva \\<sharp> (xa, va);\n        (AF_fun_typ_some bv ft, x, v) =\n        (AF_fun_typ_some bva fta, xa, va)\\<rbrakk>\n       \\<Longrightarrow> AF_fun_typ_some bv (subst_ft_b ft x v) =\n                         AF_fun_typ_some bva (subst_ft_b fta xa va)\n 4. \\<And>bv x v ft fta xa va.\n       \\<lbrakk>atom bv \\<sharp> (x, v);\n        (AF_fun_typ_some bv ft, x, v) =\n        (AF_fun_typ_none fta, xa, va)\\<rbrakk>\n       \\<Longrightarrow> AF_fun_typ_some bv (subst_ft_b ft x v) =\n                         AF_fun_typ_none (subst_ft_b fta xa va)\n 5. \\<And>ft x v fta xa va.\n       (AF_fun_typ_none ft, x, v) =\n       (AF_fun_typ_none fta, xa, va) \\<Longrightarrow>\n       AF_fun_typ_none (subst_ft_b ft x v) =\n       AF_fun_typ_none (subst_ft_b fta xa va)", "apply(simp add:fun_typ_q.strong_exhaust,auto )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a aa b.\n       \\<lbrakk>\\<And>bv ft.\n                   \\<lbrakk>atom bv \\<sharp> (aa, b);\n                    a = AF_fun_typ_some bv ft\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>ft. a = AF_fun_typ_none ft \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "apply(rule_tac y=a and c=\"(aa,b)\" in fun_typ_q.strong_exhaust)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P a aa b x11 x12.\n       \\<lbrakk>\\<And>bv ft.\n                   \\<lbrakk>atom bv \\<sharp> (aa, b);\n                    a = AF_fun_typ_some bv ft\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>ft. a = AF_fun_typ_none ft \\<Longrightarrow> P;\n        {atom x11} \\<sharp>* (aa, b); a = AF_fun_typ_some x11 x12\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>P a aa b x2.\n       \\<lbrakk>\\<And>bv ft.\n                   \\<lbrakk>atom bv \\<sharp> (aa, b);\n                    a = AF_fun_typ_some bv ft\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>ft. a = AF_fun_typ_none ft \\<Longrightarrow> P;\n        a = AF_fun_typ_none x2\\<rbrakk>\n       \\<Longrightarrow> P", "by (auto simp: eqvt_at_def fresh_star_def fresh_Pair fresh_at_base)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_ftq_b_dom", "by lexicographic_order"], ["", "instantiation fun_typ :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_ft_b\""], ["", "text \\<open>Note: Using just simp in the second apply unpacks and gives a single goal\nwhereas auto gives 43 non-intuitive goals. These goals are easier to solve \nand tedious, however they that it clear if a mistake is made in the definition of the function. \nFor example, I saw that one of the goals was \ngoing through with metis and the next wasn't. \nIt turned out the definition of the function itself was wrong\\<close>"], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(fun_typ, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::fun_typ"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "apply(nominal_induct t avoiding: i x rule:fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a i x.\n       \\<lbrakk>atom x1a \\<sharp> i; atom x1a \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> (AF_fun_typ x1a x2a x3a x4a\nx5a)[i::=x]\\<^sub>b =\n                         (atom\n                           i \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a \\<and>\n                          j \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a \\<or>\n                          j \\<sharp> x \\<and>\n                          (j \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a \\<or>\n                           j = atom i))", "apply(auto simp add: subst_b_fun_typ_def )"], ["proof (prove)\ngoal (54 subgoals):\n 1. \\<And>x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x3a\n 2. \\<And>x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x4a\n 3. \\<And>x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x2a\n 4. \\<And>x1a x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x; j \\<noteq> atom x1a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x3a\n 5. \\<And>x1a x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x; j \\<noteq> atom x1a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x4a\n 6. \\<And>x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; \\<not> j \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x2a\n 7. \\<And>x1a x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; j \\<noteq> atom i; \\<not> atom i \\<sharp> x3a;\n        j \\<noteq> atom x1a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x3a\n 8. \\<And>x1a x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; j \\<noteq> atom i; \\<not> atom i \\<sharp> x3a;\n        j \\<noteq> atom x1a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x4a\n 9. \\<And>x2a x3a x4a x5a i x.\n       \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n        j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n        j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n        j \\<sharp> x5a; j \\<noteq> atom i;\n        \\<not> atom i \\<sharp> x3a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x2a\n 10. \\<And>x1a x2a x3a x4a x5a i x.\n        \\<lbrakk>j \\<sharp> x2a[i::=x]\\<^sub>b\\<^sub>b;\n         j \\<sharp> x3a[i::=x]\\<^sub>c\\<^sub>b;\n         j \\<sharp> x4a[i::=x]\\<^sub>\\<tau>\\<^sub>b; atom i \\<sharp> x5a;\n         j \\<sharp> x5a; j \\<noteq> atom i; j \\<noteq> atom x1a;\n         \\<not> atom i \\<sharp> x4a\\<rbrakk>\n        \\<Longrightarrow> j \\<sharp> x3a\nA total of 54 subgoals...", "by(metis fresh_subst_if subst_b_s_def subst_b_\\<tau>_def subst_b_b_def subst_b_c_def)+"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::fun_typ and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x  = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "apply (nominal_induct tm avoiding: a x rule: fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a a x.\n       \\<lbrakk>atom x1a \\<sharp> a; atom x1a \\<sharp> x;\n        atom a \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a\\<rbrakk>\n       \\<Longrightarrow> (AF_fun_typ x1a x2a x3a x4a x5a)[a::=x]\\<^sub>b =\n                         AF_fun_typ x1a x2a x3a x4a x5a", "apply(simp add: subst_b_fun_typ_def Abs1_eq_iff')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2a x3a x4a x5a a x.\n       atom a \\<sharp> x3a \\<and>\n       atom a \\<sharp> x4a \\<and>\n       atom a \\<sharp> x5a \\<and> atom a \\<sharp> x2a \\<Longrightarrow>\n       x3a[a::=x]\\<^sub>c\\<^sub>b = x3a \\<and>\n       x4a[a::=x]\\<^sub>\\<tau>\\<^sub>b = x4a \\<and>\n       x2a[a::=x]\\<^sub>b\\<^sub>b = x2a", "using subst_b_b_def  subst_b_fun_typ_def subst_b_\\<tau>_def subst_b_c_def subst_b_s_def\n      forget_subst fresh_at_base list.set_cases neq_Nil_conv set_ConsD\n      subst_ft_b.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_bb_abbrev\n  subst_b = subst_ft_b\n  subst_b = subst_tb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  (?xs \\<noteq> []) = (\\<exists>y ys. ?xs = y # ys)\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_ft_b (AF_fun_typ ?z ?b ?c ?t ?s) ?x ?v =\n  AF_fun_typ ?z ?b[?x::=?v]\\<^sub>b\\<^sub>b (?c[?x::=?v]\\<^sub>c\\<^sub>b)\n   ?t[?x::=?v]\\<^sub>\\<tau>\\<^sub>b ?s[?x::=?v]\\<^sub>s\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x2a x3a x4a x5a a x.\n       atom a \\<sharp> x3a \\<and>\n       atom a \\<sharp> x4a \\<and>\n       atom a \\<sharp> x5a \\<and> atom a \\<sharp> x2a \\<Longrightarrow>\n       x3a[a::=x]\\<^sub>c\\<^sub>b = x3a \\<and>\n       x4a[a::=x]\\<^sub>\\<tau>\\<^sub>b = x4a \\<and>\n       x2a[a::=x]\\<^sub>b\\<^sub>b = x2a", "by metis"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::fun_typ"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "apply (nominal_induct tm rule: fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a.\n       (AF_fun_typ x1a x2a x3a x4a x5a)[a::=B_var a]\\<^sub>b =\n       AF_fun_typ x1a x2a x3a x4a x5a", "apply(simp add: subst_b_fun_typ_def Abs1_eq_iff',auto)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x3a. x3a[a::=B_var a]\\<^sub>c\\<^sub>b = x3a\n 2. \\<And>x4a. x4a[a::=B_var a]\\<^sub>\\<tau>\\<^sub>b = x4a\n 3. \\<And>x5a. x5a[a::=B_var a]\\<^sub>s\\<^sub>b = x5a\n 4. \\<And>x2a. x2a[a::=B_var a]\\<^sub>b\\<^sub>b = x2a", "using subst_b_b_def  subst_b_fun_typ_def subst_b_\\<tau>_def subst_b_c_def subst_b_s_def\n      forget_subst fresh_at_base list.set_cases neq_Nil_conv set_ConsD\n      subst_ft_b.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_bb_abbrev\n  subst_b = subst_ft_b\n  subst_b = subst_tb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  (?xs \\<noteq> []) = (\\<exists>y ys. ?xs = y # ys)\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_ft_b (AF_fun_typ ?z ?b ?c ?t ?s) ?x ?v =\n  AF_fun_typ ?z ?b[?x::=?v]\\<^sub>b\\<^sub>b (?c[?x::=?v]\\<^sub>c\\<^sub>b)\n   ?t[?x::=?v]\\<^sub>\\<tau>\\<^sub>b ?s[?x::=?v]\\<^sub>s\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>x3a. x3a[a::=B_var a]\\<^sub>c\\<^sub>b = x3a\n 2. \\<And>x4a. x4a[a::=B_var a]\\<^sub>\\<tau>\\<^sub>b = x4a\n 3. \\<And>x5a. x5a[a::=B_var a]\\<^sub>s\\<^sub>b = x5a\n 4. \\<And>x2a. x2a[a::=B_var a]\\<^sub>b\\<^sub>b = x2a", "by (metis has_subst_b_class.subst_id)+"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::fun_typ"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v = subst_b (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply (nominal_induct t1 avoiding: x1 v rule: fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a x1 v.\n       \\<lbrakk>atom x1a \\<sharp> x1; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> (AF_fun_typ x1a x2a x3a x4a\n x5a)[x1::=v]\\<^sub>b =\n                         (p \\<bullet> AF_fun_typ x1a x2a x3a x4a\n x5a)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by(auto simp add: subst_b_fun_typ_def Abs1_eq_iff' fun_typ.perm_simps)"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::fun_typ and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (nominal_induct c avoiding: z bv rule: fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a z bv.\n       \\<lbrakk>atom x1a \\<sharp> z; atom x1a \\<sharp> bv;\n        atom bv \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ x1a\n                       x2a x3a x4a x5a =\n                         (AF_fun_typ x1a x2a x3a x4a\n                           x5a)[z::=B_var bv]\\<^sub>b", "by(auto simp add: subst_b_fun_typ_def Abs1_eq_iff' fun_typ.perm_simps subst_b_b_def subst_b_c_def  subst_b_\\<tau>_def  subst_b_s_def)"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::fun_typ and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "apply (nominal_induct c avoiding:  bv v z rule: fun_typ.strong_induct)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x4a x5a bv v z.\n       \\<lbrakk>atom x1a \\<sharp> bv; atom x1a \\<sharp> v;\n        atom x1a \\<sharp> z;\n        atom bv \\<sharp> AF_fun_typ x1a x2a x3a x4a x5a\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ x1a\n                        x2a x3a x4a x5a)[bv::=v]\\<^sub>b =\n                         (AF_fun_typ x1a x2a x3a x4a x5a)[z::=v]\\<^sub>b", "apply(auto simp add: subst_b_fun_typ_def Abs1_eq_iff' fun_typ.perm_simps subst_b_b_def subst_b_c_def  subst_b_\\<tau>_def  subst_b_s_def flip_subst_subst flip_subst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2a x3a x4a x5a bv v z.\n       \\<lbrakk>atom bv \\<sharp> x3a; atom bv \\<sharp> x4a;\n        atom bv \\<sharp> x5a; atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> x5a[z::=B_var\n                                  bv]\\<^sub>s\\<^sub>b[bv::=v]\\<^sub>s\\<^sub>b =\n                         x5a[z::=v]\\<^sub>s\\<^sub>b", "using  subst_b_fun_typ_def Abs1_eq_iff' fun_typ.perm_simps subst_b_b_def subst_b_c_def  subst_b_\\<tau>_def  subst_b_s_def flip_subst_subst flip_subst"], ["proof (prove)\nusing this:\n  subst_b = subst_ft_b\n  ([{atom ?a}]set. ?x = [{atom ?b}]set. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ([{atom ?a}]res. ?x = [{atom ?b}]res. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ([[atom ?a]]lst. ?x = [[atom ?b]]lst. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ?p \\<bullet> AF_fun_typ ?x ?b ?c ?\\<tau> ?s =\n  AF_fun_typ (?p \\<bullet> ?x) (?p \\<bullet> ?b) (?p \\<bullet> ?c)\n   (?p \\<bullet> ?\\<tau>) (?p \\<bullet> ?s)\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x2a x3a x4a x5a bv v z.\n       \\<lbrakk>atom bv \\<sharp> x3a; atom bv \\<sharp> x4a;\n        atom bv \\<sharp> x5a; atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> x5a[z::=B_var\n                                  bv]\\<^sub>s\\<^sub>b[bv::=v]\\<^sub>s\\<^sub>b =\n                         x5a[z::=v]\\<^sub>s\\<^sub>b", "using flip_subst_s(1) flip_subst_subst_s(1)"], ["proof (prove)\nusing this:\n  subst_b = subst_ft_b\n  ([{atom ?a}]set. ?x = [{atom ?b}]set. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ([{atom ?a}]res. ?x = [{atom ?b}]res. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ([[atom ?a]]lst. ?x = [[atom ?b]]lst. ?y) =\n  (?a = ?b \\<and> ?x = ?y \\<or>\n   ?a \\<noteq> ?b \\<and>\n   (?b \\<leftrightarrow> ?a) \\<bullet> ?x = ?y \\<and> atom ?b \\<sharp> ?x)\n  ?p \\<bullet> AF_fun_typ ?x ?b ?c ?\\<tau> ?s =\n  AF_fun_typ (?p \\<bullet> ?x) (?p \\<bullet> ?b) (?p \\<bullet> ?c)\n   (?p \\<bullet> ?\\<tau>) (?p \\<bullet> ?s)\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  atom ?bv \\<sharp> ?s \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?s =\n  ?s[?z::=B_var ?bv]\\<^sub>s\\<^sub>b\n  atom ?bv \\<sharp> ?s \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?s)[?bv::=?v]\\<^sub>s\\<^sub>b =\n  ?s[?z::=?v]\\<^sub>s\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x2a x3a x4a x5a bv v z.\n       \\<lbrakk>atom bv \\<sharp> x3a; atom bv \\<sharp> x4a;\n        atom bv \\<sharp> x5a; atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> x5a[z::=B_var\n                                  bv]\\<^sub>s\\<^sub>b[bv::=v]\\<^sub>s\\<^sub>b =\n                         x5a[z::=v]\\<^sub>s\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "instantiation fun_typ_q :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_ftq_b\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(fun_typ_q, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::fun_typ_q"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "apply (nominal_induct t avoiding: i x j rule: fun_typ_q.strong_induct,auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps)"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x;\n        i \\<noteq> x1\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x2a\n 2. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x;\n        j \\<noteq> atom x1\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x2a\n 3. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x2a;\n        j \\<noteq> atom i; j \\<noteq> atom x1; i \\<noteq> x1\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x2a\n 4. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x2a;\n        j \\<noteq> atom i; j \\<noteq> atom x1\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<noteq> atom x1; atom i \\<sharp> x2a; j \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> subst_ft_b x2a i x\n 6. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<noteq> atom x1; j \\<sharp> x; j \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> subst_ft_b x2a i x\n 7. \\<And>x1 x2a i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        atom i \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> subst_ft_b x2a i x\n 8. \\<And>x i xa j.\n       \\<lbrakk>j \\<sharp> subst_ft_b x i xa; \\<not> j \\<sharp> xa\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x\n 9. \\<And>x i xa j.\n       \\<lbrakk>j \\<sharp> subst_ft_b x i xa; \\<not> j \\<sharp> xa\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x\n 10. \\<And>x i xa j.\n        \\<lbrakk>j \\<sharp> subst_ft_b x i xa; j \\<noteq> atom i;\n         \\<not> j \\<sharp> x\\<rbrakk>\n        \\<Longrightarrow> atom i \\<sharp> x\nA total of 14 subgoals...", "using  fresh_subst_if subst_b_fun_typ_q_def subst_b_s_def subst_b_\\<tau>_def subst_b_b_def subst_b_c_def subst_b_fun_typ_def"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_ftq_b\n  subst_b = subst_sb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_ft_b\n\ngoal (14 subgoals):\n 1. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x;\n        i \\<noteq> x1\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x2a\n 2. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x;\n        j \\<noteq> atom x1\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x2a\n 3. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x2a;\n        j \\<noteq> atom i; j \\<noteq> atom x1; i \\<noteq> x1\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x2a\n 4. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<sharp> subst_ft_b x2a i x; \\<not> j \\<sharp> x2a;\n        j \\<noteq> atom i; j \\<noteq> atom x1\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<noteq> atom x1; atom i \\<sharp> x2a; j \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> subst_ft_b x2a i x\n 6. \\<And>x1 x2a i x j.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x; atom x1 \\<sharp> j;\n        j \\<noteq> atom x1; j \\<sharp> x; j \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> subst_ft_b x2a i x\n 7. \\<And>x1 x2a i x.\n       \\<lbrakk>atom x1 \\<sharp> i; atom x1 \\<sharp> x;\n        atom i \\<sharp> x\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> subst_ft_b x2a i x\n 8. \\<And>x i xa j.\n       \\<lbrakk>j \\<sharp> subst_ft_b x i xa; \\<not> j \\<sharp> xa\\<rbrakk>\n       \\<Longrightarrow> atom i \\<sharp> x\n 9. \\<And>x i xa j.\n       \\<lbrakk>j \\<sharp> subst_ft_b x i xa; \\<not> j \\<sharp> xa\\<rbrakk>\n       \\<Longrightarrow> j \\<sharp> x\n 10. \\<And>x i xa j.\n        \\<lbrakk>j \\<sharp> subst_ft_b x i xa; j \\<noteq> atom i;\n         \\<not> j \\<sharp> x\\<rbrakk>\n        \\<Longrightarrow> atom i \\<sharp> x\nA total of 14 subgoals...", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and t::fun_typ_q and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> t \\<Longrightarrow> subst_b t a x  = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> t \\<Longrightarrow> t[a::=x]\\<^sub>b = t", "apply (nominal_induct t avoiding: a x  rule: fun_typ_q.strong_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        atom a \\<sharp> AF_fun_typ_some x1 x2a\\<rbrakk>\n       \\<Longrightarrow> (AF_fun_typ_some x1 x2a)[a::=x]\\<^sub>b =\n                         AF_fun_typ_some x1 x2a\n 2. \\<And>x a xa.\n       atom a \\<sharp> AF_fun_typ_none x \\<Longrightarrow>\n       (AF_fun_typ_none x)[a::=xa]\\<^sub>b = AF_fun_typ_none x", "apply(auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps Abs1_eq_iff')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        atom a \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> subst_ft_b x2a a x = x2a\n 2. \\<And>x a xa. atom a \\<sharp> x \\<Longrightarrow> subst_ft_b x a xa = x", "using  forget_subst subst_b_fun_typ_q_def subst_b_s_def subst_b_\\<tau>_def subst_b_b_def subst_b_c_def subst_b_fun_typ_def eqvt"], ["proof (prove)\nusing this:\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_ftq_b\n  subst_b = subst_sb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_ft_b\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a x.\n       \\<lbrakk>atom x1 \\<sharp> a; atom x1 \\<sharp> x;\n        atom a \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> subst_ft_b x2a a x = x2a\n 2. \\<And>x a xa. atom a \\<sharp> x \\<Longrightarrow> subst_ft_b x a xa = x", "by metis+"], ["proof (state)\nthis:\n  atom a \\<sharp> t \\<Longrightarrow> t[a::=x]\\<^sub>b = t\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t::fun_typ_q"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t x1 v = subst_b (p \\<bullet> t) (p \\<bullet> x1) (p \\<bullet> v) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t[x1::=v]\\<^sub>b =\n    (p \\<bullet> t)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "apply (nominal_induct t avoiding: x1 v  rule: fun_typ_q.strong_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a x1a v.\n       \\<lbrakk>atom x1 \\<sharp> x1a; atom x1 \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> (AF_fun_typ_some x1\n x2a)[x1a::=v]\\<^sub>b =\n                         (p \\<bullet> AF_fun_typ_some x1\n x2a)[p \\<bullet> x1a::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x x1 v.\n       p \\<bullet> (AF_fun_typ_none x)[x1::=v]\\<^sub>b =\n       (p \\<bullet> AF_fun_typ_none\n                     x)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by(auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps Abs1_eq_iff')"], ["proof (state)\nthis:\n  p \\<bullet> t[x1::=v]\\<^sub>b =\n  (p \\<bullet> t)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::fun_typ_q"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "apply (nominal_induct tm avoiding: a rule: fun_typ_q.strong_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a.\n       atom x1 \\<sharp> a \\<Longrightarrow>\n       (AF_fun_typ_some x1 x2a)[a::=B_var a]\\<^sub>b =\n       AF_fun_typ_some x1 x2a\n 2. \\<And>x a. (AF_fun_typ_none x)[a::=B_var a]\\<^sub>b = AF_fun_typ_none x", "apply(auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps Abs1_eq_iff')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a.\n       atom x1 \\<sharp> a \\<Longrightarrow> subst_ft_b x2a a (B_var a) = x2a\n 2. \\<And>x a. subst_ft_b x a (B_var a) = x", "using subst_id subst_b_b_def  subst_b_fun_typ_def subst_b_\\<tau>_def subst_b_c_def subst_b_s_def\n      forget_subst fresh_at_base list.set_cases neq_Nil_conv set_ConsD\n      subst_ft_b.simps"], ["proof (prove)\nusing this:\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n  subst_b = subst_ft_b\n  subst_b = subst_tb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  \\<lbrakk>?e \\<in> set ?a;\n   \\<And>z2. ?a = ?e # z2 \\<Longrightarrow> ?thesis;\n   \\<And>z1 z2.\n      \\<lbrakk>?a = z1 # z2; ?e \\<in> set z2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  (?xs \\<noteq> []) = (\\<exists>y ys. ?xs = y # ys)\n  ?y \\<in> set (?x # ?xs) \\<Longrightarrow> ?y = ?x \\<or> ?y \\<in> set ?xs\n  subst_ft_b (AF_fun_typ ?z ?b ?c ?t ?s) ?x ?v =\n  AF_fun_typ ?z ?b[?x::=?v]\\<^sub>b\\<^sub>b (?c[?x::=?v]\\<^sub>c\\<^sub>b)\n   ?t[?x::=?v]\\<^sub>\\<tau>\\<^sub>b ?s[?x::=?v]\\<^sub>s\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2a a.\n       atom x1 \\<sharp> a \\<Longrightarrow> subst_ft_b x2a a (B_var a) = x2a\n 2. \\<And>x a. subst_ft_b x a (B_var a) = x", "by metis+"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::fun_typ_q and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "apply (nominal_induct c avoiding: z bv  rule: fun_typ_q.strong_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> AF_fun_typ_some x1 x2a\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ_some\n                       x1 x2a =\n                         (AF_fun_typ_some x1 x2a)[z::=B_var bv]\\<^sub>b\n 2. \\<And>x z bv.\n       atom bv \\<sharp> AF_fun_typ_none x \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ_none x =\n       (AF_fun_typ_none x)[z::=B_var bv]\\<^sub>b", "apply(auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps Abs1_eq_iff')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> x2a[z::=B_var bv]\\<^sub>b =\n                         subst_ft_b x2a z (B_var bv)\n 2. \\<And>x z bv.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       x[z::=B_var bv]\\<^sub>b = subst_ft_b x z (B_var bv)", "using  forget_subst subst_b_fun_typ_q_def subst_b_s_def subst_b_\\<tau>_def subst_b_b_def subst_b_c_def subst_b_fun_typ_def eqvt"], ["proof (prove)\nusing this:\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_ftq_b\n  subst_b = subst_sb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_ft_b\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> x2a[z::=B_var bv]\\<^sub>b =\n                         subst_ft_b x2a z (B_var bv)\n 2. \\<And>x z bv.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       x[z::=B_var bv]\\<^sub>b = subst_ft_b x z (B_var bv)", "by metis+"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::fun_typ_q and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "apply (nominal_induct c avoiding: z v bv  rule: fun_typ_q.strong_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z v bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> v; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> AF_fun_typ_some x1 x2a\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ_some\n                        x1 x2a)[bv::=v]\\<^sub>b =\n                         (AF_fun_typ_some x1 x2a)[z::=v]\\<^sub>b\n 2. \\<And>x z v bv.\n       atom bv \\<sharp> AF_fun_typ_none x \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> AF_fun_typ_none\n      x)[bv::=v]\\<^sub>b =\n       (AF_fun_typ_none x)[z::=v]\\<^sub>b", "apply(auto simp add: subst_b_fun_typ_q_def subst_ftq_b.simps Abs1_eq_iff')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z v bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> v; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> subst_ft_b x2a[z::=B_var bv]\\<^sub>b bv v =\n                         subst_ft_b x2a z v\n 2. \\<And>x z v bv.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       subst_ft_b x[z::=B_var bv]\\<^sub>b bv v = subst_ft_b x z v", "using  flip_subst flip_subst_subst forget_subst subst_b_fun_typ_q_def subst_b_s_def subst_b_\\<tau>_def subst_b_b_def subst_b_c_def subst_b_fun_typ_def eqvt"], ["proof (prove)\nusing this:\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  ((?bv \\<leftrightarrow> ?z) \\<bullet> ?c)[?bv::=?v]\\<^sub>b =\n  ?c[?z::=?v]\\<^sub>b\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_ftq_b\n  subst_b = subst_sb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_ft_b\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1 x2a z v bv.\n       \\<lbrakk>atom x1 \\<sharp> z; atom x1 \\<sharp> v; atom x1 \\<sharp> bv;\n        atom bv \\<sharp> x2a\\<rbrakk>\n       \\<Longrightarrow> subst_ft_b x2a[z::=B_var bv]\\<^sub>b bv v =\n                         subst_ft_b x2a z v\n 2. \\<And>x z v bv.\n       atom bv \\<sharp> x \\<Longrightarrow>\n       subst_ft_b x[z::=B_var bv]\\<^sub>b bv v = subst_ft_b x z v", "by metis+"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section \\<open>Contexts\\<close>"], ["", "subsection \\<open>Immutable Variables\\<close>"], ["", "nominal_function subst_gb :: \"\\<Gamma> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<Gamma>\" where\n  \"subst_gb GNil _ _  = GNil\"\n| \"subst_gb ((y,b',c)#\\<^sub>\\<Gamma>\\<Gamma>) bv b = ((y,b'[bv::=b]\\<^sub>b\\<^sub>b,c[bv::=b]\\<^sub>c\\<^sub>b)#\\<^sub>\\<Gamma> (subst_gb \\<Gamma> bv b))\""], ["proof (prove)\ngoal (6 subgoals):\n 1. eqvt subst_gb_graph_aux\n 2. \\<And>x y. subst_gb_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>uu_ uv_. x = (GNil, uu_, uv_) \\<Longrightarrow> P;\n        \\<And>y b' c \\<Gamma> bv b.\n           x =\n           ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>uu_ uv_ uua_ uva_.\n       (GNil, uu_, uv_) = (GNil, uua_, uva_) \\<Longrightarrow> GNil = GNil\n 5. \\<And>uu_ uv_ y b' c \\<Gamma> bv b.\n       \\<lbrakk>eqvt_at subst_gb_sumC (\\<Gamma>, bv, b); True;\n        (GNil, uu_, uv_) =\n        ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b)\\<rbrakk>\n       \\<Longrightarrow> GNil =\n                         (y, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                          c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>, bv, b)\n 6. \\<And>y b' c \\<Gamma> bv b ya b'a ca \\<Gamma>' bva ba.\n       \\<lbrakk>eqvt_at subst_gb_sumC (\\<Gamma>, bv, b);\n        eqvt_at subst_gb_sumC (\\<Gamma>', bva, ba); True; True;\n        ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b) =\n        ((ya, b'a, ca) #\\<^sub>\\<Gamma> \\<Gamma>', bva, ba)\\<rbrakk>\n       \\<Longrightarrow> (y, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                          c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>, bv, b) =\n                         (ya, b'a[bva::=ba]\\<^sub>b\\<^sub>b,\n                          ca[bva::=ba]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>', bva, ba)", "apply (simp add: eqvt_def subst_gb_graph_aux_def )+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>uu_ uv_. x = (GNil, uu_, uv_) \\<Longrightarrow> P;\n        \\<And>y b' c \\<Gamma> bv b.\n           x =\n           ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>uu_ uv_ uua_ uva_.\n       (GNil, uu_, uv_) = (GNil, uua_, uva_) \\<Longrightarrow> GNil = GNil\n 3. \\<And>uu_ uv_ y b' c \\<Gamma> bv b.\n       \\<lbrakk>eqvt_at subst_gb_sumC (\\<Gamma>, bv, b); True;\n        (GNil, uu_, uv_) =\n        ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b)\\<rbrakk>\n       \\<Longrightarrow> GNil =\n                         (y, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                          c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>, bv, b)\n 4. \\<And>y b' c \\<Gamma> bv b ya b'a ca \\<Gamma>' bva ba.\n       \\<lbrakk>eqvt_at subst_gb_sumC (\\<Gamma>, bv, b);\n        eqvt_at subst_gb_sumC (\\<Gamma>', bva, ba); True; True;\n        ((y, b', c) #\\<^sub>\\<Gamma> \\<Gamma>, bv, b) =\n        ((ya, b'a, ca) #\\<^sub>\\<Gamma> \\<Gamma>', bva, ba)\\<rbrakk>\n       \\<Longrightarrow> (y, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                          c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>, bv, b) =\n                         (ya, b'a[bva::=ba]\\<^sub>b\\<^sub>b,\n                          ca[bva::=ba]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                         subst_gb_sumC (\\<Gamma>', bva, ba)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = GNil \\<Longrightarrow> P;\n        \\<And>y b' c \\<Gamma>.\n           a = (y, b', c) #\\<^sub>\\<Gamma> \\<Gamma> \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P", "apply (insert \\<Gamma>.exhaust neq_GNil_conv, force)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_gb_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_gb_abbrev :: \"\\<Gamma> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<Gamma>\" (\"_[_::=_]\\<^sub>\\<Gamma>\\<^sub>b\" [1000,50,50] 1000)\n  where \n    \"g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<equiv> subst_gb g bv b'\""], ["", "instantiation \\<Gamma> :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_gb\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(\\<Gamma>, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::\\<Gamma>"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof(induct t rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. j \\<sharp> GNil[i::=x]\\<^sub>b =\n    (atom i \\<sharp> GNil \\<and> j \\<sharp> GNil \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> GNil \\<or> j = atom i))\n 2. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "case GNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. j \\<sharp> GNil[i::=x]\\<^sub>b =\n    (atom i \\<sharp> GNil \\<and> j \\<sharp> GNil \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> GNil \\<or> j = atom i))\n 2. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> GNil[i::=x]\\<^sub>b =\n    (atom i \\<sharp> GNil \\<and> j \\<sharp> GNil \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> GNil \\<or> j = atom i))", "using fresh_GNil  subst_gb.simps  fresh_def pure_fresh subst_b_\\<Gamma>_def has_subst_b_class.fresh_subst_if fresh_GNil fresh_GCons"], ["proof (prove)\nusing this:\n  ?a \\<sharp> GNil\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_gb_abbrev\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  ?a \\<sharp> GNil\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. j \\<sharp> GNil[i::=x]\\<^sub>b =\n    (atom i \\<sharp> GNil \\<and> j \\<sharp> GNil \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> GNil \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> GNil[i::=x]\\<^sub>b =\n  (atom i \\<sharp> GNil \\<and> j \\<sharp> GNil \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> GNil \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "case (GCons x' b' c' \\<Gamma>')"], ["proof (state)\nthis:\n  j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have *: \"atom i \\<sharp> x' \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom i \\<sharp> x'", "using  fresh_at_base"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. atom i \\<sharp> x'", "by simp"], ["proof (state)\nthis:\n  atom i \\<sharp> x'\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have \"j \\<sharp> subst_b ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>') i x = j \\<sharp> ((x', b'[i::=x]\\<^sub>b\\<^sub>b, c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma> (subst_b \\<Gamma>' i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n    j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n               \\<Gamma>'[i::=x]\\<^sub>b", "using subst_gb.simps  subst_b_\\<Gamma>_def"], ["proof (prove)\nusing this:\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  subst_b = subst_gb_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n    j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n               \\<Gamma>'[i::=x]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n  j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n              c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n             \\<Gamma>'[i::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n  j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n              c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n             \\<Gamma>'[i::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have \"... = (j \\<sharp> ((x', b'[i::=x]\\<^sub>b\\<^sub>b, c'[i::=x]\\<^sub>c\\<^sub>b)) \\<and> (j \\<sharp>  (subst_b \\<Gamma>' i x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n               \\<Gamma>'[i::=x]\\<^sub>b =\n    (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                 c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "using fresh_GCons"], ["proof (prove)\nusing this:\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n               \\<Gamma>'[i::=x]\\<^sub>b =\n    (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                 c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n              c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n             \\<Gamma>'[i::=x]\\<^sub>b =\n  (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n               c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n              c'[i::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n             \\<Gamma>'[i::=x]\\<^sub>b =\n  (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n               c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have \"... = (((j  \\<sharp> x') \\<and> (j  \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b) \\<and> (j  \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b)) \\<and> (j \\<sharp>  (subst_b \\<Gamma>' i x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n                 c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    ((j \\<sharp> x' \\<and>\n      j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n      j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "by auto"], ["proof (state)\nthis:\n  (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n               c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  ((j \\<sharp> x' \\<and>\n    j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n    j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  (j \\<sharp> (x', b'[i::=x]\\<^sub>b\\<^sub>b,\n               c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  ((j \\<sharp> x' \\<and>\n    j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n    j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have \"... = (((j  \\<sharp> x') \\<and> ((atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or> j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i))) \\<and> \n                                   ((atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or> j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i))) \\<and> \n                                   ((atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or> j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((j \\<sharp> x' \\<and>\n      j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n      j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    (j \\<sharp> x' \\<and>\n     (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))", "using fresh_subst_if[of j b' i x] fresh_subst_if[of j c' i x] GCons subst_b_b_def  subst_b_c_def"], ["proof (prove)\nusing this:\n  j \\<sharp> b'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i))\n  j \\<sharp> c'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i))\n  j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> x' \\<and>\n      j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n      j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    (j \\<sharp> x' \\<and>\n     (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))", "by simp"], ["proof (state)\nthis:\n  ((j \\<sharp> x' \\<and>\n    j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n    j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  (j \\<sharp> x' \\<and>\n   (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  ((j \\<sharp> x' \\<and>\n    j \\<sharp> b'[i::=x]\\<^sub>b\\<^sub>b \\<and>\n    j \\<sharp> c'[i::=x]\\<^sub>c\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  (j \\<sharp> x' \\<and>\n   (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "have \"... = ((atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and> j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>') \\<or> (j \\<sharp> x \\<and> (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> x' \\<and>\n     (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n    (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n     j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "using * fresh_GCons fresh_prod3"], ["proof (prove)\nusing this:\n  atom i \\<sharp> x'\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n\ngoal (1 subgoal):\n 1. (j \\<sharp> x' \\<and>\n     (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n    (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n     j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  (j \\<sharp> x' \\<and>\n   (atom i \\<sharp> b' \\<and> j \\<sharp> b' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> b' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> c' \\<and> j \\<sharp> c' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> c' \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n  (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n   j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>xa b c \\<Gamma>'.\n       j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Gamma>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n        j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (xa, b, c) #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "finally"], ["proof (chain)\npicking this:\n  j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n   j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n   j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n    (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n     j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<and>\n   j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>' \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<Gamma> and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "proof (induct tm rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom a \\<sharp> GNil \\<Longrightarrow> GNil[a::=x]\\<^sub>b = GNil\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "case GNil"], ["proof (state)\nthis:\n  atom a \\<sharp> GNil\n\ngoal (2 subgoals):\n 1. atom a \\<sharp> GNil \\<Longrightarrow> GNil[a::=x]\\<^sub>b = GNil\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "then"], ["proof (chain)\npicking this:\n  atom a \\<sharp> GNil", "show ?case"], ["proof (prove)\nusing this:\n  atom a \\<sharp> GNil\n\ngoal (1 subgoal):\n 1. GNil[a::=x]\\<^sub>b = GNil", "using  subst_gb.simps subst_b_\\<Gamma>_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> GNil\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  subst_b = subst_gb_abbrev\n\ngoal (1 subgoal):\n 1. GNil[a::=x]\\<^sub>b = GNil", "by auto"], ["proof (state)\nthis:\n  GNil[a::=x]\\<^sub>b = GNil\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "case (GCons x' b' c' \\<Gamma>')"], ["proof (state)\nthis:\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "have *:\"b'[a::=x]\\<^sub>b\\<^sub>b = b' \\<and> c'[a::=x]\\<^sub>c\\<^sub>b = c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b'[a::=x]\\<^sub>b\\<^sub>b = b' \\<and> c'[a::=x]\\<^sub>c\\<^sub>b = c'", "using GCons fresh_GCons[of \"atom a\"] fresh_prod3[of \"atom a\"] has_subst_b_class.forget_subst  subst_b_b_def subst_b_c_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n  atom a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (atom a \\<sharp> ?x \\<and> atom a \\<sharp> ?xs)\n  atom a \\<sharp> (?a, ?b, ?c) =\n  (atom a \\<sharp> ?a \\<and> atom a \\<sharp> ?b \\<and> atom a \\<sharp> ?c)\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. b'[a::=x]\\<^sub>b\\<^sub>b = b' \\<and> c'[a::=x]\\<^sub>c\\<^sub>b = c'", "by metis"], ["proof (state)\nthis:\n  b'[a::=x]\\<^sub>b\\<^sub>b = b' \\<and> c'[a::=x]\\<^sub>c\\<^sub>b = c'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "have \"subst_b ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>') a x = ((x', b'[a::=x]\\<^sub>b\\<^sub>b, c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma> (subst_b \\<Gamma>' a x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n    (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n     c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[a::=x]\\<^sub>b", "using  subst_b_\\<Gamma>_def subst_gb.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n    (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n     c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[a::=x]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n   c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  \\<Gamma>'[a::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "also"], ["proof (state)\nthis:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n   c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  \\<Gamma>'[a::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "have \"... = ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n     c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[a::=x]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "using * GCons  fresh_GCons[of \"atom a\"]"], ["proof (prove)\nusing this:\n  b'[a::=x]\\<^sub>b\\<^sub>b = b' \\<and> c'[a::=x]\\<^sub>c\\<^sub>b = c'\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n  atom a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (atom a \\<sharp> ?x \\<and> atom a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n     c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[a::=x]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "by auto"], ["proof (state)\nthis:\n  (x', b'[a::=x]\\<^sub>b\\<^sub>b,\n   c'[a::=x]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  \\<Gamma>'[a::=x]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>';\n        atom a \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[a::=x]\\<^sub>b =\n                         (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "finally"], ["proof (chain)\npicking this:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "show ?case"], ["proof (prove)\nusing this:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "using   has_subst_b_class.forget_subst fresh_GCons fresh_prod3 GCons subst_b_\\<Gamma>_def has_subst_b_class.forget_subst[of a b' x] fresh_prod3[of \"atom a\"]"], ["proof (prove)\nusing this:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n  subst_b = subst_gb_abbrev\n  atom a \\<sharp> b' \\<Longrightarrow> b'[a::=x]\\<^sub>b = b'\n  atom a \\<sharp> (?a, ?b, ?c) =\n  (atom a \\<sharp> ?a \\<and> atom a \\<sharp> ?b \\<and> atom a \\<sharp> ?c)\n\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "by argo"], ["proof (state)\nthis:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=x]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<Gamma>"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "proof(induct tm rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. GNil[a::=B_var a]\\<^sub>b = GNil\n 2. \\<And>x b c \\<Gamma>'.\n       \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>' \\<Longrightarrow>\n       ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n       (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "case GNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. GNil[a::=B_var a]\\<^sub>b = GNil\n 2. \\<And>x b c \\<Gamma>'.\n       \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>' \\<Longrightarrow>\n       ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n       (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. GNil[a::=B_var a]\\<^sub>b = GNil", "using  subst_gb.simps subst_b_\\<Gamma>_def"], ["proof (prove)\nusing this:\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  subst_b = subst_gb_abbrev\n\ngoal (1 subgoal):\n 1. GNil[a::=B_var a]\\<^sub>b = GNil", "by auto"], ["proof (state)\nthis:\n  GNil[a::=B_var a]\\<^sub>b = GNil\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>' \\<Longrightarrow>\n       ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n       (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>' \\<Longrightarrow>\n       ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n       (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "case (GCons x' b' c' \\<Gamma>')"], ["proof (state)\nthis:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>' \\<Longrightarrow>\n       ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n       (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "using    has_subst_b_class.subst_id  subst_b_\\<Gamma>_def subst_b_b_def subst_b_c_def subst_gb.simps"], ["proof (prove)\nusing this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_gb_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n    (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'", "by metis"], ["proof (state)\nthis:\n  ((x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n  (x', b', c') #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::\\<Gamma>"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "proof (induct tm rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "case GNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using subst_b_\\<Gamma>_def subst_gb.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "case (GCons x' b' c' \\<Gamma>')"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using subst_b_\\<Gamma>_def subst_gb.simps has_subst_b_class.eqvt"], ["proof (prove)\nusing this:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  ?p \\<bullet> ?t1.0[?x1.0::=?v]\\<^sub>b =\n  (?p \\<bullet> ?t1.0)[?p \\<bullet> ?x1.0::=?p \\<bullet> ?v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by argo"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::\\<Gamma> and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "proof (induct c rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom bv \\<sharp> GNil \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> GNil = GNil[z::=B_var bv]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "case GNil"], ["proof (state)\nthis:\n  atom bv \\<sharp> GNil\n\ngoal (2 subgoals):\n 1. atom bv \\<sharp> GNil \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> GNil = GNil[z::=B_var bv]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> GNil", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> GNil\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> GNil = GNil[z::=B_var bv]\\<^sub>b", "using subst_b_\\<Gamma>_def subst_gb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> GNil\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> GNil = GNil[z::=B_var bv]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> GNil = GNil[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "case (GCons x b c \\<Gamma>')"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n  \\<Gamma>'[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "have *:\"(bv \\<leftrightarrow> z) \\<bullet> (x, b, c) = (x, (bv \\<leftrightarrow> z) \\<bullet> b, (bv \\<leftrightarrow> z) \\<bullet> c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n    (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c)", "using flip_bv_x_cancel"], ["proof (prove)\nusing this:\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n    (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c)", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n                \\<Gamma>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                        c) #\\<^sub>\\<Gamma>\n                       \\<Gamma>') =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=B_var bv]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)", "show ?case"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> ((x, b, c) #\\<^sub>\\<Gamma>\n  \\<Gamma>') =\n    ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[z::=B_var bv]\\<^sub>b", "unfolding subst_gb.simps subst_b_\\<Gamma>_def permute_\\<Gamma>.simps  *"], ["proof (prove)\nusing this:\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c) #\\<^sub>\\<Gamma>\n    (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n    (x, b[z::=B_var bv]\\<^sub>b\\<^sub>b,\n     c[z::=B_var bv]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[z::=B_var bv]\\<^sub>\\<Gamma>\\<^sub>b", "using GCons subst_b_\\<Gamma>_def subst_gb.simps flip_subst subst_b_b_def subst_b_c_def fresh_GCons"], ["proof (prove)\nusing this:\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n  atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n  \\<Gamma>'[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c) #\\<^sub>\\<Gamma>\n    (bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>' =\n    (x, b[z::=B_var bv]\\<^sub>b\\<^sub>b,\n     c[z::=B_var bv]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[z::=B_var bv]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> ((x, b, c) #\\<^sub>\\<Gamma>\n\\<Gamma>') =\n  ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[z::=B_var bv]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::\\<Gamma> and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "proof (induct c rule: \\<Gamma>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom bv \\<sharp> GNil \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> GNil)[bv::=v]\\<^sub>b =\n    GNil[z::=v]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "case GNil"], ["proof (state)\nthis:\n  atom bv \\<sharp> GNil\n\ngoal (2 subgoals):\n 1. atom bv \\<sharp> GNil \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> GNil)[bv::=v]\\<^sub>b =\n    GNil[z::=v]\\<^sub>b\n 2. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> GNil", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> GNil\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> GNil)[bv::=v]\\<^sub>b =\n    GNil[z::=v]\\<^sub>b", "using subst_b_\\<Gamma>_def subst_gb.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> GNil\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> GNil)[bv::=v]\\<^sub>b =\n    GNil[z::=v]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> GNil)[bv::=v]\\<^sub>b =\n  GNil[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "case (GCons x b c \\<Gamma>')"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n  \\<Gamma>'[z::=v]\\<^sub>b\n  atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "have *:\"(bv \\<leftrightarrow> z) \\<bullet> (x, b, c) = (x, (bv \\<leftrightarrow> z) \\<bullet> b, (bv \\<leftrightarrow> z) \\<bullet> c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n    (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c)", "using flip_bv_x_cancel"], ["proof (prove)\nusing this:\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n    (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n     (bv \\<leftrightarrow> z) \\<bullet> c)", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. \\<And>x b c \\<Gamma>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n                \\<Gamma>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((x, b,\n                         c) #\\<^sub>\\<Gamma>\n                        \\<Gamma>'))[bv::=v]\\<^sub>b =\n                         ((x, b, c) #\\<^sub>\\<Gamma>\n                          \\<Gamma>')[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)", "show ?case"], ["proof (prove)\nusing this:\n  (bv \\<leftrightarrow> z) \\<bullet> (x, b, c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> ((x, b, c) #\\<^sub>\\<Gamma>\n   \\<Gamma>'))[bv::=v]\\<^sub>b =\n    ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[z::=v]\\<^sub>b", "unfolding subst_gb.simps subst_b_\\<Gamma>_def permute_\\<Gamma>.simps  *"], ["proof (prove)\nusing this:\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (x, ((bv \\<leftrightarrow> z) \\<bullet> b)[bv::=v]\\<^sub>b\\<^sub>b,\n     ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>\\<Gamma>\\<^sub>b =\n    (x, b[z::=v]\\<^sub>b\\<^sub>b, c[z::=v]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[z::=v]\\<^sub>\\<Gamma>\\<^sub>b", "using GCons subst_b_\\<Gamma>_def subst_gb.simps flip_subst subst_b_b_def subst_b_c_def fresh_GCons"], ["proof (prove)\nusing this:\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c) =\n  (x, (bv \\<leftrightarrow> z) \\<bullet> b,\n   (bv \\<leftrightarrow> z) \\<bullet> c)\n  atom bv \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>b =\n  \\<Gamma>'[z::=v]\\<^sub>b\n  atom bv \\<sharp> (x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>'\n  subst_b = subst_gb_abbrev\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. (x, ((bv \\<leftrightarrow> z) \\<bullet> b)[bv::=v]\\<^sub>b\\<^sub>b,\n     ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    ((bv \\<leftrightarrow> z) \\<bullet> \\<Gamma>')[bv::=v]\\<^sub>\\<Gamma>\\<^sub>b =\n    (x, b[z::=v]\\<^sub>b\\<^sub>b, c[z::=v]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n    \\<Gamma>'[z::=v]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> ((x, b, c) #\\<^sub>\\<Gamma>\n \\<Gamma>'))[bv::=v]\\<^sub>b =\n  ((x, b, c) #\\<^sub>\\<Gamma> \\<Gamma>')[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma subst_b_base_for_lit:\n  \"(base_for_lit l)[bv::=b]\\<^sub>b\\<^sub>b = base_for_lit l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (base_for_lit l)[bv::=b]\\<^sub>b\\<^sub>b = base_for_lit l", "using base_for_lit.simps l.strong_exhaust"], ["proof (prove)\nusing this:\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<lbrakk>\\<And>x1. ?y = L_num x1 \\<Longrightarrow> ?P;\n   ?y = L_true \\<Longrightarrow> ?P; ?y = L_false \\<Longrightarrow> ?P;\n   ?y = L_unit \\<Longrightarrow> ?P;\n   \\<And>x5. ?y = L_bitvec x5 \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (base_for_lit l)[bv::=b]\\<^sub>b\\<^sub>b = base_for_lit l", "by (metis subst_bb.simps(2) subst_bb.simps(3) subst_bb.simps(6) subst_bb.simps(7))"], ["", "lemma subst_b_lookup:\n  assumes \"Some (b, c) = lookup \\<Gamma> x\"\n  shows \" Some (b[bv::=b']\\<^sub>b\\<^sub>b, c[bv::=b']\\<^sub>c\\<^sub>b) = lookup \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Some (b[bv::=b']\\<^sub>b\\<^sub>b, c[bv::=b']\\<^sub>c\\<^sub>b) =\n    lookup \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b x", "using assms"], ["proof (prove)\nusing this:\n  Some (b, c) = lookup \\<Gamma> x\n\ngoal (1 subgoal):\n 1. Some (b[bv::=b']\\<^sub>b\\<^sub>b, c[bv::=b']\\<^sub>c\\<^sub>b) =\n    lookup \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b x", "by(induct \\<Gamma> rule: \\<Gamma>_induct, auto)"], ["", "lemma subst_g_b_x_fresh:\n  fixes x::x and b::b and \\<Gamma>::\\<Gamma> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_b_fresh_x subst_b_\\<Gamma>_def assms"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n  subst_b = subst_gb_abbrev\n  atom x \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by metis"], ["", "subsection \\<open>Mutable Variables\\<close>"], ["", "nominal_function subst_db :: \"\\<Delta> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<Delta>\" where\n  \"subst_db []\\<^sub>\\<Delta> _ _  = []\\<^sub>\\<Delta>\"\n| \"subst_db  ((u,t) #\\<^sub>\\<Delta> \\<Delta>) bv b = ((u,t[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta> (subst_db \\<Delta> bv b))\""], ["proof (prove)\ngoal (6 subgoals):\n 1. eqvt subst_db_graph_aux\n 2. \\<And>x y. subst_db_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>uu_ uv_.\n                   x = ([]\\<^sub>\\<Delta>, uu_, uv_) \\<Longrightarrow> P;\n        \\<And>u t \\<Delta> bv b.\n           x = ((u, t) #\\<^sub>\\<Delta> \\<Delta>, bv, b) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>uu_ uv_ uua_ uva_.\n       ([]\\<^sub>\\<Delta>, uu_, uv_) =\n       ([]\\<^sub>\\<Delta>, uua_, uva_) \\<Longrightarrow>\n       []\\<^sub>\\<Delta> = []\\<^sub>\\<Delta>\n 5. \\<And>uu_ uv_ u t \\<Delta> bv b.\n       \\<lbrakk>eqvt_at subst_db_sumC (\\<Delta>, bv, b); True;\n        ([]\\<^sub>\\<Delta>, uu_, uv_) =\n        ((u, t) #\\<^sub>\\<Delta> \\<Delta>, bv, b)\\<rbrakk>\n       \\<Longrightarrow> []\\<^sub>\\<Delta> =\n                         (u, t[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                         subst_db_sumC (\\<Delta>, bv, b)\n 6. \\<And>u t \\<Delta> bv b ua ta \\<Delta>' bva ba.\n       \\<lbrakk>eqvt_at subst_db_sumC (\\<Delta>, bv, b);\n        eqvt_at subst_db_sumC (\\<Delta>', bva, ba); True; True;\n        ((u, t) #\\<^sub>\\<Delta> \\<Delta>, bv, b) =\n        ((ua, ta) #\\<^sub>\\<Delta> \\<Delta>', bva, ba)\\<rbrakk>\n       \\<Longrightarrow> (u, t[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                         subst_db_sumC (\\<Delta>, bv, b) =\n                         (ua,\n                          ta[bva::=ba]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                         subst_db_sumC (\\<Delta>', bva, ba)", "apply (simp add: eqvt_def subst_db_graph_aux_def,auto )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = []\\<^sub>\\<Delta> \\<Longrightarrow> P;\n        \\<And>u t \\<Delta>.\n           a = (u, t) #\\<^sub>\\<Delta> \\<Delta> \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using list.exhaust delete_aux.elims"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y = [] \\<Longrightarrow> ?P;\n   \\<And>x21 x22. ?y = x21 # x22 \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<lbrakk>AList.delete_aux ?x ?xa = ?y;\n   \\<And>k.\n      \\<lbrakk>?x = k; ?xa = []; ?y = []\\<rbrakk> \\<Longrightarrow> ?P;\n   \\<And>k k' v xs.\n      \\<lbrakk>?x = k; ?xa = (k', v) # xs;\n       ?y =\n       (if k = k' then xs else (k', v) # AList.delete_aux k xs)\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = []\\<^sub>\\<Delta> \\<Longrightarrow> P;\n        \\<And>u t \\<Delta>.\n           a = (u, t) #\\<^sub>\\<Delta> \\<Delta> \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using neq_DNil_conv"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y = [] \\<Longrightarrow> ?P;\n   \\<And>x21 x22. ?y = x21 # x22 \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<lbrakk>AList.delete_aux ?x ?xa = ?y;\n   \\<And>k.\n      \\<lbrakk>?x = k; ?xa = []; ?y = []\\<rbrakk> \\<Longrightarrow> ?P;\n   \\<And>k k' v xs.\n      \\<lbrakk>?x = k; ?xa = (k', v) # xs;\n       ?y =\n       (if k = k' then xs else (k', v) # AList.delete_aux k xs)\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  (?xs \\<noteq> []\\<^sub>\\<Delta>) =\n  (\\<exists>y ys. ?xs = y #\\<^sub>\\<Delta> ys)\n\ngoal (1 subgoal):\n 1. \\<And>P a.\n       \\<lbrakk>a = []\\<^sub>\\<Delta> \\<Longrightarrow> P;\n        \\<And>u t \\<Delta>.\n           a = (u, t) #\\<^sub>\\<Delta> \\<Delta> \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "by fastforce"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_db_dom", "by lexicographic_order"], ["", "abbreviation \n  subst_db_abbrev :: \"\\<Delta> \\<Rightarrow> bv \\<Rightarrow> b \\<Rightarrow> \\<Delta>\" (\"_[_::=_]\\<^sub>\\<Delta>\\<^sub>b\" [1000,50,50] 1000)\n  where \n    \"\\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<equiv> subst_db \\<Delta> bv b\""], ["", "instantiation \\<Delta> :: has_subst_b\nbegin"], ["", "definition \"subst_b = subst_db\""], ["", "instance"], ["proof (prove)\ngoal (1 subgoal):\n 1. OFCLASS(\\<Delta>, has_subst_b_class)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix j::atom and i::bv and  x::b and t::\\<Delta>"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>j t i x.\n       j \\<sharp> t[i::=x]\\<^sub>b =\n       (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n        j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n 2. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 3. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 4. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 5. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 6. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show  \"j \\<sharp> subst_b t i x = (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or> j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> t[i::=x]\\<^sub>b =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "proof(induct t rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. j \\<sharp> []\\<^sub>\\<Delta>[i::=x]\\<^sub>b =\n    (atom i \\<sharp> []\\<^sub>\\<Delta> \\<and>\n     j \\<sharp> []\\<^sub>\\<Delta> \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> []\\<^sub>\\<Delta> \\<or> j = atom i))\n 2. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "case DNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. j \\<sharp> []\\<^sub>\\<Delta>[i::=x]\\<^sub>b =\n    (atom i \\<sharp> []\\<^sub>\\<Delta> \\<and>\n     j \\<sharp> []\\<^sub>\\<Delta> \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> []\\<^sub>\\<Delta> \\<or> j = atom i))\n 2. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> []\\<^sub>\\<Delta>[i::=x]\\<^sub>b =\n    (atom i \\<sharp> []\\<^sub>\\<Delta> \\<and>\n     j \\<sharp> []\\<^sub>\\<Delta> \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> []\\<^sub>\\<Delta> \\<or> j = atom i))", "using fresh_DNil  subst_db.simps  fresh_def pure_fresh subst_b_\\<Delta>_def has_subst_b_class.fresh_subst_if fresh_DNil fresh_DCons"], ["proof (prove)\nusing this:\n  ?a \\<sharp> []\\<^sub>\\<Delta>\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x\n  subst_b = subst_db_abbrev\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  ?a \\<sharp> []\\<^sub>\\<Delta>\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. j \\<sharp> []\\<^sub>\\<Delta>[i::=x]\\<^sub>b =\n    (atom i \\<sharp> []\\<^sub>\\<Delta> \\<and>\n     j \\<sharp> []\\<^sub>\\<Delta> \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> []\\<^sub>\\<Delta> \\<or> j = atom i))", "by metis"], ["proof (state)\nthis:\n  j \\<sharp> []\\<^sub>\\<Delta>[i::=x]\\<^sub>b =\n  (atom i \\<sharp> []\\<^sub>\\<Delta> \\<and>\n   j \\<sharp> []\\<^sub>\\<Delta> \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> []\\<^sub>\\<Delta> \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "case (DCons u t \\<Gamma>')"], ["proof (state)\nthis:\n  j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "have \"j \\<sharp> subst_b ((u, t) #\\<^sub>\\<Delta> \\<Gamma>') i x = j \\<sharp> ((u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta> (subst_b \\<Gamma>' i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n    j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n               \\<Gamma>'[i::=x]\\<^sub>b", "using subst_db.simps  subst_b_\\<Delta>_def"], ["proof (prove)\nusing this:\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  subst_b = subst_db_abbrev\n\ngoal (1 subgoal):\n 1. j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n    j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n               \\<Gamma>'[i::=x]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n  j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n             \\<Gamma>'[i::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n  j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n             \\<Gamma>'[i::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "have \"... = (j \\<sharp> ((u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b)) \\<and> (j \\<sharp>  (subst_b \\<Gamma>' i x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n               \\<Gamma>'[i::=x]\\<^sub>b =\n    (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "using fresh_DCons"], ["proof (prove)\nusing this:\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n               \\<Gamma>'[i::=x]\\<^sub>b =\n    (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n             \\<Gamma>'[i::=x]\\<^sub>b =\n  (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n             \\<Gamma>'[i::=x]\\<^sub>b =\n  (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "have \"... = (((j  \\<sharp> u) \\<and> (j  \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b)) \\<and> (j \\<sharp>  (subst_b \\<Gamma>' i x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)", "by auto"], ["proof (state)\nthis:\n  (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  (j \\<sharp> (u, t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "have \"... =   ((j  \\<sharp> u) \\<and>  ((atom i \\<sharp> t \\<and> j \\<sharp> t) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))) \\<and> (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or> j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    (j \\<sharp> u \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))", "using has_subst_b_class.fresh_subst_if[of j t i x] subst_b_\\<tau>_def DCons  subst_b_\\<Delta>_def"], ["proof (prove)\nusing this:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n  subst_b = subst_tb_abbrev\n  j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))\n  subst_b = subst_db_abbrev\n\ngoal (1 subgoal):\n 1. ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n     j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n    (j \\<sharp> u \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))", "by auto"], ["proof (state)\nthis:\n  ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  (j \\<sharp> u \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "also"], ["proof (state)\nthis:\n  ((j \\<sharp> u \\<and> j \\<sharp> t[i::=x]\\<^sub>\\<tau>\\<^sub>b) \\<and>\n   j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b) =\n  (j \\<sharp> u \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i)))\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "have \"... = (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and> j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j \\<sharp> x \\<and> (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (j \\<sharp> u \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n    (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n     j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))", "using DCons subst_db.simps(2)  has_subst_b_class.fresh_subst_if fresh_DCons subst_b_\\<Delta>_def  pure_fresh fresh_at_base"], ["proof (prove)\nusing this:\n  j \\<sharp> \\<Gamma>'[i::=x]\\<^sub>b =\n  (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  subst_b = subst_db_abbrev\n  ?a \\<sharp> ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. (j \\<sharp> u \\<and>\n     (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n     (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n      j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n    (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n     j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  (j \\<sharp> u \\<and>\n   (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i)) \\<and>\n   (atom i \\<sharp> \\<Gamma>' \\<and> j \\<sharp> \\<Gamma>' \\<or>\n    j \\<sharp> x \\<and> (j \\<sharp> \\<Gamma>' \\<or> j = atom i))) =\n  (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n   j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       j \\<sharp> \\<Delta>'[i::=x]\\<^sub>b =\n       (atom i \\<sharp> \\<Delta>' \\<and> j \\<sharp> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> \\<Delta>' \\<or> j = atom i)) \\<Longrightarrow>\n       j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[i::=x]\\<^sub>b =\n       (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<and>\n        j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or>\n        j \\<sharp> x \\<and>\n        (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>' \\<or> j = atom i))", "finally"], ["proof (chain)\npicking this:\n  j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n   j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))", "show ?case"], ["proof (prove)\nusing this:\n  j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n   j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))\n\ngoal (1 subgoal):\n 1. j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n    (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n     j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n     j \\<sharp> x \\<and>\n     (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))", "by auto"], ["proof (state)\nthis:\n  j \\<sharp> ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[i::=x]\\<^sub>b =\n  (atom i \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<and>\n   j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or>\n   j \\<sharp> x \\<and>\n   (j \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>' \\<or> j = atom i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  j \\<sharp> t[i::=x]\\<^sub>b =\n  (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n   j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\n\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<Delta> and x::b"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a tm x.\n       atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n 2. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 3. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 4. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 5. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom a \\<sharp> tm \\<Longrightarrow> subst_b tm a x = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm", "proof (induct tm rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom a \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    []\\<^sub>\\<Delta>[a::=x]\\<^sub>b = []\\<^sub>\\<Delta>\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "case DNil"], ["proof (state)\nthis:\n  atom a \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (2 subgoals):\n 1. atom a \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    []\\<^sub>\\<Delta>[a::=x]\\<^sub>b = []\\<^sub>\\<Delta>\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "then"], ["proof (chain)\npicking this:\n  atom a \\<sharp> []\\<^sub>\\<Delta>", "show ?case"], ["proof (prove)\nusing this:\n  atom a \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. []\\<^sub>\\<Delta>[a::=x]\\<^sub>b = []\\<^sub>\\<Delta>", "using  subst_db.simps subst_b_\\<Delta>_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> []\\<^sub>\\<Delta>\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  subst_b = subst_db_abbrev\n\ngoal (1 subgoal):\n 1. []\\<^sub>\\<Delta>[a::=x]\\<^sub>b = []\\<^sub>\\<Delta>", "by auto"], ["proof (state)\nthis:\n  []\\<^sub>\\<Delta>[a::=x]\\<^sub>b = []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "case (DCons u t \\<Gamma>')"], ["proof (state)\nthis:\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "have *:\"t[a::=x]\\<^sub>\\<tau>\\<^sub>b = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t[a::=x]\\<^sub>\\<tau>\\<^sub>b = t", "using DCons fresh_DCons[of \"atom a\"] fresh_prod2[of \"atom a\"] has_subst_b_class.forget_subst  subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n  atom a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (atom a \\<sharp> ?x \\<and> atom a \\<sharp> ?xs)\n  atom a \\<sharp> (?a, ?b) = (atom a \\<sharp> ?a \\<and> atom a \\<sharp> ?b)\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. t[a::=x]\\<^sub>\\<tau>\\<^sub>b = t", "by metis"], ["proof (state)\nthis:\n  t[a::=x]\\<^sub>\\<tau>\\<^sub>b = t\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "have \"subst_b ((u,t) #\\<^sub>\\<Delta> \\<Gamma>') a x = ((u,t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta> (subst_b \\<Gamma>' a x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n    (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Gamma>'[a::=x]\\<^sub>b", "using  subst_b_\\<Delta>_def subst_db.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n    (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Gamma>'[a::=x]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  \\<Gamma>'[a::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "also"], ["proof (state)\nthis:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  \\<Gamma>'[a::=x]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "have \"... = ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Gamma>'[a::=x]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "using * DCons  fresh_DCons[of \"atom a\"]"], ["proof (prove)\nusing this:\n  t[a::=x]\\<^sub>\\<tau>\\<^sub>b = t\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n  atom a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (atom a \\<sharp> ?x \\<and> atom a \\<sharp> ?xs)\n\ngoal (1 subgoal):\n 1. (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Gamma>'[a::=x]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "by auto"], ["proof (state)\nthis:\n  (u, t[a::=x]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  \\<Gamma>'[a::=x]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom a \\<sharp> \\<Delta>' \\<Longrightarrow>\n                \\<Delta>'[a::=x]\\<^sub>b = \\<Delta>';\n        atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[a::=x]\\<^sub>b =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "finally"], ["proof (chain)\npicking this:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "show ?case"], ["proof (prove)\nusing this:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "using   \n        has_subst_b_class.forget_subst fresh_DCons fresh_prod3 \n        DCons subst_b_\\<Delta>_def has_subst_b_class.forget_subst[of a t x] fresh_prod3[of \"atom a\"]"], ["proof (prove)\nusing this:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  atom a \\<sharp> \\<Gamma>' \\<Longrightarrow>\n  \\<Gamma>'[a::=x]\\<^sub>b = \\<Gamma>'\n  atom a \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n  subst_b = subst_db_abbrev\n  atom a \\<sharp> t \\<Longrightarrow> t[a::=x]\\<^sub>b = t\n  atom a \\<sharp> (?a, ?b, ?c) =\n  (atom a \\<sharp> ?a \\<and> atom a \\<sharp> ?b \\<and> atom a \\<sharp> ?c)\n\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "by argo"], ["proof (state)\nthis:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=x]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom a \\<sharp> tm \\<Longrightarrow> tm[a::=x]\\<^sub>b = tm\n\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix a::bv and tm::\\<Delta>"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>tm a. tm[a::=B_var a]\\<^sub>b = tm\n 2. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 3. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 4. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"subst_b tm a (B_var a) = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm[a::=B_var a]\\<^sub>b = tm", "proof(induct tm rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. []\\<^sub>\\<Delta>[a::=B_var a]\\<^sub>b = []\\<^sub>\\<Delta>\n 2. \\<And>u t \\<Delta>'.\n       \\<Delta>'[a::=B_var a]\\<^sub>b = \\<Delta>' \\<Longrightarrow>\n       ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[a::=B_var a]\\<^sub>b =\n       (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "case DNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. []\\<^sub>\\<Delta>[a::=B_var a]\\<^sub>b = []\\<^sub>\\<Delta>\n 2. \\<And>u t \\<Delta>'.\n       \\<Delta>'[a::=B_var a]\\<^sub>b = \\<Delta>' \\<Longrightarrow>\n       ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[a::=B_var a]\\<^sub>b =\n       (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. []\\<^sub>\\<Delta>[a::=B_var a]\\<^sub>b = []\\<^sub>\\<Delta>", "using  subst_db.simps subst_b_\\<Delta>_def"], ["proof (prove)\nusing this:\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  subst_b = subst_db_abbrev\n\ngoal (1 subgoal):\n 1. []\\<^sub>\\<Delta>[a::=B_var a]\\<^sub>b = []\\<^sub>\\<Delta>", "by auto"], ["proof (state)\nthis:\n  []\\<^sub>\\<Delta>[a::=B_var a]\\<^sub>b = []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<Delta>'[a::=B_var a]\\<^sub>b = \\<Delta>' \\<Longrightarrow>\n       ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[a::=B_var a]\\<^sub>b =\n       (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<Delta>'[a::=B_var a]\\<^sub>b = \\<Delta>' \\<Longrightarrow>\n       ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[a::=B_var a]\\<^sub>b =\n       (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "case (DCons u t  \\<Gamma>')"], ["proof (state)\nthis:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<Delta>'[a::=B_var a]\\<^sub>b = \\<Delta>' \\<Longrightarrow>\n       ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[a::=B_var a]\\<^sub>b =\n       (u, t) #\\<^sub>\\<Delta> \\<Delta>'", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "using    has_subst_b_class.subst_id  subst_b_\\<Delta>_def subst_b_\\<tau>_def subst_db.simps"], ["proof (prove)\nusing this:\n  \\<Gamma>'[a::=B_var a]\\<^sub>b = \\<Gamma>'\n  ?tm[?a::=B_var ?a]\\<^sub>b = ?tm\n  subst_b = subst_db_abbrev\n  subst_b = subst_tb_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n    (u, t) #\\<^sub>\\<Delta> \\<Gamma>'", "by metis"], ["proof (state)\nthis:\n  ((u, t) #\\<^sub>\\<Delta> \\<Gamma>')[a::=B_var a]\\<^sub>b =\n  (u, t) #\\<^sub>\\<Delta> \\<Gamma>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  tm[a::=B_var a]\\<^sub>b = tm\n\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix p::perm and x1::bv and v::b and t1::\\<Delta>"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>p t1 x1 v.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 3. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"p \\<bullet> subst_b t1 x1 v  = subst_b  (p \\<bullet> t1) (p \\<bullet> x1) (p \\<bullet> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "proof (induct tm rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "case DNil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "using subst_b_\\<Delta>_def subst_db.simps"], ["proof (prove)\nusing this:\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "case (DCons x' b' \\<Gamma>')"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b \\<Longrightarrow>\n       p \\<bullet> t1[x1::=v]\\<^sub>b =\n       (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. p \\<bullet> t1[x1::=v]\\<^sub>b =\n    (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b", "by argo"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  p \\<bullet> t1[x1::=v]\\<^sub>b =\n  (p \\<bullet> t1)[p \\<bullet> x1::=p \\<bullet> v]\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix  bv::bv and c::\\<Delta> and z::bv"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv c z.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n 2. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c) = c[z::=B_var bv]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b", "proof (induct c rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom bv \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta> =\n    []\\<^sub>\\<Delta>[z::=B_var bv]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>' =\n                \\<Delta>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((u,\n                        t) #\\<^sub>\\<Delta>\n                       \\<Delta>') =\n                         ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[z::=B_var bv]\\<^sub>b", "case DNil"], ["proof (state)\nthis:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (2 subgoals):\n 1. atom bv \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    (bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta> =\n    []\\<^sub>\\<Delta>[z::=B_var bv]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>' =\n                \\<Delta>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((u,\n                        t) #\\<^sub>\\<Delta>\n                       \\<Delta>') =\n                         ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[z::=B_var bv]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta> =\n    []\\<^sub>\\<Delta>[z::=B_var bv]\\<^sub>b", "using subst_b_\\<Delta>_def subst_db.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta> =\n    []\\<^sub>\\<Delta>[z::=B_var bv]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta> =\n  []\\<^sub>\\<Delta>[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>' =\n                \\<Delta>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((u,\n                        t) #\\<^sub>\\<Delta>\n                       \\<Delta>') =\n                         ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[z::=B_var bv]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>' =\n                \\<Delta>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((u,\n                        t) #\\<^sub>\\<Delta>\n                       \\<Delta>') =\n                         ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[z::=B_var bv]\\<^sub>b", "case (DCons u t')"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>' =\n                \\<Delta>'[z::=B_var bv]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> (bv \\<leftrightarrow> z) \\<bullet> ((u,\n                        t) #\\<^sub>\\<Delta>\n                       \\<Delta>') =\n                         ((u, t) #\\<^sub>\\<Delta>\n                          \\<Delta>')[z::=B_var bv]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> ((u, t') #\\<^sub>\\<Delta>\n  \\<Delta>'_) =\n    ((u, t') #\\<^sub>\\<Delta> \\<Delta>'_)[z::=B_var bv]\\<^sub>b", "unfolding subst_db.simps subst_b_\\<Delta>_def permute_\\<Delta>.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>\\<Delta>\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (u, t') #\\<^sub>\\<Delta>\n    (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n    (u, t'[z::=B_var bv]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Delta>'_[z::=B_var bv]\\<^sub>\\<Delta>\\<^sub>b", "using DCons subst_b_\\<Delta>_def subst_db.simps flip_subst subst_b_\\<tau>_def flip_fresh_fresh fresh_at_base fresh_DCons flip_bv_u_cancel"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>\\<Delta>\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n  \\<Delta>'_[z::=B_var bv]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_tb_abbrev\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. (bv \\<leftrightarrow> z) \\<bullet> (u, t') #\\<^sub>\\<Delta>\n    (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_ =\n    (u, t'[z::=B_var bv]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Delta>'_[z::=B_var bv]\\<^sub>\\<Delta>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (bv \\<leftrightarrow> z) \\<bullet> ((u, t') #\\<^sub>\\<Delta> \\<Delta>'_) =\n  ((u, t') #\\<^sub>\\<Delta> \\<Delta>'_)[z::=B_var bv]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  (bv \\<leftrightarrow> z) \\<bullet> c = c[z::=B_var bv]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "fix bv::bv and c::\\<Delta> and z::bv and v::b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv c z v.\n       atom bv \\<sharp> c \\<Longrightarrow>\n       ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n       c[z::=v]\\<^sub>b", "show \"atom bv \\<sharp> c \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b =\n    c[z::=v]\\<^sub>b", "proof (induct c rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom bv \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta>)[bv::=v]\\<^sub>b =\n    []\\<^sub>\\<Delta>[z::=v]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>')[bv::=v]\\<^sub>b =\n                \\<Delta>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((u,\n                         t) #\\<^sub>\\<Delta>\n                        \\<Delta>'))[bv::=v]\\<^sub>b =\n                         ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[z::=v]\\<^sub>b", "case DNil"], ["proof (state)\nthis:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (2 subgoals):\n 1. atom bv \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    ((bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta>)[bv::=v]\\<^sub>b =\n    []\\<^sub>\\<Delta>[z::=v]\\<^sub>b\n 2. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>')[bv::=v]\\<^sub>b =\n                \\<Delta>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((u,\n                         t) #\\<^sub>\\<Delta>\n                        \\<Delta>'))[bv::=v]\\<^sub>b =\n                         ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta>)[bv::=v]\\<^sub>b =\n    []\\<^sub>\\<Delta>[z::=v]\\<^sub>b", "using subst_b_\\<Delta>_def subst_db.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> []\\<^sub>\\<Delta>\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta>)[bv::=v]\\<^sub>b =\n    []\\<^sub>\\<Delta>[z::=v]\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> []\\<^sub>\\<Delta>)[bv::=v]\\<^sub>b =\n  []\\<^sub>\\<Delta>[z::=v]\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>')[bv::=v]\\<^sub>b =\n                \\<Delta>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((u,\n                         t) #\\<^sub>\\<Delta>\n                        \\<Delta>'))[bv::=v]\\<^sub>b =\n                         ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[z::=v]\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>')[bv::=v]\\<^sub>b =\n                \\<Delta>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((u,\n                         t) #\\<^sub>\\<Delta>\n                        \\<Delta>'))[bv::=v]\\<^sub>b =\n                         ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[z::=v]\\<^sub>b", "case (DCons u t')"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. \\<And>u t \\<Delta>'.\n       \\<lbrakk>atom bv \\<sharp> \\<Delta>' \\<Longrightarrow>\n                ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>')[bv::=v]\\<^sub>b =\n                \\<Delta>'[z::=v]\\<^sub>b;\n        atom bv \\<sharp> (u, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> ((bv \\<leftrightarrow> z) \\<bullet> ((u,\n                         t) #\\<^sub>\\<Delta>\n                        \\<Delta>'))[bv::=v]\\<^sub>b =\n                         ((u, t) #\\<^sub>\\<Delta> \\<Delta>')[z::=v]\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> ((u, t') #\\<^sub>\\<Delta>\n   \\<Delta>'_))[bv::=v]\\<^sub>b =\n    ((u, t') #\\<^sub>\\<Delta> \\<Delta>'_)[z::=v]\\<^sub>b", "unfolding subst_db.simps subst_b_\\<Delta>_def permute_\\<Delta>.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>\\<Delta>\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>\\<Delta>\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> (u, t') #\\<^sub>\\<Delta>\n     (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>\\<Delta>\\<^sub>b =\n    (u, t'[z::=v]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Delta>'_[z::=v]\\<^sub>\\<Delta>\\<^sub>b", "using DCons subst_b_\\<Delta>_def subst_db.simps flip_subst subst_b_\\<tau>_def flip_fresh_fresh fresh_at_base fresh_DCons flip_bv_u_cancel"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>\\<Delta>\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>\\<Delta>\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n  atom bv \\<sharp> \\<Delta>'_ \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>b =\n  \\<Delta>'_[z::=v]\\<^sub>b\n  atom bv \\<sharp> (u, t') #\\<^sub>\\<Delta> \\<Delta>'_\n  subst_b = subst_db_abbrev\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  atom ?bv \\<sharp> ?c \\<Longrightarrow>\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?c = ?c[?z::=B_var ?bv]\\<^sub>b\n  subst_b = subst_tb_abbrev\n  \\<lbrakk>atom ?a \\<sharp> ?x; atom ?b \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> (?a \\<leftrightarrow> ?b) \\<bullet> ?x = ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  (?bv \\<leftrightarrow> ?z) \\<bullet> ?x = ?x\n\ngoal (1 subgoal):\n 1. ((bv \\<leftrightarrow> z) \\<bullet> (u, t') #\\<^sub>\\<Delta>\n     (bv \\<leftrightarrow> z) \\<bullet> \\<Delta>'_)[bv::=v]\\<^sub>\\<Delta>\\<^sub>b =\n    (u, t'[z::=v]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n    \\<Delta>'_[z::=v]\\<^sub>\\<Delta>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  ((bv \\<leftrightarrow> z) \\<bullet> ((u, t') #\\<^sub>\\<Delta>\n \\<Delta>'_))[bv::=v]\\<^sub>b =\n  ((u, t') #\\<^sub>\\<Delta> \\<Delta>'_)[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c \\<Longrightarrow>\n  ((bv \\<leftrightarrow> z) \\<bullet> c)[bv::=v]\\<^sub>b = c[z::=v]\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma subst_d_b_member:\n  assumes \"(u, \\<tau>) \\<in> setD \\<Delta>\" \n  shows  \"(u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n  (u, \\<tau>) \\<in> setD \\<Delta>\n\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (induct \\<Delta>,auto)"], ["", "lemmas ms_fresh_all = e.fresh s_branch_s_branch_list.fresh \\<tau>.fresh c.fresh ce.fresh v.fresh l.fresh fresh_at_base opp.fresh pure_fresh ms_fresh"], ["", "lemmas fresh_intros[intro] = fresh_GNil x_not_in_b_set x_not_in_u_atoms x_fresh_b u_not_in_x_atoms bv_not_in_x_atoms u_not_in_b_atoms"], ["", "lemmas subst_b_simps = subst_tb.simps subst_cb.simps subst_ceb.simps subst_vb.simps subst_bb.simps  subst_eb.simps subst_branchb.simps subst_sb.simps"], ["", "lemma subst_d_b_x_fresh:\n  fixes x::x and b::b and \\<Delta>::\\<Delta> and bv::bv\n  assumes \"atom x \\<sharp> \\<Delta>\"\n  shows  \"atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using subst_b_fresh_x subst_b_\\<Delta>_def assms"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n  subst_b = subst_db_abbrev\n  atom x \\<sharp> \\<Delta>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by metis"], ["", "lemma subst_b_fresh_x:\n  fixes  x::x\n  shows \"atom x \\<sharp> v \\<Longrightarrow> atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\" and\n    \"atom x \\<sharp> ce \\<Longrightarrow> atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> e \\<Longrightarrow> atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> c \\<Longrightarrow> atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\" and\n    \"atom x \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b\" and\n    \"atom x \\<sharp> d \\<Longrightarrow> atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b\" and\n    \"atom x \\<sharp> g \\<Longrightarrow> atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\" and\n    \"atom x \\<sharp> s \\<Longrightarrow> atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((atom x \\<sharp> v \\<Longrightarrow>\n       atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b) &&&\n      (atom x \\<sharp> ce \\<Longrightarrow>\n       atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)) &&&\n     (atom x \\<sharp> e \\<Longrightarrow>\n      atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b) &&&\n     (atom x \\<sharp> c \\<Longrightarrow>\n      atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b)) &&&\n    ((atom x \\<sharp> t \\<Longrightarrow>\n      atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b) &&&\n     (atom x \\<sharp> d \\<Longrightarrow>\n      atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b)) &&&\n    (atom x \\<sharp> g \\<Longrightarrow>\n     atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b) &&&\n    (atom x \\<sharp> s \\<Longrightarrow>\n     atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b)", "using fresh_subst_if x_fresh_b subst_b_v_def subst_b_ce_def subst_b_e_def subst_b_c_def subst_b_\\<tau>_def subst_b_s_def subst_g_b_x_fresh subst_d_b_x_fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  atom ?x \\<sharp> ?b\n  subst_b = subst_vb_abbrev\n  subst_b = subst_ceb_abbrev\n  subst_b = subst_eb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?\\<Delta> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (((atom x \\<sharp> v \\<Longrightarrow>\n       atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b) &&&\n      (atom x \\<sharp> ce \\<Longrightarrow>\n       atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)) &&&\n     (atom x \\<sharp> e \\<Longrightarrow>\n      atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b) &&&\n     (atom x \\<sharp> c \\<Longrightarrow>\n      atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b)) &&&\n    ((atom x \\<sharp> t \\<Longrightarrow>\n      atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b) &&&\n     (atom x \\<sharp> d \\<Longrightarrow>\n      atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b)) &&&\n    (atom x \\<sharp> g \\<Longrightarrow>\n     atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b) &&&\n    (atom x \\<sharp> s \\<Longrightarrow>\n     atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b)", "by metis+"], ["", "lemma subst_b_fresh_u_cls:\n  fixes tm::\"'a::has_subst_b\" and x::u\n  shows \"atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "using fresh_subst_if[of \"atom x\" tm bv b']"], ["proof (prove)\nusing this:\n  atom x \\<sharp> tm[bv::=b']\\<^sub>b =\n  (atom bv \\<sharp> tm \\<and> atom x \\<sharp> tm \\<or>\n   atom x \\<sharp> b' \\<and> (atom x \\<sharp> tm \\<or> atom x = atom bv))\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "using u_fresh_b"], ["proof (prove)\nusing this:\n  atom x \\<sharp> tm[bv::=b']\\<^sub>b =\n  (atom bv \\<sharp> tm \\<and> atom x \\<sharp> tm \\<or>\n   atom x \\<sharp> b' \\<and> (atom x \\<sharp> tm \\<or> atom x = atom bv))\n  atom ?x \\<sharp> ?b\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> tm = atom x \\<sharp> tm[bv::=b']\\<^sub>b", "by auto"], ["", "lemma subst_g_b_u_fresh:\n  fixes x::u and b::b and \\<Gamma>::\\<Gamma> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_b_fresh_u_cls subst_b_\\<Gamma>_def assms"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n  subst_b = subst_gb_abbrev\n  atom x \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by metis"], ["", "lemma subst_d_b_u_fresh:\n  fixes x::u and b::b and \\<Gamma>::\\<Delta> and bv::bv\n  assumes \"atom x \\<sharp> \\<Gamma>\"\n  shows  \"atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using subst_b_fresh_u_cls subst_b_\\<Delta>_def assms"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n  subst_b = subst_db_abbrev\n  atom x \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by metis"], ["", "lemma subst_b_fresh_u:\n  fixes  x::u\n  shows \"atom x \\<sharp> v \\<Longrightarrow> atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\" and\n    \"atom x \\<sharp> ce \\<Longrightarrow> atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> e \\<Longrightarrow> atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b\" and\n    \"atom x \\<sharp> c \\<Longrightarrow> atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\" and\n    \"atom x \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b\" and\n    \"atom x \\<sharp> d \\<Longrightarrow> atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b\" and\n    \"atom x \\<sharp> g \\<Longrightarrow> atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\" and\n    \"atom x \\<sharp> s \\<Longrightarrow> atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((atom x \\<sharp> v \\<Longrightarrow>\n       atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b) &&&\n      (atom x \\<sharp> ce \\<Longrightarrow>\n       atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)) &&&\n     (atom x \\<sharp> e \\<Longrightarrow>\n      atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b) &&&\n     (atom x \\<sharp> c \\<Longrightarrow>\n      atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b)) &&&\n    ((atom x \\<sharp> t \\<Longrightarrow>\n      atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b) &&&\n     (atom x \\<sharp> d \\<Longrightarrow>\n      atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b)) &&&\n    (atom x \\<sharp> g \\<Longrightarrow>\n     atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b) &&&\n    (atom x \\<sharp> s \\<Longrightarrow>\n     atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b)", "using fresh_subst_if u_fresh_b subst_b_v_def subst_b_ce_def subst_b_e_def subst_b_c_def subst_b_\\<tau>_def subst_b_s_def subst_g_b_u_fresh subst_d_b_u_fresh"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  atom ?x \\<sharp> ?b\n  subst_b = subst_vb_abbrev\n  subst_b = subst_ceb_abbrev\n  subst_b = subst_eb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_b = subst_sb_abbrev\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (((atom x \\<sharp> v \\<Longrightarrow>\n       atom x \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b) &&&\n      (atom x \\<sharp> ce \\<Longrightarrow>\n       atom x \\<sharp> ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)) &&&\n     (atom x \\<sharp> e \\<Longrightarrow>\n      atom x \\<sharp> e[bv::=b']\\<^sub>e\\<^sub>b) &&&\n     (atom x \\<sharp> c \\<Longrightarrow>\n      atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b)) &&&\n    ((atom x \\<sharp> t \\<Longrightarrow>\n      atom x \\<sharp> t[bv::=b']\\<^sub>\\<tau>\\<^sub>b) &&&\n     (atom x \\<sharp> d \\<Longrightarrow>\n      atom x \\<sharp> d[bv::=b']\\<^sub>\\<Delta>\\<^sub>b)) &&&\n    (atom x \\<sharp> g \\<Longrightarrow>\n     atom x \\<sharp> g[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b) &&&\n    (atom x \\<sharp> s \\<Longrightarrow>\n     atom x \\<sharp> s[bv::=b']\\<^sub>s\\<^sub>b)", "by metis+"], ["", "lemma subst_db_u_fresh:\n  fixes u::u and b::b and D::\\<Delta>\n  assumes \"atom u \\<sharp> D\"\n  shows  \"atom u \\<sharp> D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom u \\<sharp> D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n  atom u \\<sharp> D\n\ngoal (1 subgoal):\n 1. atom u \\<sharp> D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "proof(induct D rule: \\<Delta>_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. atom u \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    atom u \\<sharp> []\\<^sub>\\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 2. \\<And>ua t \\<Delta>'.\n       \\<lbrakk>atom u \\<sharp> \\<Delta>' \\<Longrightarrow>\n                atom u \\<sharp> \\<Delta>'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b;\n        atom u \\<sharp> (ua, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> atom\n                          u \\<sharp> ((ua, t) #\\<^sub>\\<Delta>\n\\<Delta>')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "case DNil"], ["proof (state)\nthis:\n  atom u \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (2 subgoals):\n 1. atom u \\<sharp> []\\<^sub>\\<Delta> \\<Longrightarrow>\n    atom u \\<sharp> []\\<^sub>\\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 2. \\<And>ua t \\<Delta>'.\n       \\<lbrakk>atom u \\<sharp> \\<Delta>' \\<Longrightarrow>\n                atom u \\<sharp> \\<Delta>'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b;\n        atom u \\<sharp> (ua, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> atom\n                          u \\<sharp> ((ua, t) #\\<^sub>\\<Delta>\n\\<Delta>')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom u \\<sharp> []\\<^sub>\\<Delta>", "show ?case"], ["proof (prove)\nusing this:\n  atom u \\<sharp> []\\<^sub>\\<Delta>\n\ngoal (1 subgoal):\n 1. atom u \\<sharp> []\\<^sub>\\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom u \\<sharp> []\\<^sub>\\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>ua t \\<Delta>'.\n       \\<lbrakk>atom u \\<sharp> \\<Delta>' \\<Longrightarrow>\n                atom u \\<sharp> \\<Delta>'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b;\n        atom u \\<sharp> (ua, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> atom\n                          u \\<sharp> ((ua, t) #\\<^sub>\\<Delta>\n\\<Delta>')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ua t \\<Delta>'.\n       \\<lbrakk>atom u \\<sharp> \\<Delta>' \\<Longrightarrow>\n                atom u \\<sharp> \\<Delta>'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b;\n        atom u \\<sharp> (ua, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> atom\n                          u \\<sharp> ((ua, t) #\\<^sub>\\<Delta>\n\\<Delta>')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "case (DCons u' t' D')"], ["proof (state)\nthis:\n  atom u \\<sharp> D' \\<Longrightarrow>\n  atom u \\<sharp> D'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n  atom u \\<sharp> (u', t') #\\<^sub>\\<Delta> D'\n\ngoal (1 subgoal):\n 1. \\<And>ua t \\<Delta>'.\n       \\<lbrakk>atom u \\<sharp> \\<Delta>' \\<Longrightarrow>\n                atom u \\<sharp> \\<Delta>'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b;\n        atom u \\<sharp> (ua, t) #\\<^sub>\\<Delta> \\<Delta>'\\<rbrakk>\n       \\<Longrightarrow> atom\n                          u \\<sharp> ((ua, t) #\\<^sub>\\<Delta>\n\\<Delta>')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom u \\<sharp> D' \\<Longrightarrow>\n  atom u \\<sharp> D'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n  atom u \\<sharp> (u', t') #\\<^sub>\\<Delta> D'", "show ?case"], ["proof (prove)\nusing this:\n  atom u \\<sharp> D' \\<Longrightarrow>\n  atom u \\<sharp> D'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n  atom u \\<sharp> (u', t') #\\<^sub>\\<Delta> D'\n\ngoal (1 subgoal):\n 1. atom\n     u \\<sharp> ((u', t') #\\<^sub>\\<Delta>\n                 D')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using subst_db.simps fresh_def fresh_DCons fresh_subst_if subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom u \\<sharp> D' \\<Longrightarrow>\n  atom u \\<sharp> D'[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n  atom u \\<sharp> (u', t') #\\<^sub>\\<Delta> D'\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. atom\n     u \\<sharp> ((u', t') #\\<^sub>\\<Delta>\n                 D')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis fresh_Pair u_not_in_b_atoms)"], ["proof (state)\nthis:\n  atom\n   u \\<sharp> ((u', t') #\\<^sub>\\<Delta> D')[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flip_bt_subst4:\n  fixes t::\\<tau> and bv::bv \n  assumes \"atom bv \\<sharp> t\" \n  shows \"t[bv'::=b]\\<^sub>\\<tau>\\<^sub>b = ((bv' \\<leftrightarrow> bv) \\<bullet> t)[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t[bv'::=b]\\<^sub>\\<tau>\\<^sub>b =\n    ((bv' \\<leftrightarrow> bv) \\<bullet> t)[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using flip_subst_subst[OF assms,of bv' b]"], ["proof (prove)\nusing this:\n  ((bv \\<leftrightarrow> bv') \\<bullet> t)[bv::=b]\\<^sub>b =\n  t[bv'::=b]\\<^sub>b\n\ngoal (1 subgoal):\n 1. t[bv'::=b]\\<^sub>\\<tau>\\<^sub>b =\n    ((bv' \\<leftrightarrow> bv) \\<bullet> t)[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by (simp add: flip_commute subst_b_\\<tau>_def)"], ["", "lemma subst_bt_flip_sym:\n  fixes t1::\\<tau> and t2::\\<tau>\n  assumes \"atom bv \\<sharp> b\" and \"atom bv \\<sharp> (bv1, bv2, t1, t2)\" and \"(bv1 \\<leftrightarrow> bv) \\<bullet> t1 = (bv2 \\<leftrightarrow> bv) \\<bullet> t2\"\n  shows \" t1[bv1::=b]\\<^sub>\\<tau>\\<^sub>b = t2[bv2::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1[bv1::=b]\\<^sub>\\<tau>\\<^sub>b = t2[bv2::=b]\\<^sub>\\<tau>\\<^sub>b", "using assms  flip_bt_subst4[of bv t1 bv1 b ]   flip_bt_subst4 fresh_prod4 fresh_Pair"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> b\n  atom bv \\<sharp> (bv1, bv2, t1, t2)\n  (bv1 \\<leftrightarrow> bv) \\<bullet> t1 =\n  (bv2 \\<leftrightarrow> bv) \\<bullet> t2\n  atom bv \\<sharp> t1 \\<Longrightarrow>\n  t1[bv1::=b]\\<^sub>\\<tau>\\<^sub>b =\n  ((bv1 \\<leftrightarrow> bv) \\<bullet> t1)[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom ?bv \\<sharp> ?t \\<Longrightarrow>\n  ?t[?bv'::=?b]\\<^sub>\\<tau>\\<^sub>b =\n  ((?bv' \\<leftrightarrow> ?bv) \\<bullet> ?t)[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. t1[bv1::=b]\\<^sub>\\<tau>\\<^sub>b = t2[bv2::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["", "end"]]}