{"file_name": "/home/qj213/afp-2021-10-22/thys/MiniSail/Typing.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/MiniSail", "problem_names": ["lemma infer_l_form2[simp]:\n  shows \"\\<exists>z. \\<turnstile> l \\<Rightarrow> (\\<lbrace> z : base_for_lit l | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [[l]\\<^sup>v]\\<^sup>c\\<^sup>e \\<rbrace>)\""], "translations": [["", "lemma infer_l_form2[simp]:\n  shows \"\\<exists>z. \\<turnstile> l \\<Rightarrow> (\\<lbrace> z : base_for_lit l | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [[l]\\<^sup>v]\\<^sup>c\\<^sup>e \\<rbrace>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> l \\<Rightarrow> \\<lbrace> z : base_for_lit\n              l  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ l ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof (nominal_induct l rule: l.strong_induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_num\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_num\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 4. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 5. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "case (L_num x)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_num\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_num\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 4. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 5. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_num\n                      x \\<Rightarrow> \\<lbrace> z : base_for_lit\n               (L_num\n                 x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                             x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using infer_l.intros base_for_lit.simps has_fresh_z"], ["proof (prove)\nusing this:\n   \\<turnstile> L_true \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_false \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_num\n                 ?n \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           ?n ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> ?z : B_unit  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_bitvec\n                 ?bv \\<Rightarrow> \\<lbrace> ?z : B_bitvec  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                               ?bv ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<exists>z b c.\n     atom z \\<sharp> ?t \\<and> ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_num\n                      x \\<Rightarrow> \\<lbrace> z : base_for_lit\n               (L_num\n                 x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                             x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<exists>z.\n      \\<turnstile> L_num\n                    x \\<Rightarrow> \\<lbrace> z : base_for_lit\n             (L_num\n               x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (4 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 4. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 4. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "case L_true"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 4. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using infer_l.intros base_for_lit.simps has_fresh_z"], ["proof (prove)\nusing this:\n   \\<turnstile> L_true \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_false \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_num\n                 ?n \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           ?n ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> ?z : B_unit  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_bitvec\n                 ?bv \\<Rightarrow> \\<lbrace> ?z : B_bitvec  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                               ?bv ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<exists>z b c.\n     atom z \\<sharp> ?t \\<and> ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<exists>z.\n      \\<turnstile> L_true \\<Rightarrow> \\<lbrace> z : base_for_lit\n                 L_true  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (3 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "case L_false"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 3. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using infer_l.intros base_for_lit.simps has_fresh_z"], ["proof (prove)\nusing this:\n   \\<turnstile> L_true \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_false \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_num\n                 ?n \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           ?n ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> ?z : B_unit  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_bitvec\n                 ?bv \\<Rightarrow> \\<lbrace> ?z : B_bitvec  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                               ?bv ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<exists>z b c.\n     atom z \\<sharp> ?t \\<and> ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                    L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<exists>z.\n      \\<turnstile> L_false \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  L_false  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (2 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "case L_unit"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n 2. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using infer_l.intros base_for_lit.simps has_fresh_z"], ["proof (prove)\nusing this:\n   \\<turnstile> L_true \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_false \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_num\n                 ?n \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           ?n ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> ?z : B_unit  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_bitvec\n                 ?bv \\<Rightarrow> \\<lbrace> ?z : B_bitvec  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                               ?bv ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<exists>z b c.\n     atom z \\<sharp> ?t \\<and> ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                   L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<exists>z.\n      \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> z : base_for_lit\n                 L_unit  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "case (L_bitvec x)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>z.\n           \\<turnstile> L_bitvec\n                         x \\<Rightarrow> \\<lbrace> z : base_for_lit\n                  (L_bitvec\n                    x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                                x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_bitvec\n                      x \\<Rightarrow> \\<lbrace> z : base_for_lit\n               (L_bitvec\n                 x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                             x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using infer_l.intros base_for_lit.simps has_fresh_z"], ["proof (prove)\nusing this:\n   \\<turnstile> L_true \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_false \\<Rightarrow> \\<lbrace> ?z : B_bool  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_num\n                 ?n \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_num\n                           ?n ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_unit \\<Rightarrow> \\<lbrace> ?z : B_unit  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_unit ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<turnstile> L_bitvec\n                 ?bv \\<Rightarrow> \\<lbrace> ?z : B_bitvec  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                               ?bv ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<exists>z b c.\n     atom z \\<sharp> ?t \\<and> ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n        \\<turnstile> L_bitvec\n                      x \\<Rightarrow> \\<lbrace> z : base_for_lit\n               (L_bitvec\n                 x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                             x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<exists>z.\n      \\<turnstile> L_bitvec\n                    x \\<Rightarrow> \\<lbrace> z : base_for_lit\n             (L_bitvec\n               x)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ L_bitvec\n                           x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Values\\<close>"], ["", "inductive infer_v :: \"\\<Theta> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> v \\<Rightarrow> \\<tau> \\<Rightarrow> bool\" (\" _ ; _ ; _ \\<turnstile> _ \\<Rightarrow> _\" [50, 50, 50] 50) where\n\ninfer_v_varI: \"\\<lbrakk>\n      \\<Theta>; \\<B> \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ; \n      Some (b,c) = lookup \\<Gamma> x; \n      atom z \\<sharp> x ; atom z \\<sharp>  (\\<Theta>, \\<B>, \\<Gamma>) \n\\<rbrakk> \\<Longrightarrow> \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> [x]\\<^sup>v \\<Rightarrow> \\<lbrace> z : b | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [[x]\\<^sup>v]\\<^sup>c\\<^sup>e \\<rbrace>\"\n\n| infer_v_litI: \"\\<lbrakk>\n      \\<Theta>; \\<B> \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ; \n      \\<turnstile> l \\<Rightarrow> \\<tau> \n\\<rbrakk> \\<Longrightarrow> \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> [l]\\<^sup>v \\<Rightarrow> \\<tau>\"\n\n| infer_v_pairI: \"\\<lbrakk> \n      atom z \\<sharp> (v1, v2); atom z \\<sharp>  (\\<Theta>, \\<B>, \\<Gamma>) ;\n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> (v1::v) \\<Rightarrow> t1 ; \n      \\<Theta>; \\<B> ;  \\<Gamma> \\<turnstile> (v2::v) \\<Rightarrow> t2\n\\<rbrakk> \\<Longrightarrow> \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_pair v1 v2 \\<Rightarrow> (\\<lbrace> z : B_pair (b_of t1) (b_of t2)  | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [[v1,v2]\\<^sup>v]\\<^sup>c\\<^sup>e \\<rbrace>) \"\n\n| infer_v_consI: \"\\<lbrakk> \n      AF_typedef s dclist \\<in> set \\<Theta>;\n      (dc, tc) \\<in> set dclist ; \n      \\<Theta>;  \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv ; \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> tv \\<lesssim> tc ;\n      atom z \\<sharp> v ;  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>) \n\\<rbrakk> \\<Longrightarrow> \n      \\<Theta>;  \\<B>; \\<Gamma>  \\<turnstile> V_cons s dc v \\<Rightarrow> (\\<lbrace> z : B_id s |  [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [ V_cons s dc v ]\\<^sup>c\\<^sup>e \\<rbrace>)\"\n\n| infer_v_conspI: \"\\<lbrakk> \n      AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n      (dc, tc) \\<in> set dclist ; \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv; \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b ;\n      atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n      atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n      \\<Theta>; \\<B> \\<turnstile>\\<^sub>w\\<^sub>f b\n\\<rbrakk> \\<Longrightarrow> \n      \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_consp s dc b v \\<Rightarrow> (\\<lbrace> z : B_app s b |  [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_val (V_consp s dc b v)) \\<rbrace>)\""], ["", "equivariance infer_v"], ["", "nominal_inductive infer_v\n  avoids infer_v_conspI: bv and z | infer_v_varI: z | infer_v_pairI: z | infer_v_consI:  z"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n          \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n           Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n           atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n      [ x ]\\<^sup>v,\n      \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)) &&&\n      (\\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n          \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n           Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n           atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n          \\<Longrightarrow> finite {atom z})) &&&\n     (\\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n         \\<lbrakk>atom z \\<sharp> (v1, v2);\n          atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     [ v1 , v2 ]\\<^sup>v,\n     \\<lbrace> z : [ b_of\n                      t1 , b_of\n                            t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)) &&&\n     (\\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n         \\<lbrakk>atom z \\<sharp> (v1, v2);\n          atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n         \\<Longrightarrow> finite {atom z})) &&&\n    ((\\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n         \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n          (dc, tc) \\<in> set dclist;\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n          atom z \\<sharp> v;\n          atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_cons s dc v,\n     \\<lbrace> z : B_id\n                    s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s\n                             dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>)) &&&\n     (\\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n         \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n          (dc, tc) \\<in> set dclist;\n           \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n          atom z \\<sharp> v;\n          atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n         \\<Longrightarrow> finite {atom z})) &&&\n    (\\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n        \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n         (dc, tc) \\<in> set dclist;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n          \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n        \\<Longrightarrow> ({atom bv} \\<union>\n                           {atom\n                             z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n      V_consp s dc b v,\n      \\<lbrace> z : B_app s\n                     b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                              dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)) &&&\n    (\\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n        \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n         (dc, tc) \\<in> set dclist;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n          \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n        \\<Longrightarrow> finite ({atom bv} \\<union> {atom z}))", "proof(goal_cases)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ x ]\\<^sup>v,\n   \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 8. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (1 \\<Theta> \\<B> \\<Gamma> b c x z)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ x ]\\<^sup>v,\n   \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 8. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "hence \"atom z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using \\<tau>.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by simp"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ x ]\\<^sup>v,\n   \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 8. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom\n   z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "show ?case"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. {atom\n      z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, [ x ]\\<^sup>v,\n                    \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "unfolding fresh_star_def"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, [ x ]\\<^sup>v,\n                   \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "using 1"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, [ x ]\\<^sup>v,\n                   \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "by simp"], ["proof (state)\nthis:\n  {atom\n    z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, [ x ]\\<^sup>v,\n                  \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (2 \\<Theta> \\<B> \\<Gamma> b c x z)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 7. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b, c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. finite {atom z}", "by auto"], ["proof (state)\nthis:\n  finite {atom z}\n\ngoal (6 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (3 z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2)"], ["proof (state)\nthis:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n\ngoal (6 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "hence \"atom z \\<sharp> \\<lbrace> z : [ b_of t1 , b_of t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\nusing this:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : [ b_of\n                                 t1 , b_of\n t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : [ b_of\n                                 t1 , b_of\n t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by simp"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> \\<lbrace> z : [ b_of\n                               t1 , b_of\n                                     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (6 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   [ v1 , v2 ]\\<^sup>v,\n   \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 6. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom\n   z \\<sharp> \\<lbrace> z : [ b_of\n                               t1 , b_of\n                                     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "show ?case"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : [ b_of\n                               t1 , b_of\n                                     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. {atom\n      z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, [ v1 , v2 ]\\<^sup>v,\n                    \\<lbrace> z : [ b_of\n                                     t1 , b_of\n     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "unfolding fresh_star_def"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : [ b_of\n                               t1 , b_of\n                                     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, [ v1 , v2 ]\\<^sup>v,\n                   \\<lbrace> z : [ b_of\n                                    t1 , b_of\n    t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "using 3"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> \\<lbrace> z : [ b_of\n                               t1 , b_of\n                                     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, [ v1 , v2 ]\\<^sup>v,\n                   \\<lbrace> z : [ b_of\n                                    t1 , b_of\n    t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "by simp"], ["proof (state)\nthis:\n  {atom\n    z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, [ v1 , v2 ]\\<^sup>v,\n                  \\<lbrace> z : [ b_of\n                                   t1 , b_of\n   t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n\ngoal (5 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (4 z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2)"], ["proof (state)\nthis:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n\ngoal (5 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2.\n       \\<lbrakk>atom z \\<sharp> (v1, v2);\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>);\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> (v1, v2)\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n\ngoal (1 subgoal):\n 1. finite {atom z}", "by auto"], ["proof (state)\nthis:\n  finite {atom z}\n\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (5 s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z)"], ["proof (state)\nthis:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "hence \"atom z \\<sharp> \\<lbrace> z : B_id s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\nusing this:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : B_id\n                               s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n  s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using \\<tau>.fresh b.fresh pure_fresh"], ["proof (prove)\nusing this:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> B_int\n  ?a \\<sharp> B_bool\n  ?a \\<sharp> B_id ?list = ?a \\<sharp> ?list\n  ?a \\<sharp> [ ?b1.0 , ?b2.0 ]\\<^sup>b =\n  (?a \\<sharp> ?b1.0 \\<and> ?a \\<sharp> ?b2.0)\n  ?a \\<sharp> B_unit\n  ?a \\<sharp> B_bitvec\n  ?a \\<sharp> B_var ?bv = ?a \\<sharp> ?bv\n  ?a \\<sharp> B_app ?list ?b = (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : B_id\n                               s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n  s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by auto"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\ns dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "moreover"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\ns dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "have \"atom z \\<sharp> V_cons s dc v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> V_cons s dc v", "using v.fresh 5"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> V_cons s dc v", "using v.fresh fresh_prodN pure_fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> V_cons s dc v", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> V_cons s dc v\n\ngoal (4 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n   V_cons s dc v,\n   \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> V_cons s dc v", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> V_cons s dc v\n\ngoal (1 subgoal):\n 1. {atom\n      z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, V_cons s dc v,\n                    \\<lbrace> z : B_id\n                                   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n      s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "unfolding fresh_star_def"], ["proof (prove)\nusing this:\n  atom z \\<sharp> V_cons s dc v\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, V_cons s dc v,\n                   \\<lbrace> z : B_id\n                                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n     s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "using 5"], ["proof (prove)\nusing this:\n  atom z \\<sharp> V_cons s dc v\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z}.\n       a \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, V_cons s dc v,\n                   \\<lbrace> z : B_id\n                                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n     s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "by simp"], ["proof (state)\nthis:\n  {atom\n    z} \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, V_cons s dc v,\n                  \\<lbrace> z : B_id\n                                 s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n    s dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n\ngoal (3 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (6 s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z)"], ["proof (state)\nthis:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (3 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z.\n       \\<lbrakk>AF_typedef s dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)", "show ?case"], ["proof (prove)\nusing this:\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>)\n\ngoal (1 subgoal):\n 1. finite {atom z}", "by auto"], ["proof (state)\nthis:\n  finite {atom z}\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (7 s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z)"], ["proof (state)\nthis:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "hence \"atom bv \\<sharp> V_consp s dc b v\""], ["proof (prove)\nusing this:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> V_consp s dc b v", "using v.fresh fresh_prodN pure_fresh"], ["proof (prove)\nusing this:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> V_consp s dc b v", "by metis"], ["proof (state)\nthis:\n  atom bv \\<sharp> V_consp s dc b v\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> V_consp s dc b v\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> V_consp s dc b v", "have \"atom bv \\<sharp> \\<lbrace> z : B_id s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> V_consp s dc b v\n\ngoal (1 subgoal):\n 1. atom\n     bv \\<sharp> \\<lbrace> z : B_id\n                                s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n   s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using \\<tau>.fresh ce.fresh v.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> V_consp s dc b v\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. atom\n     bv \\<sharp> \\<lbrace> z : B_id\n                                s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n   s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by auto"], ["proof (state)\nthis:\n  atom\n   bv \\<sharp> \\<lbrace> z : B_id\n                              s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "moreover"], ["proof (state)\nthis:\n  atom\n   bv \\<sharp> \\<lbrace> z : B_id\n                              s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "have \"atom z \\<sharp> V_consp s dc b v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> V_consp s dc b v", "using v.fresh fresh_prodN pure_fresh 7"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> ?x\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (1 subgoal):\n 1. atom z \\<sharp> V_consp s dc b v", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> V_consp s dc b v\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "moreover"], ["proof (state)\nthis:\n  atom z \\<sharp> V_consp s dc b v\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> V_consp s dc b v", "have \"atom z \\<sharp> \\<lbrace> z : B_id s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\nusing this:\n  atom z \\<sharp> V_consp s dc b v\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : B_id\n                               s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n  s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "using \\<tau>.fresh ce.fresh v.fresh"], ["proof (prove)\nusing this:\n  atom z \\<sharp> V_consp s dc b v\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> \\<lbrace> z : B_id\n                               s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n  s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "by auto"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\ns dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (2 subgoals):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> ({atom bv} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>,\n     V_consp s dc b v,\n     \\<lbrace> z : B_app s\n                    b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                             dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> V_consp s dc b v\n  atom\n   bv \\<sharp> \\<lbrace> z : B_id\n                              s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  atom z \\<sharp> V_consp s dc b v\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\ns dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> V_consp s dc b v\n  atom\n   bv \\<sharp> \\<lbrace> z : B_id\n                              s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  atom z \\<sharp> V_consp s dc b v\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\ns dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. ({atom bv} \\<union>\n     {atom\n       z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, V_consp s dc b v,\n                      \\<lbrace> z : B_app s\n                                     b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n        s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "using fresh_star_def 7"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> V_consp s dc b v\n  atom\n   bv \\<sharp> \\<lbrace> z : B_id\n                              s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  atom z \\<sharp> V_consp s dc b v\n  atom\n   z \\<sharp> \\<lbrace> z : B_id\n                             s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\ns dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (1 subgoal):\n 1. ({atom bv} \\<union>\n     {atom\n       z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, V_consp s dc b v,\n                      \\<lbrace> z : B_app s\n                                     b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n        s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)", "by force"], ["proof (state)\nthis:\n  ({atom bv} \\<union>\n   {atom\n     z}) \\<sharp>* (\\<Theta>, \\<B>, \\<Gamma>, V_consp s dc b v,\n                    \\<lbrace> z : B_app s\n                                   b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n      s dc b v ]\\<^sup>c\\<^sup>e  \\<rbrace>)\n\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "case (8 s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z)"], ["proof (state)\nthis:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z.\n       \\<lbrakk>AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n        atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b);\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \\<rbrakk>\n       \\<Longrightarrow> finite ({atom bv} \\<union> {atom z})", "then"], ["proof (chain)\npicking this:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b", "show ?case"], ["proof (prove)\nusing this:\n  AF_typedef_poly s bv dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n  atom bv \\<sharp> (\\<Theta>, \\<B>, \\<Gamma>, v, b)\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b \n\ngoal (1 subgoal):\n 1. finite ({atom bv} \\<union> {atom z})", "by auto"], ["proof (state)\nthis:\n  finite ({atom bv} \\<union> {atom z})\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive_cases infer_v_elims[elim!]:\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_var x \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_lit l \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_pair v1 v2 \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_cons s dc v \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_pair v1 v2 \\<Rightarrow> (\\<lbrace> z : b |  c  \\<rbrace>) \"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_pair v1 v2 \\<Rightarrow> (\\<lbrace> z : [ b1 , b2 ]\\<^sup>b |  [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == [[v1,v2]\\<^sup>v]\\<^sup>c\\<^sup>e \\<rbrace>) \"\n  \"\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> V_consp s dc b v  \\<Rightarrow> \\<tau> \""], ["", "inductive check_v :: \"\\<Theta> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> v \\<Rightarrow> \\<tau> \\<Rightarrow> bool\"  (\"_ ; _ ; _  \\<turnstile> _ \\<Leftarrow> _\" [50, 50, 50] 50) where\n  check_v_subtypeI:  \"\\<lbrakk>  \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2; \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>1 \\<rbrakk> \\<Longrightarrow> \\<Theta>; \\<B> ;  \\<Gamma> \\<turnstile>  v \\<Leftarrow> \\<tau>2\""], ["", "equivariance check_v"], ["", "nominal_inductive check_v"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "inductive_cases check_v_elims[elim!]:\n  \"\\<Theta>; \\<B> ; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<tau>\""], ["", "section \\<open>Expressions\\<close>"], ["", "text \\<open> Type synthesis for expressions \\<close>"], ["", "inductive infer_e :: \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> \\<Delta> \\<Rightarrow> e \\<Rightarrow> \\<tau> \\<Rightarrow> bool\"  (\"_ ; _ ; _ ; _ ; _  \\<turnstile> _ \\<Rightarrow> _\" [50, 50, 50,50] 50) where\n\ninfer_e_valI:  \"\\<lbrakk>\n         (\\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>) ; \n         (\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>)) ; \n         (\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>) \\<rbrakk> \\<Longrightarrow> \n         \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_val v) \\<Rightarrow> \\<tau>\"\n\n| infer_e_plusI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int | c1 \\<rbrace> ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>  v2 \\<Rightarrow> \\<lbrace> z2 : B_int | c2 \\<rbrace>;\n        atom z3 \\<sharp> (AE_op Plus v1 v2); atom z3 \\<sharp> \\<Gamma> \\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_op Plus v1 v2 \\<Rightarrow> \\<lbrace> z3 : B_int | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_op Plus [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n\n| infer_e_leqI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int | c1 \\<rbrace> ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int | c2 \\<rbrace>;\n        atom z3 \\<sharp> (AE_op LEq v1 v2); atom z3 \\<sharp> \\<Gamma>  \n\\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_op LEq v1 v2 \\<Rightarrow>  \\<lbrace> z3 : B_bool | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_op LEq [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n\n| infer_e_eqI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b | c1 \\<rbrace> ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b | c2 \\<rbrace>;     \n        atom z3 \\<sharp> (AE_op Eq v1 v2); atom z3 \\<sharp> \\<Gamma>  ;\n        b \\<in> { B_bool, B_int, B_unit }\n\\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_op Eq v1 v2 \\<Rightarrow>  \\<lbrace> z3 : B_bool | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_op Eq [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n\n| infer_e_appI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) = lookup_fun \\<Phi> f;        \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<lbrace>  x : b | c \\<rbrace>; \n        atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,v , \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau> \n\\<rbrakk> \\<Longrightarrow>\n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_app f v \\<Rightarrow> \\<tau>\"\n\n| infer_e_appPI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B> \\<turnstile>\\<^sub>w\\<^sub>f b' ; \n        Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) = lookup_fun \\<Phi> f;       \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<lbrace>  x : b[bv::=b']\\<^sub>b | c[bv::=b']\\<^sub>b \\<rbrace>; atom x \\<sharp> \\<Gamma>;\n        (\\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v) = \\<tau> ;\n        atom bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\\<rbrakk> \\<Longrightarrow>\n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_appP f b' v \\<Rightarrow> \\<tau>\"\n\n| infer_e_fstI:  \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [b1,b2]\\<^sup>b | c \\<rbrace>;\n        atom z \\<sharp> AE_fst v ; atom z \\<sharp> \\<Gamma> \\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_fst v \\<Rightarrow> \\<lbrace> z : b1 | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == ((CE_fst [v]\\<^sup>c\\<^sup>e)) \\<rbrace>\"\n\n| infer_e_sndI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1, b2]\\<^sup>b | c \\<rbrace>;\n        atom z \\<sharp> AE_snd v ; atom z \\<sharp> \\<Gamma> \\<rbrakk> \\<Longrightarrow>  \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_snd v \\<Rightarrow> \\<lbrace> z : b2 | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == ((CE_snd [v]\\<^sup>c\\<^sup>e))  \\<rbrace>\"\n\n| infer_e_lenI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec | c \\<rbrace>;\n        atom z \\<sharp> AE_len v ; atom z \\<sharp> \\<Gamma>\\<rbrakk> \\<Longrightarrow>  \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_len v \\<Rightarrow> \\<lbrace> z : B_int | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == ((CE_len [v]\\<^sup>c\\<^sup>e))  \\<rbrace>\"\n\n| infer_e_mvarI: \"\\<lbrakk>  \n        \\<Theta>; \\<B> \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ; \n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>;\n        (u,\\<tau>) \\<in> setD \\<Delta> \\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile>  AE_mvar u \\<Rightarrow> \\<tau>\"\n\n| infer_e_concatI: \"\\<lbrakk> \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>) ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec | c1 \\<rbrace> ; \n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>  v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec | c2 \\<rbrace>;\n        atom z3 \\<sharp> (AE_concat v1 v2); atom z3 \\<sharp> \\<Gamma> \\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_concat  v1 v2 \\<Rightarrow> \\<lbrace> z3 : B_bitvec | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_concat [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n\n| infer_e_splitI: \"\\<lbrakk>\n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f (\\<Phi>::\\<Phi>);\n        \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec | c1 \\<rbrace> ;\n        \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int | (CE_op LEq (CE_val (V_lit (L_num 0))) (CE_val (V_var z2))) == (CE_val (V_lit L_true)) AND \n                                         (CE_op LEq (CE_val (V_var z2)) (CE_len (CE_val (v1)))) == (CE_val (V_lit L_true)) \\<rbrace>;\n        atom z1 \\<sharp> (AE_split v1 v2); atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> (AE_split v1 v2); atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> (AE_split v1 v2); atom z3 \\<sharp> \\<Gamma>\n\\<rbrakk> \\<Longrightarrow> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_split  v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_pair B_bitvec B_bitvec  | \n                      ((CE_val v1) == (CE_concat (CE_fst (CE_val (V_var z3))) (CE_snd (CE_val (V_var z3)))))\n                  AND (((CE_len (CE_fst (CE_val (V_var z3))))) == (CE_val ( v2))) \\<rbrace>\""], ["", "equivariance infer_e"], ["", "nominal_inductive infer_e \n  avoids  infer_e_appI: x |infer_e_appPI: bv |  infer_e_splitI: z3 and z1 and z2"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n         \\<tau>.\n         \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n           \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          Some\n           (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n          lookup_fun \\<Phi> f;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n          atom\n           x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                       \\<tau>);\n          \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, [ f  v  ]\\<^sup>e, \\<tau>)) &&&\n     (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n         \\<tau>.\n         \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n           \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          Some\n           (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n          lookup_fun \\<Phi> f;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n          atom\n           x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                       \\<tau>);\n          \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n         \\<Longrightarrow> finite {atom x})) &&&\n    ((\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s'\n         v \\<tau>.\n         \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n           \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n           \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n          Some\n           (AF_fundef f\n             (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n          lookup_fun \\<Phi> f;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n          atom x \\<sharp> \\<Gamma>;\n          \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n          atom\n           bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                        \\<tau>)\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)) &&&\n     (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s'\n         v \\<tau>.\n         \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n           \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n           \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n          Some\n           (AF_fundef f\n             (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n          lookup_fun \\<Phi> f;\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n          atom x \\<sharp> \\<Gamma>;\n          \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n          atom\n           bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                        \\<tau>)\\<rbrakk>\n         \\<Longrightarrow> finite {atom bv})) &&&\n    (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n        \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                         0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n         atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n         atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n         atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n         atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n        \\<Longrightarrow> ({atom z3} \\<union>\n                           ({atom z1} \\<union>\n                            {atom\n                              z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n         \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n         \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)) &&&\n    (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n        \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                         0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n         atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n         atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n         atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n         atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n        \\<Longrightarrow> finite\n                           ({atom z3} \\<union>\n                            ({atom z1} \\<union> {atom z2})))", "proof(goal_cases)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, [ f  v  ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (1 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, [ f  v  ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "moreover"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, [ f  v  ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "hence \"atom x \\<sharp> [ f  v  ]\\<^sup>e\""], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> [ f  v  ]\\<^sup>e", "using fresh_prodN pure_fresh e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> [ f  v  ]\\<^sup>e", "by force"], ["proof (state)\nthis:\n  atom x \\<sharp> [ f  v  ]\\<^sup>e\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, [ f  v  ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "ultimately"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n  atom x \\<sharp> [ f  v  ]\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n  atom x \\<sharp> [ f  v  ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    [ f  v  ]\\<^sup>e, \\<tau>)", "unfolding fresh_star_def"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n  atom x \\<sharp> [ f  v  ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom x}.\n       a \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                   [ f  v  ]\\<^sup>e, \\<tau>)", "using fresh_prodN e.fresh pure_fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n  atom x \\<sharp> [ f  v  ]\\<^sup>e\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom x}.\n       a \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                   [ f  v  ]\\<^sup>e, \\<tau>)", "by simp"], ["proof (state)\nthis:\n  {atom\n    x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                  [ f  v  ]\\<^sup>e, \\<tau>)\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (2 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom\n         x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>);\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, \\<tau>)\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n\ngoal (1 subgoal):\n 1. finite {atom x}", "by auto"], ["proof (state)\nthis:\n  finite {atom x}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (3 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "moreover"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "hence \"atom bv \\<sharp> AE_appP f b' v\""], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e", "using fresh_prodN pure_fresh e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e", "by force"], ["proof (state)\nthis:\n  atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "ultimately"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n  atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n  atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. {atom\n      bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                     [f [ b' ]  v ]\\<^sup>e, \\<tau>)", "unfolding fresh_star_def"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n  atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom bv}.\n       a \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                   [f [ b' ]  v ]\\<^sup>e, \\<tau>)", "using fresh_prodN  e.fresh pure_fresh fresh_Pair"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n  atom bv \\<sharp> [f [ b' ]  v ]\\<^sup>e\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> ?x\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom bv}.\n       a \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                   [f [ b' ]  v ]\\<^sup>e, \\<tau>)", "by auto"], ["proof (state)\nthis:\n  {atom\n    bv} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                   [f [ b' ]  v ]\\<^sup>e, \\<tau>)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (4 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bv x b c \\<tau>' s' v\n       \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom\n         bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v,\n                      \\<tau>)\\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some (AF_fundef f (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bv::=b']\\<^sub>b  | c[bv::=b']\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Gamma>\n  \\<tau>'[bv::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>\n  atom\n   bv \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, b', v, \\<tau>)\n\ngoal (1 subgoal):\n 1. finite {atom bv}", "by auto"], ["proof (state)\nthis:\n  finite {atom bv}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (5 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "have \"atom z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>", "using \\<tau>.fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>", "by simp"], ["proof (state)\nthis:\n  atom\n   z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> ({atom z3} \\<union>\n                          ({atom z1} \\<union>\n                           {atom\n                             z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, [ v1  v2 ]\\<^sup>e,\n        \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "then"], ["proof (chain)\npicking this:\n  atom\n   z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>", "show ?case"], ["proof (prove)\nusing this:\n  atom\n   z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal (1 subgoal):\n 1. ({atom z3} \\<union>\n     ({atom z1} \\<union>\n      {atom\n        z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, [ v1 \n                         v2 ]\\<^sup>e,\n                         \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)", "unfolding fresh_star_def fresh_prod7"], ["proof (prove)\nusing this:\n  atom\n   z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z3} \\<union> ({atom z1} \\<union> {atom z2}).\n       a \\<sharp> \\<Theta> \\<and>\n       a \\<sharp> \\<Phi> \\<and>\n       a \\<sharp> \\<B> \\<and>\n       a \\<sharp> \\<Gamma> \\<and>\n       a \\<sharp> \\<Delta> \\<and>\n       a \\<sharp> [ v1  v2 ]\\<^sup>e \\<and>\n       a \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>", "using wfG_fresh_x2 5"], ["proof (prove)\nusing this:\n  atom\n   z3 \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n   atom ?z \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> atom\n                     ?z \\<sharp> (?\\<Theta>, ?\\<Phi>, ?\\<B>, ?\\<Gamma>,\n                                  ?\\<Delta>)\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>{atom z3} \\<union> ({atom z1} \\<union> {atom z2}).\n       a \\<sharp> \\<Theta> \\<and>\n       a \\<sharp> \\<Phi> \\<and>\n       a \\<sharp> \\<B> \\<and>\n       a \\<sharp> \\<Gamma> \\<and>\n       a \\<sharp> \\<Delta> \\<and>\n       a \\<sharp> [ v1  v2 ]\\<^sup>e \\<and>\n       a \\<sharp> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>", "by auto"], ["proof (state)\nthis:\n  ({atom z3} \\<union>\n   ({atom z1} \\<union>\n    {atom\n      z2})) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, [ v1 \n                       v2 ]\\<^sup>e,\n                       \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "case (6 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e;\n        atom z3 \\<sharp> \\<Gamma>\\<rbrakk>\n       \\<Longrightarrow> finite\n                          ({atom z3} \\<union>\n                           ({atom z1} \\<union> {atom z2}))", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n\ngoal (1 subgoal):\n 1. finite ({atom z3} \\<union> ({atom z1} \\<union> {atom z2}))", "by auto"], ["proof (state)\nthis:\n  finite ({atom z3} \\<union> ({atom z1} \\<union> {atom z2}))\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive_cases infer_e_elims[elim!]:\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Plus v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_int | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_op Plus [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op LEq v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_bool | [[z3]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_op LEq [v1]\\<^sup>c\\<^sup>e [v2]\\<^sup>c\\<^sup>e) \\<rbrace>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Plus v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_int | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Plus v1 v2) \\<Rightarrow> \\<lbrace> z3 : b | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op LEq v1 v2) \\<Rightarrow> \\<lbrace> z3 : b | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_app f v ) \\<Rightarrow> \\<tau>\"     \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_val v) \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_fst v) \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_snd v) \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_mvar u) \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Plus v1 v2) \\<Rightarrow> \\<tau>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op LEq v1 v2) \\<Rightarrow> \\<tau>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op LEq v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_bool | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_app f v )  \\<Rightarrow> \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>v\"  \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op opp v1 v2) \\<Rightarrow>  \\<tau>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_len v) \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_len v) \\<Rightarrow> \\<lbrace> z : B_int | [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == ((CE_len [v]\\<^sup>c\\<^sup>e))\\<rbrace> \"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_concat v1 v2 \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_concat v1 v2 \\<Rightarrow> (\\<lbrace> z : b |  c  \\<rbrace>) \"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_concat v1 v2 \\<Rightarrow> (\\<lbrace> z : B_bitvec |  [[z]\\<^sup>v]\\<^sup>c\\<^sup>e == (CE_concat [v1]\\<^sup>c\\<^sup>e [v1]\\<^sup>c\\<^sup>e) \\<rbrace>) \"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_appP f b v )  \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AE_split v1 v2 \\<Rightarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Eq v1 v2) \\<Rightarrow> \\<lbrace> z3 : b | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Eq v1 v2) \\<Rightarrow> \\<lbrace> z3 : B_bool | c \\<rbrace>\" \n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AE_op Eq v1 v2) \\<Rightarrow> \\<tau>\""], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All valid_dom", "by lexicographic_order"], ["", "section \\<open>Statements\\<close>"], ["", "inductive check_s ::  \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> \\<Delta> \\<Rightarrow> s \\<Rightarrow> \\<tau> \\<Rightarrow> bool\" (\" _ ; _ ; _ ; _ ; _  \\<turnstile> _ \\<Leftarrow> _\" [50, 50, 50,50,50] 50) and\n  check_branch_s ::  \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> \\<Delta>  \\<Rightarrow> tyid \\<Rightarrow> string \\<Rightarrow> \\<tau> \\<Rightarrow> v \\<Rightarrow> branch_s \\<Rightarrow> \\<tau> \\<Rightarrow> bool\" (\" _ ;  _ ; _ ; _ ; _ ; _ ; _ ; _ ; _ \\<turnstile> _ \\<Leftarrow> _\" [50, 50, 50,50,50] 50) and\n  check_branch_list ::  \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> \\<B> \\<Rightarrow> \\<Gamma> \\<Rightarrow> \\<Delta>  \\<Rightarrow> tyid \\<Rightarrow> (string * \\<tau>) list \\<Rightarrow> v \\<Rightarrow> branch_list \\<Rightarrow> \\<tau> \\<Rightarrow> bool\" (\" _ ;  _ ; _ ; _ ; _ ; _ ; _ ; _ \\<turnstile> _ \\<Leftarrow> _\" [50, 50, 50,50,50] 50) where \n  check_valI:  \"\\<lbrakk> \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;   \n       \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'; \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> \\<tau>' \\<lesssim> \\<tau> \\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AS_val v) \\<Leftarrow> \\<tau>\"\n\n| check_letI: \"\\<lbrakk>\n       atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>);  \n       atom z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s);  \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b | c \\<rbrace> ; \n       \\<Theta>; \\<Phi> ; \\<B> ; ((x,b,c[z::=V_var x]\\<^sub>v)#\\<^sub>\\<Gamma>\\<Gamma>) ; \\<Delta> \\<turnstile> s \\<Leftarrow> \\<tau> \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AS_let x e s) \\<Leftarrow> \\<tau>\"\n\n| check_assertI: \"\\<lbrakk>\n       atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s);  \n       \\<Theta>; \\<Phi> ; \\<B> ; ((x,B_bool,c)#\\<^sub>\\<Gamma>\\<Gamma>) ; \\<Delta> \\<turnstile> s \\<Leftarrow> \\<tau> ;\n       \\<Theta>; \\<B>; \\<Gamma>  \\<Turnstile> c;\n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (AS_assert c s) \\<Leftarrow> \\<tau>\"\n\n|check_branch_s_branchI: \"\\<lbrakk> \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ; \n        \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ; \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n       \\<Theta> ; {||} ; GNil \\<turnstile>\\<^sub>w\\<^sub>f const;\n       atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons , const, v, \\<tau>);\n       \\<Theta>; \\<Phi>; \\<B>; ((x,b_of const,  ([v]\\<^sup>c\\<^sup>e == [ V_cons tid cons [x]\\<^sup>v]\\<^sup>c\\<^sup>e ) AND (c_of const x))#\\<^sub>\\<Gamma>\\<Gamma>) ; \\<Delta> \\<turnstile> s \\<Leftarrow> \\<tau>  \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> (AS_branch cons x s) \\<Leftarrow> \\<tau>\"\n\n|check_branch_list_consI: \"\\<lbrakk> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid; cons; const; v \\<turnstile> cs \\<Leftarrow> \\<tau> ; \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid; dclist; v \\<turnstile> css \\<Leftarrow> \\<tau>  \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> ; tid ; (cons,const)#dclist ; v \\<turnstile> AS_cons cs css \\<Leftarrow> \\<tau>\"\n\n|check_branch_list_finalI: \"\\<lbrakk> \n       \\<Theta>; \\<Phi>;\\<B>; \\<Gamma>; \\<Delta>; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>  \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> ; tid ; [(cons,const)] ; v \\<turnstile> AS_final cs  \\<Leftarrow> \\<tau>\"\n\n| check_ifI: \"\\<lbrakk> \n       atom z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v , s1 , s2 , \\<tau> ); \n       (\\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Leftarrow> (\\<lbrace> z : B_bool | TRUE \\<rbrace>)) ; \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s1 \\<Leftarrow> (\\<lbrace> z : b_of \\<tau> | ([v]\\<^sup>c\\<^sup>e == [[L_true]\\<^sup>v]\\<^sup>c\\<^sup>e) IMP (c_of \\<tau> z) \\<rbrace>) ;\n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s2 \\<Leftarrow> (\\<lbrace> z : b_of \\<tau> | ([v]\\<^sup>c\\<^sup>e == [[L_false]\\<^sup>v]\\<^sup>c\\<^sup>e) IMP (c_of \\<tau> z) \\<rbrace>) \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> IF v THEN s1 ELSE s2 \\<Leftarrow> \\<tau>\"\n\n| check_let2I: \"\\<lbrakk>    \n       atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>) ;     \n       \\<Theta>; \\<Phi> ; \\<B> ; G; \\<Delta> \\<turnstile> s1 \\<Leftarrow> t; \n       \\<Theta>; \\<Phi> ; \\<B> ; ((x,b_of t,c_of t x)#\\<^sub>\\<Gamma>G) ; \\<Delta> \\<turnstile> s2 \\<Leftarrow> \\<tau> \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi> ; \\<B> ; G ; \\<Delta> \\<turnstile> (LET x : t  = s1 IN s2) \\<Leftarrow> \\<tau>\"\n\n| check_varI: \"\\<lbrakk> \n       atom u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v, \\<tau>) ; \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>  v \\<Leftarrow> \\<tau>'; \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma> ; ((u,\\<tau>') #\\<^sub>\\<Delta> \\<Delta>)  \\<turnstile> s \\<Leftarrow> \\<tau> \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> (VAR u : \\<tau>' = v  IN s) \\<Leftarrow> \\<tau>\"\n\n| check_assignI: \"\\<lbrakk> \n       \\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ; \n       (u,\\<tau>) \\<in> setD \\<Delta> ; \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile>  v \\<Leftarrow> \\<tau>;\n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> (\\<lbrace> z : B_unit | TRUE \\<rbrace>) \\<lesssim> \\<tau>'  \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile>  (u ::= v) \\<Leftarrow> \\<tau>'\" \n\n| check_whileI: \"\\<lbrakk> \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool | TRUE \\<rbrace>; \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit | TRUE \\<rbrace>;\n        \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> (\\<lbrace> z : B_unit | TRUE \\<rbrace>) \\<lesssim> \\<tau>' \n\\<rbrakk> \\<Longrightarrow>  \n        \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> WHILE s1 DO { s2 } \\<Leftarrow> \\<tau>'\"\n\n| check_seqI: \"\\<lbrakk> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit | TRUE \\<rbrace>; \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s2 \\<Leftarrow> \\<tau> \n\\<rbrakk> \\<Longrightarrow> \n       \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> s1 ;; s2 \\<Leftarrow> \\<tau>\"\n\n| check_caseI: \"\\<lbrakk> \n      \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid ; dclist ; v \\<turnstile>  cs \\<Leftarrow> \\<tau> ;  \n       (AF_typedef tid dclist ) \\<in> set \\<Theta> ;                 \n       \\<Theta>; \\<B>; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id tid | TRUE \\<rbrace>;\n       \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>  \n\\<rbrakk> \\<Longrightarrow>\n      \\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_match v cs \\<Leftarrow> \\<tau>\""], ["", "equivariance check_s"], ["", "text \\<open>We only need avoidance for cases where a variable is added to a context\\<close>"], ["", "nominal_inductive check_s \n  avoids check_letI: x and z  |  check_branch_s_branchI: x | check_let2I: x  | check_varI: u | check_ifI: z | check_assertI: x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n          \\<lbrakk>atom\n                    x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                                e, \\<tau>);\n           atom\n            z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                        \\<tau>, s);\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> ({atom x} \\<union>\n                             {atom\n                               z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, LET x = e IN s, \\<tau>)) &&&\n      (\\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n          \\<lbrakk>atom\n                    x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                                e, \\<tau>);\n           atom\n            z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                        \\<tau>, s);\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite ({atom x} \\<union> {atom z}))) &&&\n     ((\\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n          \\<lbrakk>atom\n                    x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                                c, \\<tau>, s);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n            \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, ASSERT c IN s , \\<tau>)) &&&\n      (\\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n          \\<lbrakk>atom\n                    x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                                c, \\<tau>, s);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n            \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n          \\<Longrightarrow> finite {atom x})) &&&\n     (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n         s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n                \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n              \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n              \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n             atom\n              x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                          cons, const, v, \\<tau>);\n              \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n    [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                  [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                    const x ) #\\<^sub>\\<Gamma>\n   \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n            \\<Longrightarrow> {atom\n                                x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n        \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n        \\<tau>)) &&&\n     (\\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n         s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n                \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n              \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n              \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n             atom\n              x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                          cons, const, v, \\<tau>);\n              \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n    [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                  [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                    const x ) #\\<^sub>\\<Gamma>\n   \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n            \\<Longrightarrow> finite {atom x})) &&&\n    ((\\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n         \\<lbrakk>atom\n                   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                               v, s1, s2, \\<tau>);\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                           \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                   \\<tau> z  \\<rbrace>;\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                           \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                    \\<tau> z  \\<rbrace>\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)) &&&\n     (\\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n         \\<lbrakk>atom\n                   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                               v, s1, s2, \\<tau>);\n          \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                           \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                   \\<tau> z  \\<rbrace>;\n           \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                           \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                    \\<tau> z  \\<rbrace>\\<rbrakk>\n         \\<Longrightarrow> finite {atom z})) &&&\n    ((\\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n         \\<lbrakk>atom\n                   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                               \\<tau>);\n           \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n           \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\nG ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n         \\<Longrightarrow> {atom\n                             x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n     \\<Delta>, LET x : t = s1 IN s2, \\<tau>)) &&&\n     (\\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n         \\<lbrakk>atom\n                   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                               \\<tau>);\n           \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n           \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\nG ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n         \\<Longrightarrow> finite {atom x})) &&&\n    (\\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)) &&&\n    (\\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom u})", "proof(goal_cases)"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> ({atom x} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, LET x = e IN s, \\<tau>)\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 8. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 10. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n        \\<lbrakk>atom\n                  x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                              \\<tau>);\n          \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n          \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                     G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x}\nA total of 12 subgoals...", "case (1 x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c)"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> ({atom x} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, LET x = e IN s, \\<tau>)\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 8. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 10. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n        \\<lbrakk>atom\n                  x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                              \\<tau>);\n          \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n          \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                     G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x}\nA total of 12 subgoals...", "hence \"atom x \\<sharp> AS_let x e s\""], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> LET x = e IN s", "using s_branch_s_branch_list.fresh(2)"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> LET x = e IN s", "by auto"], ["proof (state)\nthis:\n  atom x \\<sharp> LET x = e IN s\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> ({atom x} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, LET x = e IN s, \\<tau>)\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 8. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 10. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n        \\<lbrakk>atom\n                  x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                              \\<tau>);\n          \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n          \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                     G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x}\nA total of 12 subgoals...", "moreover"], ["proof (state)\nthis:\n  atom x \\<sharp> LET x = e IN s\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> ({atom x} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, LET x = e IN s, \\<tau>)\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 8. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 10. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n        \\<lbrakk>atom\n                  x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                              \\<tau>);\n          \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n          \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                     G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x}\nA total of 12 subgoals...", "have \"atom z \\<sharp> AS_let x e s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> LET x = e IN s", "using s_branch_s_branch_list.fresh(2) 1 fresh_prod8"], ["proof (prove)\nusing this:\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> LET x = e IN s", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> LET x = e IN s\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> ({atom x} \\<union>\n                          {atom\n                            z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n     \\<Delta>, LET x = e IN s, \\<tau>)\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 8. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 10. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n        \\<lbrakk>atom\n                  x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                              \\<tau>);\n          \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n          \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                     G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x}\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> LET x = e IN s", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> LET x = e IN s\n\ngoal (1 subgoal):\n 1. ({atom x} \\<union>\n     {atom\n       z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                      LET x = e IN s, \\<tau>)", "using fresh_star_def 1"], ["proof (prove)\nusing this:\n  atom z \\<sharp> LET x = e IN s\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. ({atom x} \\<union>\n     {atom\n       z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                      LET x = e IN s, \\<tau>)", "by force"], ["proof (state)\nthis:\n  ({atom x} \\<union>\n   {atom\n     z}) \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    LET x = e IN s, \\<tau>)\n\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\nA total of 11 subgoals...", "case (3 x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s)"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\nA total of 11 subgoals...", "hence \"atom x \\<sharp> AS_assert c s\""], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n\ngoal (1 subgoal):\n 1. atom x \\<sharp> ASSERT c IN s", "using fresh_prodN s_branch_s_branch_list.fresh pure_fresh"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> ASSERT c IN s", "by auto"], ["proof (state)\nthis:\n  atom x \\<sharp> ASSERT c IN s \n\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, ASSERT c IN s , \\<tau>)\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 9. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n    \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  atom x \\<sharp> ASSERT c IN s", "show ?case"], ["proof (prove)\nusing this:\n  atom x \\<sharp> ASSERT c IN s \n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    ASSERT c IN s , \\<tau>)", "using fresh_star_def 3"], ["proof (prove)\nusing this:\n  atom x \\<sharp> ASSERT c IN s \n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    ASSERT c IN s , \\<tau>)", "by force"], ["proof (state)\nthis:\n  {atom\n    x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                  ASSERT c IN s , \\<tau>)\n\ngoal (10 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom u}", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom u}", "case (5 \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v s)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (10 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom u}", "hence \"atom x \\<sharp> AS_branch cons x s\""], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp>  cons x \\<Rightarrow> s", "using fresh_prodN s_branch_s_branch_list.fresh pure_fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. atom x \\<sharp>  cons x \\<Rightarrow> s", "by auto"], ["proof (state)\nthis:\n  atom x \\<sharp>  cons x \\<Rightarrow> s \n\ngoal (10 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> {atom\n                              x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>,\n      \\<Gamma>, \\<Delta>, tid, cons, const, v,  cons x \\<Rightarrow> s ,\n      \\<tau>)\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 10. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n        \\<lbrakk>atom\n                  u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                              \\<tau>', v, \\<tau>);\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u,\n           \\<tau>') #\\<^sub>\\<Delta>\n          \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom u}", "then"], ["proof (chain)\npicking this:\n  atom x \\<sharp>  cons x \\<Rightarrow> s", "show ?case"], ["proof (prove)\nusing this:\n  atom x \\<sharp>  cons x \\<Rightarrow> s \n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons,\n                    const, v,  cons x \\<Rightarrow> s , \\<tau>)", "using fresh_star_def 5"], ["proof (prove)\nusing this:\n  atom x \\<sharp>  cons x \\<Rightarrow> s \n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons,\n                    const, v,  cons x \\<Rightarrow> s , \\<tau>)", "by force"], ["proof (state)\nthis:\n  {atom\n    x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons,\n                  const, v,  cons x \\<Rightarrow> s , \\<tau>)\n\ngoal (9 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "case (7 z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>)"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n\ngoal (9 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "hence \"atom z \\<sharp> AS_if v s1 s2 \""], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> IF v THEN s1 ELSE s2", "using s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> IF v THEN s1 ELSE s2", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> IF v THEN s1 ELSE s2\n\ngoal (9 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, IF v THEN s1 ELSE s2, \\<tau>)\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "then"], ["proof (chain)\npicking this:\n  atom z \\<sharp> IF v THEN s1 ELSE s2", "show ?case"], ["proof (prove)\nusing this:\n  atom z \\<sharp> IF v THEN s1 ELSE s2\n\ngoal (1 subgoal):\n 1. {atom\n      z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    IF v THEN s1 ELSE s2, \\<tau>)", "using 7 fresh_prodN fresh_star_def"], ["proof (prove)\nusing this:\n  atom z \\<sharp> IF v THEN s1 ELSE s2\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. {atom\n      z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    IF v THEN s1 ELSE s2, \\<tau>)", "by fastforce"], ["proof (state)\nthis:\n  {atom\n    z} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                  IF v THEN s1 ELSE s2, \\<tau>)\n\ngoal (8 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "case (9 x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2)"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n\ngoal (8 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "hence \"atom x \\<sharp> AS_let2 x t s1 s2\""], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> LET x : t = s1 IN s2", "using s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> LET x : t = s1 IN s2", "by auto"], ["proof (state)\nthis:\n  atom x \\<sharp> LET x : t = s1 IN s2\n\ngoal (8 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G,\n   \\<Delta>, LET x : t = s1 IN s2, \\<tau>)\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "thus ?case"], ["proof (prove)\nusing this:\n  atom x \\<sharp> LET x : t = s1 IN s2\n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>,\n                    LET x : t = s1 IN s2, \\<tau>)", "using fresh_star_def 9"], ["proof (prove)\nusing this:\n  atom x \\<sharp> LET x : t = s1 IN s2\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. {atom\n      x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>,\n                    LET x : t = s1 IN s2, \\<tau>)", "by force"], ["proof (state)\nthis:\n  {atom\n    x} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, LET x : t = s1 IN s2,\n                  \\<tau>)\n\ngoal (7 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "case (11 u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s)"], ["proof (state)\nthis:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (7 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "hence \"atom u \\<sharp> AS_var u \\<tau>' v s\""], ["proof (prove)\nusing this:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. atom u \\<sharp> VAR u : \\<tau>' = v IN s", "using s_branch_s_branch_list.fresh"], ["proof (prove)\nusing this:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n\ngoal (1 subgoal):\n 1. atom u \\<sharp> VAR u : \\<tau>' = v IN s", "by auto"], ["proof (state)\nthis:\n  atom u \\<sharp> VAR u : \\<tau>' = v IN s\n\ngoal (7 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>,\n   \\<Delta>, VAR u : \\<tau>' = v IN s, \\<tau>)\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "then"], ["proof (chain)\npicking this:\n  atom u \\<sharp> VAR u : \\<tau>' = v IN s", "show ?case"], ["proof (prove)\nusing this:\n  atom u \\<sharp> VAR u : \\<tau>' = v IN s\n\ngoal (1 subgoal):\n 1. {atom\n      u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    VAR u : \\<tau>' = v IN s, \\<tau>)", "using fresh_star_def 11"], ["proof (prove)\nusing this:\n  atom u \\<sharp> VAR u : \\<tau>' = v IN s\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. {atom\n      u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                    VAR u : \\<tau>' = v IN s, \\<tau>)", "by force"], ["proof (state)\nthis:\n  {atom\n    u} \\<sharp>* (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                  VAR u : \\<tau>' = v IN s, \\<tau>)\n\ngoal (6 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite ({atom x} \\<union> {atom z})\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n          \\<Longrightarrow> finite {atom x}\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> finite {atom z}\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom u}", "qed(auto+)"], ["", "inductive_cases check_s_elims[elim!]:\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_val v \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_let x e s \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_if v s1 s2 \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_let2 x t s1 s2 \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_while s1 s2 \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_var u t v s \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_seq s1 s2 \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_assign u v \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_match v cs \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta> \\<turnstile> AS_assert c s \\<Leftarrow> \\<tau>\""], ["", "inductive_cases check_branch_s_elims[elim!]:\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid ; dclist ; v \\<turnstile> (AS_final cs) \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid ; dclist ; v \\<turnstile> (AS_cons cs css) \\<Leftarrow> \\<tau>\"\n  \"\\<Theta>; \\<Phi>; \\<B>; \\<Gamma>; \\<Delta>; tid ; cons ; const ; v \\<turnstile> (AS_branch dc x s ) \\<Leftarrow> \\<tau>\""], ["", "section \\<open>Programs\\<close>"], ["", "text \\<open>Type check function bodies\\<close>"], ["", "inductive check_funtyp :: \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow>  \\<B> \\<Rightarrow> fun_typ \\<Rightarrow> bool\" ( \" _ ; _ ; _ \\<turnstile> _ \" ) where\n  check_funtypI: \"\\<lbrakk>\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, B , b );\n  \\<Theta>; \\<Phi> ;  B ; ((x,b,c) #\\<^sub>\\<Gamma> GNil) ; []\\<^sub>\\<Delta> \\<turnstile> s \\<Leftarrow> \\<tau>\n\\<rbrakk>  \\<Longrightarrow> \n  \\<Theta>; \\<Phi> ; B \\<turnstile> (AF_fun_typ x b c \\<tau> s)\""], ["", "equivariance check_funtyp"], ["", "nominal_inductive check_funtyp\n  avoids check_funtypI: x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n        \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n          \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                  GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> {atom\n                            x} \\<sharp>* (\\<Theta>, \\<Phi>, B,\n    AF_fun_typ x b c \\<tau> s)) &&&\n    (\\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n        \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n          \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                  GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n        \\<Longrightarrow> finite {atom x})", "proof(goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, B,\n   AF_fun_typ x b c \\<tau> s)\n 2. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "case (1 x \\<Theta> \\<Phi> B b c s \\<tau>  )"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b)\n   \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                           GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, B,\n   AF_fun_typ x b c \\<tau> s)\n 2. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "hence \"atom x \\<sharp> (AF_fun_typ x b c \\<tau> s)\""], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b)\n   \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                           GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> AF_fun_typ x b c \\<tau> s", "using fun_def.fresh fun_typ_q.fresh fun_typ.fresh"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b)\n   \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                           GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?a \\<sharp> AF_fundef ?list ?fun_typ_q =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?fun_typ_q)\n  ?a \\<sharp> AF_fun_typ_some ?bv ?fun_typ =\n  (?a \\<sharp> ?fun_typ \\<or> ?a \\<in> set [atom ?bv])\n  ?a \\<sharp> AF_fun_typ_none ?fun_typ = ?a \\<sharp> ?fun_typ\n  ?a \\<sharp> AF_fun_typ ?x ?b ?c ?\\<tau> ?s =\n  ((?a \\<sharp> ?c \\<and> ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s \\<or>\n    ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> AF_fun_typ x b c \\<tau> s", "by simp"], ["proof (state)\nthis:\n  atom x \\<sharp> AF_fun_typ x b c \\<tau> s\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> {atom\n                           x} \\<sharp>* (\\<Theta>, \\<Phi>, B,\n   AF_fun_typ x b c \\<tau> s)\n 2. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "then"], ["proof (chain)\npicking this:\n  atom x \\<sharp> AF_fun_typ x b c \\<tau> s", "show ?case"], ["proof (prove)\nusing this:\n  atom x \\<sharp> AF_fun_typ x b c \\<tau> s\n\ngoal (1 subgoal):\n 1. {atom x} \\<sharp>* (\\<Theta>, \\<Phi>, B, AF_fun_typ x b c \\<tau> s)", "using fresh_star_def 1 fresh_prodN"], ["proof (prove)\nusing this:\n  atom x \\<sharp> AF_fun_typ x b c \\<tau> s\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b)\n   \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                           GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n\ngoal (1 subgoal):\n 1. {atom x} \\<sharp>* (\\<Theta>, \\<Phi>, B, AF_fun_typ x b c \\<tau> s)", "by fastforce"], ["proof (state)\nthis:\n  {atom x} \\<sharp>* (\\<Theta>, \\<Phi>, B, AF_fun_typ x b c \\<tau> s)\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "case (2 \\<Theta> \\<Phi> x b c s \\<tau> f)"], ["proof (state)\nthis:\n  atom \\<Theta> \\<sharp> (\\<Phi>, x, b, c)\n   \\<Phi> ; x ; b ; (\\<Theta>, c, s) #\\<^sub>\\<Gamma>\n                    GNil ; []\\<^sub>\\<Delta>  \\<turnstile> \\<tau> \\<Leftarrow> f\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Phi> B b c s \\<tau>.\n       \\<lbrakk>atom x \\<sharp> (\\<Theta>, \\<Phi>, B, b);\n         \\<Theta> ; \\<Phi> ; B ; (x, b, c) #\\<^sub>\\<Gamma>\n                                 GNil ; []\\<^sub>\\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> finite {atom x}", "then"], ["proof (chain)\npicking this:\n  atom \\<Theta> \\<sharp> (\\<Phi>, x, b, c)\n   \\<Phi> ; x ; b ; (\\<Theta>, c, s) #\\<^sub>\\<Gamma>\n                    GNil ; []\\<^sub>\\<Delta>  \\<turnstile> \\<tau> \\<Leftarrow> f", "show ?case"], ["proof (prove)\nusing this:\n  atom \\<Theta> \\<sharp> (\\<Phi>, x, b, c)\n   \\<Phi> ; x ; b ; (\\<Theta>, c, s) #\\<^sub>\\<Gamma>\n                    GNil ; []\\<^sub>\\<Delta>  \\<turnstile> \\<tau> \\<Leftarrow> f\n\ngoal (1 subgoal):\n 1. finite {atom \\<Theta>}", "by auto"], ["proof (state)\nthis:\n  finite {atom \\<Theta>}\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive check_funtypq :: \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> fun_typ_q \\<Rightarrow> bool\"  ( \" _ ; _ \\<turnstile> _ \" ) where \n  check_fundefq_simpleI: \"\\<lbrakk>\n  \\<Theta>; \\<Phi> ; {||} \\<turnstile> (AF_fun_typ x b c t s)\n\\<rbrakk>  \\<Longrightarrow> \n  \\<Theta>; \\<Phi> \\<turnstile> ((AF_fun_typ_none (AF_fun_typ x b c t s)))\"\n\n|check_funtypq_polyI: \"\\<lbrakk>\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, (AF_fun_typ x b c t s));\n  \\<Theta>; \\<Phi>; {|bv|} \\<turnstile> (AF_fun_typ x b c t s)\n\\<rbrakk>  \\<Longrightarrow> \n  \\<Theta>; \\<Phi> \\<turnstile> (AF_fun_typ_some bv (AF_fun_typ x b c t s))\""], ["", "equivariance check_funtypq"], ["", "nominal_inductive check_funtypq\n  avoids check_funtypq_polyI: bv"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>bv \\<Theta> \\<Phi> x b c t s.\n        \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n          \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n             s \\<rbrakk>\n        \\<Longrightarrow> {atom\n                            bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n     AF_fun_typ_some bv (AF_fun_typ x b c t s))) &&&\n    (\\<And>bv \\<Theta> \\<Phi> x b c t s.\n        \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n          \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n             s \\<rbrakk>\n        \\<Longrightarrow> finite {atom bv})", "proof(goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n    AF_fun_typ_some bv (AF_fun_typ x b c t s))\n 2. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "case (1 bv \\<Theta> \\<Phi> x b c t s )"], ["proof (state)\nthis:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t s \n\ngoal (2 subgoals):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n    AF_fun_typ_some bv (AF_fun_typ x b c t s))\n 2. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "hence \"atom bv \\<sharp> (AF_fun_typ_some bv (AF_fun_typ x b c t s))\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t s \n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> AF_fun_typ_some bv (AF_fun_typ x b c t s)", "using fun_def.fresh fun_typ_q.fresh fun_typ.fresh"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t s \n  ?a \\<sharp> AF_fundef ?list ?fun_typ_q =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?fun_typ_q)\n  ?a \\<sharp> AF_fun_typ_some ?bv ?fun_typ =\n  (?a \\<sharp> ?fun_typ \\<or> ?a \\<in> set [atom ?bv])\n  ?a \\<sharp> AF_fun_typ_none ?fun_typ = ?a \\<sharp> ?fun_typ\n  ?a \\<sharp> AF_fun_typ ?x ?b ?c ?\\<tau> ?s =\n  ((?a \\<sharp> ?c \\<and> ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s \\<or>\n    ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> AF_fun_typ_some bv (AF_fun_typ x b c t s)", "by simp"], ["proof (state)\nthis:\n  atom bv \\<sharp> AF_fun_typ_some bv (AF_fun_typ x b c t s)\n\ngoal (2 subgoals):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> {atom\n                           bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n    AF_fun_typ_some bv (AF_fun_typ x b c t s))\n 2. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "thus ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> AF_fun_typ_some bv (AF_fun_typ x b c t s)\n\ngoal (1 subgoal):\n 1. {atom\n      bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n                     AF_fun_typ_some bv (AF_fun_typ x b c t s))", "using fresh_star_def 1 fresh_prodN"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> AF_fun_typ_some bv (AF_fun_typ x b c t s)\n  ?as \\<sharp>* ?x \\<equiv> \\<forall>a\\<in>?as. a \\<sharp> ?x\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t s \n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n\ngoal (1 subgoal):\n 1. {atom\n      bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n                     AF_fun_typ_some bv (AF_fun_typ x b c t s))", "by fastforce"], ["proof (state)\nthis:\n  {atom\n    bv} \\<sharp>* (\\<Theta>, \\<Phi>,\n                   AF_fun_typ_some bv (AF_fun_typ x b c t s))\n\ngoal (1 subgoal):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "case (2 bv \\<Theta> \\<Phi> ft )"], ["proof (state)\nthis:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ ft b_ c_ t_ s_)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ ft b_ c_ t_ s_ \n\ngoal (1 subgoal):\n 1. \\<And>bv \\<Theta> \\<Phi> x b c t s.\n       \\<lbrakk>atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ x b c t s);\n         \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ x b c t\n            s \\<rbrakk>\n       \\<Longrightarrow> finite {atom bv}", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ ft b_ c_ t_ s_)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ ft b_ c_ t_ s_", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> (\\<Theta>, \\<Phi>, AF_fun_typ ft b_ c_ t_ s_)\n   \\<Theta> ; \\<Phi> ; {|bv|} \\<turnstile> AF_fun_typ ft b_ c_ t_ s_ \n\ngoal (1 subgoal):\n 1. finite {atom bv}", "by auto"], ["proof (state)\nthis:\n  finite {atom bv}\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive check_fundef :: \"\\<Theta> \\<Rightarrow> \\<Phi> \\<Rightarrow> fun_def \\<Rightarrow> bool\" ( \" _ ; _ \\<turnstile> _ \" ) where\n  check_fundefI: \"\\<lbrakk>\n  \\<Theta>; \\<Phi> \\<turnstile> ft \n\\<rbrakk>  \\<Longrightarrow> \n  \\<Theta>; \\<Phi> \\<turnstile> (AF_fundef f ft)\""], ["", "equivariance check_fundef"], ["", "nominal_inductive check_fundef"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "text \\<open>Temporarily remove this simproc as it produces untidy eliminations\\<close>"], ["", "declare[[ simproc del: alpha_lst]]"], ["", "inductive_cases check_funtyp_elims[elim!]:\n  \"check_funtyp \\<Theta> \\<Phi> B ft\""], ["", "inductive_cases check_funtypq_elims[elim!]:\n  \"check_funtypq \\<Theta> \\<Phi> (AF_fun_typ_none (AF_fun_typ x b c \\<tau> s))\"\n  \"check_funtypq \\<Theta> \\<Phi> (AF_fun_typ_some bv (AF_fun_typ x b c \\<tau> s))\""], ["", "inductive_cases check_fundef_elims[elim!]:\n  \"check_fundef \\<Theta> \\<Phi> (AF_fundef f ftq)\""], ["", "declare[[ simproc add: alpha_lst]]"], ["", "nominal_function \\<Delta>_of :: \"var_def list \\<Rightarrow> \\<Delta>\" where\n  \"\\<Delta>_of [] = DNil\"\n| \"\\<Delta>_of ((AV_def u t v)#vs) = (u,t) #\\<^sub>\\<Delta>  (\\<Delta>_of vs)\""], ["proof (prove)\ngoal (6 subgoals):\n 1. eqvt \\<Delta>_of_graph_aux\n 2. \\<And>x y. \\<Delta>_of_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>x = [] \\<Longrightarrow> P;\n        \\<And>u t v vs. x = AV_def u t v # vs \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. [] = [] \\<Longrightarrow> []\\<^sub>\\<Delta> = []\\<^sub>\\<Delta>\n 5. \\<And>u t v vs.\n       \\<lbrakk>eqvt_at \\<Delta>_of_sumC vs; True;\n        [] = AV_def u t v # vs\\<rbrakk>\n       \\<Longrightarrow> []\\<^sub>\\<Delta> =\n                         (u, t) #\\<^sub>\\<Delta> \\<Delta>_of_sumC vs\n 6. \\<And>u t v vs ua ta va vsa.\n       \\<lbrakk>eqvt_at \\<Delta>_of_sumC vs; eqvt_at \\<Delta>_of_sumC vsa;\n        True; True; AV_def u t v # vs = AV_def ua ta va # vsa\\<rbrakk>\n       \\<Longrightarrow> (u, t) #\\<^sub>\\<Delta> \\<Delta>_of_sumC vs =\n                         (ua, ta) #\\<^sub>\\<Delta> \\<Delta>_of_sumC vsa", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. eqvt \\<Delta>_of_graph_aux\n 2. \\<And>P x.\n       \\<lbrakk>x = [] \\<Longrightarrow> P;\n        \\<And>u t v vs. x = AV_def u t v # vs \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using  eqvt_def \\<Delta>_of_graph_aux_def neq_Nil_conv old.prod.exhaust"], ["proof (prove)\nusing this:\n  eqvt ?f \\<equiv> \\<forall>p. p \\<bullet> ?f = ?f\n  \\<Delta>_of_graph_aux \\<equiv>\n  lfp (\\<lambda>p x1 x2.\n          (\\<exists>\\<Delta>_of_aux.\n              x1 = [] \\<and> x2 = []\\<^sub>\\<Delta>) \\<or>\n          (\\<exists>\\<Delta>_of_aux u t v vs.\n              x1 = AV_def u t v # vs \\<and>\n              x2 =\n              (u, t) #\\<^sub>\\<Delta>\n              ((\\<lambda>uu_. uu_) \\<circ> \\<Delta>_of_aux) vs \\<and>\n              p vs (((\\<lambda>uu_. uu_) \\<circ> \\<Delta>_of_aux) vs)))\n  (?xs \\<noteq> []) = (\\<exists>y ys. ?xs = y # ys)\n  (\\<And>a b. ?y = (a, b) \\<Longrightarrow> ?P) \\<Longrightarrow> ?P\n\ngoal (2 subgoals):\n 1. eqvt \\<Delta>_of_graph_aux\n 2. \\<And>P x.\n       \\<lbrakk>x = [] \\<Longrightarrow> P;\n        \\<And>u t v vs. x = AV_def u t v # vs \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P x.\n       \\<lbrakk>x = [] \\<Longrightarrow> P;\n        \\<And>u t v vs. x = AV_def u t v # vs \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "using  eqvt_def \\<Delta>_of_graph_aux_def neq_Nil_conv old.prod.exhaust"], ["proof (prove)\nusing this:\n  eqvt ?f \\<equiv> \\<forall>p. p \\<bullet> ?f = ?f\n  \\<Delta>_of_graph_aux \\<equiv>\n  lfp (\\<lambda>p x1 x2.\n          (\\<exists>\\<Delta>_of_aux.\n              x1 = [] \\<and> x2 = []\\<^sub>\\<Delta>) \\<or>\n          (\\<exists>\\<Delta>_of_aux u t v vs.\n              x1 = AV_def u t v # vs \\<and>\n              x2 =\n              (u, t) #\\<^sub>\\<Delta>\n              ((\\<lambda>uu_. uu_) \\<circ> \\<Delta>_of_aux) vs \\<and>\n              p vs (((\\<lambda>uu_. uu_) \\<circ> \\<Delta>_of_aux) vs)))\n  (?xs \\<noteq> []) = (\\<exists>y ys. ?xs = y # ys)\n  (\\<And>a b. ?y = (a, b) \\<Longrightarrow> ?P) \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. \\<And>P x.\n       \\<lbrakk>x = [] \\<Longrightarrow> P;\n        \\<And>u t v vs. x = AV_def u t v # vs \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "by (metis var_def.strong_exhaust)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All \\<Delta>_of_dom", "by lexicographic_order"], ["", "inductive check_prog :: \"p \\<Rightarrow> \\<tau> \\<Rightarrow> bool\" ( \"\\<turnstile> _ \\<Leftarrow> _\")  where \n  \"\\<lbrakk>\n   \\<Theta>; \\<Phi>; {||}; GNil ; \\<Delta>_of \\<G> \\<turnstile> s \\<Leftarrow> \\<tau>\n\\<rbrakk> \\<Longrightarrow>  \\<turnstile> (AP_prog \\<Theta> \\<Phi> \\<G> s) \\<Leftarrow> \\<tau>\""], ["", "inductive_cases check_prog_elims[elim!]:\n  \"\\<turnstile> (AP_prog \\<Theta> \\<Phi> \\<G> s) \\<Leftarrow> \\<tau>\""], ["", "end"]]}