{"file_name": "/home/qj213/afp-2021-10-22/thys/MiniSail/BTVSubstTypingL.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/MiniSail", "problem_names": ["lemma subst_vv_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"(v'[x::=v]\\<^sub>v\\<^sub>v)[bv::=b]\\<^sub>v\\<^sub>b = (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\"", "lemma subst_cev_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"(ce[x::=v]\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b = (ce[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\"", "lemma subst_cv_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"c[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b = (c[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\"", "lemma subst_b_c_of:\n  \"(c_of \\<tau> z)[bv::=b]\\<^sub>c\\<^sub>b =  c_of (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) z\"", "lemma subst_b_b_of:\n  \"(b_of \\<tau>)[bv::=b]\\<^sub>b\\<^sub>b =  b_of (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_b_if:\n  \"\\<lbrace> z : b_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | CE_val (v[bv::=b]\\<^sub>v\\<^sub>b)  ==  CE_val (V_lit ll)   IMP  c_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace> = \\<lbrace> z : b_of \\<tau> | CE_val (v)  ==  CE_val (V_lit ll)   IMP  c_of \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \"", "lemma subst_b_top_eq:\n  \"\\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = \\<lbrace> z : B_unit  | TRUE \\<rbrace>\" and \"\\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = \\<lbrace> z : B_bool  | TRUE \\<rbrace>\"  and \"\\<lbrace> z : B_id tid | TRUE \\<rbrace> = \\<lbrace> z : B_id tid | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\"", "lemmas subst_b_eq = subst_b_c_of subst_b_b_of subst_b_if subst_b_top_eq", "lemma subst_cx_subst_bb_commute[simp]:\n  fixes bv::bv and b::b and x::x and v'::c\n  shows \"(v'[x::=V_var y]\\<^sub>c\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>b = (v'[bv::=b]\\<^sub>c\\<^sub>b)[x::=V_var y]\\<^sub>c\\<^sub>v\"", "lemma subst_b_infer_b:\n  fixes l::l and b::b\n  assumes \" \\<turnstile> l \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<turnstile> l \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_b_subtype:\n  fixes s::s and b'::b\n  assumes  \"\\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b'\"  and \"B = {|bv|}\" \n  shows \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>1[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>2[bv::=b']\\<^sub>\\<tau>\\<^sub>b\"", "lemma b_of_subst_bv:\n  \"(b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b = b_of (\\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_b_infer_v:\n  fixes v::v and b::b\n  assumes \"\\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_b_check_v:\n  fixes v::v and b::b\n  assumes \"\\<Theta> ; B ; G \\<turnstile> v \\<Leftarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_vv_subst_vb_switch:\n  shows  \"(v'[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v = v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\"", "lemma subst_cev_subst_vb_switch:\n  shows  \"(ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>e\\<^sub>v = (ce[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\"", "lemma subst_cv_subst_vb_switch:\n  shows  \"(c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v = c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\"", "lemma subst_tv_subst_vb_switch:\n  shows  \"(\\<tau>[bv::=b']\\<^sub>\\<tau>\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b\"", "lemma subst_tb_triple:\n  assumes \"atom bv \\<sharp> \\<tau>'\" \n  shows  \"\\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\"", "lemma subst_b_infer_e:\n  fixes s::s and b::b\n  assumes \"\\<Theta> ; \\<Phi> ; B ; G; D \\<turnstile> e \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\"  and \"B = {|bv|}\" \n  shows  \"\\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile> (e[bv::=b]\\<^sub>e\\<^sub>b) \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\"", "lemma subst_b_c_of_forget:\n  assumes \"atom bv \\<sharp> const\"\n  shows \"(c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\"", "lemma subst_b_check_s:\n  fixes s::s and b::b and cs::branch_s and css::branch_list and v::v and \\<tau>::\\<tau>\n  assumes \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\"  and \"B = {|bv|}\" (*and \"D = []\"*)\n  shows  \"\\<Theta> ; \\<Phi> ; B ; G; D \\<turnstile> s \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile> (s[bv::=b]\\<^sub>s\\<^sub>b) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\" and\n    \"\\<Theta> ; \\<Phi> ; B ; G; D ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> (subst_branchb cs bv b) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\" and\n    \"\\<Theta> ; \\<Phi> ; B ; G; D ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> (subst_branchlb css bv b ) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], "translations": [["", "lemma subst_vv_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"(v'[x::=v]\\<^sub>v\\<^sub>v)[bv::=b]\\<^sub>v\\<^sub>b = (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "using assms"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "proof(nominal_induct v'  rule: v.strong_induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 5. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "case (V_lit x)"], ["proof (state)\nthis:\n  atom bv \\<sharp> v\n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 5. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> v", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ([ x ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "using subst_vb.simps subst_vv.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ([ x ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "by simp"], ["proof (state)\nthis:\n  [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  ([ x ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "case (V_var y)"], ["proof (state)\nthis:\n  atom bv \\<sharp> v\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "hence \"v[bv::=b]\\<^sub>v\\<^sub>b=v\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. v[bv::=b]\\<^sub>v\\<^sub>b = v", "using forget_subst subst_b_v_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. v[bv::=b]\\<^sub>v\\<^sub>b = v", "by metis"], ["proof (state)\nthis:\n  v[bv::=b]\\<^sub>v\\<^sub>b = v\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n       ([ xa ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 4. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "then"], ["proof (chain)\npicking this:\n  v[bv::=b]\\<^sub>v\\<^sub>b = v", "show ?case"], ["proof (prove)\nusing this:\n  v[bv::=b]\\<^sub>v\\<^sub>b = v\n\ngoal (1 subgoal):\n 1. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ([ y ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "unfolding subst_vb.simps(2) subst_vv.simps(2)"], ["proof (prove)\nusing this:\n  v[bv::=b]\\<^sub>v\\<^sub>b = v\n\ngoal (1 subgoal):\n 1. (if x = y then v else [ y ]\\<^sup>v)[bv::=b]\\<^sub>v\\<^sub>b =\n    (if x = y then v else [ y ]\\<^sup>v)", "using V_var"], ["proof (prove)\nusing this:\n  v[bv::=b]\\<^sub>v\\<^sub>b = v\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. (if x = y then v else [ y ]\\<^sup>v)[bv::=b]\\<^sub>v\\<^sub>b =\n    (if x = y then v else [ y ]\\<^sup>v)", "by auto"], ["proof (state)\nthis:\n  [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  ([ y ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "case (V_pair x1a x2a)"], ["proof (state)\nthis:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n        (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 3. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "using subst_vb.simps subst_vv.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x1a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x2a[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "by simp"], ["proof (state)\nthis:\n  [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  ([ x1a , x2a ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "case (V_cons x1a x2a x3)"], ["proof (state)\nthis:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_cons x1a x2a\n                           x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_cons x1a x2a\n                            x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n 2. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ((V_cons x1a x2a x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "using subst_vb.simps subst_vv.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x3[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ((V_cons x1a x2a x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "by simp"], ["proof (state)\nthis:\n  (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  ((V_cons x1a x2a x3)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "case (V_consp x1a x2a x3 x4)"], ["proof (state)\nthis:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (V_consp x1a x2a x3\n                           x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n                         ((V_consp x1a x2a x3\n                            x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v", "show ?case"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ((V_consp x1a x2a x3 x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "using subst_vb.simps subst_vv.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v \\<Longrightarrow>\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  (x4[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n  atom bv \\<sharp> v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n    ((V_consp x1a x2a x3 x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v", "by simp"], ["proof (state)\nthis:\n  (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n  ((V_consp x1a x2a x3 x4)[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_cev_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"(ce[x::=v]\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b = (ce[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ce[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n    (ce[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v", "using assms"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. ce[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n    (ce[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v", "apply (nominal_induct ce  rule: ce.strong_induct, (simp add: subst_vv_subst_bb_commute subst_ceb.simps subst_cv.simps))"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n       [ xa[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x2[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x3[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        (x3[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([ x1a x2 x3 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 3. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([ x1a @@ x2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 4. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [#1xa]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([#1xa]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 5. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [#2xa]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([#2xa]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 6. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [| xa |]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([| xa |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v", "using assms subst_vv_subst_bb_commute subst_ceb.simps subst_cv.simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n  atom ?bv \\<sharp> ?v \\<Longrightarrow>\n  ?v'[?x::=?v]\\<^sub>v\\<^sub>v[?bv::=?b]\\<^sub>v\\<^sub>b =\n  (?v'[?bv::=?b]\\<^sub>v\\<^sub>b)[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>v = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>v = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>v  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>v )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>v )\n\ngoal (6 subgoals):\n 1. \\<And>xa.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       [ xa ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n       [ xa[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x2[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x3[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        (x3[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a x2 x3 ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([ x1a x2 x3 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 3. \\<And>x1a x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1a[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (x1a[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [ x1a @@ x2 ]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([ x1a @@ x2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 4. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [#1xa]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([#1xa]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 5. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [#2xa]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([#2xa]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v\n 6. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> [| xa |]\\<^sup>c\\<^sup>e[x::=v]\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         ([| xa |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>v", "by (simp add: subst_v_ce_def)+"], ["", "lemma subst_cv_subst_bb_commute:\n  fixes bv::bv and b::b and x::x and v::v\n  assumes \"atom bv \\<sharp> v\"\n  shows \"c[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b = (c[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (c[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v", "using assms"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n\ngoal (1 subgoal):\n 1. c[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (c[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v", "apply (nominal_induct c  rule: c.strong_induct )"], ["proof (prove)\ngoal (7 subgoals):\n 1. atom bv \\<sharp> v \\<Longrightarrow>\n    (TRUE)[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    ((TRUE)[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 2. atom bv \\<sharp> v \\<Longrightarrow>\n    (FALSE)[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    ((FALSE)[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1  AND  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1  AND  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1 OR x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1 OR x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 5. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (\\<not> xa )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((\\<not> xa )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1  IMP  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1  IMP  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 7. \\<And>x1 x2.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       (x1  ==  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n       ((x1  ==  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v", "using assms subst_vv_subst_bb_commute subst_ceb.simps subst_cv.simps \n    subst_v_c_def subst_b_c_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> v\n  atom ?bv \\<sharp> ?v \\<Longrightarrow>\n  ?v'[?x::=?v]\\<^sub>v\\<^sub>v[?bv::=?b]\\<^sub>v\\<^sub>b =\n  (?v'[?bv::=?b]\\<^sub>v\\<^sub>b)[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>v = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>v = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>v  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>v )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>v  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>v )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>v =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>v )\n  subst_v = subst_cv_abbrev\n  subst_b = subst_cb_abbrev\n\ngoal (7 subgoals):\n 1. atom bv \\<sharp> v \\<Longrightarrow>\n    (TRUE)[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    ((TRUE)[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 2. atom bv \\<sharp> v \\<Longrightarrow>\n    (FALSE)[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    ((FALSE)[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 3. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1  AND  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1  AND  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 4. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1 OR x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1 OR x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 5. \\<And>xa.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                xa[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (xa[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (\\<not> xa )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((\\<not> xa )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 6. \\<And>x1 x2.\n       \\<lbrakk>atom bv \\<sharp> v \\<Longrightarrow>\n                x1[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                (x1[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v \\<Longrightarrow>\n        x2[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n        (x2[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v;\n        atom bv \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> (x1  IMP  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n                         ((x1  IMP  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v\n 7. \\<And>x1 x2.\n       atom bv \\<sharp> v \\<Longrightarrow>\n       (x1  ==  x2 )[x::=v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n       ((x1  ==  x2 )[bv::=b]\\<^sub>c\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>v", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>atom bv \\<sharp> v;\n        \\<And>bv v v' x b.\n           atom bv \\<sharp> v \\<Longrightarrow>\n           v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n           (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        subst_v = subst_cv_abbrev; subst_b = subst_cb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (x1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         (x1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v\n 2. \\<And>x2.\n       \\<lbrakk>atom bv \\<sharp> v;\n        \\<And>bv v v' x b.\n           atom bv \\<sharp> v \\<Longrightarrow>\n           v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n           (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        subst_v = subst_cv_abbrev; subst_b = subst_cb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (x2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v", "using subst_cev_subst_bb_commute subst_v_ce_def"], ["proof (prove)\nusing this:\n  atom ?bv \\<sharp> ?v \\<Longrightarrow>\n  ?ce[?x::=?v]\\<^sub>v[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  (?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b)[?x::=?v]\\<^sub>v\n  subst_v = subst_cev_abbrev\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>atom bv \\<sharp> v;\n        \\<And>bv v v' x b.\n           atom bv \\<sharp> v \\<Longrightarrow>\n           v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n           (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        subst_v = subst_cv_abbrev; subst_b = subst_cb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (x1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         (x1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v\n 2. \\<And>x2.\n       \\<lbrakk>atom bv \\<sharp> v;\n        \\<And>bv v v' x b.\n           atom bv \\<sharp> v \\<Longrightarrow>\n           v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b]\\<^sub>v\\<^sub>b =\n           (v'[bv::=b]\\<^sub>v\\<^sub>b)[x::=v]\\<^sub>v\\<^sub>v;\n        subst_v = subst_cv_abbrev; subst_b = subst_cb_abbrev\\<rbrakk>\n       \\<Longrightarrow> (x2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n                         (x2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v", "by auto+"], ["", "lemma subst_b_c_of:\n  \"(c_of \\<tau> z)[bv::=b]\\<^sub>c\\<^sub>b =  c_of (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c_of \\<tau> z)[bv::=b]\\<^sub>c\\<^sub>b =\n    c_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "proof(nominal_induct \\<tau> avoiding: z rule:\\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a z.\n       atom x1a \\<sharp> z \\<Longrightarrow>\n       (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n         z)[bv::=b]\\<^sub>c\\<^sub>b =\n       c_of\n        \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "case (T_refined_type z' b' c')"], ["proof (state)\nthis:\n  atom z' \\<sharp> z\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a z.\n       atom x1a \\<sharp> z \\<Longrightarrow>\n       (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n         z)[bv::=b]\\<^sub>c\\<^sub>b =\n       c_of\n        \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "moreover"], ["proof (state)\nthis:\n  atom z' \\<sharp> z\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a z.\n       atom x1a \\<sharp> z \\<Longrightarrow>\n       (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n         z)[bv::=b]\\<^sub>c\\<^sub>b =\n       c_of\n        \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "have \"atom bv \\<sharp> [ z ]\\<^sup>v \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [ z ]\\<^sup>v", "using fresh_at_base v.fresh"], ["proof (prove)\nusing this:\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [ z ]\\<^sup>v", "by auto"], ["proof (state)\nthis:\n  atom bv \\<sharp> [ z ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a z.\n       atom x1a \\<sharp> z \\<Longrightarrow>\n       (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n         z)[bv::=b]\\<^sub>c\\<^sub>b =\n       c_of\n        \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "ultimately"], ["proof (chain)\npicking this:\n  atom z' \\<sharp> z\n  atom bv \\<sharp> [ z ]\\<^sup>v", "show ?case"], ["proof (prove)\nusing this:\n  atom z' \\<sharp> z\n  atom bv \\<sharp> [ z ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. (c_of \\<lbrace> z' : b'  | c' \\<rbrace> z)[bv::=b]\\<^sub>c\\<^sub>b =\n    c_of \\<lbrace> z' : b'  | c' \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "using subst_cv_subst_bb_commute[of bv \"V_var z\" c' z' b]  c_of.simps subst_tb.simps"], ["proof (prove)\nusing this:\n  atom z' \\<sharp> z\n  atom bv \\<sharp> [ z ]\\<^sup>v\n  atom bv \\<sharp> [ z ]\\<^sup>v \\<Longrightarrow>\n  c'[z'::=[ z ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n  (c'[bv::=b]\\<^sub>c\\<^sub>b)[z'::=[ z ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom ?z \\<sharp> ?x \\<Longrightarrow>\n  c_of \\<lbrace> ?z : ?b  | ?c \\<rbrace> ?x =\n  ?c[?z::=[ ?x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. (c_of \\<lbrace> z' : b'  | c' \\<rbrace> z)[bv::=b]\\<^sub>c\\<^sub>b =\n    c_of \\<lbrace> z' : b'  | c' \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z", "by metis"], ["proof (state)\nthis:\n  (c_of \\<lbrace> z' : b'  | c' \\<rbrace> z)[bv::=b]\\<^sub>c\\<^sub>b =\n  c_of \\<lbrace> z' : b'  | c' \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_b_of:\n  \"(b_of \\<tau>)[bv::=b]\\<^sub>b\\<^sub>b =  b_of (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[bv::=b]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by(nominal_induct \\<tau> rule:\\<tau>.strong_induct, simp add: b_of.simps subst_tb.simps )"], ["", "lemma subst_b_if:\n  \"\\<lbrace> z : b_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | CE_val (v[bv::=b]\\<^sub>v\\<^sub>b)  ==  CE_val (V_lit ll)   IMP  c_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace> = \\<lbrace> z : b_of \\<tau> | CE_val (v)  ==  CE_val (V_lit ll)   IMP  c_of \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : b_of\n                   \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace> =\n    \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_tb.simps subst_cb.simps subst_ceb.simps subst_vb.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : b_of\n                   \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace> =\n    \\<lbrace> z : (b_of\n                    \\<tau>)[bv::=b]\\<^sub>b\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  (c_of\n                                    \\<tau>\n                                    z)[bv::=b]\\<^sub>c\\<^sub>b  \\<rbrace>", "using subst_b_b_of   subst_b_c_of"], ["proof (prove)\nusing this:\n  (b_of ?\\<tau>)[?bv::=?b]\\<^sub>b\\<^sub>b =\n  b_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  (c_of ?\\<tau> ?z)[?bv::=?b]\\<^sub>c\\<^sub>b =\n  c_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b_of\n                   \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace> =\n    \\<lbrace> z : (b_of\n                    \\<tau>)[bv::=b]\\<^sub>b\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  (c_of\n                                    \\<tau>\n                                    z)[bv::=b]\\<^sub>c\\<^sub>b  \\<rbrace>", "by auto"], ["", "lemma subst_b_top_eq:\n  \"\\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = \\<lbrace> z : B_unit  | TRUE \\<rbrace>\" and \"\\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = \\<lbrace> z : B_bool  | TRUE \\<rbrace>\"  and \"\\<lbrace> z : B_id tid | TRUE \\<rbrace> = \\<lbrace> z : B_id tid | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n    \\<lbrace> z : B_unit  | TRUE \\<rbrace> &&&\n    \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n    \\<lbrace> z : B_bool  | TRUE \\<rbrace> &&&\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding  subst_tb.simps subst_bb.simps subst_cb.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : B_unit  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_unit  | TRUE \\<rbrace> &&&\n    \\<lbrace> z : B_bool  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_bool  | TRUE \\<rbrace> &&&\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace>", "by auto"], ["", "lemmas subst_b_eq = subst_b_c_of subst_b_b_of subst_b_if subst_b_top_eq"], ["", "lemma subst_cx_subst_bb_commute[simp]:\n  fixes bv::bv and b::b and x::x and v'::c\n  shows \"(v'[x::=V_var y]\\<^sub>c\\<^sub>v)[bv::=b]\\<^sub>c\\<^sub>b = (v'[bv::=b]\\<^sub>c\\<^sub>b)[x::=V_var y]\\<^sub>c\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v'[x::=[ y ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (v'[bv::=b]\\<^sub>c\\<^sub>b)[x::=[ y ]\\<^sup>v]\\<^sub>c\\<^sub>v", "using subst_cv_subst_bb_commute fresh_at_base  v.fresh"], ["proof (prove)\nusing this:\n  atom ?bv \\<sharp> ?v \\<Longrightarrow>\n  ?c[?x::=?v]\\<^sub>c\\<^sub>v[?bv::=?b]\\<^sub>c\\<^sub>b =\n  (?c[?bv::=?b]\\<^sub>c\\<^sub>b)[?x::=?v]\\<^sub>c\\<^sub>v\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. v'[x::=[ y ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (v'[bv::=b]\\<^sub>c\\<^sub>b)[x::=[ y ]\\<^sup>v]\\<^sub>c\\<^sub>v", "by auto"], ["", "lemma subst_b_infer_b:\n  fixes l::l and b::b\n  assumes \" \\<turnstile> l \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<turnstile> l \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<turnstile> l \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using assms infer_l_form3 infer_l_form4 wf_b_subst infer_l_wf subst_tb.simps base_for_lit.simps subst_tb.simps\n    subst_b_base_for_lit subst_cb.simps(6) subst_ceb.simps(1) subst_vb.simps(1) subst_vb.simps(2) type_l_eq"], ["proof (prove)\nusing this:\n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  B = {|bv|}\n   \\<turnstile> ?l \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n  \\<exists>z.\n     ?\\<tau> =\n     \\<lbrace> z : base_for_lit\n                    ?l  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ ?l ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n  \\<exists>z.\n      \\<turnstile> ?l \\<Rightarrow> \\<lbrace> z : base_for_lit\n             ?l  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ ?l ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk> \\<turnstile> ?l \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> \\<rbrakk>\n  \\<Longrightarrow>    \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n  \\<lbrakk> \\<turnstile> ?l \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> \n  \\<lbrakk> \\<turnstile> ?l \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> \n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  base_for_lit L_true = B_bool\n  base_for_lit L_false = B_bool\n  base_for_lit (L_num ?n) = B_int\n  base_for_lit L_unit = B_unit\n  base_for_lit (L_bitvec ?v) = B_bitvec\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (base_for_lit ?l)[?bv::=?b]\\<^sub>b\\<^sub>b = base_for_lit ?l\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  \\<lbrace> ?z : ?b  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ ?l ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace> =\n  \\<lbrace> ?z' : ?b  | [ [ ?z' ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ ?l ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<turnstile> l \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["", "lemma subst_b_subtype:\n  fixes s::s and b'::b\n  assumes  \"\\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b'\"  and \"B = {|bv|}\" \n  shows \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>1[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>2[bv::=b']\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>1[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>2[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>1[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>2[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "proof(nominal_induct \"{|bv|}\"  \\<Gamma> \\<tau>1 \\<tau>2 rule:subtype.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Gamma> z c z' c' b.\n       \\<lbrakk>atom x \\<sharp> \\<Theta>; atom x \\<sharp> {|bv|};\n        atom x \\<sharp> \\<Gamma>; atom x \\<sharp> z; atom x \\<sharp> c;\n        atom x \\<sharp> z'; atom x \\<sharp> c';\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> ;\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> ;\n        \\<Theta> ; {|bv|} ; (x, b,\n                             c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                            \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        B = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "case (subtype_baseI x \\<Theta> \\<Gamma> z c z' c' b)"], ["proof (state)\nthis:\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Gamma> z c z' c' b.\n       \\<lbrakk>atom x \\<sharp> \\<Theta>; atom x \\<sharp> {|bv|};\n        atom x \\<sharp> \\<Gamma>; atom x \\<sharp> z; atom x \\<sharp> c;\n        atom x \\<sharp> z'; atom x \\<sharp> c';\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> ;\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> ;\n        \\<Theta> ; {|bv|} ; (x, b,\n                             c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                            \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        B = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "hence **: \"\\<Theta> ; {|bv|} ; (x, b, c[z::=V_var x]\\<^sub>c\\<^sub>v) #\\<^sub>\\<Gamma> \\<Gamma>  \\<Turnstile> c'[z'::=V_var x]\\<^sub>c\\<^sub>v \""], ["proof (prove)\nusing this:\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {|bv|} ; (x, b,\n                         c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v) #\\<^sub>\\<Gamma>\n                        \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "using validI subst_defs"], ["proof (prove)\nusing this:\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<lbrakk> ?P ; ?B ; ?G   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   \\<forall>i.\n       ?P ; ?G \\<turnstile> i \\<and>  i \\<Turnstile> ?G  \\<longrightarrow>\n       i \\<Turnstile> ?c \\<rbrakk>\n  \\<Longrightarrow> ?P ; ?B ; ?G  \\<Turnstile> ?c \n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {|bv|} ; (x, b,\n                         c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v) #\\<^sub>\\<Gamma>\n                        \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {|bv|} ; (x, b,\n                       c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v \n\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Gamma> z c z' c' b.\n       \\<lbrakk>atom x \\<sharp> \\<Theta>; atom x \\<sharp> {|bv|};\n        atom x \\<sharp> \\<Gamma>; atom x \\<sharp> z; atom x \\<sharp> c;\n        atom x \\<sharp> z'; atom x \\<sharp> c';\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> ;\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> ;\n        \\<Theta> ; {|bv|} ; (x, b,\n                             c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                            \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        B = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "have \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>  \\<lesssim> \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \\<lesssim> \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>", "proof(rule Typing.subtype_baseI)"], ["proof (state)\ngoal (4 subgoals):\n 1. atom\n     ?x \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b,\n                  z, c[bv::=b']\\<^sub>c\\<^sub>b, z',\n                  c'[bv::=b']\\<^sub>c\\<^sub>b)\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \n 4. \\<Theta> ; {||} ; (?x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ ?x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ ?x ]\\<^sup>v]\\<^sub>v", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>", "using subtype_baseI assms wf_b_subst(4) subst_tb.simps subst_defs"], ["proof (prove)\nusing this:\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \n\ngoal (3 subgoals):\n 1. atom\n     ?x \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b,\n                  z, c[bv::=b']\\<^sub>c\\<^sub>b, z',\n                  c'[bv::=b']\\<^sub>c\\<^sub>b)\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \n 3. \\<Theta> ; {||} ; (?x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ ?x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ ?x ]\\<^sup>v]\\<^sub>v", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>", "using subtype_baseI assms wf_b_subst(4) subst_tb.simps"], ["proof (prove)\nusing this:\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \n\ngoal (2 subgoals):\n 1. atom\n     ?x \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b,\n                  z, c[bv::=b']\\<^sub>c\\<^sub>b, z',\n                  c'[bv::=b']\\<^sub>c\\<^sub>b)\n 2. \\<Theta> ; {||} ; (?x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ ?x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ ?x ]\\<^sup>v]\\<^sub>v", "show \"atom x \\<sharp>(\\<Theta>, {||}::bv fset, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b,  z , c[bv::=b']\\<^sub>c\\<^sub>b ,  z'  , c'[bv::=b']\\<^sub>c\\<^sub>b )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b,\n                 z, c[bv::=b']\\<^sub>c\\<^sub>b, z',\n                 c'[bv::=b']\\<^sub>c\\<^sub>b)", "apply(unfold fresh_prodN,auto simp add: * fresh_prodN fresh_empty_fset)"], ["proof (prove)\ngoal (6 subgoals):\n 1. atom x \\<sharp> \\<Theta>\n 2. atom x \\<sharp> \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\n 3. atom x \\<sharp> z\n 4. atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\n 5. atom x \\<sharp> z'\n 6. atom x \\<sharp> c'[bv::=b']\\<^sub>c\\<^sub>b", "using subst_b_fresh_x * fresh_prodN  \\<open>atom x \\<sharp> c\\<close> \\<open>atom x \\<sharp> c'\\<close> subst_defs subtype_baseI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  atom\n   ?bv2.0 \\<sharp> (?bv1.0, ?b1.0, ?c1.0, ?\\<tau>1.0,\n                    ?s1.0) \\<Longrightarrow>\n  AF_fun_typ_some ?bv2.0\n   (AF_fun_typ ?x1.0 ((?bv1.0 \\<leftrightarrow> ?bv2.0) \\<bullet> ?b1.0)\n     ((?bv1.0 \\<leftrightarrow> ?bv2.0) \\<bullet> ?c1.0)\n     ((?bv1.0 \\<leftrightarrow> ?bv2.0) \\<bullet> ?\\<tau>1.0)\n     ((?bv1.0 \\<leftrightarrow> ?bv2.0) \\<bullet> ?s1.0)) =\n  AF_fun_typ_some ?bv1.0 (AF_fun_typ ?x1.0 ?b1.0 ?c1.0 ?\\<tau>1.0 ?s1.0)\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  atom x \\<sharp> c\n  atom x \\<sharp> c'\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n\ngoal (6 subgoals):\n 1. atom x \\<sharp> \\<Theta>\n 2. atom x \\<sharp> \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b\n 3. atom x \\<sharp> z\n 4. atom x \\<sharp> c[bv::=b']\\<^sub>c\\<^sub>b\n 5. atom x \\<sharp> z'\n 6. atom x \\<sharp> c'[bv::=b']\\<^sub>c\\<^sub>b", "by metis+"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b, z,\n               c[bv::=b']\\<^sub>c\\<^sub>b, z', c'[bv::=b']\\<^sub>c\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ x ]\\<^sup>v]\\<^sub>v", "have \"\\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b, c[z::=V_var x]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma> \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=V_var x]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       c[z::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b", "using ** subst_b_valid subst_gb.simps assms  subtype_baseI"], ["proof (prove)\nusing this:\n  \\<Theta> ; {|bv|} ; (x, b,\n                       c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v \n  \\<lbrakk> ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}; ?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<Turnstile> ?c \\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>2\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       c[z::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                     c[z::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                    \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b \n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ x ]\\<^sup>v]\\<^sub>v", "thus \"\\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b, (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=V_var x]\\<^sub>v) #\\<^sub>\\<Gamma> \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=V_var x]\\<^sub>v\""], ["proof (prove)\nusing this:\n  \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                     c[z::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                    \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b \n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ x ]\\<^sup>v]\\<^sub>v", "using subst_defs subst_cv_subst_bb_commute"], ["proof (prove)\nusing this:\n  \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                     c[z::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                    \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b \n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n  atom ?bv \\<sharp> ?v \\<Longrightarrow>\n  ?c[?x::=?v]\\<^sub>c\\<^sub>v[?bv::=?b]\\<^sub>c\\<^sub>b =\n  (?c[?bv::=?b]\\<^sub>c\\<^sub>b)[?x::=?v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                       (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ x ]\\<^sup>v]\\<^sub>v", "by (metis subst_cx_subst_bb_commute)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; (x, b[bv::=b']\\<^sub>b\\<^sub>b,\n                     (c[bv::=b']\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                    \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> (c'[bv::=b']\\<^sub>c\\<^sub>b)[z'::=[ x ]\\<^sup>v]\\<^sub>v \n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \\<lesssim> \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Theta> \\<Gamma> z c z' c' b.\n       \\<lbrakk>atom x \\<sharp> \\<Theta>; atom x \\<sharp> {|bv|};\n        atom x \\<sharp> \\<Gamma>; atom x \\<sharp> z; atom x \\<sharp> c;\n        atom x \\<sharp> z'; atom x \\<sharp> c';\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> ;\n         \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> ;\n        \\<Theta> ; {|bv|} ; (x, b,\n                             c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                            \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        B = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \\<lesssim> \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "using subtype_baseI subst_tb.simps subst_defs"], ["proof (prove)\nusing this:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | c[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace> \\<lesssim> \\<lbrace> z' : b[bv::=b']\\<^sub>b\\<^sub>b  | c'[bv::=b']\\<^sub>c\\<^sub>b \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> {|bv|}\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> z\n  atom x \\<sharp> c\n  atom x \\<sharp> z'\n  atom x \\<sharp> c'\n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z : b  | c \\<rbrace> \n   \\<Theta> ; {|bv|} ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<lbrace> z' : b  | c' \\<rbrace> \n  \\<Theta> ; {|bv|} ; (x, b, c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                      \\<Gamma>  \\<Turnstile> c'[z'::=[ x ]\\<^sup>v]\\<^sub>v \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  B = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<lbrace> z' : b  | c' \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma b_of_subst_bv:\n  \"(b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b = b_of (\\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b", "obtain z b c where *:\"\\<tau> = \\<lbrace> z : b | c \\<rbrace> \\<and> atom z \\<sharp> (x,v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z b c.\n        \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and>\n        atom z \\<sharp> (x, v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using obtain_fresh_z"], ["proof (prove)\nusing this:\n  (\\<And>z b c.\n      atom z \\<sharp> ?t \\<and>\n      ?\\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>z b c.\n        \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and>\n        atom z \\<sharp> (x, v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and> atom z \\<sharp> (x, v)\n\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and> atom z \\<sharp> (x, v)\n\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b", "using subst_tv.simps *"], ["proof (prove)\nusing this:\n  \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and> atom z \\<sharp> (x, v)\n  atom ?z \\<sharp> (?x, ?v) \\<Longrightarrow>\n  \\<lbrace> ?z : ?b  | ?c \\<rbrace>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> ?z : ?b  | ?c[?x::=?v]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<tau> = \\<lbrace> z : b  | c \\<rbrace> \\<and> atom z \\<sharp> (x, v)\n\ngoal (1 subgoal):\n 1. (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n    b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (b_of \\<tau>)[x::=v]\\<^sub>b\\<^sub>b =\n  b_of \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_infer_v:\n  fixes v::v and b::b\n  assumes \"\\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n   \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(nominal_induct avoiding: b bv rule: infer_v.strong_induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z ba bv.\n       \\<lbrakk>atom z \\<sharp> ba; atom z \\<sharp> bv;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ x ]\\<^sup>v[bv::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> l \\<tau> b bv.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<turnstile> l \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "case (infer_v_varI \\<Theta> \\<B> \\<Gamma> b' c x z)"], ["proof (state)\nthis:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b', c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> b c x z ba bv.\n       \\<lbrakk>atom z \\<sharp> ba; atom z \\<sharp> bv;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n        Some (b, c) = lookup \\<Gamma> x; atom z \\<sharp> x;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ x ]\\<^sup>v[bv::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> l \\<tau> b bv.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<turnstile> l \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ x ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding  subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ x ]\\<^sup>v \\<Rightarrow> \\<lbrace> z : b'[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \n 2. Some (b'[bv::=b]\\<^sub>b\\<^sub>b, ?c) =\n    lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x\n 3. atom z \\<sharp> x\n 4. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using infer_v_varI wf_b_subst"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b', c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \n\ngoal (3 subgoals):\n 1. Some (b'[bv::=b]\\<^sub>b\\<^sub>b, ?c) =\n    lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x\n 2. atom z \\<sharp> x\n 3. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"Some (b'[bv::=b]\\<^sub>b\\<^sub>b, c[bv::=b]\\<^sub>c\\<^sub>b) = lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Some (b'[bv::=b]\\<^sub>b\\<^sub>b, c[bv::=b]\\<^sub>c\\<^sub>b) =\n    lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x", "using subst_b_lookup infer_v_varI"], ["proof (prove)\nusing this:\n  Some (?b, ?c) = lookup ?\\<Gamma> ?x \\<Longrightarrow>\n  Some (?b[?bv::=?b']\\<^sub>b\\<^sub>b, ?c[?bv::=?b']\\<^sub>c\\<^sub>b) =\n  lookup ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b ?x\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b', c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. Some (b'[bv::=b]\\<^sub>b\\<^sub>b, c[bv::=b]\\<^sub>c\\<^sub>b) =\n    lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x", "by metis"], ["proof (state)\nthis:\n  Some (b'[bv::=b]\\<^sub>b\\<^sub>b, c[bv::=b]\\<^sub>c\\<^sub>b) =\n  lookup \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b x\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> x\n 2. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"atom z \\<sharp> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> x", "using infer_v_varI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n  Some (b', c) = lookup \\<Gamma> x\n  atom z \\<sharp> x\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> x", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> x\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"atom z \\<sharp>  (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "by(fresh_mth add: infer_v_varI subst_b_fresh_x subst_b_\\<Gamma>_def fresh_prodN fresh_empty_fset )"], ["proof (state)\nthis:\n  atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ x ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> l \\<tau> b bv.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<turnstile> l \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> l \\<tau> b bv.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<turnstile> l \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "case (infer_v_litI \\<Theta> \\<B> \\<Gamma> l \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> l \\<tau> b bv.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<turnstile> l \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using Typing.infer_v_litI subst_b_infer_b"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n    \\<turnstile> ?l \\<Rightarrow> ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> [ ?l ]\\<^sup>v \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> \\<turnstile> ?l \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<turnstile> ?l \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using wf_b_subst1(3)"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<turnstile> l \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n    \\<turnstile> ?l \\<Rightarrow> ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> [ ?l ]\\<^sup>v \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> \\<turnstile> ?l \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<turnstile> ?l \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ l ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "case (infer_v_pairI z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2)"], ["proof (state)\nthis:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  atom z \\<sharp> v1\n  atom z \\<sharp> v2\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (3 subgoals):\n 1. \\<And>z v1 v2 \\<Theta> \\<B> \\<Gamma> t1 t2 b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv; atom z \\<sharp> v1;\n        atom z \\<sharp> v2; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                    t1 , b_of\n                          t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                                     t1 , b_of\n     t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding   subst_b_simps b_of_subst_bv"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1[bv::=b]\\<^sub>v\\<^sub>b , v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>v \\<Rightarrow> \\<lbrace> z : [ b_of\n                       t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b , b_of\n                    t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1[bv::=b]\\<^sub>v\\<^sub>b , v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. atom z \\<sharp> (v1[bv::=b]\\<^sub>v\\<^sub>b, v2[bv::=b]\\<^sub>v\\<^sub>b)\n 2. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom z \\<sharp> (v1[bv::=b]\\<^sub>v\\<^sub>b, v2[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> (v1[bv::=b]\\<^sub>v\\<^sub>b, v2[bv::=b]\\<^sub>v\\<^sub>b)", "by(fresh_mth add: infer_v_pairI subst_b_fresh_x)"], ["proof (state)\nthis:\n  atom z \\<sharp> (v1[bv::=b]\\<^sub>v\\<^sub>b, v2[bv::=b]\\<^sub>v\\<^sub>b)\n\ngoal (3 subgoals):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "by(fresh_mth add: infer_v_pairI subst_b_fresh_x subst_b_\\<Gamma>_def fresh_empty_fset)"], ["proof (state)\nthis:\n  atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_v_pairI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  atom z \\<sharp> v1\n  atom z \\<sharp> v2\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_v_pairI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  atom z \\<sharp> v1\n  atom z \\<sharp> v2\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> t1\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t1[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> t2\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> t2[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> [ v1 , v2 ]\\<^sup>v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : [ b_of\n                                   t1 , b_of\n   t2 ]\\<^sup>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 , v2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "case (infer_v_consI s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z)"], ["proof (state)\nthis:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (2 subgoals):\n 1. \\<And>s dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv z b bv.\n       \\<lbrakk>atom z \\<sharp> b; atom z \\<sharp> bv;\n        AF_typedef s dclist \\<in> set \\<Theta>; (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc;\n        atom z \\<sharp> v; atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n                       s dc\n                       v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n   s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\n  s dc\n  v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n                    s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s\n                             dc v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding   subst_b_simps b_of_subst_bv"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_cons\n s dc\n (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_id\n                    s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s\n                             dc (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. AF_typedef s ?dclist \\<in> set \\<Theta>\n 2. (dc, ?tc) \\<in> set ?dclist\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> ?tc\n 5. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 6. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"AF_typedef s dclist \\<in> set \\<Theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AF_typedef s dclist \\<in> set \\<Theta>", "using infer_v_consI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. AF_typedef s dclist \\<in> set \\<Theta>", "by auto"], ["proof (state)\nthis:\n  AF_typedef s dclist \\<in> set \\<Theta>\n\ngoal (5 subgoals):\n 1. (dc, ?tc) \\<in> set dclist\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> ?tc\n 4. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 5. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"(dc, tc) \\<in> set dclist\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (dc, tc) \\<in> set dclist", "using infer_v_consI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. (dc, tc) \\<in> set dclist", "by auto"], ["proof (state)\nthis:\n  (dc, tc) \\<in> set dclist\n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> tc\n 3. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 4. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_v_consI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc\n 2. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 3. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "have \"atom bv \\<sharp> tc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> tc", "using wfTh_lookup_supp_empty fresh_def infer_v_consI infer_v_wf"], ["proof (prove)\nusing this:\n  \\<lbrakk>AF_typedef ?tid ?dclist \\<in> set ?\\<Theta>;\n   (?c, ?t) \\<in> set ?dclist;\n      \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \\<rbrakk>\n  \\<Longrightarrow> supp ?t = {}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile>\\<^sub>w\\<^sub>f ?v : b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?G   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?G \n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> tc", "by fast"], ["proof (state)\nthis:\n  atom bv \\<sharp> tc\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> tc\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "have  \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_b_subtype infer_v_consI"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> tc\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show  ?thesis"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> tc\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "using forget_subst subst_b_\\<tau>_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> tc\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_tb_abbrev\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 2. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "using infer_v_consI"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "using  subst_b_fresh_x subst_b_v_def"], ["proof (prove)\nusing this:\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef s dclist \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc\n  atom z \\<sharp> v\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "show \"atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)", "by(fresh_mth add: infer_v_consI subst_b_fresh_x subst_b_\\<Gamma>_def fresh_empty_fset)"], ["proof (state)\nthis:\n  atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_cons\ns dc\nv)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_id\n                  s  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_cons s dc\n                           v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "case (infer_v_conspI s bv2 dclist2 \\<Theta> dc tc \\<B> \\<Gamma> v tv ba z)"], ["proof (state)\nthis:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "have \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_consp s dc (ba[bv::=b]\\<^sub>b\\<^sub>b) (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_app s (ba[bv::=b]\\<^sub>b\\<^sub>b)  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc (ba[bv::=b]\\<^sub>b\\<^sub>b) (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_consp\n s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_app s\n                    ba[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n                s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_v_conspI)"], ["proof (state)\ngoal (7 subgoals):\n 1. AF_typedef_poly s ?bv ?dclist \\<in> set \\<Theta>\n 2. (dc, ?tc) \\<in> set ?dclist\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> ?tc[?bv::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n 5. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 6. atom\n     ?bv \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 7.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>", "using infer_v_conspI"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>", "by auto"], ["proof (state)\nthis:\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n\ngoal (6 subgoals):\n 1. (dc, ?tc) \\<in> set dclist2\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> ?tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n 4. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 5. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 6.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"(dc, tc) \\<in> set dclist2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (dc, tc) \\<in> set dclist2", "using infer_v_conspI"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. (dc, tc) \\<in> set dclist2", "by auto"], ["proof (state)\nthis:\n  (dc, tc) \\<in> set dclist2\n\ngoal (5 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?tv\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?tv \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n 3. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 4. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 5.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_v_conspI subst_tb.simps"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n 2. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 3. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 4.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "have \"supp tc \\<subseteq> { atom bv2 }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp tc \\<subseteq> {atom bv2}", "using infer_v_conspI wfTh_poly_lookup_supp wfX_wfY"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>AF_typedef_poly ?tid ?bv ?dclist \\<in> set ?\\<Theta>;\n   (?c, ?t) \\<in> set ?dclist;\n      \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \\<rbrakk>\n  \\<Longrightarrow> supp ?t \\<subseteq> {atom ?bv}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1. supp tc \\<subseteq> {atom bv2}", "by metis"], ["proof (state)\nthis:\n  supp tc \\<subseteq> {atom bv2}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  supp tc \\<subseteq> {atom bv2}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "have \"bv2 \\<noteq> bv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bv2 \\<noteq> bv", "using \\<open>atom bv2 \\<sharp> \\<B>\\<close> \\<open>\\<B> = {|bv|} \\<close> fresh_at_base fresh_def"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> \\<B>\n  \\<B> = {|bv|}\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n\ngoal (1 subgoal):\n 1. bv2 \\<noteq> bv", "using fresh_finsert"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> \\<B>\n  \\<B> = {|bv|}\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> finsert ?x ?S = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?S)\n\ngoal (1 subgoal):\n 1. bv2 \\<noteq> bv", "by fastforce"], ["proof (state)\nthis:\n  bv2 \\<noteq> bv\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  supp tc \\<subseteq> {atom bv2}\n  bv2 \\<noteq> bv", "have \"atom bv \\<sharp> tc\""], ["proof (prove)\nusing this:\n  supp tc \\<subseteq> {atom bv2}\n  bv2 \\<noteq> bv\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> tc", "unfolding fresh_def"], ["proof (prove)\nusing this:\n  supp tc \\<subseteq> {atom bv2}\n  bv2 \\<noteq> bv\n\ngoal (1 subgoal):\n 1. atom bv \\<notin> supp tc", "by auto"], ["proof (state)\nthis:\n  atom bv \\<sharp> tc\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "hence \"tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b = tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> tc\n\ngoal (1 subgoal):\n 1. tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n    tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_tb_commute"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> tc\n  atom ?j \\<sharp> ?A \\<Longrightarrow>\n  ?A[?i::=?t]\\<^sub>\\<tau>\\<^sub>b[?j::=?u]\\<^sub>\\<tau>\\<^sub>b =\n  ?A[?i::=?t[?j::=?u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n    tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n  tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n  tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "have \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_v_conspI(7) subst_b_subtype infer_v_conspI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n  tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?thesis"], ["proof (prove)\nusing this:\n  tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b =\n  tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> tv[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> tc[bv2::=ba[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 2. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 3.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"atom z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)", "apply(unfold fresh_prodN, intro conjI, auto simp add: infer_v_conspI fresh_empty_fset)"], ["proof (prove)\ngoal (2 subgoals):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "using \\<open>atom z \\<sharp> \\<Gamma>\\<close>  fresh_subst_if   subst_b_\\<Gamma>_def x_fresh_b"], ["proof (prove)\nusing this:\n  atom z \\<sharp> \\<Gamma>\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_gb_abbrev\n  atom ?x \\<sharp> ?b\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "apply metis"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "using \\<open>atom z \\<sharp> v\\<close>  fresh_subst_if   subst_b_v_def x_fresh_b"], ["proof (prove)\nusing this:\n  atom z \\<sharp> v\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  atom ?x \\<sharp> ?b\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n\ngoal (2 subgoals):\n 1. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n 2.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"atom bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)", "apply(unfold fresh_prodN, intro conjI, auto simp add: infer_v_conspI fresh_empty_fset)"], ["proof (prove)\ngoal (3 subgoals):\n 1. atom bv2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom bv2 \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 3. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "using \\<open>atom bv2 \\<sharp> b\\<close>  \\<open>atom bv2 \\<sharp> \\<Gamma>\\<close> fresh_subst_if   subst_b_\\<Gamma>_def"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> \\<Gamma>\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_gb_abbrev\n\ngoal (3 subgoals):\n 1. atom bv2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom bv2 \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 3. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "apply metis"], ["proof (prove)\ngoal (2 subgoals):\n 1. atom bv2 \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 2. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "using \\<open>atom bv2 \\<sharp> b\\<close>  \\<open>atom bv2 \\<sharp> v\\<close> fresh_subst_if   subst_b_v_def"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> v\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n\ngoal (2 subgoals):\n 1. atom bv2 \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 2. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "apply metis"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "using \\<open>atom bv2 \\<sharp> b\\<close>  \\<open>atom bv2 \\<sharp> ba\\<close> fresh_subst_if   subst_b_b_def"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> ba\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. atom bv2 \\<sharp> ba[bv::=b]\\<^sub>b\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom\n   bv2 \\<sharp> (\\<Theta>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, ba[bv::=b]\\<^sub>b\\<^sub>b)\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "show \"\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "using infer_v_conspI  wf_b_subst"], ["proof (prove)\nusing this:\n  atom bv2 \\<sharp> b\n  atom bv2 \\<sharp> bv\n  atom z \\<sharp> b\n  atom z \\<sharp> bv\n  AF_typedef_poly s bv2 dclist2 \\<in> set \\<Theta>\n  (dc, tc) \\<in> set dclist2\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   \\<B> = {|?ba|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[?ba::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[?ba::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[?ba::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv2::=ba]\\<^sub>\\<tau>\\<^sub>b\n  atom z \\<sharp> \\<Theta>\n  atom z \\<sharp> \\<B>\n  atom z \\<sharp> \\<Gamma>\n  atom z \\<sharp> v\n  atom z \\<sharp> ba\n  atom bv2 \\<sharp> \\<Theta>\n  atom bv2 \\<sharp> \\<B>\n  atom bv2 \\<sharp> \\<Gamma>\n  atom bv2 \\<sharp> v\n  atom bv2 \\<sharp> ba\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ba \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba[bv::=b]\\<^sub>b\\<^sub>b \n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_consp\n                                     s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                                     (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_app\n                  s ba[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n                s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>s bv dclist \\<Theta> dc tc \\<B> \\<Gamma> v tv b z ba bva.\n       \\<lbrakk>atom bv \\<sharp> ba; atom bv \\<sharp> bva;\n        atom z \\<sharp> ba; atom z \\<sharp> bva;\n        AF_typedef_poly s bv dclist \\<in> set \\<Theta>;\n        (dc, tc) \\<in> set dclist;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> tv;\n        \\<And>b ba.\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|ba|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[ba::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[ba::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> tv[ba::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> tv \\<lesssim> tc[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        atom z \\<sharp> \\<Theta>; atom z \\<sharp> \\<B>;\n        atom z \\<sharp> \\<Gamma>; atom z \\<sharp> v; atom z \\<sharp> b;\n        atom bv \\<sharp> \\<Theta>; atom bv \\<sharp> \\<B>;\n        atom bv \\<sharp> \\<Gamma>; atom bv \\<sharp> v; atom bv \\<sharp> b;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bva|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; {||} ; \\<Gamma>[bva::=ba]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n                         s dc b\n                         v)[bva::=ba]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app\n       s b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s dc b\n                  v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bva::=ba]\\<^sub>\\<tau>\\<^sub>b", "thus ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_consp\n                                     s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                                     (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_app\n                  s ba[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n                s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n  s dc ba\n  v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app s\n                    ba  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                              dc ba\n                              v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_vb.simps subst_tb.simps subst_bb.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> V_consp\n                                     s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                                     (v[bv::=b]\\<^sub>v\\<^sub>b) \\<Rightarrow> \\<lbrace> z : B_app\n                  s ba[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp\n                s dc ba[bv::=b]\\<^sub>b\\<^sub>b\n                (v[bv::=b]\\<^sub>v\\<^sub>b) ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\n  s dc ba\n  v)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app s\n                    ba  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                              dc ba\n                              v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> (V_consp\ns dc ba\nv)[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_app s\n                  ba  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ V_consp s\n                            dc ba\n                            v ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_check_v:\n  fixes v::v and b::b\n  assumes \"\\<Theta> ; B ; G \\<turnstile> v \\<Leftarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\" and \"B = {|bv|}\"\n  shows  \"\\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "obtain \\<tau>' where \"\\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>  \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<tau>'.\n         \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>\n        \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using check_v_elims[OF assms(1)]"], ["proof (prove)\nusing this:\n  (\\<And>\\<tau>1.\n      \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> \\<tau>1 \\<lesssim> \\<tau>;\n        \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>1\\<rbrakk>\n      \\<Longrightarrow> ?P) \\<Longrightarrow>\n  ?P\n\ngoal (1 subgoal):\n 1. (\\<And>\\<tau>'.\n         \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>\n        \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>\n  \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n   \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>\n  \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_b_subtype subst_b_infer_v assms"], ["proof (prove)\nusing this:\n   \\<Theta> ; B ; G \\<turnstile> v \\<Rightarrow> \\<tau>' \\<and>\n  \\<Theta> ; B ; G  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by (metis (no_types)  check_v_subtypeI subst_b_infer_v subst_b_subtype)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_vv_subst_vb_switch:\n  shows  \"(v'[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v = v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v'[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    v'[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "proof(nominal_induct v' rule:v.strong_induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 4. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 5. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "case (V_lit x)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 4. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 5. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "using subst_vv.simps subst_vb.simps"], ["proof (prove)\nusing this:\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 4. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 4. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "case (V_var x)"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       ([ xa ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       [ xa ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 4. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "using subst_vv.simps subst_vb.simps"], ["proof (prove)\nusing this:\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ([ x ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  [ x ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "case (V_pair x1a x2a)"], ["proof (state)\nthis:\n  (x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>x1a x2a.\n       \\<lbrakk>(x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b;\n        (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n        x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\\<rbrakk>\n       \\<Longrightarrow> ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n                         [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 3. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  (x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "using subst_vv.simps subst_vb.simps v.fresh"], ["proof (prove)\nusing this:\n  (x1a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x1a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  (x2a[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x2a[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ([ x1a , x2a ]\\<^sup>v[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  [ x1a , x2a ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "case (V_cons x1a x2a x3)"], ["proof (state)\nthis:\n  (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2a x3.\n       (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_cons x1a x2a\n          x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n 2. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((V_cons x1a x2a\n       x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "using subst_vv.simps subst_vb.simps v.fresh"], ["proof (prove)\nusing this:\n  (x3[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x3[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. ((V_cons x1a x2a\n       x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  ((V_cons x1a x2a\n     x3)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  (V_cons x1a x2a x3)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "case (V_consp x1a x2a x3 x4)"], ["proof (state)\nthis:\n  (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3 x4.\n       (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b \\<Longrightarrow>\n       ((V_consp x1a x2a x3\n          x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n       (V_consp x1a x2a x3\n         x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. ((V_consp x1a x2a x3\n       x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "using subst_vv.simps subst_vb.simps v.fresh pure_fresh"], ["proof (prove)\nusing this:\n  (x4[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  x4[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  (if ?x = ?y then ?v else [ ?y ]\\<^sup>v)\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_cons ?tyid ?c ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>v =\n  V_consp ?tyid ?c ?b ?v'[?x::=?v]\\<^sub>v\\<^sub>v\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>v =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>v , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>v ]\\<^sup>v\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?x\n\ngoal (1 subgoal):\n 1. ((V_consp x1a x2a x3\n       x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n    (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b", "by (metis forget_subst subst_b_b_def)"], ["proof (state)\nthis:\n  ((V_consp x1a x2a x3\n     x4)[bv::=b']\\<^sub>v\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>v\\<^sub>v =\n  (V_consp x1a x2a x3 x4)[x::=v]\\<^sub>v\\<^sub>v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_cev_subst_vb_switch:\n  shows  \"(ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>e\\<^sub>v = (ce[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ce[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>e\\<^sub>v =\n    (ce[x::=v]\\<^sub>c\\<^sub>e\\<^sub>v)[bv::=b']\\<^sub>c\\<^sub>e\\<^sub>b", "by(nominal_induct ce rule:ce.strong_induct, auto simp add: subst_vv_subst_vb_switch ce.fresh)"], ["", "lemma subst_cv_subst_vb_switch:\n  shows  \"(c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v = c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n    c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b", "by(nominal_induct c rule:c.strong_induct, auto simp add: subst_cev_subst_vb_switch c.fresh)"], ["", "lemma subst_tv_subst_vb_switch:\n  shows  \"(\\<tau>[bv::=b']\\<^sub>\\<tau>\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "proof(nominal_induct \\<tau> avoiding: x v rule:\\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "case (T_refined_type z b c )"], ["proof (state)\nthis:\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "hence ceq: \"(c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v = c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n\ngoal (1 subgoal):\n 1. (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n    c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b", "using subst_cv_subst_vb_switch"], ["proof (prove)\nusing this:\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n  (?c[?bv::=?b']\\<^sub>c\\<^sub>b)[?x::=?v[?bv::=?b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  ?c[?x::=?v]\\<^sub>c\\<^sub>v[?bv::=?b']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n    c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "have \"atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b", "using x_fresh_b fresh_subst_if subst_b_v_def T_refined_type"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_vb_abbrev\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "hence \"\\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\""], ["proof (prove)\nusing this:\n  atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>", "using subst_tv.simps subst_tb.simps T_refined_type fresh_Pair"], ["proof (prove)\nusing this:\n  atom z \\<sharp> v[bv::=b']\\<^sub>v\\<^sub>b\n  atom ?z \\<sharp> (?x, ?v) \\<Longrightarrow>\n  \\<lbrace> ?z : ?b  | ?c \\<rbrace>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> ?z : ?b  | ?c[?x::=?v]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "have \"\\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>  =  \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n    \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "using subst_tv.simps subst_tb.simps ceq \\<tau>.fresh forget_subst[of \"bv\" b b'] subst_b_b_def T_refined_type"], ["proof (prove)\nusing this:\n  atom ?z \\<sharp> (?x, ?v) \\<Longrightarrow>\n  \\<lbrace> ?z : ?b  | ?c \\<rbrace>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> ?z : ?b  | ?c[?x::=?v]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  atom bv \\<sharp> b \\<Longrightarrow> b[bv::=b']\\<^sub>b = b\n  subst_b = subst_bb_abbrev\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n    \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n  \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x v.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> v\\<rbrakk>\n       \\<Longrightarrow> \\<lbrace> x1a : x2a  | x3a \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n                         \\<lbrace> x1a : x2a  | x3a \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n  \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\nusing this:\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n  \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<lbrace> z : b  | c \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "using subst_tv.simps subst_tb.simps ceq T_refined_type"], ["proof (prove)\nusing this:\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> z : b[bv::=b']\\<^sub>b\\<^sub>b  | (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v \\<rbrace> =\n  \\<lbrace> z : b  | c[x::=v]\\<^sub>c\\<^sub>v \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?z \\<sharp> (?x, ?v) \\<Longrightarrow>\n  \\<lbrace> ?z : ?b  | ?c \\<rbrace>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> ?z : ?b  | ?c[?x::=?v]\\<^sub>c\\<^sub>v \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (c[bv::=b']\\<^sub>c\\<^sub>b)[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>c\\<^sub>v =\n  c[x::=v]\\<^sub>c\\<^sub>v[bv::=b']\\<^sub>c\\<^sub>b\n  atom z \\<sharp> x\n  atom z \\<sharp> v\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<lbrace> z : b  | c \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<lbrace> z : b  | c \\<rbrace>[bv::=b']\\<^sub>\\<tau>\\<^sub>b[x::=v[bv::=b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<lbrace> z : b  | c \\<rbrace>[x::=v]\\<^sub>\\<tau>\\<^sub>v[bv::=b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_tb_triple:\n  assumes \"atom bv \\<sharp> \\<tau>'\" \n  shows  \"\\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"\\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v = \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b [x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v", "using subst_tb_commute \\<open>atom bv \\<sharp> \\<tau>'\\<close>"], ["proof (prove)\nusing this:\n  atom ?j \\<sharp> ?A \\<Longrightarrow>\n  ?A[?i::=?t]\\<^sub>\\<tau>\\<^sub>b[?j::=?u]\\<^sub>\\<tau>\\<^sub>b =\n  ?A[?i::=?t[?j::=?u]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b\n  atom bv \\<sharp> \\<tau>'\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v", "by auto"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "also"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"... = \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b [x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_tv_subst_vb_switch"], ["proof (prove)\nusing this:\n  ?\\<tau>[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b[?x::=?v[?bv::=?b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  ?\\<tau>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[bv::=b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "finally"], ["proof (chain)\npicking this:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using fresh_subst_if forget_subst"], ["proof (prove)\nusing this:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_infer_e:\n  fixes s::s and b::b\n  assumes \"\\<Theta> ; \\<Phi> ; B ; G; D \\<turnstile> e \\<Rightarrow> \\<tau>\" and \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\"  and \"B = {|bv|}\" \n  shows  \"\\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile> (e[bv::=b]\\<^sub>e\\<^sub>b) \\<Rightarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using assms"], ["proof (prove)\nusing this:\n  \\<Theta> ; \\<Phi> ; B ; G ; D  \\<turnstile> e \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(nominal_induct avoiding: b rule: infer_e.strong_induct)"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n        \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         (u, \\<tau>) \\<in> setD \\<Delta>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 12 subgoals...", "case (infer_e_valI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n        \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         (u, \\<tau>) \\<in> setD \\<Delta>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using  subst_eb.simps infer_e.intros wf_b_subst subst_db.simps wf_b_subst infer_v_wf subst_b_infer_v"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v \\<Rightarrow> ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ ?v ]\\<^sup>e \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v1.0 \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v2.0 \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>;\n   atom ?z3.0 \\<sharp> [ plus ?v1.0 ?v2.0 ]\\<^sup>e;\n   atom ?z3.0 \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ plus ?v1.0 ?v2.0 ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z3.0 : B_int  | [ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ ?v1.0 ]\\<^sup>c\\<^sup>e [ ?v2.0 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v1.0 \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v2.0 \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>;\n   atom ?z3.0 \\<sharp> [ leq ?v1.0 ?v2.0 ]\\<^sup>e;\n   atom ?z3.0 \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ leq ?v1.0 ?v2.0 ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z3.0 : B_bool  | [ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ ?v1.0 ]\\<^sup>c\\<^sup>e [ ?v2.0 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v1.0 \\<Rightarrow> \\<lbrace> ?z1.0 : ?b  | ?c1.0 \\<rbrace>;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v2.0 \\<Rightarrow> \\<lbrace> ?z2.0 : ?b  | ?c2.0 \\<rbrace>;\n   atom ?z3.0 \\<sharp> [ eq ?v1.0 ?v2.0 ]\\<^sup>e;\n   atom ?z3.0 \\<sharp> ?\\<Gamma>; ?b \\<in> {B_bool, B_int, B_unit}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ eq ?v1.0 ?v2.0 ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z3.0 : B_bool  | [ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ ?v1.0 ]\\<^sup>c\\<^sup>e [ ?v2.0 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n   Some\n    (AF_fundef ?f (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n   lookup_fun ?\\<Phi> ?f;\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>  \\<turnstile> ?v \\<Leftarrow> \\<lbrace> ?x : ?b  | ?c \\<rbrace>;\n   atom\n    ?x \\<sharp> (?\\<Theta>, ?\\<Phi>, ?\\<B>, ?\\<Gamma>, ?\\<Delta>, ?v,\n                 ?\\<tau>);\n   ?\\<tau>'[?x::=?v]\\<^sub>v = ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ ?f  ?v  ]\\<^sup>e \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   Some\n    (AF_fundef ?f\n      (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n   lookup_fun ?\\<Phi> ?f;\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>  \\<turnstile> ?v \\<Leftarrow> \\<lbrace> ?x : ?b[?bv::=?b']\\<^sub>b  | ?c[?bv::=?b']\\<^sub>b \\<rbrace>;\n   atom ?x \\<sharp> ?\\<Gamma>;\n   ?\\<tau>'[?bv::=?b']\\<^sub>b[?x::=?v]\\<^sub>v = ?\\<tau>;\n   atom\n    ?bv \\<sharp> (?\\<Theta>, ?\\<Phi>, ?\\<B>, ?\\<Gamma>, ?\\<Delta>, ?b', ?v,\n                  ?\\<tau>)\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [?f [ ?b' ]  ?v ]\\<^sup>e \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>;\n   atom ?z \\<sharp> [#1?v ]\\<^sup>e; atom ?z \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [#1?v ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z : ?b1.0  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ ?v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>;\n   atom ?z \\<sharp> [#2?v ]\\<^sup>e; atom ?z \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [#2?v ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z : ?b2.0  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ ?v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v \\<Rightarrow> \\<lbrace> ?z' : B_bitvec  | ?c \\<rbrace>;\n   atom ?z \\<sharp> [| ?v |]\\<^sup>e; atom ?z \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [| ?v |]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z : B_int  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ ?v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   (?u, ?\\<tau>) \\<in> setD ?\\<Delta>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ ?u ]\\<^sup>e \\<Rightarrow> ?\\<tau>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v1.0 \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v2.0 \\<Rightarrow> \\<lbrace> ?z2.0 : B_bitvec  | ?c2.0 \\<rbrace>;\n   atom ?z3.0 \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e;\n   atom ?z3.0 \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z3.0 : B_bitvec  | [ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ ?v1.0 ]\\<^sup>c\\<^sup>e @@ [ ?v2.0 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v1.0 \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>;\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>  \\<turnstile> ?v2.0 \\<Leftarrow> \\<lbrace> ?z2.0 : B_int  | [ leq [ [ L_num\n                            0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ ?v1.0 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n   atom ?z1.0 \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e;\n   atom ?z1.0 \\<sharp> ?\\<Gamma>;\n   atom ?z2.0 \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e;\n   atom ?z2.0 \\<sharp> ?\\<Gamma>;\n   atom ?z3.0 \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e;\n   atom ?z3.0 \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [ ?v1.0 \n                    ?v2.0 ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z3.0 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ ?v1.0 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ ?z3.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ ?v2.0 ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile>\\<^sub>w\\<^sub>f ?v : b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?G   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?G \n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by (metis forget_subst ms_fresh_all(1) wfV_b_fresh)"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n        \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n         atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n        \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n         atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "case (infer_e_plusI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n        \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n         atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps subst_eb.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e [ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_plusI)"], ["proof (state)\ngoal (6 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 5. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_plusI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (5 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 4. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_plusI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 3. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_plusI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 2. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_plusI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> AE_op Plus (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using  subst_b_simps infer_e_plusI subst_b_fresh_x subst_b_e_def"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_eb_abbrev\n\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom\n   z3 \\<sharp> [ plus v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_plusI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ plus v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ plus v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_int  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ plus [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n        \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                         0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n         atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n         atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n         atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                          v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n        \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                         0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n         atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n         atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n         atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                          v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_leqI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n        \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n          \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                         0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n         atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n         atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n         atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                          v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e [ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_leqI)"], ["proof (state)\ngoal (6 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 5. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_leqI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (5 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 4. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_leqI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_int  | ?c1.0 \\<rbrace>\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 3. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_leqI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_int  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_int  | ?c2.0 \\<rbrace>\n 2. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_leqI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_int  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> AE_op LEq (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using  subst_b_simps infer_e_leqI subst_b_fresh_x subst_b_e_def"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_eb_abbrev\n\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom\n   z3 \\<sharp> [ leq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_leqI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_int  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_int  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ leq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ leq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ leq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_eqI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 bb c1 v2 z2 c2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 b c1 v2 z2 c2 z3 ba.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : b  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : b  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n        b \\<in> {B_bool, B_int, B_unit};\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e [ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_eqI)"], ["proof (state)\ngoal (7 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : ?b  | ?c1.0 \\<rbrace>\n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : ?b  | ?c2.0 \\<rbrace>\n 5. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 7. ?b \\<in> {B_bool, B_int, B_unit}", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_eqI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (6 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : ?b  | ?c1.0 \\<rbrace>\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : ?b  | ?c2.0 \\<rbrace>\n 4. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 6. ?b \\<in> {B_bool, B_int, B_unit}", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_eqI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (5 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : ?b  | ?c1.0 \\<rbrace>\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : ?b  | ?c2.0 \\<rbrace>\n 3. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. ?b \\<in> {B_bool, B_int, B_unit}", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_eqI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : bb[bv::=b]\\<^sub>b\\<^sub>b  | ?c2.0 \\<rbrace>\n 2. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 4. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v  infer_e_eqI subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : bb[bv::=b]\\<^sub>b\\<^sub>b  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (3 subgoals):\n 1. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 3. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "show \"atom z3 \\<sharp> AE_op Eq (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using  subst_b_simps infer_e_eqI subst_b_fresh_x subst_b_e_def"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_eb_abbrev\n\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom\n   z3 \\<sharp> [ eq v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (2 subgoals):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "show \"atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_eqI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "show \"bb[bv::=b]\\<^sub>b\\<^sub>b  \\<in> {B_bool, B_int, B_unit}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "using infer_e_eqI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : bb  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : bb  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ eq v1 v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n  bb \\<in> {B_bool, B_int, B_unit}\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}", "by auto"], ["proof (state)\nthis:\n  bb[bv::=b]\\<^sub>b\\<^sub>b \\<in> {B_bool, B_int, B_unit}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ eq v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bool  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ eq [ v1 ]\\<^sup>c\\<^sup>e [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_appI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b' c \\<tau>' s' v \\<tau>)"], ["proof (state)\nthis:\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> f x b c \\<tau>' s' v \\<tau>\n       ba.\n       \\<lbrakk>atom x \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n        Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b  | c \\<rbrace>;\n        atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>;\n        atom x \\<sharp> \\<B>; atom x \\<sharp> \\<Gamma>;\n        atom x \\<sharp> \\<Delta>; atom x \\<sharp> v; atom x \\<sharp> \\<tau>;\n        \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(subst subst_eb.simps, rule Typing.infer_e_appI)"], ["proof (state)\ngoal (6 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3. Some\n     (AF_fundef f (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi> f\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b  | ?c \\<rbrace>\n 5. atom\n     ?x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  v[bv::=b]\\<^sub>v\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 6. ?\\<tau>'[?x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_appI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (5 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2. Some\n     (AF_fundef f (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi> f\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b  | ?c \\<rbrace>\n 4. atom\n     ?x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  v[bv::=b]\\<^sub>v\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 5. ?\\<tau>'[?x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_appI"], ["proof (prove)\nusing this:\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (4 subgoals):\n 1. Some\n     (AF_fundef f (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi> f\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b  | ?c \\<rbrace>\n 3. atom\n     ?x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  v[bv::=b]\\<^sub>v\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 4. ?\\<tau>'[?x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) = lookup_fun \\<Phi> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n    lookup_fun \\<Phi> f", "using infer_e_appI"], ["proof (prove)\nusing this:\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n    lookup_fun \\<Phi> f", "by auto"], ["proof (state)\nthis:\n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "(*show  \"\\<Theta> ; {||} ; (x, b', c) #\\<^sub>\\<Gamma> GNil   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>'\" using infer_e_appI sory*)"], ["proof (state)\nthis:\n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"atom bv \\<sharp> b'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> b'", "using \\<open>\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \\<close> infer_e_appI wfPhi_f_supp  fresh_def[of \"atom bv\" b']"], ["proof (prove)\nusing this:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?b \\<subseteq> supp ?bv\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?b = {}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?c \\<subseteq> {atom ?x, atom ?bv}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?\\<tau> \\<subseteq> {atom ?x}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?\\<tau> \\<subseteq> {atom ?x, atom ?bv}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?\\<tau> \\<subseteq> {atom ?x}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {|?bv|} ; (?x, ?b, ?c) #\\<^sub>\\<Gamma>\n     GNil   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> \n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; (?x, ?b, ?c) #\\<^sub>\\<Gamma>\n  GNil   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> \n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?s \\<subseteq> {atom ?x, atom ?bv}\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?s \\<subseteq> {atom ?x}\n  atom bv \\<sharp> b' \\<equiv> atom bv \\<notin> supp b'\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> b'", "by simp"], ["proof (state)\nthis:\n  atom bv \\<sharp> b'\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "hence \"b' = b'[bv::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> b'\n\ngoal (1 subgoal):\n 1. b' = b'[bv::=b]\\<^sub>b\\<^sub>b", "using subst_b_simps"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> b'\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1. b' = b'[bv::=b]\\<^sub>b\\<^sub>b", "using has_subst_b_class.forget_subst subst_b_b_def"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> b'\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n\ngoal (1 subgoal):\n 1. b' = b'[bv::=b]\\<^sub>b\\<^sub>b", "by force"], ["proof (state)\nthis:\n  b' = b'[bv::=b]\\<^sub>b\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  b' = b'[bv::=b]\\<^sub>b\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have  ceq:\"c = c[bv::=b]\\<^sub>c\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c = c[bv::=b]\\<^sub>c\\<^sub>b", "using subst_b_simps"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1. c = c[bv::=b]\\<^sub>c\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>z b2 c bv1 b1.\n                \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n                \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<rbrakk>\n    \\<Longrightarrow> c = c[bv::=b]\\<^sub>c\\<^sub>b", "have \"supp c \\<subseteq> {atom x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp c \\<subseteq> {atom x}", "using infer_e_appI wfPhi_f_simple_supp_c[OF  _  \\<open>\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \\<close>]"], ["proof (prove)\nusing this:\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  Some (AF_fundef ?f (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n  lookup_fun \\<Phi> ?f \\<Longrightarrow>\n  supp ?c \\<subseteq> {atom ?x}\n\ngoal (1 subgoal):\n 1. supp c \\<subseteq> {atom x}", "by simp"], ["proof (state)\nthis:\n  supp c \\<subseteq> {atom x}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>z b2 c bv1 b1.\n                \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n                \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<rbrakk>\n    \\<Longrightarrow> c = c[bv::=b]\\<^sub>c\\<^sub>b", "hence \"atom bv \\<sharp> c\""], ["proof (prove)\nusing this:\n  supp c \\<subseteq> {atom x}\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c", "using\n          fresh_def[of \"atom bv\" c]"], ["proof (prove)\nusing this:\n  supp c \\<subseteq> {atom x}\n  atom bv \\<sharp> c \\<equiv> atom bv \\<notin> supp c\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c", "using fresh_def fresh_finsert insert_absorb \n          insert_subset ms_fresh_all supp_at_base x_not_in_b_set fresh_prodN"], ["proof (prove)\nusing this:\n  supp c \\<subseteq> {atom x}\n  atom bv \\<sharp> c \\<equiv> atom bv \\<notin> supp c\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  ?a \\<sharp> finsert ?x ?S = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?S)\n  ?a \\<in> ?A \\<Longrightarrow> insert ?a ?A = ?A\n  (insert ?x ?A \\<subseteq> ?B) = (?x \\<in> ?B \\<and> ?A \\<subseteq> ?B)\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> (TRUE)\n  ?a \\<sharp> (FALSE)\n  ?a \\<sharp> (?c1.0  AND  ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (?c1.0 OR ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (\\<not> ?c ) = ?a \\<sharp> ?c\n  ?a \\<sharp> (?c1.0  IMP  ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (?ce1.0  ==  ?ce2.0 ) =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> L_num ?int = ?a \\<sharp> ?int\n  ?a \\<sharp> L_true\n  ?a \\<sharp> L_false\n  ?a \\<sharp> L_unit\n  ?a \\<sharp> L_bitvec ?list = ?a \\<sharp> ?list\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> plus\n  ?a \\<sharp> leq\n  ?a \\<sharp> eq\n  ?a \\<sharp> ?x\n  ?x \\<sharp> (?a, ?b) = (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> GNil\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?a \\<sharp> ?xs @ ?ys = (?a \\<sharp> ?xs \\<and> ?a \\<sharp> ?ys)\n  \\<lbrakk>toSet ?G \\<subseteq> toSet ?G'; ?x \\<sharp> ?G'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?G\n  atom ?x \\<sharp> ?\\<Gamma>' @ ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>\n  ?a \\<sharp> []\\<^sub>\\<Delta>\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  supp ?a = {atom ?a}\n  atom ?x \\<notin> supp ?bs\n  ?a \\<sharp> (?x, ?y) = (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?y)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c", "by metis"], ["proof (state)\nthis:\n  atom bv \\<sharp> c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>z b2 c bv1 b1.\n                \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n                \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<rbrakk>\n    \\<Longrightarrow> c = c[bv::=b]\\<^sub>c\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> c\n\ngoal (1 subgoal):\n 1. c = c[bv::=b]\\<^sub>c\\<^sub>b", "using forget_subst subst_b_c_def  fresh_def[of \"atom bv\" c]"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> c\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_cb_abbrev\n  atom bv \\<sharp> c \\<equiv> atom bv \\<notin> supp c\n\ngoal (1 subgoal):\n 1. c = c[bv::=b]\\<^sub>c\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  c = c[bv::=b]\\<^sub>c\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c = c[bv::=b]\\<^sub>c\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show   \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "using subst_b_check_v subst_tb.simps subst_vb.simps infer_e_appI"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     atom x \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n     Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n     lookup_fun \\<Phi> f;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>;\n     atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>; atom x \\<sharp> \\<B>;\n     atom x \\<sharp> \\<Gamma>; atom x \\<sharp> \\<Delta>; atom x \\<sharp> v;\n     atom x \\<sharp> \\<tau>; \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "have \"\\<Theta> ; {|bv|} ; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b' | c \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "by (metis \\<open>\\<B> = {|bv|}\\<close> \\<open>\\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b' | c \\<rbrace>\\<close>)"], ["proof (state)\nthis:\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     atom x \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n     Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n     lookup_fun \\<Phi> f;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>;\n     atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>; atom x \\<sharp> \\<B>;\n     atom x \\<sharp> \\<Gamma>; atom x \\<sharp> \\<Delta>; atom x \\<sharp> v;\n     atom x \\<sharp> \\<tau>; \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     atom x \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n     Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n     lookup_fun \\<Phi> f;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>;\n     atom x \\<sharp> \\<Theta>; atom x \\<sharp> \\<Phi>; atom x \\<sharp> \\<B>;\n     atom x \\<sharp> \\<Gamma>; atom x \\<sharp> \\<Delta>; atom x \\<sharp> v;\n     atom x \\<sharp> \\<tau>; \\<tau>'[x::=v]\\<^sub>v = \\<tau>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Theta> ; {|bv|} ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>", "by (metis (no_types) \\<open>\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\\<close> \\<open>b' = b'[bv::=b]\\<^sub>b\\<^sub>b\\<close> subst_b_check_v subst_tb.simps ceq)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom x \\<sharp> (\\<Theta>, \\<Phi>, {||}::bv fset, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, v[bv::=b]\\<^sub>v\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "apply (fresh_mth add:  fresh_prodN subst_g_b_x_fresh infer_e_appI )"], ["proof (prove)\ngoal (3 subgoals):\n 1. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 2. atom x \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 3. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_b_fresh_x infer_e_appI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (3 subgoals):\n 1. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 2. atom x \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 3. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply metis+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               v[bv::=b]\\<^sub>v\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (1 subgoal):\n 1. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"supp \\<tau>' \\<subseteq> { atom x }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp \\<tau>' \\<subseteq> {atom x}", "using wfPhi_f_simple_supp_t  infer_e_appI"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_none (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?\\<tau> \\<subseteq> {atom ?x}\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. supp \\<tau>' \\<subseteq> {atom x}", "by auto"], ["proof (state)\nthis:\n  supp \\<tau>' \\<subseteq> {atom x}\n\ngoal (1 subgoal):\n 1. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "hence \"atom bv \\<sharp> \\<tau>'\""], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x}\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> \\<tau>'", "using fresh_def fresh_at_base"], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> \\<tau>'", "by force"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<tau>'\n\ngoal (1 subgoal):\n 1. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> \\<tau>'", "show  \"\\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v = \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<tau>'\n\ngoal (1 subgoal):\n 1. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_e_appI \n        forget_subst subst_b_\\<tau>_def subst_tv_subst_vb_switch subst_defs"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<tau>'\n  atom x \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n  Some (AF_fundef f (AF_fun_typ_none (AF_fun_typ x b' c \\<tau>' s'))) =\n  lookup_fun \\<Phi> f\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b'  | c \\<rbrace>\n  atom x \\<sharp> \\<Theta>\n  atom x \\<sharp> \\<Phi>\n  atom x \\<sharp> \\<B>\n  atom x \\<sharp> \\<Gamma>\n  atom x \\<sharp> \\<Delta>\n  atom x \\<sharp> v\n  atom x \\<sharp> \\<tau>\n  \\<tau>'[x::=v]\\<^sub>v = \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_tb_abbrev\n  ?\\<tau>[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b[?x::=?v[?bv::=?b']\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  ?\\<tau>[?x::=?v]\\<^sub>\\<tau>\\<^sub>v[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1. \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<tau>'[x::=v[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ f  v  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_appPI \\<Theta>' \\<B> \\<Gamma>' \\<Delta> \\<Phi>' b' f' bv' x' b1 c \\<tau>' s' v' \\<tau>1)"], ["proof (state)\nthis:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have beq: \"b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =  b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "have \"supp b1 \\<subseteq> { atom bv' }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp b1 \\<subseteq> {atom bv'}", "using wfPhi_f_poly_supp_b infer_e_appPI"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?b \\<subseteq> supp ?bv\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. supp b1 \\<subseteq> {atom bv'}", "using supp_at_base"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?b \\<subseteq> supp ?bv\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  supp ?a = {atom ?a}\n\ngoal (1 subgoal):\n 1. supp b1 \\<subseteq> {atom bv'}", "by blast"], ["proof (state)\nthis:\n  supp b1 \\<subseteq> {atom bv'}\n\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  supp b1 \\<subseteq> {atom bv'}\n\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "have \"bv \\<noteq> bv'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "using infer_e_appPI fresh_def supp_at_base"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?a = {atom ?a}\n\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "by (simp add: fresh_def supp_at_base)"], ["proof (state)\nthis:\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  supp b1 \\<subseteq> {atom bv'}\n  bv \\<noteq> bv'", "have \"atom bv \\<sharp> b1\""], ["proof (prove)\nusing this:\n  supp b1 \\<subseteq> {atom bv'}\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> b1", "using fresh_def fresh_at_base"], ["proof (prove)\nusing this:\n  supp b1 \\<subseteq> {atom bv'}\n  bv \\<noteq> bv'\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> b1", "by force"], ["proof (state)\nthis:\n  atom bv \\<sharp> b1\n\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> b1\n\ngoal (1 subgoal):\n 1. b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n    b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n  b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n  b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have ceq: \"(c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b = c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "have \"supp c \\<subseteq> { atom bv', atom x' }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp c \\<subseteq> {atom bv', atom x'}", "using wfPhi_f_poly_supp_c infer_e_appPI"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?c \\<subseteq> {atom ?x, atom ?bv}\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. supp c \\<subseteq> {atom bv', atom x'}", "using supp_at_base"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?c \\<subseteq> {atom ?x, atom ?bv}\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  supp ?a = {atom ?a}\n\ngoal (1 subgoal):\n 1. supp c \\<subseteq> {atom bv', atom x'}", "by blast"], ["proof (state)\nthis:\n  supp c \\<subseteq> {atom bv', atom x'}\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  supp c \\<subseteq> {atom bv', atom x'}\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "have \"bv \\<noteq> bv'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "using infer_e_appPI fresh_def supp_at_base"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?a = {atom ?a}\n\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "by (simp add: fresh_def supp_at_base)"], ["proof (state)\nthis:\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "have \"atom x' \\<noteq> atom bv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x' \\<noteq> atom bv", "by auto"], ["proof (state)\nthis:\n  atom x' \\<noteq> atom bv\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  supp c \\<subseteq> {atom bv', atom x'}\n  bv \\<noteq> bv'\n  atom x' \\<noteq> atom bv", "have \"atom bv \\<sharp> c\""], ["proof (prove)\nusing this:\n  supp c \\<subseteq> {atom bv', atom x'}\n  bv \\<noteq> bv'\n  atom x' \\<noteq> atom bv\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c", "using fresh_def[of \"atom bv\" c] fresh_at_base"], ["proof (prove)\nusing this:\n  supp c \\<subseteq> {atom bv', atom x'}\n  bv \\<noteq> bv'\n  atom x' \\<noteq> atom bv\n  atom bv \\<sharp> c \\<equiv> atom bv \\<notin> supp c\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c", "by auto"], ["proof (state)\nthis:\n  atom bv \\<sharp> c\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> c\n\ngoal (1 subgoal):\n 1. (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n    c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n  c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n  c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> b' f bva x b c \\<tau>' s' v\n       \\<tau> ba.\n       \\<lbrakk>atom bva \\<sharp> ba;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n        Some\n         (AF_fundef f (AF_fun_typ_some bva (AF_fun_typ x b c \\<tau>' s'))) =\n        lookup_fun \\<Phi> f;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> x : b[bva::=b']\\<^sub>b  | c[bva::=b']\\<^sub>b \\<rbrace>;\n        atom x \\<sharp> \\<Gamma>;\n        \\<tau>'[bva::=b']\\<^sub>b[x::=v]\\<^sub>v = \\<tau>;\n        atom bva \\<sharp> \\<Theta>; atom bva \\<sharp> \\<Phi>;\n        atom bva \\<sharp> \\<B>; atom bva \\<sharp> \\<Gamma>;\n        atom bva \\<sharp> \\<Delta>; atom bva \\<sharp> b';\n        atom bva \\<sharp> v; atom bva \\<sharp> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ba ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=ba]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=ba]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f [ b' ]  v ]\\<^sup>e[bv::=ba]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=ba]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta>' ; \\<Phi>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f' [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(subst subst_eb.simps, rule Typing.infer_e_appPI)"], ["proof (state)\ngoal (8 subgoals):\n 1.  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n 3.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 4. Some\n     (AF_fundef f'\n       (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi>' f'\n 5. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | ?c[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n 6. atom ?x \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 7. ?\\<tau>'[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[?x::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. atom\n     ?bv \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show \"\\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst subst_db.simps infer_e_appPI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (7 subgoals):\n 1.  \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n 2.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 3. Some\n     (AF_fundef f'\n       (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi>' f'\n 4. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | ?c[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n 5. atom ?x \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 6. ?\\<tau>'[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[?x::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. atom\n     ?bv \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show \"\\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>'", "using infer_e_appPI"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>'", "by auto"], ["proof (state)\nthis:\n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n\ngoal (6 subgoals):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 2. Some\n     (AF_fundef f'\n       (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau>' ?s'))) =\n    lookup_fun \\<Phi>' f'\n 3. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?x : ?b[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | ?c[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n 4. atom ?x \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. ?\\<tau>'[?bv::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[?x::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. atom\n     ?bv \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show \"Some (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) = lookup_fun \\<Phi>' f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Some\n     (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n    lookup_fun \\<Phi>' f'", "using infer_e_appPI"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. Some\n     (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n    lookup_fun \\<Phi>' f'", "by auto"], ["proof (state)\nthis:\n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n\ngoal (5 subgoals):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 2. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n 3. atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 4. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. atom\n     bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "thus  \"\\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\""], ["proof (prove)\nusing this:\n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "using subst_b_check_v subst_tb.simps subst_b_simps infer_e_appPI"], ["proof (prove)\nusing this:\n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Some\n              (AF_fundef f'\n                (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n             lookup_fun \\<Phi>' f';\n     \\<And>\\<Theta> B G v \\<tau> b bv.\n        \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         B = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     atom bv' \\<sharp> b;\n      \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' ;\n      \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n     Some\n      (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n     lookup_fun \\<Phi>' f';\n     \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>;\n     atom x' \\<sharp> \\<Gamma>';\n     \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1;\n     atom bv' \\<sharp> \\<Theta>'; atom bv' \\<sharp> \\<Phi>';\n     atom bv' \\<sharp> \\<B>; atom bv' \\<sharp> \\<Gamma>';\n     atom bv' \\<sharp> \\<Delta>; atom bv' \\<sharp> b'; atom bv' \\<sharp> v';\n     atom bv' \\<sharp> \\<tau>1;\n      \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "have \"\\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | (c[bv'::=b']\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | c[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using  infer_e_appPI subst_b_check_v subst_tb.simps"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | c[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | c[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Some\n              (AF_fundef f'\n                (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n             lookup_fun \\<Phi>' f';\n     \\<And>\\<Theta> B G v \\<tau> b bv.\n        \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         B = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     atom bv' \\<sharp> b;\n      \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' ;\n      \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' ;\n     Some\n      (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n     lookup_fun \\<Phi>' f';\n     \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>;\n     atom x' \\<sharp> \\<Gamma>';\n     \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1;\n     atom bv' \\<sharp> \\<Theta>'; atom bv' \\<sharp> \\<Phi>';\n     atom bv' \\<sharp> \\<B>; atom bv' \\<sharp> \\<Gamma>';\n     atom bv' \\<sharp> \\<Delta>; atom bv' \\<sharp> b'; atom bv' \\<sharp> v';\n     atom bv' \\<sharp> \\<tau>1;\n      \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "thus  ?thesis"], ["proof (prove)\nusing this:\n  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | c[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "using beq ceq  subst_defs"], ["proof (prove)\nusing this:\n  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b  | c[bv'::=b']\\<^sub>b[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n  b1[bv'::=b']\\<^sub>b\\<^sub>b[bv::=b]\\<^sub>b\\<^sub>b =\n  b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b\\<^sub>b\n  (c[bv'::=b']\\<^sub>c\\<^sub>b)[bv::=b]\\<^sub>c\\<^sub>b =\n  c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>c\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1. \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v'[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b  | c[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b \\<rbrace>\n\ngoal (4 subgoals):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 2. atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 3. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. atom\n     bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show \"atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_appPI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom x' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (3 subgoals):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 2. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. atom\n     bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show  \"\\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v = \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "(* \\<tau>'[bv'::=b']\\<^sub>\\<tau>\\<^sub>b[x'::=v']\\<^sub>\\<tau>\\<^sub>v = \\<tau>1 *)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"supp \\<tau>' \\<subseteq> { atom x', atom bv' }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp \\<tau>' \\<subseteq> {atom x', atom bv'}", "using wfPhi_f_poly_supp_t  infer_e_appPI"], ["proof (prove)\nusing this:\n  \\<lbrakk>Some\n            (AF_fundef ?f\n              (AF_fun_typ_some ?bv (AF_fun_typ ?x ?b ?c ?\\<tau> ?s))) =\n           lookup_fun ?\\<Phi> ?f;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \\<rbrakk>\n  \\<Longrightarrow> supp ?\\<tau> \\<subseteq> {atom ?x, atom ?bv}\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. supp \\<tau>' \\<subseteq> {atom x', atom bv'}", "by auto"], ["proof (state)\nthis:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "hence \"bv \\<noteq> bv'\""], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "using infer_e_appPI fresh_def supp_at_base"], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp ?a = {atom ?a}\n\ngoal (1 subgoal):\n 1. bv \\<noteq> bv'", "by (simp add: fresh_def supp_at_base)"], ["proof (state)\nthis:\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n  bv \\<noteq> bv'", "have \"atom bv \\<sharp> \\<tau>'\""], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n  bv \\<noteq> bv'\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> \\<tau>'", "using fresh_def"], ["proof (prove)\nusing this:\n  supp \\<tau>' \\<subseteq> {atom x', atom bv'}\n  bv \\<noteq> bv'\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> \\<tau>'", "by force"], ["proof (state)\nthis:\n  atom bv \\<sharp> \\<tau>'\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "hence \"\\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v = \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<tau>'\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_tb_triple subst_defs"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> \\<tau>'\n  atom ?bv \\<sharp> ?\\<tau>' \\<Longrightarrow>\n  ?\\<tau>'[?bv'::=?b'[?bv::=?b]\\<^sub>b\\<^sub>b]\\<^sub>\\<tau>\\<^sub>b[?x'::=?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sub>\\<tau>\\<^sub>v =\n  ?\\<tau>'[?bv'::=?b']\\<^sub>\\<tau>\\<^sub>b[?x'::=?v']\\<^sub>\\<tau>\\<^sub>v[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_e_appPI"], ["proof (prove)\nusing this:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n    \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<tau>'[bv'::=b'[bv::=b]\\<^sub>b\\<^sub>b]\\<^sub>b[x'::=v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sub>v =\n  \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n 2. atom\n     bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "show \"atom bv' \\<sharp> (\\<Theta>', \\<Phi>', {||}, \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b, \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                   \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                   \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                   b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                   \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "unfolding fresh_prodN"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv' \\<sharp> \\<Theta>' \\<and>\n    atom bv' \\<sharp> \\<Phi>' \\<and>\n    atom bv' \\<sharp> {||} \\<and>\n    atom bv' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<and>\n    atom bv' \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<and>\n    atom bv' \\<sharp> b'[bv::=b]\\<^sub>b\\<^sub>b \\<and>\n    atom bv' \\<sharp> v'[bv::=b]\\<^sub>v\\<^sub>b \\<and>\n    atom bv' \\<sharp> \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply( auto simp add: infer_e_appPI fresh_empty_fset)"], ["proof (prove)\ngoal (5 subgoals):\n 1. atom bv' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom bv' \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom bv' \\<sharp> b'[bv::=b]\\<^sub>b\\<^sub>b\n 4. atom bv' \\<sharp> v'[bv::=b]\\<^sub>v\\<^sub>b\n 5. atom bv' \\<sharp> \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using fresh_subst_if subst_b_\\<Gamma>_def  subst_b_\\<Delta>_def  subst_b_b_def subst_b_v_def subst_b_\\<tau>_def infer_e_appPI"], ["proof (prove)\nusing this:\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  subst_b = subst_gb_abbrev\n  subst_b = subst_db_abbrev\n  subst_b = subst_bb_abbrev\n  subst_b = subst_vb_abbrev\n  subst_b = subst_tb_abbrev\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (5 subgoals):\n 1. atom bv' \\<sharp> \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom bv' \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom bv' \\<sharp> b'[bv::=b]\\<^sub>b\\<^sub>b\n 4. atom bv' \\<sharp> v'[bv::=b]\\<^sub>v\\<^sub>b\n 5. atom bv' \\<sharp> \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis+"], ["proof (state)\nthis:\n  atom\n   bv' \\<sharp> (\\<Theta>', \\<Phi>', {||},\n                 \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 b'[bv::=b]\\<^sub>b\\<^sub>b, v'[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (1 subgoal):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b", "show \"\\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b", "using infer_e_appPI wf_b_subst"], ["proof (prove)\nusing this:\n  atom bv' \\<sharp> b\n   \\<Theta>' ; \\<B> ; \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>'  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>' \n   \\<Theta>' ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b' \n  Some\n   (AF_fundef f' (AF_fun_typ_some bv' (AF_fun_typ x' b1 c \\<tau>' s'))) =\n  lookup_fun \\<Phi>' f'\n  \\<Theta>' ; \\<B> ; \\<Gamma>'  \\<turnstile> v' \\<Leftarrow> \\<lbrace> x' : b1[bv'::=b']\\<^sub>b  | c[bv'::=b']\\<^sub>b \\<rbrace>\n  atom x' \\<sharp> \\<Gamma>'\n  \\<tau>'[bv'::=b']\\<^sub>b[x'::=v']\\<^sub>v = \\<tau>1\n  atom bv' \\<sharp> \\<Theta>'\n  atom bv' \\<sharp> \\<Phi>'\n  atom bv' \\<sharp> \\<B>\n  atom bv' \\<sharp> \\<Gamma>'\n  atom bv' \\<sharp> \\<Delta>\n  atom bv' \\<sharp> b'\n  atom bv' \\<sharp> v'\n  atom bv' \\<sharp> \\<tau>1\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n\ngoal (1 subgoal):\n 1.  \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b", "by simp"], ["proof (state)\nthis:\n   \\<Theta>' ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b'[bv::=b]\\<^sub>b\\<^sub>b \n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta>' ; \\<Phi>' ; {||} ; \\<Gamma>'[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [f' [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>1[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_fstI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#1v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z : b1[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_fstI)"], ["proof (state)\ngoal (5 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>\n 4. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_fstI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (4 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>\n 3. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_fstI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>\n 2. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_pair b1[bv::=b]\\<^sub>b\\<^sub>b b2[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_fstI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> AE_fst (v[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_fstI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> [#1v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_fstI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#1v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#1v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b1  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#1[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_sndI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' b1 b2 c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>;\n        atom z \\<sharp> [#2v ]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z : b2[bv::=b]\\<^sub>b\\<^sub>b  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_sndI)"], ["proof (state)\ngoal (5 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | ?c \\<rbrace>\n 4. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_sndI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (4 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | ?c \\<rbrace>\n 3. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_sndI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | ?c \\<rbrace>\n 2. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_pair b1[bv::=b]\\<^sub>b\\<^sub>b b2[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_sndI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : [ b1[bv::=b]\\<^sub>b\\<^sub>b , b2[bv::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> AE_snd (v[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_sndI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> [#2v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_sndI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : [ b1 , b2 ]\\<^sup>b  | c \\<rbrace>\n  atom z \\<sharp> [#2v ]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [#2v ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b2  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_lenI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v z' c z b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>;\n        atom z \\<sharp> [| v |]\\<^sup>e; atom z \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_lenI)"], ["proof (state)\ngoal (5 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : B_bitvec  | ?c \\<rbrace>\n 4. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n 5. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_lenI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (4 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : B_bitvec  | ?c \\<rbrace>\n 3. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n 4. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_lenI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z' : B_bitvec  | ?c \\<rbrace>\n 2. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n 3. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_lenI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n 2. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> AE_len (v[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e", "using infer_e_lenI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z \\<sharp> [| v[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_lenI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<lbrace> z' : B_bitvec  | c \\<rbrace>\n  atom z \\<sharp> [| v |]\\<^sup>e\n  atom z \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [| v |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : B_int  | [ [ z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [| [ v ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_mvarI \\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Phi> \\<Delta> u \\<tau> b.\n       \\<lbrakk> \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(subst  subst subst_eb.simps, rule Typing.infer_e_mvarI)"], ["proof (state)\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 4. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using infer_e_mvarI wf_b_subst"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \n\ngoal (3 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 3. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_mvarI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (2 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using infer_e_mvarI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_sndI wfX_wfY"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n    ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> ;\n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile> ?v \\<Rightarrow> \\<lbrace> ?z' : [ ?b1.0 , ?b2.0 ]\\<^sup>b  | ?c \\<rbrace>;\n   atom ?z \\<sharp> [#2?v ]\\<^sup>e; atom ?z \\<sharp> ?\\<Gamma>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> [#2?v ]\\<^sup>e \\<Rightarrow> \\<lbrace> ?z : ?b2.0  | [ [ ?z ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [#2[ ?v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e  \\<rbrace>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"(u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using infer_e_mvarI subst_db.simps set_insert \n        subst_d_b_member"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Gamma> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  set (List.insert ?x ?xs) = insert ?x (set ?xs)\n  (?u, ?\\<tau>) \\<in> setD ?\\<Delta> \\<Longrightarrow>\n  (?u, ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b)\n  \\<in> setD ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n  \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_concatI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 c2 z3 b.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>;\n        atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e @@ [ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>", "proof(rule Typing.infer_e_concatI)"], ["proof (state)\ngoal (6 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_bitvec  | ?c2.0 \\<rbrace>\n 5. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_concatI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (5 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_bitvec  | ?c2.0 \\<rbrace>\n 4. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_concatI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_bitvec  | ?c2.0 \\<rbrace>\n 3. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_concatI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z2.0 : B_bitvec  | ?c2.0 \\<rbrace>\n 2. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_concatI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (2 subgoals):\n 1. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> AE_concat (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_concatI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom\n     z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom\n   z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \"atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_concatI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v2 \\<Rightarrow> \\<lbrace> z2 : B_bitvec  | c2 \\<rbrace>\n  atom z3 \\<sharp> [ v1 @@ v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : B_bitvec  | [ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e  ==  [ [ v1 ]\\<^sup>c\\<^sup>e @@ [ v2 ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (infer_e_splitI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3)"], ["proof (state)\nthis:\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v1 z1 c1 v2 z2 z3 b.\n       \\<lbrakk>atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                        0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n        atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n        atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n        atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n                         v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n    v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e   \\<rbrace>", "proof(rule Typing.infer_e_splitI)"], ["proof (state)\ngoal (10 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z2.0 : B_int  | [ leq [ [ L_num\n  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n 5. atom ?z1.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom ?z1.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 7. atom ?z2.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 8. atom ?z2.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 9. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 10. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst(10) subst_db.simps infer_e_splitI wfX_wfY"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by (metis wf_b_subst(15))"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (9 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z2.0 : B_int  | [ leq [ [ L_num\n  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n 4. atom ?z1.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom ?z1.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 6. atom ?z2.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 7. atom ?z2.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 8. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 9. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using infer_e_splitI"], ["proof (prove)\nusing this:\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (8 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> ?z1.0 : B_bitvec  | ?c1.0 \\<rbrace>\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z2.0 : B_int  | [ leq [ [ L_num\n  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n 3. atom ?z1.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom ?z1.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. atom ?z2.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom ?z2.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 7. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 8. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using subst_b_infer_v subst_tb.simps subst_b_simps infer_e_splitI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by force"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v1[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (7 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z2.0 : B_int  | [ leq [ [ L_num\n  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ ?z2.0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n 2. atom z1 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 4. atom ?z2.0 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom ?z2.0 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 6. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 7. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num 0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND\n                  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "using subst_b_check_v subst_tb.simps subst_b_simps infer_e_splitI"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n     atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n     atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n     atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                 0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "have \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int | [ leq [ [ L_num 0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e == [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e AND [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e == [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using infer_e_splitI.hyps(7) infer_e_splitI.prems(1) infer_e_splitI.prems(2) subst_b_check_v"], ["proof (prove)\nusing this:\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by presburger"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n     atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n     atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n     atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                 0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<Theta> B G v \\<tau> b bv.\n                \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n                  \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n                 B = {|bv|}\\<rbrakk>\n                \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     atom z3 \\<sharp> b; atom z1 \\<sharp> b; atom z2 \\<sharp> b;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n      \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n      \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>;\n     atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z1 \\<sharp> \\<Gamma>;\n     atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z2 \\<sharp> \\<Gamma>;\n     atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e; atom z3 \\<sharp> \\<Gamma>;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n     \\<B> = {|bv|}\\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                 0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                     0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>", "by simp"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal:\nNo subgoals!", "(* 0.0 ms *)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v2[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                                   0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n\ngoal (6 subgoals):\n 1. atom z1 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 3. atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 6. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z1 \\<sharp> AE_split (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z1 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_splitI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z1 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z1 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (5 subgoals):\n 1. atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 4. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 5. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_splitI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z1 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (4 subgoals):\n 1. atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 3. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 4. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z2 \\<sharp> AE_split (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_splitI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z2 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (3 subgoals):\n 1. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 3. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_splitI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z2 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (2 subgoals):\n 1. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n 2. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z3 \\<sharp> AE_split (v1[bv::=b]\\<^sub>v\\<^sub>b) (v2[bv::=b]\\<^sub>v\\<^sub>b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "using infer_e_splitI subst_b_fresh_x subst_b_v_def e.fresh"], ["proof (prove)\nusing this:\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  atom ?x \\<sharp> ?v \\<Longrightarrow>\n  atom ?x \\<sharp> ?v[?bv::=?b']\\<^sub>v\\<^sub>b\n  atom ?x \\<sharp> ?ce \\<Longrightarrow>\n  atom ?x \\<sharp> ?ce[?bv::=?b']\\<^sub>c\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?e \\<Longrightarrow>\n  atom ?x \\<sharp> ?e[?bv::=?b']\\<^sub>e\\<^sub>b\n  atom ?x \\<sharp> ?c \\<Longrightarrow>\n  atom ?x \\<sharp> ?c[?bv::=?b']\\<^sub>c\\<^sub>b\n  atom ?x \\<sharp> ?t \\<Longrightarrow>\n  atom ?x \\<sharp> ?t[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  atom ?x \\<sharp> ?d \\<Longrightarrow>\n  atom ?x \\<sharp> ?d[?bv::=?b']\\<^sub>\\<Delta>\\<^sub>b\n  atom ?x \\<sharp> ?g \\<Longrightarrow>\n  atom ?x \\<sharp> ?g[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b\n  atom ?x \\<sharp> ?s \\<Longrightarrow>\n  atom ?x \\<sharp> ?s[?bv::=?b']\\<^sub>s\\<^sub>b\n  subst_b = subst_vb_abbrev\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n    v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e", "by metis"], ["proof (state)\nthis:\n  atom z3 \\<sharp> [ v1[bv::=b]\\<^sub>v\\<^sub>b \n  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "show \\<open>atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "using subst_g_b_x_fresh infer_e_splitI"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  atom z3 \\<sharp> b\n  atom z1 \\<sharp> b\n  atom z2 \\<sharp> b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v1 \\<Rightarrow> \\<lbrace> z1 : B_bitvec  | c1 \\<rbrace>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v2 \\<Leftarrow> \\<lbrace> z2 : B_int  | [ leq [ [ L_num\n                  0 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  [ leq [ [ z2 ]\\<^sup>v ]\\<^sup>c\\<^sup>e [| [ v1 ]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   \\<rbrace>\n  atom z1 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z1 \\<sharp> \\<Gamma>\n  atom z2 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z2 \\<sharp> \\<Gamma>\n  atom z3 \\<sharp> [ v1  v2 ]\\<^sup>e\n  atom z3 \\<sharp> \\<Gamma>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  atom z3 \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [ v1 \n  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z3 : [ B_bitvec , B_bitvec ]\\<^sup>b  | [ v1 ]\\<^sup>c\\<^sup>e  ==  [ [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e @@ [#2[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e ]\\<^sup>c\\<^sup>e   AND  [| [#1[ [ z3 ]\\<^sup>v ]\\<^sup>c\\<^sup>e]\\<^sup>c\\<^sup>e |]\\<^sup>c\\<^sup>e  ==  [ v2 ]\\<^sup>c\\<^sup>e   \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>This is needed for preservation. When we apply a function \"f [b] v\" we need to \nsubstitute into the body of the function f replacing type-variable with b\\<close>"], ["", "lemma subst_b_c_of_forget:\n  assumes \"atom bv \\<sharp> const\"\n  shows \"(c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x", "using assms"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> const\n\ngoal (1 subgoal):\n 1. (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x", "proof(nominal_induct const avoiding: x rule:\\<tau>.strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n                           x)[bv::=b]\\<^sub>c\\<^sub>b =\n                         c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace> x", "case (T_refined_type x' b' c')"], ["proof (state)\nthis:\n  atom x' \\<sharp> x\n  atom bv \\<sharp> \\<lbrace> x' : b'  | c' \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n                           x)[bv::=b]\\<^sub>c\\<^sub>b =\n                         c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace> x", "hence \"c_of \\<lbrace> x' : b' | c' \\<rbrace> x = c'[x'::=V_var x]\\<^sub>c\\<^sub>v\""], ["proof (prove)\nusing this:\n  atom x' \\<sharp> x\n  atom bv \\<sharp> \\<lbrace> x' : b'  | c' \\<rbrace>\n\ngoal (1 subgoal):\n 1. c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n    c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "using c_of.simps"], ["proof (prove)\nusing this:\n  atom x' \\<sharp> x\n  atom bv \\<sharp> \\<lbrace> x' : b'  | c' \\<rbrace>\n  atom ?z \\<sharp> ?x \\<Longrightarrow>\n  c_of \\<lbrace> ?z : ?b  | ?c \\<rbrace> ?x =\n  ?c[?z::=[ ?x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n    c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "by metis"], ["proof (state)\nthis:\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n  c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n                           x)[bv::=b]\\<^sub>c\\<^sub>b =\n                         c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace> x", "moreover"], ["proof (state)\nthis:\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n  c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n                           x)[bv::=b]\\<^sub>c\\<^sub>b =\n                         c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace> x", "have \"atom bv \\<sharp> c'[x'::=V_var x]\\<^sub>c\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "have \"atom bv \\<sharp> c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'", "using T_refined_type \\<tau>.fresh"], ["proof (prove)\nusing this:\n  atom x' \\<sharp> x\n  atom bv \\<sharp> \\<lbrace> x' : b'  | c' \\<rbrace>\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'", "by simp"], ["proof (state)\nthis:\n  atom bv \\<sharp> c'\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "moreover"], ["proof (state)\nthis:\n  atom bv \\<sharp> c'\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "have \"atom bv \\<sharp> V_var x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [ x ]\\<^sup>v", "using v.fresh"], ["proof (prove)\nusing this:\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> [ x ]\\<^sup>v", "by simp"], ["proof (state)\nthis:\n  atom bv \\<sharp> [ x ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "ultimately"], ["proof (chain)\npicking this:\n  atom bv \\<sharp> c'\n  atom bv \\<sharp> [ x ]\\<^sup>v", "show ?thesis"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> c'\n  atom bv \\<sharp> [ x ]\\<^sup>v\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "using T_refined_type \\<tau>.fresh subst_b_c_def fresh_subst_if\n        \\<tau>_fresh_c fresh_subst_cv_if has_subst_b_class.subst_b_fresh_x ms_fresh_all(37) ms_fresh_all assms"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> c'\n  atom bv \\<sharp> [ x ]\\<^sup>v\n  atom x' \\<sharp> x\n  atom bv \\<sharp> \\<lbrace> x' : b'  | c' \\<rbrace>\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  subst_b = subst_cb_abbrev\n  ?j \\<sharp> ?t[?i::=?x]\\<^sub>b =\n  (atom ?i \\<sharp> ?t \\<and> ?j \\<sharp> ?t \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?t \\<or> ?j = atom ?i))\n  \\<lbrakk>atom ?x \\<sharp> \\<lbrace> ?z : ?b  | ?c \\<rbrace>;\n   atom ?z \\<sharp> ?x\\<rbrakk>\n  \\<Longrightarrow> atom ?x \\<sharp> ?c\n  ?j \\<sharp> ?A[?i::=?x]\\<^sub>c\\<^sub>v =\n  (atom ?i \\<sharp> ?A \\<and> ?j \\<sharp> ?A \\<or>\n   ?j \\<sharp> ?x \\<and> (?j \\<sharp> ?A \\<or> ?j = atom ?i))\n  atom ?x \\<sharp> ?tm = atom ?x \\<sharp> ?tm[?bv::=?b']\\<^sub>b\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [ ?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?list  ?v  ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [?list [ ?b ]  ?v ]\\<^sup>e =\n  (?a \\<sharp> ?list \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [ ?v1.0 @@ ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [#1?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [#2?v ]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?u ]\\<^sup>e = ?a \\<sharp> ?u\n  ?a \\<sharp> [| ?v |]\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?v1.0  ?v2.0 ]\\<^sup>e =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> [?v]\\<^sup>s = ?a \\<sharp> ?v\n  ?a \\<sharp> LET ?x = ?e IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?e)\n  ?a \\<sharp> LET ?x : ?\\<tau> = ?s1.0 IN ?s2.0 =\n  ((?a \\<sharp> ?s2.0 \\<or> ?a \\<in> set [atom ?x]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?s1.0)\n  ?a \\<sharp> IF ?v THEN ?s1.0 ELSE ?s2.0 =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> VAR ?u : ?\\<tau> = ?v IN ?s =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?u]) \\<and>\n   ?a \\<sharp> ?\\<tau> \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> ?u ::= ?v = (?a \\<sharp> ?u \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> MATCH ?v WITH { ?branch_list } =\n  (?a \\<sharp> ?v \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> WHILE ?s1.0 DO { ?s2.0 }  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp>  ?s1.0 ;; ?s2.0  =\n  (?a \\<sharp> ?s1.0 \\<and> ?a \\<sharp> ?s2.0)\n  ?a \\<sharp> ASSERT ?c IN ?s  = (?a \\<sharp> ?c \\<and> ?a \\<sharp> ?s)\n  ?a \\<sharp>  ?list ?x \\<Rightarrow> ?s  =\n  ((?a \\<sharp> ?s \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?list)\n  ?a \\<sharp> { ?branch_s } = ?a \\<sharp> ?branch_s\n  ?a \\<sharp>  ?branch_s | ?branch_list   =\n  (?a \\<sharp> ?branch_s \\<and> ?a \\<sharp> ?branch_list)\n  ?a \\<sharp> \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  ((?a \\<sharp> ?c \\<or> ?a \\<in> set [atom ?x]) \\<and> ?a \\<sharp> ?b)\n  ?a \\<sharp> (TRUE)\n  ?a \\<sharp> (FALSE)\n  ?a \\<sharp> (?c1.0  AND  ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (?c1.0 OR ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (\\<not> ?c ) = ?a \\<sharp> ?c\n  ?a \\<sharp> (?c1.0  IMP  ?c2.0 ) =\n  (?a \\<sharp> ?c1.0 \\<and> ?a \\<sharp> ?c2.0)\n  ?a \\<sharp> (?ce1.0  ==  ?ce2.0 ) =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?v ]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?v\n  ?a \\<sharp> [ ?opp ?ce1.0 ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?opp \\<and> ?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [ ?ce1.0 @@ ?ce2.0 ]\\<^sup>c\\<^sup>e =\n  (?a \\<sharp> ?ce1.0 \\<and> ?a \\<sharp> ?ce2.0)\n  ?a \\<sharp> [#1?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [#2?ce]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [| ?ce |]\\<^sup>c\\<^sup>e = ?a \\<sharp> ?ce\n  ?a \\<sharp> [ ?l ]\\<^sup>v = ?a \\<sharp> ?l\n  ?a \\<sharp> [ ?x ]\\<^sup>v = ?a \\<sharp> ?x\n  ?a \\<sharp> [ ?v1.0 , ?v2.0 ]\\<^sup>v =\n  (?a \\<sharp> ?v1.0 \\<and> ?a \\<sharp> ?v2.0)\n  ?a \\<sharp> V_cons ?list1.0 ?list2.0 ?v =\n  (?a \\<sharp> ?list1.0 \\<and> ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> V_consp ?list1.0 ?list2.0 ?b ?v =\n  (?a \\<sharp> ?list1.0 \\<and>\n   ?a \\<sharp> ?list2.0 \\<and> ?a \\<sharp> ?b \\<and> ?a \\<sharp> ?v)\n  ?a \\<sharp> L_num ?int = ?a \\<sharp> ?int\n  ?a \\<sharp> L_true\n  ?a \\<sharp> L_false\n  ?a \\<sharp> L_unit\n  ?a \\<sharp> L_bitvec ?list = ?a \\<sharp> ?list\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n  ?a \\<sharp> plus\n  ?a \\<sharp> leq\n  ?a \\<sharp> eq\n  ?a \\<sharp> ?x\n  ?x \\<sharp> (?a, ?b) = (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b)\n  ?x \\<sharp> (?a, ?b, ?c) =\n  (?x \\<sharp> ?a \\<and> ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c)\n  ?x \\<sharp> (?a, ?b, ?c, ?d) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and> ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and> ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and> ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and> ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and> ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and> ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and> ?x \\<sharp> ?i \\<and> ?x \\<sharp> ?j)\n  ?x \\<sharp> (?a, ?b, ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l) =\n  (?x \\<sharp> ?a \\<and>\n   ?x \\<sharp> ?b \\<and>\n   ?x \\<sharp> ?c \\<and>\n   ?x \\<sharp> ?d \\<and>\n   ?x \\<sharp> ?e \\<and>\n   ?x \\<sharp> ?f \\<and>\n   ?x \\<sharp> ?g \\<and>\n   ?x \\<sharp> ?h \\<and>\n   ?x \\<sharp> ?i \\<and>\n   ?x \\<sharp> ?j \\<and> ?x \\<sharp> ?k \\<and> ?x \\<sharp> ?l)\n  ?a \\<sharp> GNil\n  ?a \\<sharp> ?x #\\<^sub>\\<Gamma> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  ?a \\<sharp> ?xs @ ?ys = (?a \\<sharp> ?xs \\<and> ?a \\<sharp> ?ys)\n  \\<lbrakk>toSet ?G \\<subseteq> toSet ?G'; ?x \\<sharp> ?G'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?G\n  atom ?x \\<sharp> ?\\<Gamma>' @ ?\\<Gamma> \\<Longrightarrow>\n  atom ?x \\<sharp> ?\\<Gamma>\n  ?a \\<sharp> []\\<^sub>\\<Delta>\n  ?a \\<sharp> ?x #\\<^sub>\\<Delta> ?xs =\n  (?a \\<sharp> ?x \\<and> ?a \\<sharp> ?xs)\n  atom bv \\<sharp> const\n\ngoal (1 subgoal):\n 1. atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "by metis"], ["proof (state)\nthis:\n  atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2a x3a x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        atom bv \\<sharp> \\<lbrace> x1a : x2a  | x3a \\<rbrace>\\<rbrakk>\n       \\<Longrightarrow> (c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace>\n                           x)[bv::=b]\\<^sub>c\\<^sub>b =\n                         c_of \\<lbrace> x1a : x2a  | x3a \\<rbrace> x", "ultimately"], ["proof (chain)\npicking this:\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n  c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "show ?case"], ["proof (prove)\nusing this:\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n  c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1. (c_of \\<lbrace> x' : b'  | c' \\<rbrace> x)[bv::=b]\\<^sub>c\\<^sub>b =\n    c_of \\<lbrace> x' : b'  | c' \\<rbrace> x", "using forget_subst subst_b_c_def"], ["proof (prove)\nusing this:\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x =\n  c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom bv \\<sharp> c'[x'::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_cb_abbrev\n\ngoal (1 subgoal):\n 1. (c_of \\<lbrace> x' : b'  | c' \\<rbrace> x)[bv::=b]\\<^sub>c\\<^sub>b =\n    c_of \\<lbrace> x' : b'  | c' \\<rbrace> x", "by metis"], ["proof (state)\nthis:\n  (c_of \\<lbrace> x' : b'  | c' \\<rbrace> x)[bv::=b]\\<^sub>c\\<^sub>b =\n  c_of \\<lbrace> x' : b'  | c' \\<rbrace> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_b_check_s:\n  fixes s::s and b::b and cs::branch_s and css::branch_list and v::v and \\<tau>::\\<tau>\n  assumes \"\\<Theta> ; {||} \\<turnstile>\\<^sub>w\\<^sub>f b\"  and \"B = {|bv|}\" (*and \"D = []\"*)\n  shows  \"\\<Theta> ; \\<Phi> ; B ; G; D \\<turnstile> s \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile> (s[bv::=b]\\<^sub>s\\<^sub>b) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\" and\n    \"\\<Theta> ; \\<Phi> ; B ; G; D ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> (subst_branchb cs bv b) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\" and\n    \"\\<Theta> ; \\<Phi> ; B ; G; D ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau> \\<Longrightarrow> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> (subst_branchlb css bv b ) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ( \\<Theta> ; \\<Phi> ; B ; G ; D  \\<turnstile> s \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) &&&\n    ( \\<Theta> ;  \\<Phi> ; B ; G ; D ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ;  \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) &&&\n    ( \\<Theta> ;  \\<Phi> ; B ; G ; D ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ;  \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n       css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "using assms"], ["proof (prove)\nusing this:\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  B = {|bv|}\n\ngoal (1 subgoal):\n 1. ( \\<Theta> ; \\<Phi> ; B ; G ; D  \\<turnstile> s \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) &&&\n    ( \\<Theta> ;  \\<Phi> ; B ; G ; D ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ;  \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) &&&\n    ( \\<Theta> ;  \\<Phi> ; B ; G ; D ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau> \\<Longrightarrow>\n      \\<Theta> ;  \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; D[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n       css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "proof(induct  rule: check_s_check_branch_s_check_branch_list.inducts)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau>' \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>';\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [v]\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n        \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 13 subgoals...", "note facts = wfD_emptyI wfX_wfY wf_b_subst subst_b_subtype subst_b_infer_v"], ["proof (state)\nthis:\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f []\\<^sub>\\<Delta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau>' \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>';\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [v]\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n        \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 13 subgoals...", "case (check_valI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau>' \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<Phi> v \\<tau>' \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>';\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [v]\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n        \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n          \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         (u, \\<tau>) \\<in> setD \\<Delta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 13 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [v]\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(subst subst_sb.simps, rule Typing.check_valI)"], ["proof (prove)\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using facts check_valI"], ["proof (prove)\nusing this:\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f []\\<^sub>\\<Delta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f b_of ?\\<tau> \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?b  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n    ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<and>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi> \n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<B> ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>  \\<Longrightarrow>\n   ?\\<Theta> ; ?\\<B>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<and>\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta> \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply metis"], ["proof (prove)\ngoal (3 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_valI subst_b_infer_v wf_b_subst subst_b_subtype"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_valI subst_b_infer_v wf_b_subst subst_b_subtype"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>'\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>' \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_valI subst_b_infer_v wf_b_subst subst_b_subtype"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile> v \\<Rightarrow> \\<tau>'\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<tau>' \\<lesssim> \\<tau>\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B ; ?G \\<turnstile> ?v \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<lesssim> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> [v]\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 12 subgoals...", "case (check_letI x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s b' c)"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b'  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b',\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b',\n            c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (12 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> e \\<tau> z s ba c.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                             \\<tau>);\n        atom\n         z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e,\n                     \\<tau>, s);\n        \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : ba  | c \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, ba,\n                                     c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, ba,\n                  c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 12 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(subst subst_sb.simps, rule Typing.check_letI)"], ["proof (state)\ngoal (4 subgoals):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 e[bv::=b]\\<^sub>e\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2. atom\n     ?z \\<sharp> (x, \\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  e[bv::=b]\\<^sub>e\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                  s[bv::=b]\\<^sub>s\\<^sub>b)\n 3. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> ?z : ?b  | ?c \\<rbrace>\n 4.  \\<Theta> ; \\<Phi> ; {||} ; (x, ?b,\n                                 ?c[?z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom x \\<sharp>(\\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, e[bv::=b]\\<^sub>e\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 e[bv::=b]\\<^sub>e\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "(*using check_letI  subst_b_\\<tau>_def subst_b_\\<Gamma>_def subst_b_fresh_x fresh_prod4 subst_b_c_def sory*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 e[bv::=b]\\<^sub>e\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "apply(unfold fresh_prodN,auto)"], ["proof (prove)\ngoal (7 subgoals):\n 1. atom x \\<sharp> \\<Theta>\n 2. atom x \\<sharp> \\<Phi>\n 3. atom x \\<sharp> {||}\n 4. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 6. atom x \\<sharp> e[bv::=b]\\<^sub>e\\<^sub>b\n 7. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(simp add: check_letI fresh_empty_fset)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom x \\<sharp> e[bv::=b]\\<^sub>e\\<^sub>b\n 4. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(metis *   subst_b_fresh_x check_letI fresh_prodN)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               e[bv::=b]\\<^sub>e\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (3 subgoals):\n 1. atom\n     ?z \\<sharp> (x, \\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  e[bv::=b]\\<^sub>e\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                  s[bv::=b]\\<^sub>s\\<^sub>b)\n 2. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> ?z : ?b  | ?c \\<rbrace>\n 3.  \\<Theta> ; \\<Phi> ; {||} ; (x, ?b,\n                                 ?c[?z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom z \\<sharp> (x, \\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, e[bv::=b]\\<^sub>e\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s[bv::=b]\\<^sub>s\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (x, \\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 e[bv::=b]\\<^sub>e\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                 s[bv::=b]\\<^sub>s\\<^sub>b)", "apply(unfold fresh_prodN,auto)"], ["proof (prove)\ngoal (10 subgoals):\n 1. atom z \\<sharp> x\n 2. atom z \\<sharp> \\<Theta>\n 3. atom z \\<sharp> \\<Phi>\n 4. atom z \\<sharp> {||}\n 5. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 6. atom z \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 7. atom z \\<sharp> e[bv::=b]\\<^sub>e\\<^sub>b\n 8. atom z \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<not> atom z \\<sharp> s \\<Longrightarrow> atom bv \\<sharp> s\n 10. \\<not> atom z \\<sharp> s \\<Longrightarrow> False", "apply(simp add: check_letI fresh_empty_fset)+"], ["proof (prove)\ngoal (6 subgoals):\n 1. atom z \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom z \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom z \\<sharp> e[bv::=b]\\<^sub>e\\<^sub>b\n 4. atom z \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<not> atom z \\<sharp> s \\<Longrightarrow> atom bv \\<sharp> s\n 6. \\<not> atom z \\<sharp> s \\<Longrightarrow> False", "apply(metis *   subst_b_fresh_x check_letI fresh_prodN)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               e[bv::=b]\\<^sub>e\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n               s[bv::=b]\\<^sub>s\\<^sub>b)\n\ngoal (2 subgoals):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : ?b  | ?c \\<rbrace>\n 2.  \\<Theta> ; \\<Phi> ; {||} ; (x, ?b,\n                                 ?c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b  \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "using check_letI subst_b_infer_e subst_tb.simps"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b'  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b',\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b',\n            c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?\\<Phi> ; ?B ; ?G ; ?D  \\<turnstile> ?e \\<Rightarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; ?\\<Phi> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?D[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ?e[?bv::=?b]\\<^sub>e\\<^sub>b \\<Rightarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> e[bv::=b]\\<^sub>e\\<^sub>b \\<Rightarrow> \\<lbrace> z : b'[bv::=b]\\<^sub>b\\<^sub>b  | c[bv::=b]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                                 (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =  (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=V_var x]\\<^sub>c\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "using subst_cv_subst_bb_commute[of bv \"V_var x\" c z b] fresh_at_base"], ["proof (prove)\nusing this:\n  atom bv \\<sharp> [ x ]\\<^sup>v \\<Longrightarrow>\n  c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n  (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  sort_of ?a \\<noteq> sort_of (atom ?b) \\<Longrightarrow> ?a \\<sharp> ?b\n  ?a \\<sharp> ?b = (?a \\<noteq> atom ?b)\n\ngoal (1 subgoal):\n 1. c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n    (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v", "by simp"], ["proof (state)\nthis:\n  c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n  (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                                 (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "thus \"\\<Theta> ; \\<Phi> ; {||} ; ((x, b'[bv::=b]\\<^sub>b\\<^sub>b , (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=V_var x]\\<^sub>v) #\\<^sub>\\<Gamma> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b) ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n  c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n  (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                                 (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_letI subst_gb.simps subst_defs"], ["proof (prove)\nusing this:\n  c[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v[bv::=b]\\<^sub>c\\<^sub>b =\n  (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>c\\<^sub>v\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>)\n  atom\n   z \\<sharp> (x, \\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, e, \\<tau>, s)\n  \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> e \\<Rightarrow> \\<lbrace> z : b'  | c \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b',\n                               c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b',\n            c[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  subst_b = subst_bb_abbrev\n  subst_b = subst_cb_abbrev\n  subst_b = subst_tb_abbrev\n  subst_v = subst_vv_abbrev\n  subst_v = subst_cv_abbrev\n  subst_v = subst_tv_abbrev\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                                 (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; (x, b'[bv::=b]\\<^sub>b\\<^sub>b,\n                               (c[bv::=b]\\<^sub>c\\<^sub>b)[z::=[ x ]\\<^sup>v]\\<^sub>v) #\\<^sub>\\<Gamma>\n                              \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x = e IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "case (check_assertI x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s)"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n            c) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (11 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> c \\<tau> s.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c,\n                             \\<tau>, s);\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                                    \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n                  c) #\\<^sub>\\<Gamma>\n                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n        \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\nA total of 11 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(subst subst_sb.simps, rule Typing.check_assertI)"], ["proof (state)\ngoal (4 subgoals):\n 1. atom\n     ?x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  c[bv::=b]\\<^sub>c\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                  s[bv::=b]\\<^sub>s\\<^sub>b)\n 2.  \\<Theta> ; \\<Phi> ; {||} ; (?x, B_bool,\n                                 c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \n 4.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"atom x \\<sharp> (\\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,  c[bv::=b]\\<^sub>c\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s[bv::=b]\\<^sub>s\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 c[bv::=b]\\<^sub>c\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                 s[bv::=b]\\<^sub>s\\<^sub>b)", "apply(unfold fresh_prodN,auto)"], ["proof (prove)\ngoal (9 subgoals):\n 1. atom x \\<sharp> \\<Theta>\n 2. atom x \\<sharp> \\<Phi>\n 3. atom x \\<sharp> {||}\n 4. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 6. atom x \\<sharp> c[bv::=b]\\<^sub>c\\<^sub>b\n 7. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<not> atom x \\<sharp> s \\<Longrightarrow> atom bv \\<sharp> s\n 9. \\<not> atom x \\<sharp> s \\<Longrightarrow> False", "apply(simp add: check_assertI fresh_empty_fset)+"], ["proof (prove)\ngoal (6 subgoals):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom x \\<sharp> c[bv::=b]\\<^sub>c\\<^sub>b\n 4. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<not> atom x \\<sharp> s \\<Longrightarrow> atom bv \\<sharp> s\n 6. \\<not> atom x \\<sharp> s \\<Longrightarrow> False", "apply(metis *   subst_b_fresh_x check_assertI fresh_prodN)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               c[bv::=b]\\<^sub>c\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n               s[bv::=b]\\<^sub>s\\<^sub>b)\n\ngoal (3 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, B_bool,\n                                 c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "have \"\\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma> \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma>\n                                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using  check_assertI"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n            c) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma>\n                                 \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma>\n                               \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, B_bool,\n                                 c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "thus \"\\<Theta> ; \\<Phi> ; {||} ; (x, B_bool, c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma>\n                               \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, B_bool,\n                                 c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using  subst_gb.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool, c) #\\<^sub>\\<Gamma>\n                               \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, B_bool,\n                                 c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; (x, B_bool,\n                               c[bv::=b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n                              \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b", "using subst_b_valid  check_assertI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}; ?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<Turnstile> ?c \\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n            c) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<Turnstile> c[bv::=b]\\<^sub>c\\<^sub>b \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "show \" \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst2(6) check_assertI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, c, \\<tau>, s)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, B_bool, c) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, B_bool,\n            c) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<Turnstile> c \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n        \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n     cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         AF_typedef tid dclist \\<in> set \\<Theta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n    tid  | TRUE \\<rbrace>;\n            \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n        \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n     cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         AF_typedef tid dclist \\<in> set \\<Theta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n    tid  | TRUE \\<rbrace>;\n            \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_branch_list_consI \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> css)"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist_ ; cs \\<turnstile> css_ \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\ncss_ bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>\n       dclist css.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> css \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    css bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (cons,\n                               const) #\n                              dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs | css   bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 10. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n        \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n         \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n          \\<B> = {|bv|}\\<rbrakk>\n         \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n     cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         AF_typedef tid dclist \\<in> set \\<Theta>;\n         \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n    tid  | TRUE \\<rbrace>;\n            \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist_ ; cs \\<turnstile> css_ \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\ncss_ bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist_ ; cs \\<turnstile> css_ \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\ncss_ bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (dclist,\n          v) #\n         dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                       \\<tau> | css_   bv\n                      b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_branchlb.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist_ ; cs \\<turnstile> css_ \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\ncss_ bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (dclist,\n          v) #\n         dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile>  subst_branchb\n                       \\<tau> bv\n                       b | subst_branchlb css_ bv\n                            b   \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using Typing.check_branch_list_consI"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist_ ; cs \\<turnstile> css_ \\<Leftarrow> css\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\ncss_ bv b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ;  ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?cons ; ?const ; ?v \\<turnstile> ?cs \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ;  ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist ; ?v \\<turnstile> ?css \\<Leftarrow> ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ;  ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; (?cons,\n        ?const) #\n       ?dclist ; ?v \\<turnstile>  ?cs | ?css   \\<Leftarrow> ?\\<tau>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (dclist,\n          v) #\n         dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile>  subst_branchb\n                       \\<tau> bv\n                       b | subst_branchlb css_ bv\n                            b   \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; (dclist,\n        v) #\n       dclist_ ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                     \\<tau> | css_   bv\n                    b \\<Leftarrow> css[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_branch_list_finalI \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> \\<tau>_\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid cons const v cs \\<tau>.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; cons ; const ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n          cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(cons,\n                                const)] ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n      { cs } bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 9. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> \\<tau>_\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> \\<tau>_\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(dclist,\n           v)] ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                    { \\<tau> } bv\n                    b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_branchlb.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> \\<tau>_\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(dclist,\n           v)] ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> { subst_branchb\n                      \\<tau> bv\n                      b } \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using Typing.check_branch_list_finalI"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v ; cs \\<turnstile> \\<tau> \\<Leftarrow> \\<tau>_\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n   \\<tau> bv b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   ?\\<Theta> ;  ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?cons ; ?const ; ?v \\<turnstile> ?cs \\<Leftarrow> ?\\<tau> \\<Longrightarrow>\n   ?\\<Theta> ;  ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; [(?cons,\n                             ?const)] ; ?v \\<turnstile> { ?cs } \\<Leftarrow> ?\\<tau>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(dclist,\n           v)] ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> { subst_branchb\n                      \\<tau> bv\n                      b } \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; [(dclist,\n         v)] ; cs[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                  { \\<tau> } bv\n                  b \\<Leftarrow> \\<tau>_[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_branch_s_branchI \\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v s)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> \\<B> \\<Gamma> \\<Delta> \\<tau> const x \\<Phi> tid cons v\n       s. \\<lbrakk> \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n              \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n            \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> ;\n            \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const ;\n           atom\n            x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid,\n                        cons, const, v, \\<tau>);\n            \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n  [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                                [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of\n                                  const x ) #\\<^sub>\\<Gamma>\n \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n           \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n            \\<B> = {|bv|}\\<rbrakk>\n           \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n                     [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n             [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n               x ) #\\<^sub>\\<Gamma>\n                    \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n            \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n           \\<B> = {|bv|}\\<rbrakk>\n          \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n             cons x \\<Rightarrow> s  bv\n            b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 8. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n                           cons x \\<Rightarrow> s  bv\n                          b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile>  cons x \\<Rightarrow> s[bv::=b]\\<^sub>s\\<^sub>b  \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(rule Typing.check_branch_s_branchI)"], ["proof (state)\ngoal (6 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n 3.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \n 4.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n 5. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 6.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using check_branch_s_branchI wf_b_subst subst_db.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n  []\\<^sub>\\<Delta>[?uu::=?uv]\\<^sub>\\<Delta>\\<^sub>b = []\\<^sub>\\<Delta>\n  ((?u, ?t) #\\<^sub>\\<Delta> ?\\<Delta>)[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b =\n  (?u, ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n  ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (5 subgoals):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \n 3.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n 4. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 5.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "using check_branch_s_branchI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "by auto"], ["proof (state)\nthis:\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \n 2.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n 3. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 4.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_branch_s_branchI wf_b_subst"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b \n\ngoal (3 subgoals):\n 1.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n 2. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 3.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom x \\<sharp>(\\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons , const, v[bv::=b]\\<^sub>v\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "apply(unfold fresh_prodN,auto)"], ["proof (prove)\ngoal (10 subgoals):\n 1. atom x \\<sharp> \\<Theta>\n 2. atom x \\<sharp> \\<Phi>\n 3. atom x \\<sharp> {||}\n 4. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 5. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 6. atom x \\<sharp> tid\n 7. atom x \\<sharp> cons\n 8. atom x \\<sharp> const\n 9. atom x \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 10. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(simp add: check_branch_s_branchI fresh_empty_fset)+"], ["proof (prove)\ngoal (7 subgoals):\n 1. atom x \\<sharp> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom x \\<sharp> tid\n 4. atom x \\<sharp> cons\n 5. atom x \\<sharp> const\n 6. atom x \\<sharp> v[bv::=b]\\<^sub>v\\<^sub>b\n 7. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(metis *   subst_b_fresh_x check_branch_s_branchI fresh_prodN)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, tid, cons, const,\n               v[bv::=b]\\<^sub>v\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n 2.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show wft:\"\\<Theta> ; {||} ; GNil \\<turnstile>\\<^sub>w\\<^sub>f  const\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const", "using check_branch_s_branchI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "hence \"(b_of const) = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\""], ["proof (prove)\nusing this:\n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n\ngoal (1 subgoal):\n 1. b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b", "using wfT_nil_supp   fresh_def[of \"atom bv\" ] forget_subst subst_b_b_def \\<tau>.supp\n        bot.extremum_uniqueI ex_in_conv fresh_def supp_empty_fset"], ["proof (prove)\nusing this:\n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n   ?\\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f ?t  \\<Longrightarrow>\n  supp ?t = {}\n  atom bv \\<sharp> ?x \\<equiv> atom bv \\<notin> supp ?x\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_bb_abbrev\n  supp \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  supp ?c - set [atom ?x] \\<union> supp ?b\n  ?a \\<le> bot \\<Longrightarrow> ?a = bot\n  (\\<exists>x. x \\<in> ?A) = (?A \\<noteq> {})\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp {||} = {}\n\ngoal (1 subgoal):\n 1. b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b", "by (metis b_of_supp)"], ["proof (state)\nthis:\n  b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "moreover"], ["proof (state)\nthis:\n  b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"(c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x", "using wft   wfT_nil_supp   fresh_def[of \"atom bv\" ] forget_subst subst_b_c_def \\<tau>.supp\n        bot.extremum_uniqueI ex_in_conv fresh_def supp_empty_fset  subst_b_c_of_forget"], ["proof (prove)\nusing this:\n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n   ?\\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f ?t  \\<Longrightarrow>\n  supp ?t = {}\n  atom bv \\<sharp> ?x \\<equiv> atom bv \\<notin> supp ?x\n  atom ?a \\<sharp> ?tm \\<Longrightarrow> ?tm[?a::=?x]\\<^sub>b = ?tm\n  subst_b = subst_cb_abbrev\n  supp \\<lbrace> ?x : ?b  | ?c \\<rbrace> =\n  supp ?c - set [atom ?x] \\<union> supp ?b\n  ?a \\<le> bot \\<Longrightarrow> ?a = bot\n  (\\<exists>x. x \\<in> ?A) = (?A \\<noteq> {})\n  ?a \\<sharp> ?x \\<equiv> ?a \\<notin> supp ?x\n  supp {||} = {}\n  atom ?bv \\<sharp> ?const \\<Longrightarrow>\n  (c_of ?const ?x)[?bv::=?b]\\<^sub>c\\<^sub>b = c_of ?const ?x\n\ngoal (1 subgoal):\n 1. (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x", "by metis"], ["proof (state)\nthis:\n  (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "ultimately"], ["proof (chain)\npicking this:\n  b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\n  (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x", "show  \"\\<Theta> ; \\<Phi> ; {||} ; (x, b_of const, CE_val (v[bv::=b]\\<^sub>v\\<^sub>b)  ==  CE_val(V_cons tid cons (V_var x)) AND c_of const x) #\\<^sub>\\<Gamma> \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b   \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\nusing this:\n  b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\n  (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_branch_s_branchI subst_gb.simps"], ["proof (prove)\nusing this:\n  b_of const = (b_of const)[bv::=b]\\<^sub>b\\<^sub>b\n  (c_of const x)[bv::=b]\\<^sub>c\\<^sub>b = c_of const x\n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; \\<B> ; \\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f \\<tau> \n   \\<Theta> ; {||} ; GNil   \\<turnstile>\\<^sub>w\\<^sub>f const \n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, tid, cons, const,\n               v, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of const,\n                               [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n                       [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n                         x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma> ; \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of const,\n            [ v ]\\<^sup>c\\<^sup>e  ==  [ V_cons tid cons\n    [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const x ) #\\<^sub>\\<Gamma>\n           \\<Gamma>)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                                 [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n           tid cons\n           [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n             x ) #\\<^sub>\\<Gamma>\n                                \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; (x, b_of const,\n                               [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ V_cons\n         tid cons\n         [ x ]\\<^sup>v ]\\<^sup>c\\<^sup>e   AND  c_of const\n           x ) #\\<^sub>\\<Gamma>\n                              \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; cons ; const ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchb\n                         cons x \\<Rightarrow> s  bv\n                        b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (7 subgoals):\n 1. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_ifI z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>)"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                  \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (7 subgoals):\n 1. \\<And>z \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> v s1 s2 \\<tau>.\n       \\<lbrakk>atom\n                 z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v,\n                             s1, s2, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                 \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                       \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                                  \\<tau> z  \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n               \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                        \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 7. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> IF v[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(rule  Typing.check_ifI)"], ["proof (state)\ngoal (4 subgoals):\n 1. atom\n     ?z \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                  \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                  v[bv::=b]\\<^sub>v\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n                  s2[bv::=b]\\<^sub>s\\<^sub>b,\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_bool  | TRUE \\<rbrace>\n 3.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : b_of\n                                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace>\n 4.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : b_of\n                                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                  \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace>", "show \\<open>atom z \\<sharp> (\\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, v[bv::=b]\\<^sub>v\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b, s2[bv::=b]\\<^sub>s\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     z \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n                 s2[bv::=b]\\<^sub>s\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "by(unfold fresh_prodN,auto, auto simp add: check_ifI fresh_empty_fset subst_b_fresh_x )"], ["proof (state)\nthis:\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               v[bv::=b]\\<^sub>v\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n               s2[bv::=b]\\<^sub>s\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n 2.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\n 3.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "have \"\\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  = \\<lbrace> z : B_bool  | TRUE \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n    \\<lbrace> z : B_bool  | TRUE \\<rbrace>", "by auto"], ["proof (state)\nthis:\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n\ngoal (3 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n 2.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\n 3.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "thus \\<open>\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>", "using check_ifI subst_b_check_v"], ["proof (prove)\nusing this:\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                  \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>", "by metis"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\n 2.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "show \\<open> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | CE_val (v[bv::=b]\\<^sub>v\\<^sub>b)  ==  CE_val (V_lit L_true)   IMP  c_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "using subst_b_if check_ifI"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b  | [ ?v[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n      ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace> =\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>  | [ ?v ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                         ?\\<tau>\n                         ?z  \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                  \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                             \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n              \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "show \\<open> \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | CE_val (v[bv::=b]\\<^sub>v\\<^sub>b)  ==  CE_val (V_lit L_false)   IMP  c_of \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "using subst_b_if check_ifI"], ["proof (prove)\nusing this:\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b  | [ ?v[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n      ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace> =\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>  | [ ?v ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                         ?\\<tau>\n                         ?z  \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  atom\n   z \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, v, s1, s2,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                           \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_true ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : b_of\n                   \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                            \\<tau> z  \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n         \\<tau>  | [ v ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                  \\<tau> z  \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : b_of\n                             \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b  | [ v[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ L_false ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b z  \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (IF v THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (6 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_let2I x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2 )"], ["proof (state)\nthis:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n            c_of t x) #\\<^sub>\\<Gamma>\n           G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (6 subgoals):\n 1. \\<And>x \\<Theta> \\<Phi> \\<B> G \\<Delta> t s1 \\<tau> s2.\n       \\<lbrakk>atom\n                 x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1,\n                             \\<tau>);\n         \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                                    G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n                  c_of t x) #\\<^sub>\\<Gamma>\n                 G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 6. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof (rule Typing.check_let2I)"], ["proof (state)\ngoal (3 subgoals):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||}, G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "have \"atom x \\<sharp> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> b", "using x_fresh_b"], ["proof (prove)\nusing this:\n  atom ?x \\<sharp> ?b\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> b", "by auto"], ["proof (state)\nthis:\n  atom x \\<sharp> b\n\ngoal (3 subgoals):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||}, G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \\<open>atom x \\<sharp> (\\<Theta>, \\<Phi>, {||}, G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     x \\<sharp> (\\<Theta>, \\<Phi>, {||}, G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "apply(unfold fresh_prodN, auto, auto simp add: check_let2I fresh_prodN fresh_empty_fset)"], ["proof (prove)\ngoal (4 subgoals):\n 1. atom x \\<sharp> G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b\n 2. atom x \\<sharp> \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. atom x \\<sharp> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. atom x \\<sharp> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "apply(metis  subst_b_fresh_x check_let2I fresh_prodN)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  atom\n   x \\<sharp> (\\<Theta>, \\<Phi>, {||}, G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, s1[bv::=b]\\<^sub>s\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \\<open> \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b \\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_let2I subst_tb.simps"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n            c_of t x) #\\<^sub>\\<Gamma>\n           G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \\<open> \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b, c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b x) #\\<^sub>\\<Gamma> G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_let2I subst_tb.simps  subst_gb.simps b_of.simps subst_b_c_of subst_b_b_of"], ["proof (prove)\nusing this:\n  atom x \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, G, \\<Delta>, t, s1, \\<tau>)\n   \\<Theta> ; \\<Phi> ; \\<B> ; G ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> t\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; (x, b_of t, c_of t x) #\\<^sub>\\<Gamma>\n                              G ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; ((x, b_of t,\n            c_of t x) #\\<^sub>\\<Gamma>\n           G)[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  GNil[?uu::=?uv]\\<^sub>\\<Gamma>\\<^sub>b = GNil\n  ((?y, ?b', ?c) #\\<^sub>\\<Gamma>\n   ?\\<Gamma>)[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b =\n  (?y, ?b'[?bv::=?b]\\<^sub>b\\<^sub>b,\n   ?c[?bv::=?b]\\<^sub>c\\<^sub>b) #\\<^sub>\\<Gamma>\n  ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b\n  b_of \\<lbrace> ?z : ?b  | ?c \\<rbrace> = ?b\n  (c_of ?\\<tau> ?z)[?bv::=?b]\\<^sub>c\\<^sub>b =\n  c_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z\n  (b_of ?\\<tau>)[?bv::=?b]\\<^sub>b\\<^sub>b =\n  b_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                                 c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                  x) #\\<^sub>\\<Gamma>\n                                G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; (x, b_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                               c_of t[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n                                x) #\\<^sub>\\<Gamma>\n                              G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> LET x : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (5 subgoals):\n 1. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_varI u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s)"], ["proof (state)\nthis:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                \\<tau>') #\\<^sub>\\<Delta>\n               \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (5 subgoals):\n 1. \\<And>u \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> \\<tau>' v \\<tau> s.\n       \\<lbrakk>atom\n                 u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>,\n                             \\<tau>', v, \\<tau>);\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>';\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n         \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                      \\<tau>') #\\<^sub>\\<Delta>\n                     \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 5. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(rule Typing.check_varI)"], ["proof (state)\ngoal (3 subgoals):\n 1. atom\n     u \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                     \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                    \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"atom u \\<sharp>  (\\<Theta>, \\<Phi>, {||}, \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b, \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b, \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b, v[bv::=b]\\<^sub>v\\<^sub>b, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom\n     u \\<sharp> (\\<Theta>, \\<Phi>, {||},\n                 \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n                 \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n                 \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n                 v[bv::=b]\\<^sub>v\\<^sub>b,\n                 \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)", "by(unfold fresh_prodN,auto simp add: check_varI fresh_empty_fset subst_b_fresh_u )"], ["proof (state)\nthis:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, {||},\n               \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b,\n               \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b,\n               \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b,\n               v[bv::=b]\\<^sub>v\\<^sub>b,\n               \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n\ngoal (2 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                     \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                    \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_varI subst_b_check_v"], ["proof (prove)\nusing this:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                \\<tau>') #\\<^sub>\\<Delta>\n               \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                     \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                    \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; \\<Phi> ; {||} ; (subst_gb  \\<Gamma> bv b) ; (u, (\\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b)) #\\<^sub>\\<Delta> (subst_db  \\<Delta> bv b)   \\<turnstile> (s[bv::=b]\\<^sub>s\\<^sub>b) \\<Leftarrow> (\\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                     \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                    \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_varI"], ["proof (prove)\nusing this:\n  atom\n   u \\<sharp> (\\<Theta>, \\<Phi>, \\<B>, \\<Gamma>, \\<Delta>, \\<tau>', v,\n               \\<tau>)\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>'\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; (u, \\<tau>') #\\<^sub>\\<Delta>\n   \\<Delta>  \\<turnstile> s \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; ((u,\n                \\<tau>') #\\<^sub>\\<Delta>\n               \\<Delta>)[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                     \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                    \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; (u,\n                                   \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b) #\\<^sub>\\<Delta>\n                                  \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> VAR u : \\<tau>' = v IN s[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_assignI \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>')"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> u \\<tau> v z \\<tau>'.\n       \\<lbrakk> \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> ;\n         \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> ;\n        (u, \\<tau>) \\<in> setD \\<Delta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 4. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof( rule Typing.check_assignI)"], ["proof (state)\ngoal (5 subgoals):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n 2.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 3. (u, ?\\<tau>) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>\n 5. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "using check_assignI"], ["proof (prove)\nusing this:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi>", "by auto"], ["proof (state)\nthis:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n\ngoal (4 subgoals):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n 2. (u, ?\\<tau>) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>\n 4. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using wf_b_subst check_assignI"], ["proof (prove)\nusing this:\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?v : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?v[?bv::=?b]\\<^sub>v\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?c ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?c[?bv::=?b]\\<^sub>c\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma>   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b   \\<turnstile>\\<^sub>w\\<^sub>f ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b \n   ?\\<Theta> ; ?\\<B>  ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ts  \\<Longrightarrow>\n  True\n     \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Theta>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B'  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n  \\<lbrakk>  ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?ce : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>   ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?ce[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> \\<turnstile>\\<^sub>w\\<^sub>f ?td  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?B' ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?e : ?b' ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b ; ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?e[?bv::=?b]\\<^sub>e\\<^sub>b : ?b'[?bv::=?b]\\<^sub>b\\<^sub>b \n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> \\<turnstile>\\<^sub>w\\<^sub>f ?s : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dc ; ?t \\<turnstile>\\<^sub>w\\<^sub>f ?cs : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta> ; ?tid ; ?dclist \\<turnstile>\\<^sub>w\\<^sub>f ?css : ?b  \\<Longrightarrow>\n  True\n   ?\\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Phi>  \\<Longrightarrow> True\n  \\<lbrakk> ?\\<Theta> ; ?B' ; ?\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta> ;\n   {|?bv|} = ?B';  ?\\<Theta> ; ?B  \\<turnstile>\\<^sub>w\\<^sub>f ?b \\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?B ; ?\\<Gamma>[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b \n   ?\\<Theta>  ; ?\\<Phi> \\<turnstile>\\<^sub>w\\<^sub>f ?ftq  \\<Longrightarrow>\n  True\n   ?\\<Theta> ; ?\\<Phi> ; ?\\<B> \\<turnstile>\\<^sub>w\\<^sub>f ?ft  \\<Longrightarrow>\n  True\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b \n\ngoal (3 subgoals):\n 1. (u, ?\\<tau>) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"(u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b) \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "using check_assignI subst_d_b_member"], ["proof (prove)\nusing this:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  (?u, ?\\<tau>) \\<in> setD ?\\<Delta> \\<Longrightarrow>\n  (?u, ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b)\n  \\<in> setD ?\\<Delta>[?bv::=?b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (1 subgoal):\n 1. (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n    \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b", "by simp"], ["proof (state)\nthis:\n  (u, \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b)\n  \\<in> setD \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \" \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_assignI subst_b_check_v"], ["proof (prove)\nusing this:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_assignI subst_b_subtype subst_b_simps subst_tb.simps"], ["proof (prove)\nusing this:\n   \\<Theta>  \\<turnstile>\\<^sub>w\\<^sub>f \\<Phi> \n   \\<Theta> ; \\<B> ; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Delta> \n  (u, \\<tau>) \\<in> setD \\<Delta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<tau>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> u ::= v[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_whileI \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>')"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>'.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>';\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 3. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b }  \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(rule Typing.check_whileI)"], ["proof (state)\ngoal (3 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_bool  | TRUE \\<rbrace>\n 2.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>", "using check_whileI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n\ngoal (2 subgoals):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>", "using check_whileI"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show \"\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_b_subtype check_whileI"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Theta> ; {|?bv|} ; ?\\<Gamma>  \\<turnstile> ?\\<tau>1.0 \\<lesssim> ?\\<tau>2.0;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b' ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?\\<Gamma>[?bv::=?b']\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?\\<tau>1.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b \\<lesssim> ?\\<tau>2.0[?bv::=?b']\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_bool  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by fastforce"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> \\<lbrace> z : B_unit  | TRUE \\<rbrace> \\<lesssim> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>'[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_seqI \\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>)"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> s1 z s2 \\<tau>.\n       \\<lbrakk> \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "then"], ["proof (chain)\npicking this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}", "show ?case"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_sb.simps"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile>  s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b  \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_seqI Typing.check_seqI subst_b_eq"], ["proof (prove)\nusing this:\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s1 \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s1[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_unit  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta>  \\<turnstile> s2 \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> s2[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk> ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> ?s1.0 \\<Leftarrow> \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>;\n    ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile> ?s2.0 \\<Leftarrow> ?\\<tau>\\<rbrakk>\n  \\<Longrightarrow>  ?\\<Theta> ; ?\\<Phi> ; ?\\<B> ; ?\\<Gamma> ; ?\\<Delta>  \\<turnstile>  ?s1.0 ;; ?s2.0  \\<Leftarrow> ?\\<tau>\n  (c_of ?\\<tau> ?z)[?bv::=?b]\\<^sub>c\\<^sub>b =\n  c_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z\n  (b_of ?\\<tau>)[?bv::=?b]\\<^sub>b\\<^sub>b =\n  b_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b  | [ ?v[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n      ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace> =\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>  | [ ?v ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                         ?\\<tau>\n                         ?z  \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>\n\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile>  s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b  \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by metis"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "case (check_caseI \\<Theta> \\<Phi> \\<B>  \\<Gamma> \\<Delta> tid dclist v cs \\<tau>  z)"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                                    cs bv\n                                    b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  AF_typedef tid dclist \\<in> set \\<Theta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n                                   tid  | TRUE \\<rbrace>\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta> \\<Phi> \\<B> \\<Gamma> \\<Delta> tid dclist v cs \\<tau> z.\n       \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n        \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         \\<B> = {|bv|}\\<rbrakk>\n        \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n        AF_typedef tid dclist \\<in> set \\<Theta>;\n        \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n   tid  | TRUE \\<rbrace>;\n           \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n         \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n        \\<B> = {|bv|}\\<rbrakk>\n       \\<Longrightarrow>  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "unfolding subst_b_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb\n                cs bv b } \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "proof(rule Typing.check_caseI)"], ["proof (state)\ngoal (4 subgoals):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; ?tid ; ?dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                      cs bv\n                      b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n 2. AF_typedef ?tid ?dclist \\<in> set \\<Theta>\n 3. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_id\n                 ?tid  | TRUE \\<rbrace>\n 4.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "show \\<open> \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using check_caseI"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                                    cs bv\n                                    b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  AF_typedef tid dclist \\<in> set \\<Theta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n                                   tid  | TRUE \\<rbrace>\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                    cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n   \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                  cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (3 subgoals):\n 1. AF_typedef tid dclist \\<in> set \\<Theta>\n 2. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_id\n                 tid  | TRUE \\<rbrace>\n 3.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "show \\<open>AF_typedef tid dclist \\<in> set \\<Theta>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. AF_typedef tid dclist \\<in> set \\<Theta>", "using check_caseI"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                                    cs bv\n                                    b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  AF_typedef tid dclist \\<in> set \\<Theta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n                                   tid  | TRUE \\<rbrace>\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1. AF_typedef tid dclist \\<in> set \\<Theta>", "by auto"], ["proof (state)\nthis:\n  AF_typedef tid dclist \\<in> set \\<Theta>\n\ngoal (2 subgoals):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> ?z : B_id\n                 tid  | TRUE \\<rbrace>\n 2.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "show \\<open>\\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id tid  | TRUE \\<rbrace>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n                tid  | TRUE \\<rbrace>", "using check_caseI subst_b_check_v subst_b_simps subst_tb.simps subst_b_simps"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                                    cs bv\n                                    b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  AF_typedef tid dclist \\<in> set \\<Theta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n                                   tid  | TRUE \\<rbrace>\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n  \\<lbrakk>?\\<Theta> ; ?B ; ?G  \\<turnstile> ?v \\<Leftarrow> ?\\<tau>;\n    ?\\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f ?b ;\n   ?B = {|?bv|}\\<rbrakk>\n  \\<Longrightarrow> ?\\<Theta> ; {||} ; ?G[?bv::=?b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> ?v[?bv::=?b]\\<^sub>v\\<^sub>b \\<Leftarrow> ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  \\<lbrace> ?z : ?b2.0  | ?c \\<rbrace>[?bv1.0::=?b1.0]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : ?b2.0[?bv1.0::=?b1.0]\\<^sub>b\\<^sub>b  | ?c[?bv1.0::=?b1.0]\\<^sub>c\\<^sub>b \\<rbrace>\n  (TRUE)[?x::=?v]\\<^sub>c\\<^sub>b = (TRUE)\n  (FALSE)[?x::=?v]\\<^sub>c\\<^sub>b = (FALSE)\n  (?c1.0  AND  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  AND  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0 OR ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b OR ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?c1.0  IMP  ?c2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?c1.0[?x::=?v]\\<^sub>c\\<^sub>b  IMP  ?c2.0[?x::=?v]\\<^sub>c\\<^sub>b )\n  (?e1.0  ==  ?e2.0 )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (?e1.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  ?e2.0[?x::=?v]\\<^sub>c\\<^sub>e\\<^sub>b )\n  (\\<not> ?c )[?x::=?v]\\<^sub>c\\<^sub>b =\n  (\\<not> ?c[?x::=?v]\\<^sub>c\\<^sub>b )\n  [ ?v' ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [#1?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [#2?v']\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e\n  [| ?v' |]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>c\\<^sup>e[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e\n  [ ?l ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?l ]\\<^sup>v\n  [ ?y ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b = [ ?y ]\\<^sup>v\n  (V_cons ?tyid ?c ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_cons ?tyid ?c (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  (V_consp ?tyid ?c ?b ?v')[?x::=?v]\\<^sub>v\\<^sub>b =\n  V_consp ?tyid ?c ?b[?x::=?v]\\<^sub>b\\<^sub>b\n   (?v'[?x::=?v]\\<^sub>v\\<^sub>b)\n  [ ?v1.0 , ?v2.0 ]\\<^sup>v[?x::=?v]\\<^sub>v\\<^sub>b =\n  [ ?v1.0[?x::=?v]\\<^sub>v\\<^sub>b , ?v2.0[?x::=?v]\\<^sub>v\\<^sub>b ]\\<^sup>v\n  (B_var ?bv2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  (if ?bv1.0 = ?bv2.0 then ?b else B_var ?bv2.0)\n  B_int[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_int\n  B_bool[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bool\n  (B_id ?s)[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_id ?s\n  [ ?b1.0 , ?b2.0 ]\\<^sup>b[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  [ ?b1.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b , ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b ]\\<^sup>b\n  B_unit[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_unit\n  B_bitvec[?bv1.0::=?b]\\<^sub>b\\<^sub>b = B_bitvec\n  (B_app ?s ?b2.0)[?bv1.0::=?b]\\<^sub>b\\<^sub>b =\n  B_app ?s ?b2.0[?bv1.0::=?b]\\<^sub>b\\<^sub>b\n  [ ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?f  ?v'  ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?f  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b  ]\\<^sup>e\n  [?f [ ?b' ]  ?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [?f [ ?b'[?bv::=?b]\\<^sub>b\\<^sub>b ]  ?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?opp ?v1.0 ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?opp ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#1?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#1?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [#2?v' ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [#2?v'[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?u ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b = [ ?u ]\\<^sup>e\n  [| ?v' |]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [| ?v'[?bv::=?b]\\<^sub>v\\<^sub>b |]\\<^sup>e\n  [ ?v1.0 @@ ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b @@ ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  [ ?v1.0  ?v2.0 ]\\<^sup>e[?bv::=?b]\\<^sub>e\\<^sub>b =\n  [ ?v1.0[?bv::=?b]\\<^sub>v\\<^sub>b \n  ?v2.0[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>e\n  subst_branchb  ?dc ?x1.0 \\<Rightarrow> ?s'  ?bv ?b =\n   ?dc ?x1.0 \\<Rightarrow> ?s'[?bv::=?b]\\<^sub>s\\<^sub>b \n  [?v']\\<^sup>s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  [?v'[?bv::=?b]\\<^sub>v\\<^sub>b]\\<^sup>s\n  LET ?y = ?e IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y = ?e[?bv::=?b]\\<^sub>e\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  LET ?y : ?t = ?s1.0 IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b =\n  LET ?y : ?t[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b IN ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  MATCH ?v' WITH { ?cs }[?bv::=?b]\\<^sub>s\\<^sub>b =\n  MATCH ?v'[?bv::=?b]\\<^sub>v\\<^sub>b WITH { subst_branchlb ?cs ?bv ?b }\n  ?y ::= ?v'[?bv::=?b]\\<^sub>s\\<^sub>b =\n  ?y ::= ?v'[?bv::=?b]\\<^sub>v\\<^sub>b\n  (IF ?v' THEN ?s1.0 ELSE ?s2.0)[?bv::=?b]\\<^sub>s\\<^sub>b =\n  IF ?v'[?bv::=?b]\\<^sub>v\\<^sub>b THEN ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ELSE ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b\n  VAR ?u : ?\\<tau> = ?v' IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b =\n  VAR ?u : ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b = ?v'[?bv::=?b]\\<^sub>v\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b\n  (WHILE ?s1.0 DO { ?s2.0 } )[?bv::=?b]\\<^sub>s\\<^sub>b =\n  WHILE ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b DO { ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b } \n  ( ?s1.0 ;; ?s2.0 )[?bv::=?b]\\<^sub>s\\<^sub>b =\n   ?s1.0[?bv::=?b]\\<^sub>s\\<^sub>b ;; ?s2.0[?bv::=?b]\\<^sub>s\\<^sub>b \n  ASSERT ?c IN ?s [?bv::=?b]\\<^sub>s\\<^sub>b =\n  ASSERT ?c[?bv::=?b]\\<^sub>c\\<^sub>b IN ?s[?bv::=?b]\\<^sub>s\\<^sub>b \n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n                tid  | TRUE \\<rbrace>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n     \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n      \\<B> = {|bv|}\\<rbrakk>\n     \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     AF_typedef tid dclist \\<in> set \\<Theta>;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\ntid  | TRUE \\<rbrace>;\n        \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ; \\<B> = {|bv|};\n     \\<And>\\<Theta> B G v \\<tau> b bv.\n        \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         B = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n                                  tid  | TRUE \\<rbrace>", "have \"\\<lbrace> z : B_id tid | TRUE \\<rbrace> = \\<lbrace> z : B_id tid | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "using subst_b_eq"], ["proof (prove)\nusing this:\n  (c_of ?\\<tau> ?z)[?bv::=?b]\\<^sub>c\\<^sub>b =\n  c_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z\n  (b_of ?\\<tau>)[?bv::=?b]\\<^sub>b\\<^sub>b =\n  b_of ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b  | [ ?v[?bv::=?b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n      ?\\<tau>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b ?z  \\<rbrace> =\n  \\<lbrace> ?z : b_of\n                  ?\\<tau>  | [ ?v ]\\<^sup>c\\<^sup>e  ==  [ [ ?ll ]\\<^sup>v ]\\<^sup>c\\<^sup>e   IMP  c_of\n                         ?\\<tau>\n                         ?z  \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b\n  \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>[?bv::=?b]\\<^sub>\\<tau>\\<^sub>b =\n  \\<lbrace> ?z : B_unit  | TRUE \\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n    \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "by auto"], ["proof (state)\nthis:\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<lbrakk> \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>;\n     \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n      \\<B> = {|bv|}\\<rbrakk>\n     \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n cs bv b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     AF_typedef tid dclist \\<in> set \\<Theta>;\n     \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\ntid  | TRUE \\<rbrace>;\n        \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> ;\n      \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ; \\<B> = {|bv|};\n     \\<And>\\<Theta> B G v \\<tau> b bv.\n        \\<lbrakk>\\<Theta> ; B ; G  \\<turnstile> v \\<Leftarrow> \\<tau>;\n          \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n         B = {|bv|}\\<rbrakk>\n        \\<Longrightarrow> \\<Theta> ; {||} ; G[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>z b2 c bv1 b1.\n        \\<lbrace> z : b2  | c \\<rbrace>[bv1::=b1]\\<^sub>\\<tau>\\<^sub>b =\n        \\<lbrace> z : b2[bv1::=b1]\\<^sub>b\\<^sub>b  | c[bv1::=b1]\\<^sub>c\\<^sub>b \\<rbrace>;\n     \\<And>x v. (TRUE)[x::=v]\\<^sub>c\\<^sub>b = (TRUE);\n     \\<And>x v. (FALSE)[x::=v]\\<^sub>c\\<^sub>b = (FALSE);\n     \\<And>c1 c2 x v.\n        (c1  AND  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  AND  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1 OR c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b OR c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>c1 c2 x v.\n        (c1  IMP  c2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (c1[x::=v]\\<^sub>c\\<^sub>b  IMP  c2[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>e1 e2 x v.\n        (e1  ==  e2 )[x::=v]\\<^sub>c\\<^sub>b =\n        (e1[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b  ==  e2[x::=v]\\<^sub>c\\<^sub>e\\<^sub>b );\n     \\<And>c x v.\n        (\\<not> c )[x::=v]\\<^sub>c\\<^sub>b =\n        (\\<not> c[x::=v]\\<^sub>c\\<^sub>b );\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v']\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b]\\<^sup>c\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b |]\\<^sup>c\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>c\\<^sup>e[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b @@ v2[bv::=b]\\<^sub>c\\<^sub>e\\<^sub>b ]\\<^sup>c\\<^sup>e;\n     \\<And>l x v. [ l ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ l ]\\<^sup>v;\n     \\<And>y x v. [ y ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b = [ y ]\\<^sup>v;\n     \\<And>tyid c v' x v.\n        (V_cons tyid c v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_cons tyid c (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>tyid c b v' x v.\n        (V_consp tyid c b v')[x::=v]\\<^sub>v\\<^sub>b =\n        V_consp tyid c b[x::=v]\\<^sub>b\\<^sub>b (v'[x::=v]\\<^sub>v\\<^sub>b);\n     \\<And>v1 v2 x v.\n        [ v1 , v2 ]\\<^sup>v[x::=v]\\<^sub>v\\<^sub>b =\n        [ v1[x::=v]\\<^sub>v\\<^sub>b , v2[x::=v]\\<^sub>v\\<^sub>b ]\\<^sup>v;\n     \\<And>bv2 bv1 b.\n        (B_var bv2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        (if bv1 = bv2 then b else B_var bv2);\n     \\<And>bv1 b. B_int[bv1::=b]\\<^sub>b\\<^sub>b = B_int;\n     \\<And>bv1 b. B_bool[bv1::=b]\\<^sub>b\\<^sub>b = B_bool;\n     \\<And>s bv1 b. (B_id s)[bv1::=b]\\<^sub>b\\<^sub>b = B_id s;\n     \\<And>b1 b2 bv1 b.\n        [ b1 , b2 ]\\<^sup>b[bv1::=b]\\<^sub>b\\<^sub>b =\n        [ b1[bv1::=b]\\<^sub>b\\<^sub>b , b2[bv1::=b]\\<^sub>b\\<^sub>b ]\\<^sup>b;\n     \\<And>bv1 b. B_unit[bv1::=b]\\<^sub>b\\<^sub>b = B_unit;\n     \\<And>bv1 b. B_bitvec[bv1::=b]\\<^sub>b\\<^sub>b = B_bitvec;\n     \\<And>s b2 bv1 b.\n        (B_app s b2)[bv1::=b]\\<^sub>b\\<^sub>b =\n        B_app s b2[bv1::=b]\\<^sub>b\\<^sub>b;\n     \\<And>v' bv b.\n        [ v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>f v' bv b.\n        [ f  v'  ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ f  v'[bv::=b]\\<^sub>v\\<^sub>b  ]\\<^sup>e;\n     \\<And>f b' v' bv b.\n        [f [ b' ]  v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [f [ b'[bv::=b]\\<^sub>b\\<^sub>b ]  v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>opp v1 v2 bv b.\n        [ opp v1 v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ opp v1[bv::=b]\\<^sub>v\\<^sub>b v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#1v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#1v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v' bv b.\n        [#2v' ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [#2v'[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>u bv b. [ u ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b = [ u ]\\<^sup>e;\n     \\<And>v' bv b.\n        [| v' |]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [| v'[bv::=b]\\<^sub>v\\<^sub>b |]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1 @@ v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b @@ v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>v1 v2 bv b.\n        [ v1  v2 ]\\<^sup>e[bv::=b]\\<^sub>e\\<^sub>b =\n        [ v1[bv::=b]\\<^sub>v\\<^sub>b  v2[bv::=b]\\<^sub>v\\<^sub>b ]\\<^sup>e;\n     \\<And>dc x1 s' bv b.\n        subst_branchb  dc x1 \\<Rightarrow> s'  bv b =\n         dc x1 \\<Rightarrow> s'[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>v' bv b.\n        [v']\\<^sup>s[bv::=b]\\<^sub>s\\<^sub>b =\n        [v'[bv::=b]\\<^sub>v\\<^sub>b]\\<^sup>s;\n     \\<And>y e s bv b.\n        LET y = e IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y = e[bv::=b]\\<^sub>e\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>y t s1 s2 bv b.\n        LET y : t = s1 IN s2[bv::=b]\\<^sub>s\\<^sub>b =\n        LET y : t[bv::=b]\\<^sub>\\<tau>\\<^sub>b = s1[bv::=b]\\<^sub>s\\<^sub>b IN s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>v' cs bv b.\n        MATCH v' WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b =\n        MATCH v'[bv::=b]\\<^sub>v\\<^sub>b WITH { subst_branchlb cs bv b };\n     \\<And>y v' bv b.\n        y ::= v'[bv::=b]\\<^sub>s\\<^sub>b = y ::= v'[bv::=b]\\<^sub>v\\<^sub>b;\n     \\<And>v' s1 s2 bv b.\n        (IF v' THEN s1 ELSE s2)[bv::=b]\\<^sub>s\\<^sub>b =\n        IF v'[bv::=b]\\<^sub>v\\<^sub>b THEN s1[bv::=b]\\<^sub>s\\<^sub>b ELSE s2[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>u \\<tau> v' s bv b.\n        VAR u : \\<tau> = v' IN s[bv::=b]\\<^sub>s\\<^sub>b =\n        VAR u : \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b = v'[bv::=b]\\<^sub>v\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b;\n     \\<And>s1 s2 bv b.\n        (WHILE s1 DO { s2 } )[bv::=b]\\<^sub>s\\<^sub>b =\n        WHILE s1[bv::=b]\\<^sub>s\\<^sub>b DO { s2[bv::=b]\\<^sub>s\\<^sub>b } ;\n     \\<And>s1 s2 bv b.\n        ( s1 ;; s2 )[bv::=b]\\<^sub>s\\<^sub>b =\n         s1[bv::=b]\\<^sub>s\\<^sub>b ;; s2[bv::=b]\\<^sub>s\\<^sub>b ;\n     \\<And>c s bv b.\n        ASSERT c IN s [bv::=b]\\<^sub>s\\<^sub>b =\n        ASSERT c[bv::=b]\\<^sub>c\\<^sub>b IN s[bv::=b]\\<^sub>s\\<^sub>b \\<rbrakk>\n    \\<Longrightarrow> \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n                                  tid  | TRUE \\<rbrace>", "then"], ["proof (chain)\npicking this:\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace> =\n  \\<lbrace> z : B_id tid  | TRUE \\<rbrace>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal (1 subgoal):\n 1. \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n                tid  | TRUE \\<rbrace>", "by (metis (no_types) check_caseI.hyps(4) check_caseI.prems(1) check_caseI.prems(2) subst_b_check_v)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n              tid  | TRUE \\<rbrace>\n\ngoal:\nNo subgoals!", "(* 31 ms *)"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n              tid  | TRUE \\<rbrace>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Theta> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b  \\<turnstile> v[bv::=b]\\<^sub>v\\<^sub>b \\<Leftarrow> \\<lbrace> z : B_id\n              tid  | TRUE \\<rbrace>\n\ngoal (1 subgoal):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "show \\<open>   \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "using check_caseI"], ["proof (prove)\nusing this:\n   \\<Theta> ;  \\<Phi> ; \\<B> ; \\<Gamma> ; \\<Delta> ; tid ; dclist ; v \\<turnstile> cs \\<Leftarrow> \\<tau>\n  \\<lbrakk> \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b ;\n   \\<B> = {|bv|}\\<rbrakk>\n  \\<Longrightarrow>  \\<Theta> ;  \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b ; tid ; dclist ; v[bv::=b]\\<^sub>v\\<^sub>b \\<turnstile> subst_branchlb\n                                    cs bv\n                                    b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n  AF_typedef tid dclist \\<in> set \\<Theta>\n  \\<Theta> ; \\<B> ; \\<Gamma>  \\<turnstile> v \\<Leftarrow> \\<lbrace> z : B_id\n                                   tid  | TRUE \\<rbrace>\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n   \\<Theta> ; {||}  \\<turnstile>\\<^sub>w\\<^sub>f b \n  \\<B> = {|bv|}\n\ngoal (1 subgoal):\n 1.    \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta>", "by auto"], ["proof (state)\nthis:\n     \\<turnstile>\\<^sub>w\\<^sub>f \\<Theta> \n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n   \\<Theta> ; \\<Phi> ; {||} ; \\<Gamma>[bv::=b]\\<^sub>\\<Gamma>\\<^sub>b ; \\<Delta>[bv::=b]\\<^sub>\\<Delta>\\<^sub>b  \\<turnstile> MATCH v WITH { cs }[bv::=b]\\<^sub>s\\<^sub>b \\<Leftarrow> \\<tau>[bv::=b]\\<^sub>\\<tau>\\<^sub>b\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}