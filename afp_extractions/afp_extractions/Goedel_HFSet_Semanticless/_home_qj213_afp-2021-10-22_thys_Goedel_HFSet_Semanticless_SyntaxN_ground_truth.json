{"file_name": "/home/qj213/afp-2021-10-22/thys/Goedel_HFSet_Semanticless/SyntaxN.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Goedel_HFSet_Semanticless", "problem_names": ["lemma supp_name [simp]: fixes i::name shows \"supp i = {atom i}\"", "lemma fresh_subst_if [simp]:\n  \"j \\<sharp> subst i x t \\<longleftrightarrow> (atom i \\<sharp> t \\<and> j \\<sharp> t) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\"", "lemma forget_subst_tm [simp]: \"atom a \\<sharp> tm \\<Longrightarrow> subst a x tm = tm\"", "lemma subst_tm_id [simp]: \"subst a (Var a) tm = tm\"", "lemma subst_tm_commute [simp]:\n  \"atom j \\<sharp> tm \\<Longrightarrow> subst j u (subst i t tm) = subst i (subst j u t) tm\"", "lemma subst_tm_commute2 [simp]:\n  \"atom j \\<sharp> t \\<Longrightarrow> atom i \\<sharp> u \\<Longrightarrow> i \\<noteq> j \\<Longrightarrow> subst j u (subst i t tm) = subst i t (subst j u tm)\"", "lemma repeat_subst_tm [simp]: \"subst i u (subst i t tm) = subst i (subst i u t) tm\"", "lemma size_subst_fm [simp]: \"size (A(i::=x)) = size A\"", "lemma forget_subst_fm [simp]: \"atom a \\<sharp> A \\<Longrightarrow> A(a::=x) = A\"", "lemma subst_fm_id [simp]: \"A(a::=Var a) = A\"", "lemma fresh_subst_fm_if [simp]:\n  \"j \\<sharp> (A(i::=x)) \\<longleftrightarrow> (atom i \\<sharp> A \\<and> j \\<sharp> A) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i))\"", "lemma subst_fm_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (A(i::=t))(j::=u) = A(i ::= subst j u t)\"", "lemma repeat_subst_fm [simp]: \"(A(i::=t))(i::=u) = A(i ::= subst i u t)\"", "lemma subst_fm_Ex_with_renaming:\n  \"atom i' \\<sharp> (A, i, j, t) \\<Longrightarrow> (Ex i A)(j ::= t) = Ex i' (((i \\<leftrightarrow> i') \\<bullet> A)(j ::= t))\"", "lemma HPair_eqvt [eqvt]: \"(p \\<bullet> HPair a b) = HPair (p \\<bullet> a) (p \\<bullet> b)\"", "lemma fresh_HPair [simp]: \"x \\<sharp> HPair a b \\<longleftrightarrow> (x \\<sharp> a \\<and> x \\<sharp> b)\"", "lemma HPair_injective_iff [iff]: \"HPair a b = HPair a' b' \\<longleftrightarrow> (a = a' \\<and> b = b')\"", "lemma subst_tm_HPair [simp]: \"subst i x (HPair a b) = HPair (subst i x a) (subst i x b)\"", "lemma SUCC_fresh_iff [simp]: \"a \\<sharp> SUCC t \\<longleftrightarrow> a \\<sharp> t\"", "lemma SUCC_eqvt [eqvt]: \"(p \\<bullet> SUCC a) = SUCC (p \\<bullet> a)\"", "lemma SUCC_subst [simp]: \"subst i t (SUCC k) = SUCC (subst i t k)\"", "lemma ORD_OF_fresh [simp]: \"a \\<sharp> ORD_OF n\"", "lemma ORD_OF_eqvt [eqvt]: \"(p \\<bullet> ORD_OF n) = ORD_OF (p \\<bullet> n)\"", "lemma Conj_eqvt [eqvt]: \"p \\<bullet> (A AND B) = (p \\<bullet> A) AND (p \\<bullet> B)\"", "lemma fresh_Conj [simp]: \"a \\<sharp> A AND B \\<longleftrightarrow> (a \\<sharp> A \\<and> a \\<sharp> B)\"", "lemma supp_Conj [simp]: \"supp (A AND B) = supp A \\<union> supp B\"", "lemma size_Conj [simp]: \"size (A AND B) = size A + size B + 4\"", "lemma Conj_injective_iff [iff]: \"(A AND B) = (A' AND B') \\<longleftrightarrow> (A = A' \\<and> B = B')\"", "lemma subst_fm_Conj [simp]: \"(A AND B)(i::=x) = (A(i::=x)) AND (B(i::=x))\"", "lemma Iff_eqvt [eqvt]: \"p \\<bullet> (A IFF B) = (p \\<bullet> A) IFF (p \\<bullet> B)\"", "lemma fresh_Iff [simp]: \"a \\<sharp> A IFF B \\<longleftrightarrow> (a \\<sharp> A \\<and> a \\<sharp> B)\"", "lemma size_Iff [simp]: \"size (A IFF B) = 2*(size A + size B) + 8\"", "lemma Iff_injective_iff [iff]: \"(A IFF B) = (A' IFF B') \\<longleftrightarrow> (A = A' \\<and> B = B')\"", "lemma subst_fm_Iff [simp]: \"(A IFF B)(i::=x) = (A(i::=x)) IFF (B(i::=x))\"", "lemma contraction: \"insert A (insert A H) \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> B\"", "lemma thin_Un: \"H \\<turnstile> A \\<Longrightarrow> H \\<union> H' \\<turnstile> A\"", "lemma thin: \"H \\<turnstile> A \\<Longrightarrow> H \\<subseteq> H' \\<Longrightarrow> H' \\<turnstile> A\"", "lemma thin0: \"{} \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A\"", "lemma thin1: \"H \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> B\"", "lemma thin2: \"insert A1 H \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 H) \\<turnstile> B\"", "lemma thin3: \"insert A1 (insert A2 H) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\"", "lemma thin4:\n  \"insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B\"", "lemma rotate2: \"insert A2 (insert A1 H) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 H) \\<turnstile> B\"", "lemma rotate3: \"insert A3 (insert A1 (insert A2 H)) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\"", "lemma rotate4:\n  \"insert A4 (insert A1 (insert A2 (insert A3 H))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B\"", "lemma rotate5:\n  \"insert A5 (insert A1 (insert A2 (insert A3 (insert A4 H)))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 H)))) \\<turnstile> B\"", "lemma rotate6:\n  \"insert A6 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 H))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 H))))) \\<turnstile> B\"", "lemma rotate7:\n  \"insert A7 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 H)))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 H)))))) \\<turnstile> B\"", "lemma rotate8:\n  \"insert A8 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 H))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 H))))))) \\<turnstile> B\"", "lemma rotate9:\n  \"insert A9 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 H)))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 H)))))))) \\<turnstile> B\"", "lemma rotate10:\n  \"insert A10 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 H))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 H))))))))) \\<turnstile> B\"", "lemma rotate11:\n  \"insert A11 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 H)))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 H)))))))))) \\<turnstile> B\"", "lemma rotate12:\n  \"insert A12 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 H))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 H))))))))))) \\<turnstile> B\"", "lemma rotate13:\n  \"insert A13 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 H)))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 H)))))))))))) \\<turnstile> B\"", "lemma rotate14:\n  \"insert A14 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 H))))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 H))))))))))))) \\<turnstile> B\"", "lemma rotate15:\n  \"insert A15 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 H)))))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 (insert A15 H)))))))))))))) \\<turnstile> B\"", "lemma MP_same: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\"", "lemma MP_thin: \"HA \\<turnstile> A IMP B \\<Longrightarrow> HB \\<turnstile> A \\<Longrightarrow> HA \\<union> HB \\<subseteq> H \\<Longrightarrow> H \\<turnstile> B\"", "lemma MP_null: \"{} \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\"", "lemma Disj_commute: \"H \\<turnstile> B OR A \\<Longrightarrow> H \\<turnstile> A OR B\"", "lemma S: assumes  \"H \\<turnstile> A IMP (B IMP C)\" \"H' \\<turnstile> A IMP B\" shows \"H \\<union> H' \\<turnstile> A IMP C\"", "lemma Assume: \"insert A H \\<turnstile> A\"", "lemmas AssumeH = Assume Assume [THEN rotate2] Assume [THEN rotate3] Assume [THEN rotate4] Assume [THEN rotate5]\n                 Assume [THEN rotate6] Assume [THEN rotate7] Assume [THEN rotate8] Assume [THEN rotate9] Assume [THEN rotate10]\n                 Assume [THEN rotate11] Assume [THEN rotate12]", "lemma Imp_triv_I: \"H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B\"", "lemma DisjAssoc1: \"H \\<turnstile> A OR (B OR C) \\<Longrightarrow> H \\<turnstile> (A OR B) OR C\"", "lemma DisjAssoc2: \"H \\<turnstile> (A OR B) OR C \\<Longrightarrow> H \\<turnstile> A OR (B OR C)\"", "lemma Disj_commute_Imp: \"H \\<turnstile> (B OR A) IMP (A OR B)\"", "lemma Disj_Semicong_1: \"H \\<turnstile> A OR C \\<Longrightarrow> H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> B OR C\"", "lemma Imp_Imp_commute: \"H \\<turnstile> B IMP (A IMP C) \\<Longrightarrow> H \\<turnstile> A IMP (B IMP C)\"", "lemma deduction_Diff: assumes \"H \\<turnstile> B\" shows \"H - {C} \\<turnstile> C IMP B\"", "theorem Imp_I [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B\"", "lemma anti_deduction: \"H \\<turnstile> A IMP B \\<Longrightarrow> insert A H \\<turnstile> B\"", "lemma cut:  \"H \\<turnstile> A \\<Longrightarrow> insert A H' \\<turnstile> B \\<Longrightarrow> H \\<union> H' \\<turnstile> B\"", "lemma cut_same: \"H \\<turnstile> A \\<Longrightarrow> insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\"", "lemma cut_thin: \"HA \\<turnstile> A \\<Longrightarrow> insert A HB \\<turnstile> B \\<Longrightarrow> HA \\<union> HB \\<subseteq> H \\<Longrightarrow> H \\<turnstile> B\"", "lemma cut0: \"{} \\<turnstile> A \\<Longrightarrow> insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\"", "lemma cut1: \"{A} \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\"", "lemma rcut1: \"{A} \\<turnstile> B \\<Longrightarrow> insert B H \\<turnstile> C \\<Longrightarrow> insert A H \\<turnstile> C\"", "lemma cut2: \"\\<lbrakk>{A,B} \\<turnstile> C; H \\<turnstile> A; H \\<turnstile> B\\<rbrakk> \\<Longrightarrow> H \\<turnstile> C\"", "lemma rcut2: \"{A,B} \\<turnstile> C \\<Longrightarrow> insert C H \\<turnstile> D \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> D\"", "lemma cut3: \"\\<lbrakk>{A,B,C} \\<turnstile> D; H \\<turnstile> A; H \\<turnstile> B; H \\<turnstile> C\\<rbrakk> \\<Longrightarrow> H \\<turnstile> D\"", "lemma cut4: \"\\<lbrakk>{A,B,C,D} \\<turnstile> E; H \\<turnstile> A; H \\<turnstile> B; H \\<turnstile> C; H \\<turnstile> D\\<rbrakk> \\<Longrightarrow> H \\<turnstile> E\"", "lemma Disj_I1: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B\"", "lemma Disj_I2: \"H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A OR B\"", "lemma Peirce: \"H \\<turnstile> (Neg A) IMP A \\<Longrightarrow> H \\<turnstile> A\"", "lemma Contra: \"insert (Neg A) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A\"", "lemma Imp_Neg_I: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A IMP (Neg B) \\<Longrightarrow> H \\<turnstile> Neg A\"", "lemma NegNeg_I: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> Neg (Neg A)\"", "lemma NegNeg_D: \"H \\<turnstile> Neg (Neg A) \\<Longrightarrow> H \\<turnstile> A\"", "lemma Neg_D: \"H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\"", "lemma Disj_Neg_1: \"H \\<turnstile> A OR B \\<Longrightarrow> H \\<turnstile> Neg B \\<Longrightarrow> H \\<turnstile> A\"", "lemma Disj_Neg_2: \"H \\<turnstile> A OR B \\<Longrightarrow> H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> B\"", "lemma Neg_Disj_I: \"H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> Neg B \\<Longrightarrow> H \\<turnstile> Neg (A OR B)\"", "lemma Conj_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A AND B\"", "lemma Conj_E1: \"H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> A\"", "lemma Conj_E2: \"H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> B\"", "lemma Conj_commute: \"H \\<turnstile> B AND A \\<Longrightarrow> H \\<turnstile> A AND B\"", "lemma Conj_E: assumes \"insert A (insert B H) \\<turnstile> C\" shows \"insert (A AND B) H \\<turnstile> C\"", "lemmas Conj_EH = Conj_E Conj_E [THEN rotate2] Conj_E [THEN rotate3] Conj_E [THEN rotate4] Conj_E [THEN rotate5]\n                 Conj_E [THEN rotate6] Conj_E [THEN rotate7] Conj_E [THEN rotate8] Conj_E [THEN rotate9] Conj_E [THEN rotate10]", "lemma Neg_I0: assumes \"(\\<And>B. atom i \\<sharp> B \\<Longrightarrow> insert A H \\<turnstile> B)\" shows \"H \\<turnstile> Neg A\"", "lemma Neg_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg B) H \\<turnstile> Neg A\"", "lemma Conj_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> insert C H \\<turnstile> D \\<Longrightarrow> insert (A AND C) H \\<turnstile> B AND D\"", "lemma Disj_mono:\n  assumes \"insert A H \\<turnstile> B\" \"insert C H \\<turnstile> D\" shows \"insert (A OR C) H \\<turnstile> B OR D\"", "lemma Disj_E:\n  assumes A: \"insert A H \\<turnstile> C\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A OR B) H \\<turnstile> C\"", "lemmas Disj_EH = Disj_E Disj_E [THEN rotate2] Disj_E [THEN rotate3] Disj_E [THEN rotate4] Disj_E [THEN rotate5]\n                 Disj_E [THEN rotate6] Disj_E [THEN rotate7] Disj_E [THEN rotate8] Disj_E [THEN rotate9] Disj_E [THEN rotate10]", "lemma Contra': \"insert A H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> Neg A\"", "lemma NegNeg_E [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg (Neg A)) H \\<turnstile> B\"", "lemma Imp_E:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A IMP B) H \\<turnstile> C\"", "lemma Imp_cut:\n  assumes \"insert C H \\<turnstile> A IMP B\" \"{A} \\<turnstile> C\"\n    shows \"H \\<turnstile> A IMP B\"", "lemma Iff_I [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> insert B H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A IFF B\"", "lemma Iff_MP_same: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\"", "lemma Iff_MP2_same: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A\"", "lemma Iff_refl [intro!]: \"H \\<turnstile> A IFF A\"", "lemma Iff_sym: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B IFF A\"", "lemma Iff_trans: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B IFF C \\<Longrightarrow> H \\<turnstile> A IFF C\"", "lemma Iff_E:\n  \"insert A (insert B H) \\<turnstile> C \\<Longrightarrow> insert (Neg A) (insert (Neg B) H) \\<turnstile> C \\<Longrightarrow> insert (A IFF B) H \\<turnstile> C\"", "lemma Iff_E1:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A IFF B) H \\<turnstile> C\"", "lemma Iff_E2:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (B IFF A) H \\<turnstile> C\"", "lemma Iff_MP_left: \"H \\<turnstile> A IFF B \\<Longrightarrow> insert A H \\<turnstile> C \\<Longrightarrow> insert B H \\<turnstile> C\"", "lemma Iff_MP_left': \"H \\<turnstile> A IFF B \\<Longrightarrow> insert B H \\<turnstile> C \\<Longrightarrow> insert A H \\<turnstile> C\"", "lemma Swap: \"insert (Neg B) H \\<turnstile> A \\<Longrightarrow> insert (Neg A) H \\<turnstile> B\"", "lemma Cases: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg A) H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\"", "lemma Neg_Conj_E: \"H \\<turnstile> B \\<Longrightarrow> insert (Neg A) H \\<turnstile> C \\<Longrightarrow> insert (Neg (A AND B)) H \\<turnstile> C\"", "lemma Disj_CI: \"insert (Neg B) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B\"", "lemma Disj_3I: \"insert (Neg A) (insert (Neg C) H) \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A OR B OR C\"", "lemma Contrapos1: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> Neg B IMP Neg A\"", "lemma Contrapos2: \"H \\<turnstile> (Neg B) IMP (Neg A) \\<Longrightarrow> H \\<turnstile> A IMP B\"", "lemma ContraAssumeN [intro]: \"B \\<in> H \\<Longrightarrow> insert (Neg B) H \\<turnstile> A\"", "lemma ContraAssume: \"Neg B \\<in> H \\<Longrightarrow> insert B H \\<turnstile> A\"", "lemma ContraProve: \"H \\<turnstile> B \\<Longrightarrow> insert (Neg B) H \\<turnstile> A\"", "lemma Disj_IE1: \"insert B H \\<turnstile> C \\<Longrightarrow> insert (A OR B) H \\<turnstile> A OR C\"", "lemmas Disj_IE1H = Disj_IE1 Disj_IE1 [THEN rotate2] Disj_IE1 [THEN rotate3] Disj_IE1 [THEN rotate4] Disj_IE1 [THEN rotate5]\n                 Disj_IE1 [THEN rotate6] Disj_IE1 [THEN rotate7] Disj_IE1 [THEN rotate8]", "lemma Ex_I: \"H \\<turnstile> A(i::=x) \\<Longrightarrow> H \\<turnstile> Ex i A\"", "lemma Ex_E:\n  assumes \"insert A H \\<turnstile> B\" \"atom i \\<sharp> B\" \"\\<forall>C \\<in> H. atom i \\<sharp> C\"\n  shows \"insert (Ex i A) H \\<turnstile> B\"", "lemma Ex_E_with_renaming:\n  assumes \"insert ((i \\<leftrightarrow> i') \\<bullet> A) H \\<turnstile> B\" \"atom i' \\<sharp> (A,i,B)\" \"\\<forall>C \\<in> H. atom i' \\<sharp> C\"\n  shows \"insert (Ex i A) H \\<turnstile> B\"", "lemmas Ex_EH = Ex_E Ex_E [THEN rotate2] Ex_E [THEN rotate3] Ex_E [THEN rotate4] Ex_E [THEN rotate5]\n                 Ex_E [THEN rotate6] Ex_E [THEN rotate7] Ex_E [THEN rotate8] Ex_E [THEN rotate9] Ex_E [THEN rotate10]", "lemma Ex_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> insert (Ex i A) H \\<turnstile> (Ex i B)\"", "lemma All_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> All i A\"", "lemma All_D: \"H \\<turnstile> All i A \\<Longrightarrow> H \\<turnstile> A(i::=x)\"", "lemma All_E: \"insert (A(i::=x)) H \\<turnstile> B \\<Longrightarrow> insert (All i A) H \\<turnstile> B\"", "lemma All_E': \"H \\<turnstile> All i A \\<Longrightarrow> insert (A(i::=x)) H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\"", "lemma All2_E: \"\\<lbrakk>atom i \\<sharp> t; H \\<turnstile> x IN t; insert (A(i::=x)) H \\<turnstile> B\\<rbrakk> \\<Longrightarrow> insert (All2 i t A) H \\<turnstile> B\"", "lemma All2_E': \"\\<lbrakk>H \\<turnstile> All2 i t A; H \\<turnstile> x IN t; insert (A(i::=x)) H \\<turnstile> B; atom i \\<sharp> t\\<rbrakk> \\<Longrightarrow> H \\<turnstile> B\"", "lemma Neg_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> Neg A IFF Neg A'\"", "lemma Disj_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> A OR B IFF A' OR B'\"", "lemma Conj_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> A AND B IFF A' AND B'\"", "lemma Imp_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> (A IMP B) IFF (A' IMP B')\"", "lemma Iff_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> (A IFF B) IFF (A' IFF B')\"", "lemma Ex_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (Ex i A) IFF (Ex i A')\"", "lemma All_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (All i A) IFF (All i A')\"", "lemma Subst: \"H \\<turnstile> A \\<Longrightarrow> \\<forall>B \\<in> H. atom i \\<sharp> B \\<Longrightarrow> H \\<turnstile> A (i::=x)\"", "lemma Eq_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (t EQ u IMP t' EQ u')\"", "lemma Refl [iff]: \"H \\<turnstile> t EQ t\"", "lemma Sym: assumes \"H \\<turnstile> t EQ u\" shows \"H \\<turnstile> u EQ t\"", "lemma Sym_L: \"insert (t EQ u) H \\<turnstile> A \\<Longrightarrow> insert (u EQ t) H \\<turnstile> A\"", "lemma Trans: assumes \"H \\<turnstile> x EQ y\" \"H \\<turnstile> y EQ z\" shows \"H \\<turnstile> x EQ z\"", "lemma Eq_cong:\n  assumes \"H \\<turnstile> t EQ t'\" \"H \\<turnstile> u EQ u'\" shows \"H \\<turnstile> t EQ u IFF t' EQ u'\"", "lemma Eq_Trans_E: \"H \\<turnstile> x EQ u \\<Longrightarrow> insert (t EQ u) H \\<turnstile> A \\<Longrightarrow> insert (x EQ t) H \\<turnstile> A\"", "lemma Mem_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (t IN u IMP t' IN u')\"", "lemma Mem_cong:\n  assumes \"H \\<turnstile> t EQ t'\" \"H \\<turnstile> u EQ u'\" shows \"H \\<turnstile> t IN u IFF t' IN u'\"", "lemma Eats_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (Eats t u EQ Eats t' u')\"", "lemma Eats_cong: \"\\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk> \\<Longrightarrow> H \\<turnstile> Eats t u EQ Eats t' u'\"", "lemma HPair_cong: \"\\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk> \\<Longrightarrow> H \\<turnstile> HPair t u EQ HPair t' u'\"", "lemma SUCC_cong: \"H \\<turnstile> t EQ t' \\<Longrightarrow> H \\<turnstile> SUCC t EQ SUCC t'\"", "lemma Eq_subst_tm_Iff: \"{t EQ u} \\<turnstile> subst i t tm EQ subst i u tm\"", "lemma Eq_subst_fm_Iff: \"insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)\"", "lemma Var_Eq_subst_Iff: \"insert (Var i EQ t) H \\<turnstile> A(i::=t) IFF A\"", "lemma Var_Eq_imp_subst_Iff: \"H \\<turnstile> Var i EQ t \\<Longrightarrow> H \\<turnstile> A(i::=t) IFF A\"", "lemma P1_cong:\n  fixes tms :: \"tm list\"\n  assumes \"\\<And>i t x. atom i \\<sharp> tms \\<Longrightarrow> (P t)(i::=x) = P (subst i x t)\" and \"H \\<turnstile> x EQ x'\"\n  shows \"H \\<turnstile> P x IFF P x'\"", "lemma P2_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t u x. atom i \\<sharp> tms \\<Longrightarrow> (P t u)(i::=x) = P (subst i x t) (subst i x u)\"\n      and eq:  \"H \\<turnstile> x EQ x'\" \"H \\<turnstile> y EQ y'\"\n  shows \"H \\<turnstile> P x y IFF P x' y'\"", "lemma P3_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t u v x. atom i \\<sharp> tms \\<Longrightarrow>\n                   (P t u v)(i::=x) = P (subst i x t) (subst i x u) (subst i x v)\"\n      and eq:  \"H \\<turnstile> x EQ x'\" \"H \\<turnstile> y EQ y'\" \"H \\<turnstile> z EQ z'\"\n  shows \"H \\<turnstile> P x y z IFF P x' y' z'\"", "lemma P4_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t1 t2 t3 t4 x. atom i \\<sharp> tms \\<Longrightarrow>\n                 (P t1 t2 t3 t4)(i::=x) = P (subst i x t1) (subst i x t2) (subst i x t3) (subst i x t4)\"\n      and eq:  \"H \\<turnstile> x1 EQ x1'\" \"H \\<turnstile> x2 EQ x2'\" \"H \\<turnstile> x3 EQ x3'\" \"H \\<turnstile> x4 EQ x4'\"\n  shows \"H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\"", "lemma Mem_Zero_iff:\n  assumes \"atom i \\<sharp> t\" shows \"H \\<turnstile> (t EQ Zero) IFF (All i (Neg ((Var i) IN t)))\"", "lemma Mem_Zero_E [intro!]: \"insert (x IN Zero) H \\<turnstile> A\"", "lemma Fls_eqvt [eqvt]: \"(p \\<bullet> Fls) = Fls\"", "lemma Fls_fresh [simp]: \"a \\<sharp> Fls\"", "lemma Neg_I [intro!]: \"insert A H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> Neg A\"", "lemma Neg_E [intro!]: \"H \\<turnstile> A \\<Longrightarrow> insert (Neg A) H \\<turnstile> Fls\"", "lemma Neg_Imp_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> insert B H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> Neg (A IMP B)\"", "lemma Neg_Imp_E [intro!]: \"insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow> insert (Neg (A IMP B)) H \\<turnstile> C\"", "lemma Fls_E [intro!]: \"insert Fls H \\<turnstile> A\"", "lemma truth_provable: \"H \\<turnstile> (Neg Fls)\"", "lemma ExFalso: \"H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> A\"", "lemma Eq_Zero_D:\n  assumes \"H \\<turnstile> t EQ Zero\" \"H \\<turnstile> u IN t\" shows \"H \\<turnstile> A\"", "lemma Eq_Zero_thm:\n  assumes \"atom i \\<sharp> t\" shows \"{All i (Neg ((Var i) IN t))} \\<turnstile> t EQ Zero\"", "lemma Eq_Zero_I:\n  assumes insi: \"insert ((Var i) IN t) H \\<turnstile> Fls\" and i1: \"atom i \\<sharp> t\" and i2: \"\\<forall>B \\<in> H. atom i \\<sharp> B\"\n  shows \"H \\<turnstile> t EQ Zero\"", "lemma Eq_Eats_iff:\n  assumes \"atom i \\<sharp> (z,t,u)\"\n  shows \"H \\<turnstile> (z EQ Eats t u) IFF (All i (Var i IN z IFF Var i IN t OR Var i EQ u))\"", "lemma Eq_Eats_I:\n  \"H \\<turnstile> All i (Var i IN z IFF Var i IN t OR Var i EQ u) \\<Longrightarrow> atom i \\<sharp> (z,t,u) \\<Longrightarrow> H \\<turnstile> z EQ Eats t u\"", "lemma Mem_Eats_Iff:\n  \"H \\<turnstile> x IN (Eats t u) IFF x IN t OR x EQ u\"", "lemma Mem_Eats_I1: \"H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN Eats t z\"", "lemma Mem_Eats_I2: \"H \\<turnstile> u EQ z \\<Longrightarrow> H \\<turnstile> u IN Eats t z\"", "lemma Mem_Eats_E:\n  assumes A: \"insert (u IN t) H \\<turnstile> C\" and B: \"insert (u EQ z) H \\<turnstile> C\"\n    shows \"insert (u IN Eats t z) H \\<turnstile> C\"", "lemmas Mem_Eats_EH = Mem_Eats_E Mem_Eats_E [THEN rotate2] Mem_Eats_E [THEN rotate3] Mem_Eats_E [THEN rotate4] Mem_Eats_E [THEN rotate5]\n                 Mem_Eats_E [THEN rotate6] Mem_Eats_E [THEN rotate7] Mem_Eats_E [THEN rotate8]", "lemma Mem_SUCC_I1: \"H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN SUCC t\"", "lemma Mem_SUCC_I2: \"H \\<turnstile> u EQ t \\<Longrightarrow> H \\<turnstile> u IN SUCC t\"", "lemma Mem_SUCC_Refl [simp]: \"H \\<turnstile> k IN SUCC k\"", "lemma Mem_SUCC_E:\n  assumes \"insert (u IN t) H \\<turnstile> C\" \"insert (u EQ t) H \\<turnstile> C\" shows \"insert (u IN SUCC t) H \\<turnstile> C\"", "lemmas Mem_SUCC_EH = Mem_SUCC_E Mem_SUCC_E [THEN rotate2] Mem_SUCC_E [THEN rotate3] Mem_SUCC_E [THEN rotate4] Mem_SUCC_E [THEN rotate5]\n                 Mem_SUCC_E [THEN rotate6] Mem_SUCC_E [THEN rotate7] Mem_SUCC_E [THEN rotate8]", "lemma Eats_EQ_Zero_E: \"insert (Eats t u EQ Zero) H \\<turnstile> A\"", "lemmas Eats_EQ_Zero_EH = Eats_EQ_Zero_E Eats_EQ_Zero_E [THEN rotate2] Eats_EQ_Zero_E [THEN rotate3] Eats_EQ_Zero_E [THEN rotate4] Eats_EQ_Zero_E [THEN rotate5]\n                 Eats_EQ_Zero_E [THEN rotate6] Eats_EQ_Zero_E [THEN rotate7] Eats_EQ_Zero_E [THEN rotate8]", "lemma Eats_EQ_Zero_E2: \"insert (Zero EQ Eats t u) H \\<turnstile> A\"", "lemmas Eats_EQ_Zero_E2H = Eats_EQ_Zero_E2 Eats_EQ_Zero_E2 [THEN rotate2] Eats_EQ_Zero_E2 [THEN rotate3] Eats_EQ_Zero_E2 [THEN rotate4] Eats_EQ_Zero_E2 [THEN rotate5]\n                 Eats_EQ_Zero_E2 [THEN rotate6] Eats_EQ_Zero_E2 [THEN rotate7] Eats_EQ_Zero_E2 [THEN rotate8]", "lemma All2_cong: \"H \\<turnstile> t EQ t' \\<Longrightarrow> H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (All2 i t A) IFF (All2 i t' A')\"", "lemma All2_Zero_E [intro!]: \"H  \\<turnstile> B \\<Longrightarrow> insert (All2 i Zero A) H \\<turnstile> B\"", "lemma All2_Eats_I_D:\n  \"atom i \\<sharp> (t,u) \\<Longrightarrow> { All2 i t A, A(i::=u)} \\<turnstile> (All2 i (Eats t u) A)\"", "lemma All2_Eats_I:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); H \\<turnstile> All2 i t A; H \\<turnstile> A(i::=u)\\<rbrakk> \\<Longrightarrow> H \\<turnstile> (All2 i (Eats t u) A)\"", "lemma All2_Eats_E1:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); \\<forall>C \\<in> H. atom i \\<sharp> C\\<rbrakk> \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> All2 i t A\"", "lemma All2_Eats_E2:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); \\<forall>C \\<in> H. atom i \\<sharp> C\\<rbrakk> \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> A(i::=u)\"", "lemma All2_Eats_E:\n  assumes i: \"atom i \\<sharp> (t,u)\"\n      and B: \"insert (All2 i t A) (insert (A(i::=u)) H) \\<turnstile> B\"\n    shows \"insert (All2 i (Eats t u) A) H \\<turnstile> B\"", "lemma All2_SUCC_I:\n  \"atom i \\<sharp> t \\<Longrightarrow> H \\<turnstile> All2 i t A \\<Longrightarrow> H \\<turnstile> A(i::=t) \\<Longrightarrow> H \\<turnstile> (All2 i (SUCC t) A)\"", "lemma All2_SUCC_E:\n  assumes \"atom i \\<sharp> t\"\n      and \"insert (All2 i t A) (insert (A(i::=t)) H) \\<turnstile> B\"\n    shows \"insert (All2 i (SUCC t) A) H \\<turnstile> B\"", "lemma All2_SUCC_E':\n  assumes \"H \\<turnstile> u EQ SUCC t\"\n      and \"atom i \\<sharp> t\" \"\\<forall>C \\<in> H. atom i \\<sharp> C\"\n      and \"insert (All2 i t A) (insert (A(i::=t)) H) \\<turnstile> B\"\n    shows \"insert (All2 i u A) H \\<turnstile> B\"", "lemma Ind:\n  assumes j: \"atom (j::name) \\<sharp> (i,A)\"\n  and prems: \"H \\<turnstile> A(i::=Zero)\" \"H \\<turnstile> All i (All j (A IMP (A(i::= Var j) IMP A(i::= Eats(Var i)(Var j)))))\"\n  shows \"H \\<turnstile> A\""], "translations": [["", "lemma supp_name [simp]: fixes i::name shows \"supp i = {atom i}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp i = {atom i}", "by (rule supp_at_base)"], ["", "subsection\\<open>The datatypes\\<close>"], ["", "nominal_datatype tm = Zero | Var name | Eats tm tm"], ["", "nominal_datatype fm =\n    Mem tm tm    (infixr \"IN\" 150)\n  | Eq tm tm     (infixr \"EQ\" 150)\n  | Disj fm fm   (infixr \"OR\" 130)\n  | Neg fm\n  | Ex x::name f::fm binds x in f"], ["", "text \\<open>Mem, Eq are atomic formulas; Disj, Neg, Ex are non-atomic\\<close>"], ["", "declare tm.supp [simp] fm.supp [simp]"], ["", "subsection\\<open>Substitution\\<close>"], ["", "nominal_function subst :: \"name \\<Rightarrow> tm \\<Rightarrow> tm \\<Rightarrow> tm\"\n  where\n   \"subst i x Zero       = Zero\"\n | \"subst i x (Var k)    = (if i=k then x else Var k)\"\n | \"subst i x (Eats t u) = Eats (subst i x t) (subst i x u)\""], ["proof (prove)\ngoal (9 subgoals):\n 1. eqvt subst_graph_aux\n 2. \\<And>x y. subst_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>i xa. x = (i, xa, Zero) \\<Longrightarrow> P;\n        \\<And>i xa k. x = (i, xa, Var k) \\<Longrightarrow> P;\n        \\<And>i xa t u. x = (i, xa, Eats t u) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>i x ia xa.\n       (i, x, Zero) = (ia, xa, Zero) \\<Longrightarrow> Zero = Zero\n 5. \\<And>i x ia xa k.\n       (i, x, Zero) = (ia, xa, Var k) \\<Longrightarrow>\n       Zero = (if ia = k then xa else Var k)\n 6. \\<And>i x ia xa t u.\n       \\<lbrakk>eqvt_at subst_sumC (ia, xa, t);\n        eqvt_at subst_sumC (ia, xa, u); True; True;\n        (i, x, Zero) = (ia, xa, Eats t u)\\<rbrakk>\n       \\<Longrightarrow> Zero =\n                         Eats (subst_sumC (ia, xa, t))\n                          (subst_sumC (ia, xa, u))\n 7. \\<And>i x k ia xa ka.\n       (i, x, Var k) = (ia, xa, Var ka) \\<Longrightarrow>\n       (if i = k then x else Var k) = (if ia = ka then xa else Var ka)\n 8. \\<And>i x k ia xa t u.\n       \\<lbrakk>eqvt_at subst_sumC (ia, xa, t);\n        eqvt_at subst_sumC (ia, xa, u); True; True;\n        (i, x, Var k) = (ia, xa, Eats t u)\\<rbrakk>\n       \\<Longrightarrow> (if i = k then x else Var k) =\n                         Eats (subst_sumC (ia, xa, t))\n                          (subst_sumC (ia, xa, u))\n 9. \\<And>i x t u ia xa ta ua.\n       \\<lbrakk>eqvt_at subst_sumC (i, x, t); eqvt_at subst_sumC (i, x, u);\n        eqvt_at subst_sumC (ia, xa, ta); eqvt_at subst_sumC (ia, xa, ua);\n        True; True; True; True;\n        (i, x, Eats t u) = (ia, xa, Eats ta ua)\\<rbrakk>\n       \\<Longrightarrow> Eats (subst_sumC (i, x, t))\n                          (subst_sumC (i, x, u)) =\n                         Eats (subst_sumC (ia, xa, ta))\n                          (subst_sumC (ia, xa, ua))", "by (auto simp: eqvt_def subst_graph_aux_def) (metis tm.strong_exhaust)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_dom", "by lexicographic_order"], ["", "lemma fresh_subst_if [simp]:\n  \"j \\<sharp> subst i x t \\<longleftrightarrow> (atom i \\<sharp> t \\<and> j \\<sharp> t) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> subst i x t =\n    (atom i \\<sharp> t \\<and> j \\<sharp> t \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> t \\<or> j = atom i))", "by (induct t rule: tm.induct) (auto simp: fresh_at_base)"], ["", "lemma forget_subst_tm [simp]: \"atom a \\<sharp> tm \\<Longrightarrow> subst a x tm = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> tm \\<Longrightarrow> subst a x tm = tm", "by (induct tm rule: tm.induct) (simp_all add: fresh_at_base)"], ["", "lemma subst_tm_id [simp]: \"subst a (Var a) tm = tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst a (Var a) tm = tm", "by (induct tm rule: tm.induct) simp_all"], ["", "lemma subst_tm_commute [simp]:\n  \"atom j \\<sharp> tm \\<Longrightarrow> subst j u (subst i t tm) = subst i (subst j u t) tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> tm \\<Longrightarrow>\n    subst j u (subst i t tm) = subst i (subst j u t) tm", "by (induct tm rule: tm.induct) (auto simp: fresh_Pair)"], ["", "lemma subst_tm_commute2 [simp]:\n  \"atom j \\<sharp> t \\<Longrightarrow> atom i \\<sharp> u \\<Longrightarrow> i \\<noteq> j \\<Longrightarrow> subst j u (subst i t tm) = subst i t (subst j u tm)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom j \\<sharp> t; atom i \\<sharp> u; i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> subst j u (subst i t tm) = subst i t (subst j u tm)", "by (induct tm rule: tm.induct) auto"], ["", "lemma repeat_subst_tm [simp]: \"subst i u (subst i t tm) = subst i (subst i u t) tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst i u (subst i t tm) = subst i (subst i u t) tm", "by (induct tm rule: tm.induct) auto"], ["", "nominal_function  subst_fm :: \"fm \\<Rightarrow> name \\<Rightarrow> tm \\<Rightarrow> fm\" (\"_'(_::=_')\" [1000, 0, 0] 200)\n  where\n    Mem:  \"(Mem t u)(i::=x)  = Mem (subst i x t) (subst i x u)\"\n  | Eq:   \"(Eq t u)(i::=x)   = Eq  (subst i x t) (subst i x u)\"\n  | Disj: \"(Disj A B)(i::=x) = Disj (A(i::=x)) (B(i::=x))\"\n  | Neg:  \"(Neg A)(i::=x)    = Neg  (A(i::=x))\"\n  | Ex:   \"atom j \\<sharp> (i, x) \\<Longrightarrow> (Ex j A)(i::=x) = Ex j (A(i::=x))\""], ["proof (prove)\ngoal (18 subgoals):\n 1. eqvt subst_fm_graph_aux\n 2. \\<And>x y. subst_fm_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>t u i xa. x = (t IN u, i, xa) \\<Longrightarrow> P;\n        \\<And>t u i xa. x = (t EQ u, i, xa) \\<Longrightarrow> P;\n        \\<And>A B i xa. x = (A OR B, i, xa) \\<Longrightarrow> P;\n        \\<And>A i xa. x = (Neg A, i, xa) \\<Longrightarrow> P;\n        \\<And>j i xa A.\n           \\<lbrakk>atom j \\<sharp> (i, xa);\n            x = (SyntaxN.Ex j A, i, xa)\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>t u i x ta ua ia xa.\n       (t IN u, i, x) = (ta IN ua, ia, xa) \\<Longrightarrow>\n       subst i x t IN subst i x u = subst ia xa ta IN subst ia xa ua\n 5. \\<And>t u i x ta ua ia xa.\n       (t IN u, i, x) = (ta EQ ua, ia, xa) \\<Longrightarrow>\n       subst i x t IN subst i x u = subst ia xa ta EQ subst ia xa ua\n 6. \\<And>t u i x A B ia xa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa);\n        eqvt_at subst_fm_sumC (B, ia, xa); True; True;\n        (t IN u, i, x) = (A OR B, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         subst_fm_sumC (A, ia, xa) OR\n                         subst_fm_sumC (B, ia, xa)\n 7. \\<And>t u i x A ia xa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa); True;\n        (t IN u, i, x) = (Neg A, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         Neg (subst_fm_sumC (A, ia, xa))\n 8. \\<And>t u i x j ia xa A.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa); True;\n        atom j \\<sharp> (ia, xa);\n        (t IN u, i, x) = (SyntaxN.Ex j A, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         SyntaxN.Ex j (subst_fm_sumC (A, ia, xa))\n 9. \\<And>t u i x ta ua ia xa.\n       (t EQ u, i, x) = (ta EQ ua, ia, xa) \\<Longrightarrow>\n       subst i x t EQ subst i x u = subst ia xa ta EQ subst ia xa ua\n 10. \\<And>t u i x A B ia xa.\n        \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa);\n         eqvt_at subst_fm_sumC (B, ia, xa); True; True;\n         (t EQ u, i, x) = (A OR B, ia, xa)\\<rbrakk>\n        \\<Longrightarrow> subst i x t EQ subst i x u =\n                          subst_fm_sumC (A, ia, xa) OR\n                          subst_fm_sumC (B, ia, xa)\nA total of 18 subgoals...", "apply (simp add: eqvt_def subst_fm_graph_aux_def)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>x y. subst_fm_graph x y \\<Longrightarrow> True\n 2. \\<And>P x.\n       \\<lbrakk>\\<And>t u i xa. x = (t IN u, i, xa) \\<Longrightarrow> P;\n        \\<And>t u i xa. x = (t EQ u, i, xa) \\<Longrightarrow> P;\n        \\<And>A B i xa. x = (A OR B, i, xa) \\<Longrightarrow> P;\n        \\<And>A i xa. x = (Neg A, i, xa) \\<Longrightarrow> P;\n        \\<And>j i xa A.\n           \\<lbrakk>atom j \\<sharp> (i, xa);\n            x = (SyntaxN.Ex j A, i, xa)\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>t u i x ta ua ia xa.\n       (t IN u, i, x) = (ta IN ua, ia, xa) \\<Longrightarrow>\n       subst i x t IN subst i x u = subst ia xa ta IN subst ia xa ua\n 4. \\<And>t u i x ta ua ia xa.\n       (t IN u, i, x) = (ta EQ ua, ia, xa) \\<Longrightarrow>\n       subst i x t IN subst i x u = subst ia xa ta EQ subst ia xa ua\n 5. \\<And>t u i x A B ia xa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa);\n        eqvt_at subst_fm_sumC (B, ia, xa); True; True;\n        (t IN u, i, x) = (A OR B, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         subst_fm_sumC (A, ia, xa) OR\n                         subst_fm_sumC (B, ia, xa)\n 6. \\<And>t u i x A ia xa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa); True;\n        (t IN u, i, x) = (Neg A, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         Neg (subst_fm_sumC (A, ia, xa))\n 7. \\<And>t u i x j ia xa A.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa); True;\n        atom j \\<sharp> (ia, xa);\n        (t IN u, i, x) = (SyntaxN.Ex j A, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t IN subst i x u =\n                         SyntaxN.Ex j (subst_fm_sumC (A, ia, xa))\n 8. \\<And>t u i x ta ua ia xa.\n       (t EQ u, i, x) = (ta EQ ua, ia, xa) \\<Longrightarrow>\n       subst i x t EQ subst i x u = subst ia xa ta EQ subst ia xa ua\n 9. \\<And>t u i x A B ia xa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa);\n        eqvt_at subst_fm_sumC (B, ia, xa); True; True;\n        (t EQ u, i, x) = (A OR B, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> subst i x t EQ subst i x u =\n                         subst_fm_sumC (A, ia, xa) OR\n                         subst_fm_sumC (B, ia, xa)\n 10. \\<And>t u i x A ia xa.\n        \\<lbrakk>eqvt_at subst_fm_sumC (A, ia, xa); True;\n         (t EQ u, i, x) = (Neg A, ia, xa)\\<rbrakk>\n        \\<Longrightarrow> subst i x t EQ subst i x u =\n                          Neg (subst_fm_sumC (A, ia, xa))\nA total of 17 subgoals...", "apply auto [16]"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P a aa b.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>j i x A ja ia xa Aa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, i, x);\n        eqvt_at subst_fm_sumC (Aa, ia, xa); True; True;\n        atom j \\<sharp> (i, x); atom ja \\<sharp> (ia, xa);\n        (SyntaxN.Ex j A, i, x) = (SyntaxN.Ex ja Aa, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> SyntaxN.Ex j (subst_fm_sumC (A, i, x)) =\n                         SyntaxN.Ex ja (subst_fm_sumC (Aa, ia, xa))", "apply (rule_tac y=a and c=\"(aa, b)\" in fm.strong_exhaust)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>P a aa b x11 x12.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P;\n        a = x11 IN x12\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>P a aa b x21 x22.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P;\n        a = x21 EQ x22\\<rbrakk>\n       \\<Longrightarrow> P\n 3. \\<And>P a aa b x31 x32.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P;\n        a = x31 OR x32\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>P a aa b x4.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P;\n        a = Neg x4\\<rbrakk>\n       \\<Longrightarrow> P\n 5. \\<And>P a aa b x51 x52.\n       \\<lbrakk>\\<And>t u. a = t IN u \\<Longrightarrow> P;\n        \\<And>t u. a = t EQ u \\<Longrightarrow> P;\n        \\<And>A B. a = A OR B \\<Longrightarrow> P;\n        \\<And>A. a = Neg A \\<Longrightarrow> P;\n        \\<And>j A.\n           \\<lbrakk>atom j \\<sharp> (aa, b); a = SyntaxN.Ex j A\\<rbrakk>\n           \\<Longrightarrow> P;\n        {atom x51} \\<sharp>* (aa, b); a = SyntaxN.Ex x51 x52\\<rbrakk>\n       \\<Longrightarrow> P\n 6. \\<And>j i x A ja ia xa Aa.\n       \\<lbrakk>eqvt_at subst_fm_sumC (A, i, x);\n        eqvt_at subst_fm_sumC (Aa, ia, xa); True; True;\n        atom j \\<sharp> (i, x); atom ja \\<sharp> (ia, xa);\n        (SyntaxN.Ex j A, i, x) = (SyntaxN.Ex ja Aa, ia, xa)\\<rbrakk>\n       \\<Longrightarrow> SyntaxN.Ex j (subst_fm_sumC (A, i, x)) =\n                         SyntaxN.Ex ja (subst_fm_sumC (Aa, ia, xa))", "apply (auto simp: eqvt_at_def fresh_star_def fresh_Pair fresh_at_base)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>j i x A ja Aa c.\n       \\<lbrakk>\\<forall>p.\n                   (p \\<bullet> subst_fm_sumC)\n                    (p \\<bullet> A, p \\<bullet> i, p \\<bullet> x) =\n                   subst_fm_sumC\n                    (p \\<bullet> A, p \\<bullet> i, p \\<bullet> x);\n        \\<forall>p.\n           (p \\<bullet> subst_fm_sumC)\n            (p \\<bullet> Aa, p \\<bullet> i, p \\<bullet> x) =\n           subst_fm_sumC (p \\<bullet> Aa, p \\<bullet> i, p \\<bullet> x);\n        \\<forall>c.\n           atom c \\<sharp> A \\<and> atom c \\<sharp> Aa \\<longrightarrow>\n           c \\<noteq> j \\<and> c \\<noteq> ja \\<longrightarrow>\n           (j \\<leftrightarrow> c) \\<bullet> A =\n           (ja \\<leftrightarrow> c) \\<bullet> Aa;\n        j \\<noteq> i; atom j \\<sharp> x; ja \\<noteq> i; atom ja \\<sharp> x;\n        atom c \\<sharp> A; atom c \\<sharp> x; c \\<noteq> i;\n        atom c \\<sharp> Aa; c \\<noteq> j; c \\<noteq> ja;\n        atom c \\<sharp> subst_fm_sumC (A, i, x);\n        atom c \\<sharp> subst_fm_sumC (Aa, i, x)\\<rbrakk>\n       \\<Longrightarrow> ((j \\<leftrightarrow> c) \\<bullet> subst_fm_sumC)\n                          ((ja \\<leftrightarrow> c) \\<bullet> Aa, i,\n                           (j \\<leftrightarrow> c) \\<bullet> x) =\n                         ((ja \\<leftrightarrow> c) \\<bullet> subst_fm_sumC)\n                          ((ja \\<leftrightarrow> c) \\<bullet> Aa, i,\n                           (ja \\<leftrightarrow> c) \\<bullet> x)", "apply (metis flip_at_base_simps(3) flip_fresh_fresh)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All subst_fm_dom", "by lexicographic_order"], ["", "lemma size_subst_fm [simp]: \"size (A(i::=x)) = size A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (A(i::=x)) = size A", "by (nominal_induct A avoiding: i x rule: fm.strong_induct) auto"], ["", "lemma forget_subst_fm [simp]: \"atom a \\<sharp> A \\<Longrightarrow> A(a::=x) = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom a \\<sharp> A \\<Longrightarrow> A(a::=x) = A", "by (nominal_induct A avoiding: a x rule: fm.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_fm_id [simp]: \"A(a::=Var a) = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A(a::=Var a) = A", "by (nominal_induct A avoiding: a rule: fm.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma fresh_subst_fm_if [simp]:\n  \"j \\<sharp> (A(i::=x)) \\<longleftrightarrow> (atom i \\<sharp> A \\<and> j \\<sharp> A) \\<or> (j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<sharp> A(i::=x) =\n    (atom i \\<sharp> A \\<and> j \\<sharp> A \\<or>\n     j \\<sharp> x \\<and> (j \\<sharp> A \\<or> j = atom i))", "by (nominal_induct A avoiding: i x rule: fm.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma subst_fm_commute [simp]:\n  \"atom j \\<sharp> A \\<Longrightarrow> (A(i::=t))(j::=u) = A(i ::= subst j u t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom j \\<sharp> A \\<Longrightarrow>\n    (A(i::=t))(j::=u) = A(i::=subst j u t)", "by (nominal_induct A avoiding: i j t u rule: fm.strong_induct) (auto simp: fresh_at_base)"], ["", "lemma repeat_subst_fm [simp]: \"(A(i::=t))(i::=u) = A(i ::= subst i u t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A(i::=t))(i::=u) = A(i::=subst i u t)", "by (nominal_induct A avoiding: i t u rule: fm.strong_induct) auto"], ["", "lemma subst_fm_Ex_with_renaming:\n  \"atom i' \\<sharp> (A, i, j, t) \\<Longrightarrow> (Ex i A)(j ::= t) = Ex i' (((i \\<leftrightarrow> i') \\<bullet> A)(j ::= t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom i' \\<sharp> (A, i, j, t) \\<Longrightarrow>\n    (SyntaxN.Ex i A)(j::=t) =\n    SyntaxN.Ex i' (((i \\<leftrightarrow> i') \\<bullet> A)(j::=t))", "by (rule subst [of \"Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)\" \"Ex i A\"])\n     (auto simp: Abs1_eq_iff flip_def swap_commute)"], ["", "text \\<open>the simplifier cannot apply the rule above, because\nit introduces a new variable at the right hand side.\\<close>"], ["", "simproc_setup subst_fm_renaming (\"(Ex i A)(j ::= t)\") = \\<open>fn _ => fn ctxt => fn ctrm =>\n  let\n     val _ $ (_ $ i $ A) $ j $ t = Thm.term_of ctrm\n\n     val atoms = Simplifier.prems_of ctxt\n      |> map_filter (fn thm => case Thm.prop_of thm of\n           _ $ (Const (@{const_name fresh}, _) $ atm $ _) => SOME (atm) | _ => NONE)\n      |> distinct ((=))\n\n     fun get_thm atm =\n       let\n         val goal = HOLogic.mk_Trueprop (mk_fresh atm (HOLogic.mk_tuple [A, i, j, t]))\n       in\n         SOME ((Goal.prove ctxt [] [] goal (K (asm_full_simp_tac ctxt 1)))\n           RS @{thm subst_fm_Ex_with_renaming} RS eq_reflection)\n         handle ERROR _ => NONE\n       end\n  in\n    get_first get_thm atoms\n  end\n\\<close>"], ["", "subsection\\<open>Derived syntax\\<close>"], ["", "subsubsection\\<open>Ordered pairs\\<close>"], ["", "definition HPair :: \"tm \\<Rightarrow> tm \\<Rightarrow> tm\"\n  where \"HPair a b = Eats (Eats Zero (Eats (Eats Zero b) a)) (Eats (Eats Zero a) a)\""], ["", "lemma HPair_eqvt [eqvt]: \"(p \\<bullet> HPair a b) = HPair (p \\<bullet> a) (p \\<bullet> b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> HPair a b = HPair (p \\<bullet> a) (p \\<bullet> b)", "by (auto simp: HPair_def)"], ["", "lemma fresh_HPair [simp]: \"x \\<sharp> HPair a b \\<longleftrightarrow> (x \\<sharp> a \\<and> x \\<sharp> b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> HPair a b = (x \\<sharp> a \\<and> x \\<sharp> b)", "by (auto simp: HPair_def)"], ["", "lemma HPair_injective_iff [iff]: \"HPair a b = HPair a' b' \\<longleftrightarrow> (a = a' \\<and> b = b')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (HPair a b = HPair a' b') = (a = a' \\<and> b = b')", "by (auto simp: HPair_def)"], ["", "lemma subst_tm_HPair [simp]: \"subst i x (HPair a b) = HPair (subst i x a) (subst i x b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst i x (HPair a b) = HPair (subst i x a) (subst i x b)", "by (auto simp: HPair_def)"], ["", "subsubsection\\<open>Ordinals\\<close>"], ["", "definition\n  SUCC  :: \"tm \\<Rightarrow> tm\"  where\n    \"SUCC x \\<equiv> Eats x x\""], ["", "fun ORD_OF :: \"nat \\<Rightarrow> tm\"\n  where\n   \"ORD_OF 0 = Zero\"\n | \"ORD_OF (Suc k) = SUCC (ORD_OF k)\""], ["", "lemma SUCC_fresh_iff [simp]: \"a \\<sharp> SUCC t \\<longleftrightarrow> a \\<sharp> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sharp> SUCC t = a \\<sharp> t", "by (simp add: SUCC_def)"], ["", "lemma SUCC_eqvt [eqvt]: \"(p \\<bullet> SUCC a) = SUCC (p \\<bullet> a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> SUCC a = SUCC (p \\<bullet> a)", "by (simp add: SUCC_def)"], ["", "lemma SUCC_subst [simp]: \"subst i t (SUCC k) = SUCC (subst i t k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst i t (SUCC k) = SUCC (subst i t k)", "by (simp add: SUCC_def)"], ["", "lemma ORD_OF_fresh [simp]: \"a \\<sharp> ORD_OF n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sharp> ORD_OF n", "by (induct n) (auto simp: SUCC_def)"], ["", "lemma ORD_OF_eqvt [eqvt]: \"(p \\<bullet> ORD_OF n) = ORD_OF (p \\<bullet> n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> ORD_OF n = ORD_OF (p \\<bullet> n)", "by (induct n) (auto simp: permute_pure SUCC_eqvt)"], ["", "subsection\\<open>Derived logical connectives\\<close>"], ["", "abbreviation Imp :: \"fm \\<Rightarrow> fm \\<Rightarrow> fm\"   (infixr \"IMP\" 125)\n  where \"Imp A B \\<equiv> Disj (Neg A) B\""], ["", "abbreviation All :: \"name \\<Rightarrow> fm \\<Rightarrow> fm\"\n  where \"All i A \\<equiv> Neg (Ex i (Neg A))\""], ["", "abbreviation All2 :: \"name \\<Rightarrow> tm \\<Rightarrow> fm \\<Rightarrow> fm\" \\<comment> \\<open>bounded universal quantifier, for Sigma formulas\\<close>\n  where \"All2 i t A \\<equiv> All i ((Var i IN t) IMP A)\""], ["", "subsubsection\\<open>Conjunction\\<close>"], ["", "definition Conj :: \"fm \\<Rightarrow> fm \\<Rightarrow> fm\"   (infixr \"AND\" 135)\n  where \"Conj A B \\<equiv> Neg (Disj (Neg A) (Neg B))\""], ["", "lemma Conj_eqvt [eqvt]: \"p \\<bullet> (A AND B) = (p \\<bullet> A) AND (p \\<bullet> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> A AND B = (p \\<bullet> A) AND (p \\<bullet> B)", "by (simp add: Conj_def)"], ["", "lemma fresh_Conj [simp]: \"a \\<sharp> A AND B \\<longleftrightarrow> (a \\<sharp> A \\<and> a \\<sharp> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sharp> A AND B = (a \\<sharp> A \\<and> a \\<sharp> B)", "by (auto simp: Conj_def)"], ["", "lemma supp_Conj [simp]: \"supp (A AND B) = supp A \\<union> supp B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. supp (A AND B) = supp A \\<union> supp B", "by (auto simp: Conj_def)"], ["", "lemma size_Conj [simp]: \"size (A AND B) = size A + size B + 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (A AND B) = size A + size B + 4", "by (simp add: Conj_def)"], ["", "lemma Conj_injective_iff [iff]: \"(A AND B) = (A' AND B') \\<longleftrightarrow> (A = A' \\<and> B = B')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A AND B = A' AND B') = (A = A' \\<and> B = B')", "by (auto simp: Conj_def)"], ["", "lemma subst_fm_Conj [simp]: \"(A AND B)(i::=x) = (A(i::=x)) AND (B(i::=x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A AND B)(i::=x) = A(i::=x) AND B(i::=x)", "by (auto simp: Conj_def)"], ["", "subsubsection\\<open>If and only if\\<close>"], ["", "definition Iff :: \"fm \\<Rightarrow> fm \\<Rightarrow> fm\"   (infixr \"IFF\" 125)\n  where \"Iff A B = Conj (Imp A B) (Imp B A)\""], ["", "lemma Iff_eqvt [eqvt]: \"p \\<bullet> (A IFF B) = (p \\<bullet> A) IFF (p \\<bullet> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> A IFF B = (p \\<bullet> A) IFF (p \\<bullet> B)", "by (simp add: Iff_def)"], ["", "lemma fresh_Iff [simp]: \"a \\<sharp> A IFF B \\<longleftrightarrow> (a \\<sharp> A \\<and> a \\<sharp> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sharp> A IFF B = (a \\<sharp> A \\<and> a \\<sharp> B)", "by (auto simp: Conj_def Iff_def)"], ["", "lemma size_Iff [simp]: \"size (A IFF B) = 2*(size A + size B) + 8\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (A IFF B) = 2 * (size A + size B) + 8", "by (simp add: Iff_def)"], ["", "lemma Iff_injective_iff [iff]: \"(A IFF B) = (A' IFF B') \\<longleftrightarrow> (A = A' \\<and> B = B')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A IFF B = A' IFF B') = (A = A' \\<and> B = B')", "by (auto simp: Iff_def)"], ["", "lemma subst_fm_Iff [simp]: \"(A IFF B)(i::=x) = (A(i::=x)) IFF (B(i::=x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A IFF B)(i::=x) = A(i::=x) IFF B(i::=x)", "by (auto simp: Iff_def)"], ["", "section\\<open>Axioms and Theorems\\<close>"], ["", "subsection\\<open>Logical axioms\\<close>"], ["", "inductive_set boolean_axioms :: \"fm set\"\n  where\n    Ident:     \"A IMP A \\<in> boolean_axioms\"\n  | DisjI1:    \"A IMP (A OR B) \\<in> boolean_axioms\"\n  | DisjCont:  \"(A OR A) IMP A \\<in> boolean_axioms\"\n  | DisjAssoc: \"(A OR (B OR C)) IMP ((A OR B) OR C) \\<in> boolean_axioms\"\n  | DisjConj:  \"(C OR A) IMP (((Neg C) OR B) IMP (A OR B)) \\<in> boolean_axioms\""], ["", "inductive_set special_axioms :: \"fm set\" where\n  I: \"A(i::=x) IMP (Ex i A) \\<in> special_axioms\""], ["", "inductive_set induction_axioms :: \"fm set\" where\n  ind:\n  \"atom (j::name) \\<sharp> (i,A)\n   \\<Longrightarrow> A(i::=Zero) IMP ((All i (All j (A IMP (A(i::= Var j) IMP A(i::= Eats(Var i)(Var j))))))\n      IMP (All i A))\n    \\<in> induction_axioms\""], ["", "subsection \\<open>Concrete variables\\<close>"], ["", "declare Abs_name_inject[simp]"], ["", "abbreviation\n  \"X0 \\<equiv> Abs_name (Atom (Sort ''SyntaxN.name'' []) 0)\""], ["", "abbreviation\n  \"X1 \\<equiv> Abs_name (Atom (Sort ''SyntaxN.name'' []) (Suc 0))\"\n   \\<comment> \\<open>We prefer @{term \"Suc 0\"} because simplification will transform 1 to that form anyway.\\<close>"], ["", "abbreviation\n  \"X2 \\<equiv> Abs_name (Atom (Sort ''SyntaxN.name'' []) 2)\""], ["", "abbreviation\n  \"X3 \\<equiv> Abs_name (Atom (Sort ''SyntaxN.name'' []) 3)\""], ["", "abbreviation\n  \"X4 \\<equiv> Abs_name (Atom (Sort ''SyntaxN.name'' []) 4)\""], ["", "subsection\\<open>The HF axioms\\<close>"], ["", "definition HF1 :: fm where  \\<comment> \\<open>the axiom @{term\"z=0 \\<longleftrightarrow> (\\<forall>x. \\<not> x \\<^bold>\\<in> z)\"}\\<close>\n  \"HF1 = (Var X0 EQ Zero) IFF (All X1 (Neg (Var X1 IN Var X0)))\""], ["", "definition HF2 :: fm where  \\<comment> \\<open>the axiom @{term\"z = x \\<triangleleft> y \\<longleftrightarrow> (\\<forall>u. u \\<^bold>\\<in> z \\<longleftrightarrow> u \\<^bold>\\<in> x | u=y)\"}\\<close>\n  \"HF2 \\<equiv> Var X0 EQ Eats (Var X1) (Var X2) IFF\n          All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\""], ["", "definition HF_axioms where \"HF_axioms = {HF1, HF2}\""], ["", "subsection\\<open>Equality axioms\\<close>"], ["", "definition refl_ax :: fm where\n  \"refl_ax = Var X1 EQ Var X1\""], ["", "definition eq_cong_ax :: fm where\n  \"eq_cong_ax = ((Var X1 EQ Var X2) AND (Var X3 EQ Var X4)) IMP\n                ((Var X1 EQ Var X3) IMP (Var X2 EQ Var X4))\""], ["", "definition mem_cong_ax :: fm where\n  \"mem_cong_ax = ((Var X1 EQ Var X2) AND (Var X3 EQ Var X4)) IMP\n                 ((Var X1 IN Var X3) IMP (Var X2 IN Var X4))\""], ["", "definition eats_cong_ax :: fm where\n  \"eats_cong_ax = ((Var X1 EQ Var X2) AND (Var X3 EQ Var X4)) IMP\n                  ((Eats (Var X1) (Var X3)) EQ (Eats (Var X2) (Var X4)))\""], ["", "definition equality_axioms :: \"fm set\" where\n  \"equality_axioms = {refl_ax, eq_cong_ax, mem_cong_ax, eats_cong_ax}\""], ["", "subsection\\<open>The proof system\\<close>"], ["", "text\\<open>This arbitrary additional axiom generalises the statements of the incompleteness theorems\n  and other results to any formal system stronger than the HF theory. The additional axiom\n  could be the conjunction of any finite number of assertions. Any more general extension\n  must be a form that can be formalised for the proof predicate.\\<close>"], ["", "consts  extra_axiom :: fm"], ["", "inductive hfthm :: \"fm set \\<Rightarrow> fm \\<Rightarrow> bool\" (infixl \"\\<turnstile>\" 55)\n  where\n    Hyp:    \"A \\<in> H \\<Longrightarrow> H \\<turnstile> A\"\n  | Extra:  \"H \\<turnstile> extra_axiom\"\n  | Bool:   \"A \\<in> boolean_axioms \\<Longrightarrow> H \\<turnstile> A\"\n  | Eq:     \"A \\<in> equality_axioms \\<Longrightarrow> H \\<turnstile> A\"\n  | Spec:   \"A \\<in> special_axioms \\<Longrightarrow> H \\<turnstile> A\"\n  | HF:     \"A \\<in> HF_axioms \\<Longrightarrow> H \\<turnstile> A\"\n  | Ind:    \"A \\<in> induction_axioms \\<Longrightarrow> H \\<turnstile> A\"\n  | MP:     \"H \\<turnstile> A IMP B \\<Longrightarrow> H' \\<turnstile> A \\<Longrightarrow> H \\<union> H' \\<turnstile> B\"\n  | Exists: \"H \\<turnstile> A IMP B \\<Longrightarrow> atom i \\<sharp> B \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (Ex i A) IMP B\""], ["", "subsection\\<open>Derived rules of inference\\<close>"], ["", "lemma contraction: \"insert A (insert A H) \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A (insert A H) \\<turnstile> B \\<Longrightarrow>\n    insert A H \\<turnstile> B", "by (metis insert_absorb2)"], ["", "lemma thin_Un: \"H \\<turnstile> A \\<Longrightarrow> H \\<union> H' \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A \\<Longrightarrow> H \\<union> H' \\<turnstile> A", "by (metis Bool MP boolean_axioms.Ident sup_commute)"], ["", "lemma thin: \"H \\<turnstile> A \\<Longrightarrow> H \\<subseteq> H' \\<Longrightarrow> H' \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; H \\<subseteq> H'\\<rbrakk>\n    \\<Longrightarrow> H' \\<turnstile> A", "by (metis Un_absorb1 thin_Un)"], ["", "lemma thin0: \"{} \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A", "by (metis sup_bot_left thin_Un)"], ["", "lemma thin1: \"H \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> B", "by (metis subset_insertI thin)"], ["", "lemma thin2: \"insert A1 H \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 H) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A1 H \\<turnstile> B \\<Longrightarrow>\n    insert A1 (insert A2 H) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma thin3: \"insert A1 (insert A2 H) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A1 (insert A2 H) \\<turnstile> B \\<Longrightarrow>\n    insert A1 (insert A2 (insert A3 H)) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma thin4:\n  \"insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A1 (insert A2 (insert A3 H)) \\<turnstile> B \\<Longrightarrow>\n    insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma rotate2: \"insert A2 (insert A1 H) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 H) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A2 (insert A1 H) \\<turnstile> B \\<Longrightarrow>\n    insert A1 (insert A2 H) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma rotate3: \"insert A3 (insert A1 (insert A2 H)) \\<turnstile> B \\<Longrightarrow> insert A1 (insert A2 (insert A3 H)) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A3 (insert A1 (insert A2 H)) \\<turnstile> B \\<Longrightarrow>\n    insert A1 (insert A2 (insert A3 H)) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma rotate4:\n  \"insert A4 (insert A1 (insert A2 (insert A3 H))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A4 (insert A1 (insert A2 (insert A3 H))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1 (insert A2 (insert A3 (insert A4 H))) \\<turnstile> B", "by (blast intro: thin)"], ["", "lemma rotate5:\n  \"insert A5 (insert A1 (insert A2 (insert A3 (insert A4 H)))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 H)))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A5 (insert A1 (insert A2 (insert A3 (insert A4 H)))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1 (insert A2 (insert A3 (insert A4 (insert A5 H)))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate6:\n  \"insert A6 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 H))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 H))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A6\n     (insert A1\n       (insert A2 (insert A3 (insert A4 (insert A5 H))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3 (insert A4 (insert A5 (insert A6 H))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate7:\n  \"insert A7 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 H)))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 H)))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A7\n     (insert A1\n       (insert A2\n         (insert A3 (insert A4 (insert A5 (insert A6 H)))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4 (insert A5 (insert A6 (insert A7 H)))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate8:\n  \"insert A8 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 H))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 H))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A8\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4 (insert A5 (insert A6 (insert A7 H))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5 (insert A6 (insert A7 (insert A8 H))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate9:\n  \"insert A9 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 H)))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 H)))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A9\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6 (insert A7 (insert A8 H)))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7 (insert A8 (insert A9 H)))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate10:\n  \"insert A10 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 H))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 H))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A10\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7 (insert A8 (insert A9 H))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8 (insert A9 (insert A10 H))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate11:\n  \"insert A11 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 H)))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 H)))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A11\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7\n                   (insert A8\n                     (insert A9 (insert A10 H)))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8\n                   (insert A9\n                     (insert A10 (insert A11 H)))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate12:\n  \"insert A12 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 H))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 H))))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A12\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7\n                   (insert A8\n                     (insert A9\n                       (insert A10 (insert A11 H))))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8\n                   (insert A9\n                     (insert A10\n                       (insert A11 (insert A12 H))))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate13:\n  \"insert A13 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 H)))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 H)))))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A13\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7\n                   (insert A8\n                     (insert A9\n                       (insert A10\n                         (insert A11 (insert A12 H)))))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8\n                   (insert A9\n                     (insert A10\n                       (insert A11\n                         (insert A12 (insert A13 H)))))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate14:\n  \"insert A14 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 H))))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 H))))))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A14\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7\n                   (insert A8\n                     (insert A9\n                       (insert A10\n                         (insert A11\n                           (insert A12\n                             (insert A13 H))))))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8\n                   (insert A9\n                     (insert A10\n                       (insert A11\n                         (insert A12\n                           (insert A13\n                             (insert A14 H))))))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma rotate15:\n  \"insert A15 (insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 H)))))))))))))) \\<turnstile> B\n   \\<Longrightarrow> insert A1 (insert A2 (insert A3 (insert A4 (insert A5 (insert A6 (insert A7 (insert A8 (insert A9 (insert A10 (insert A11 (insert A12 (insert A13 (insert A14 (insert A15 H)))))))))))))) \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A15\n     (insert A1\n       (insert A2\n         (insert A3\n           (insert A4\n             (insert A5\n               (insert A6\n                 (insert A7\n                   (insert A8\n                     (insert A9\n                       (insert A10\n                         (insert A11\n                           (insert A12\n                             (insert A13\n                               (insert A14 H)))))))))))))) \\<turnstile>\n    B \\<Longrightarrow>\n    insert A1\n     (insert A2\n       (insert A3\n         (insert A4\n           (insert A5\n             (insert A6\n               (insert A7\n                 (insert A8\n                   (insert A9\n                     (insert A10\n                       (insert A11\n                         (insert A12\n                           (insert A13\n                             (insert A14\n                               (insert A15 H)))))))))))))) \\<turnstile>\n    B", "by (blast intro: thin)"], ["", "lemma MP_same: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IMP B; H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis MP Un_absorb)"], ["", "lemma MP_thin: \"HA \\<turnstile> A IMP B \\<Longrightarrow> HB \\<turnstile> A \\<Longrightarrow> HA \\<union> HB \\<subseteq> H \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HA \\<turnstile> A IMP B; HB \\<turnstile> A;\n     HA \\<union> HB \\<subseteq> H\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis MP_same le_sup_iff thin)"], ["", "lemma MP_null: \"{} \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{} \\<turnstile> A IMP B; H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis MP_same thin0)"], ["", "lemma Disj_commute: \"H \\<turnstile> B OR A \\<Longrightarrow> H \\<turnstile> A OR B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B OR A \\<Longrightarrow> H \\<turnstile> A OR B", "using DisjConj [of B A B] Ident [of B]"], ["proof (prove)\nusing this:\n  B OR A IMP (B IMP B) IMP A OR B \\<in> boolean_axioms\n  B IMP B \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> B OR A \\<Longrightarrow> H \\<turnstile> A OR B", "by (metis Bool MP_same)"], ["", "lemma S: assumes  \"H \\<turnstile> A IMP (B IMP C)\" \"H' \\<turnstile> A IMP B\" shows \"H \\<union> H' \\<turnstile> A IMP C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<union> H' \\<turnstile> A IMP C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<union> H' \\<turnstile> A IMP C", "have \"H' \\<union> H \\<turnstile> (Neg A) OR (C OR (Neg A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H' \\<union> H \\<turnstile> A IMP C OR Neg A", "by (metis Bool MP MP_same boolean_axioms.DisjConj Disj_commute DisjAssoc assms)"], ["proof (state)\nthis:\n  H' \\<union> H \\<turnstile> A IMP C OR Neg A\n\ngoal (1 subgoal):\n 1. H \\<union> H' \\<turnstile> A IMP C", "thus ?thesis"], ["proof (prove)\nusing this:\n  H' \\<union> H \\<turnstile> A IMP C OR Neg A\n\ngoal (1 subgoal):\n 1. H \\<union> H' \\<turnstile> A IMP C", "by (metis Bool Disj_commute Un_commute MP_same DisjAssoc DisjCont DisjI1)"], ["proof (state)\nthis:\n  H \\<union> H' \\<turnstile> A IMP C\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Assume: \"insert A H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> A", "by (metis Hyp insertI1)"], ["", "lemmas AssumeH = Assume Assume [THEN rotate2] Assume [THEN rotate3] Assume [THEN rotate4] Assume [THEN rotate5]\n                 Assume [THEN rotate6] Assume [THEN rotate7] Assume [THEN rotate8] Assume [THEN rotate9] Assume [THEN rotate10]\n                 Assume [THEN rotate11] Assume [THEN rotate12]"], ["", "declare AssumeH [intro!]"], ["", "lemma Imp_triv_I: \"H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B", "by (metis Bool Disj_commute MP_same boolean_axioms.DisjI1)"], ["", "lemma DisjAssoc1: \"H \\<turnstile> A OR (B OR C) \\<Longrightarrow> H \\<turnstile> (A OR B) OR C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A OR B OR C \\<Longrightarrow>\n    H \\<turnstile> (A OR B) OR C", "by (metis Bool MP_same boolean_axioms.DisjAssoc)"], ["", "lemma DisjAssoc2: \"H \\<turnstile> (A OR B) OR C \\<Longrightarrow> H \\<turnstile> A OR (B OR C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> (A OR B) OR C \\<Longrightarrow>\n    H \\<turnstile> A OR B OR C", "by (metis DisjAssoc1 Disj_commute)"], ["", "lemma Disj_commute_Imp: \"H \\<turnstile> (B OR A) IMP (A OR B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B OR A IMP A OR B", "using DisjConj [of B A B] Ident [of B]"], ["proof (prove)\nusing this:\n  B OR A IMP (B IMP B) IMP A OR B \\<in> boolean_axioms\n  B IMP B \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> B OR A IMP A OR B", "by (metis Bool DisjAssoc2 Disj_commute MP_same)"], ["", "lemma Disj_Semicong_1: \"H \\<turnstile> A OR C \\<Longrightarrow> H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> B OR C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A OR C; H \\<turnstile> A IMP B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B OR C", "using DisjConj [of A C B]"], ["proof (prove)\nusing this:\n  A OR C IMP (A IMP B) IMP C OR B \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A OR C; H \\<turnstile> A IMP B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B OR C", "by (metis Bool Disj_commute MP_same)"], ["", "lemma Imp_Imp_commute: \"H \\<turnstile> B IMP (A IMP C) \\<Longrightarrow> H \\<turnstile> A IMP (B IMP C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B IMP A IMP C \\<Longrightarrow>\n    H \\<turnstile> A IMP B IMP C", "by (metis DisjAssoc1 DisjAssoc2 Disj_Semicong_1 Disj_commute_Imp)"], ["", "subsection\\<open>The Deduction Theorem\\<close>"], ["", "lemma deduction_Diff: assumes \"H \\<turnstile> B\" shows \"H - {C} \\<turnstile> C IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP B", "using assms"], ["proof (prove)\nusing this:\n  H \\<turnstile> B\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP B", "proof (induct)"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>A H. A \\<in> H \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>H. H - {C} \\<turnstile> C IMP extra_axiom\n 3. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 6. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 7. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 8. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 9. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Hyp A H)"], ["proof (state)\nthis:\n  A \\<in> H\n\ngoal (9 subgoals):\n 1. \\<And>A H. A \\<in> H \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>H. H - {C} \\<turnstile> C IMP extra_axiom\n 3. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 6. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 7. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 8. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 9. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> H\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Bool Imp_triv_I boolean_axioms.Ident hfthm.Hyp member_remove remove_def)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (8 subgoals):\n 1. \\<And>H. H - {C} \\<turnstile> C IMP extra_axiom\n 2. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 6. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 7. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 8. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>H. H - {C} \\<turnstile> C IMP extra_axiom\n 2. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 6. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 7. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 8. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Extra H)"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. \\<And>H. H - {C} \\<turnstile> C IMP extra_axiom\n 2. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 6. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 7. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 8. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP extra_axiom", "by (metis Imp_triv_I hfthm.Extra)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP extra_axiom\n\ngoal (7 subgoals):\n 1. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 6. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 7. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 6. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 7. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Bool A H)"], ["proof (state)\nthis:\n  A \\<in> boolean_axioms\n\ngoal (7 subgoals):\n 1. \\<And>A H.\n       A \\<in> boolean_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 5. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 6. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 7. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Imp_triv_I hfthm.Bool)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (6 subgoals):\n 1. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 5. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 6. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 5. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 6. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Eq A H)"], ["proof (state)\nthis:\n  A \\<in> equality_axioms\n\ngoal (6 subgoals):\n 1. \\<And>A H.\n       A \\<in> equality_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 4. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 5. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 6. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> equality_axioms\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Imp_triv_I hfthm.Eq)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (5 subgoals):\n 1. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 5. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 5. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Spec A H)"], ["proof (state)\nthis:\n  A \\<in> special_axioms\n\ngoal (5 subgoals):\n 1. \\<And>A H.\n       A \\<in> special_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 3. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 4. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 5. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> special_axioms\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Imp_triv_I hfthm.Spec)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (4 subgoals):\n 1. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 4. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 4. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (HF A H)"], ["proof (state)\nthis:\n  A \\<in> HF_axioms\n\ngoal (4 subgoals):\n 1. \\<And>A H.\n       A \\<in> HF_axioms \\<Longrightarrow> H - {C} \\<turnstile> C IMP A\n 2. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 3. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 4. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> HF_axioms\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Imp_triv_I hfthm.HF)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (3 subgoals):\n 1. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 3. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 3. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Ind A H)"], ["proof (state)\nthis:\n  A \\<in> induction_axioms\n\ngoal (3 subgoals):\n 1. \\<And>A H.\n       A \\<in> induction_axioms \\<Longrightarrow>\n       H - {C} \\<turnstile> C IMP A\n 2. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 3. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<in> induction_axioms\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP A", "by (metis Imp_triv_I hfthm.Ind)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP A\n\ngoal (2 subgoals):\n 1. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 2. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 2. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (MP H A B H')"], ["proof (state)\nthis:\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  H' \\<turnstile> A\n  H' - {C} \\<turnstile> C IMP A\n\ngoal (2 subgoals):\n 1. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 2. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "hence \"(H-{C}) \\<union> (H'-{C}) \\<turnstile> Imp C B\""], ["proof (prove)\nusing this:\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  H' \\<turnstile> A\n  H' - {C} \\<turnstile> C IMP A\n\ngoal (1 subgoal):\n 1. H - {C} \\<union> (H' - {C}) \\<turnstile> C IMP B", "by (simp add: S)"], ["proof (state)\nthis:\n  H - {C} \\<union> (H' - {C}) \\<turnstile> C IMP B\n\ngoal (2 subgoals):\n 1. \\<And>H A B H'.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        H' \\<turnstile> A; H' - {C} \\<turnstile> C IMP A\\<rbrakk>\n       \\<Longrightarrow> H \\<union> H' - {C} \\<turnstile> C IMP B\n 2. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?case"], ["proof (prove)\nusing this:\n  H - {C} \\<union> (H' - {C}) \\<turnstile> C IMP B\n\ngoal (1 subgoal):\n 1. H \\<union> H' - {C} \\<turnstile> C IMP B", "by (metis Un_Diff)"], ["proof (state)\nthis:\n  H \\<union> H' - {C} \\<turnstile> C IMP B\n\ngoal (1 subgoal):\n 1. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case (Exists H A B i)"], ["proof (state)\nthis:\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  atom i \\<sharp> B\n  \\<forall>C\\<in>H. atom i \\<sharp> C\n\ngoal (1 subgoal):\n 1. \\<And>H A B i.\n       \\<lbrakk>H \\<turnstile> A IMP B; H - {C} \\<turnstile> C IMP A IMP B;\n        atom i \\<sharp> B; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n       \\<Longrightarrow> H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "proof (cases \"C \\<in> H\")"], ["proof (state)\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case True"], ["proof (state)\nthis:\n  C \\<in> H\n\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "hence \"atom i \\<sharp> C\""], ["proof (prove)\nusing this:\n  C \\<in> H\n\ngoal (1 subgoal):\n 1. atom i \\<sharp> C", "using Exists"], ["proof (prove)\nusing this:\n  C \\<in> H\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  atom i \\<sharp> B\n  \\<forall>C\\<in>H. atom i \\<sharp> C\n\ngoal (1 subgoal):\n 1. atom i \\<sharp> C", "by auto"], ["proof (state)\nthis:\n  atom i \\<sharp> C\n\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "moreover"], ["proof (state)\nthis:\n  atom i \\<sharp> C\n\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "have \"H - {C} \\<turnstile> A IMP C IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> A IMP C IMP B", "using Exists"], ["proof (prove)\nusing this:\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  atom i \\<sharp> B\n  \\<forall>C\\<in>H. atom i \\<sharp> C\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> A IMP C IMP B", "by (metis Imp_Imp_commute)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> A IMP C IMP B\n\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "ultimately"], ["proof (chain)\npicking this:\n  atom i \\<sharp> C\n  H - {C} \\<turnstile> A IMP C IMP B", "have \"H - {C} \\<turnstile> (Ex i A) IMP C IMP B\""], ["proof (prove)\nusing this:\n  atom i \\<sharp> C\n  H - {C} \\<turnstile> A IMP C IMP B\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> SyntaxN.Ex i A IMP C IMP B", "using Exists"], ["proof (prove)\nusing this:\n  atom i \\<sharp> C\n  H - {C} \\<turnstile> A IMP C IMP B\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  atom i \\<sharp> B\n  \\<forall>C\\<in>H. atom i \\<sharp> C\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> SyntaxN.Ex i A IMP C IMP B", "by (metis fm.fresh(3) fm.fresh(4) hfthm.Exists member_remove remove_def)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> SyntaxN.Ex i A IMP C IMP B\n\ngoal (2 subgoals):\n 1. C \\<in> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n 2. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?thesis"], ["proof (prove)\nusing this:\n  H - {C} \\<turnstile> SyntaxN.Ex i A IMP C IMP B\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "by (metis Imp_Imp_commute)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n\ngoal (1 subgoal):\n 1. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "case False"], ["proof (state)\nthis:\n  C \\<notin> H\n\ngoal (1 subgoal):\n 1. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "hence \"H - {C} = H\""], ["proof (prove)\nusing this:\n  C \\<notin> H\n\ngoal (1 subgoal):\n 1. H - {C} = H", "by auto"], ["proof (state)\nthis:\n  H - {C} = H\n\ngoal (1 subgoal):\n 1. C \\<notin> H \\<Longrightarrow>\n    H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "thus ?thesis"], ["proof (prove)\nusing this:\n  H - {C} = H\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "using Exists"], ["proof (prove)\nusing this:\n  H - {C} = H\n  H \\<turnstile> A IMP B\n  H - {C} \\<turnstile> C IMP A IMP B\n  atom i \\<sharp> B\n  \\<forall>C\\<in>H. atom i \\<sharp> C\n\ngoal (1 subgoal):\n 1. H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B", "by (metis Imp_triv_I hfthm.Exists)"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  H - {C} \\<turnstile> C IMP SyntaxN.Ex i A IMP B\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem Imp_I [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A IMP B", "by (metis Diff_insert_absorb Imp_triv_I deduction_Diff insert_absorb)"], ["", "lemma anti_deduction: \"H \\<turnstile> A IMP B \\<Longrightarrow> insert A H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IMP B \\<Longrightarrow> insert A H \\<turnstile> B", "by (metis Assume MP_same thin1)"], ["", "subsection\\<open>Cut rules\\<close>"], ["", "lemma cut:  \"H \\<turnstile> A \\<Longrightarrow> insert A H' \\<turnstile> B \\<Longrightarrow> H \\<union> H' \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; insert A H' \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<union> H' \\<turnstile> B", "by (metis MP Un_commute Imp_I)"], ["", "lemma cut_same: \"H \\<turnstile> A \\<Longrightarrow> insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; insert A H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis Un_absorb cut)"], ["", "lemma cut_thin: \"HA \\<turnstile> A \\<Longrightarrow> insert A HB \\<turnstile> B \\<Longrightarrow> HA \\<union> HB \\<subseteq> H \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HA \\<turnstile> A; insert A HB \\<turnstile> B;\n     HA \\<union> HB \\<subseteq> H\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis thin cut)"], ["", "lemma cut0: \"{} \\<turnstile> A \\<Longrightarrow> insert A H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{} \\<turnstile> A; insert A H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis cut_same thin0)"], ["", "lemma cut1: \"{A} \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A} \\<turnstile> B; H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis cut sup_bot_right)"], ["", "lemma rcut1: \"{A} \\<turnstile> B \\<Longrightarrow> insert B H \\<turnstile> C \\<Longrightarrow> insert A H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A} \\<turnstile> B; insert B H \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert A H \\<turnstile> C", "by (metis Assume cut1 cut_same rotate2 thin1)"], ["", "lemma cut2: \"\\<lbrakk>{A,B} \\<turnstile> C; H \\<turnstile> A; H \\<turnstile> B\\<rbrakk> \\<Longrightarrow> H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A, B} \\<turnstile> C; H \\<turnstile> A;\n     H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> C", "by (metis Un_empty_right Un_insert_right cut cut_same)"], ["", "lemma rcut2: \"{A,B} \\<turnstile> C \\<Longrightarrow> insert C H \\<turnstile> D \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> insert A H \\<turnstile> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A, B} \\<turnstile> C; insert C H \\<turnstile> D;\n     H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> insert A H \\<turnstile> D", "by (metis Assume cut2 cut_same insert_commute thin1)"], ["", "lemma cut3: \"\\<lbrakk>{A,B,C} \\<turnstile> D; H \\<turnstile> A; H \\<turnstile> B; H \\<turnstile> C\\<rbrakk> \\<Longrightarrow> H \\<turnstile> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A, B, C} \\<turnstile> D; H \\<turnstile> A; H \\<turnstile> B;\n     H \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> D", "by (metis MP_same cut2 Imp_I)"], ["", "lemma cut4: \"\\<lbrakk>{A,B,C,D} \\<turnstile> E; H \\<turnstile> A; H \\<turnstile> B; H \\<turnstile> C; H \\<turnstile> D\\<rbrakk> \\<Longrightarrow> H \\<turnstile> E\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{A, B, C, D} \\<turnstile> E; H \\<turnstile> A;\n     H \\<turnstile> B; H \\<turnstile> C; H \\<turnstile> D\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> E", "by (metis MP_same cut3 [of B C D] Imp_I)"], ["", "section\\<open>Miscellaneous logical rules\\<close>"], ["", "lemma Disj_I1: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B", "by (metis Bool MP_same boolean_axioms.DisjI1)"], ["", "lemma Disj_I2: \"H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A OR B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A OR B", "by (metis Disj_commute Disj_I1)"], ["", "lemma Peirce: \"H \\<turnstile> (Neg A) IMP A \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg A IMP A \\<Longrightarrow> H \\<turnstile> A", "using DisjConj [of \"Neg A\" A A]  DisjCont [of A]"], ["proof (prove)\nusing this:\n  (A IMP A) IMP (Neg A IMP A) IMP A OR A \\<in> boolean_axioms\n  A OR A IMP A \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg A IMP A \\<Longrightarrow> H \\<turnstile> A", "by (metis Bool MP_same boolean_axioms.Ident)"], ["", "lemma Contra: \"insert (Neg A) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg A) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A", "by (metis Peirce Imp_I)"], ["", "lemma Imp_Neg_I: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> A IMP (Neg B) \\<Longrightarrow> H \\<turnstile> Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IMP B; H \\<turnstile> A IMP Neg B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> Neg A", "by (metis DisjConj [of B \"Neg A\" \"Neg A\"] DisjCont Bool Disj_commute MP_same)"], ["", "lemma NegNeg_I: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> Neg (Neg A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> Neg (Neg A)", "using DisjConj [of \"Neg (Neg A)\" \"Neg A\" \"Neg (Neg A)\"]"], ["proof (prove)\nusing this:\n  (Neg A IMP Neg A) IMP (Neg (Neg A) IMP Neg (Neg A)) IMP A IMP Neg (Neg A)\n  \\<in> boolean_axioms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> Neg (Neg A)", "by (metis Bool Ident MP_same)"], ["", "lemma NegNeg_D: \"H \\<turnstile> Neg (Neg A) \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg (Neg A) \\<Longrightarrow> H \\<turnstile> A", "by (metis Disj_I1 Peirce)"], ["", "lemma Neg_D: \"H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> Neg A; H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis Imp_Neg_I Imp_triv_I NegNeg_D)"], ["", "lemma Disj_Neg_1: \"H \\<turnstile> A OR B \\<Longrightarrow> H \\<turnstile> Neg B \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A OR B; H \\<turnstile> Neg B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A", "by (metis Disj_I1 Disj_Semicong_1 Disj_commute Peirce)"], ["", "lemma Disj_Neg_2: \"H \\<turnstile> A OR B \\<Longrightarrow> H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A OR B; H \\<turnstile> Neg A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis Disj_Neg_1 Disj_commute)"], ["", "lemma Neg_Disj_I: \"H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> Neg B \\<Longrightarrow> H \\<turnstile> Neg (A OR B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> Neg A; H \\<turnstile> Neg B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> Neg (A OR B)", "by (metis Bool Disj_Neg_1 MP_same boolean_axioms.Ident DisjAssoc)"], ["", "lemma Conj_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A AND B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A AND B", "by (metis Conj_def NegNeg_I Neg_Disj_I)"], ["", "lemma Conj_E1: \"H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> A", "by (metis Conj_def Bool Disj_Neg_1 NegNeg_D boolean_axioms.DisjI1)"], ["", "lemma Conj_E2: \"H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A AND B \\<Longrightarrow> H \\<turnstile> B", "by (metis Conj_def Bool Disj_I2 Disj_Neg_2 MP_same DisjAssoc Ident)"], ["", "lemma Conj_commute: \"H \\<turnstile> B AND A \\<Longrightarrow> H \\<turnstile> A AND B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B AND A \\<Longrightarrow> H \\<turnstile> A AND B", "by (metis Conj_E1 Conj_E2 Conj_I)"], ["", "lemma Conj_E: assumes \"insert A (insert B H) \\<turnstile> C\" shows \"insert (A AND B) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A AND B) H \\<turnstile> C", "apply (rule cut_same [where A=A], metis Conj_E1 Hyp insertI1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A (insert (A AND B) H) \\<turnstile> C", "by (metis (full_types) AssumeH(2) Conj_E2 assms cut_same [where A=B] insert_commute thin2)"], ["", "lemmas Conj_EH = Conj_E Conj_E [THEN rotate2] Conj_E [THEN rotate3] Conj_E [THEN rotate4] Conj_E [THEN rotate5]\n                 Conj_E [THEN rotate6] Conj_E [THEN rotate7] Conj_E [THEN rotate8] Conj_E [THEN rotate9] Conj_E [THEN rotate10]"], ["", "declare Conj_EH [intro!]"], ["", "lemma Neg_I0: assumes \"(\\<And>B. atom i \\<sharp> B \\<Longrightarrow> insert A H \\<turnstile> B)\" shows \"H \\<turnstile> Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg A", "by (rule Imp_Neg_I [where B = \"Zero IN Zero\"]) (auto simp: assms)"], ["", "lemma Neg_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg B) H \\<turnstile> Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> B \\<Longrightarrow>\n    insert (Neg B) H \\<turnstile> Neg A", "by (rule Neg_I0) (metis Hyp Neg_D insert_commute insertI1 thin1)"], ["", "lemma Conj_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> insert C H \\<turnstile> D \\<Longrightarrow> insert (A AND C) H \\<turnstile> B AND D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A H \\<turnstile> B; insert C H \\<turnstile> D\\<rbrakk>\n    \\<Longrightarrow> insert (A AND C) H \\<turnstile> B AND D", "by (metis Conj_E1 Conj_E2 Conj_I Hyp Un_absorb2 cut insertI1 subset_insertI)"], ["", "lemma Disj_mono:\n  assumes \"insert A H \\<turnstile> B\" \"insert C H \\<turnstile> D\" shows \"insert (A OR C) H \\<turnstile> B OR D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "fix A B C H"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "have \"insert (A OR C) H \\<turnstile> (A IMP B) IMP C OR B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> (A IMP B) IMP C OR B", "by (metis Bool Hyp MP_same boolean_axioms.DisjConj insertI1)"], ["proof (state)\nthis:\n  insert (A OR C) H \\<turnstile> (A IMP B) IMP C OR B\n\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "hence \"insert A H \\<turnstile> B \\<Longrightarrow> insert (A OR C) H \\<turnstile> C OR B\""], ["proof (prove)\nusing this:\n  insert (A OR C) H \\<turnstile> (A IMP B) IMP C OR B\n\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> B \\<Longrightarrow>\n    insert (A OR C) H \\<turnstile> C OR B", "by (metis MP_same Un_absorb Un_insert_right Imp_I thin_Un)"], ["proof (state)\nthis:\n  insert A H \\<turnstile> B \\<Longrightarrow>\n  insert (A OR C) H \\<turnstile> C OR B\n\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "}"], ["proof (state)\nthis:\n  insert ?Aa2 ?Ha2 \\<turnstile> ?Ba2 \\<Longrightarrow>\n  insert (?Aa2 OR ?Ca2) ?Ha2 \\<turnstile> ?Ca2 OR ?Ba2\n\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert ?Aa2 ?Ha2 \\<turnstile> ?Ba2 \\<Longrightarrow>\n  insert (?Aa2 OR ?Ca2) ?Ha2 \\<turnstile> ?Ca2 OR ?Ba2\n\ngoal (1 subgoal):\n 1. insert (A OR C) H \\<turnstile> B OR D", "by (metis cut_same assms thin2)"], ["proof (state)\nthis:\n  insert (A OR C) H \\<turnstile> B OR D\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Disj_E:\n  assumes A: \"insert A H \\<turnstile> C\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A OR B) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A OR B) H \\<turnstile> C", "by (metis A B Disj_mono NegNeg_I Peirce)"], ["", "lemmas Disj_EH = Disj_E Disj_E [THEN rotate2] Disj_E [THEN rotate3] Disj_E [THEN rotate4] Disj_E [THEN rotate5]\n                 Disj_E [THEN rotate6] Disj_E [THEN rotate7] Disj_E [THEN rotate8] Disj_E [THEN rotate9] Disj_E [THEN rotate10]"], ["", "declare Disj_EH [intro!]"], ["", "lemma Contra': \"insert A H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> Neg A \\<Longrightarrow> H \\<turnstile> Neg A", "by (metis Contra Neg_mono)"], ["", "lemma NegNeg_E [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg (Neg A)) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> B \\<Longrightarrow>\n    insert (Neg (Neg A)) H \\<turnstile> B", "by (metis NegNeg_D Neg_mono)"], ["", "declare NegNeg_E [THEN rotate2, intro!]"], ["", "declare NegNeg_E [THEN rotate3, intro!]"], ["", "declare NegNeg_E [THEN rotate4, intro!]"], ["", "declare NegNeg_E [THEN rotate5, intro!]"], ["", "declare NegNeg_E [THEN rotate6, intro!]"], ["", "declare NegNeg_E [THEN rotate7, intro!]"], ["", "declare NegNeg_E [THEN rotate8, intro!]"], ["", "lemma Imp_E:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A IMP B) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A IMP B) H \\<turnstile> C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (A IMP B) H \\<turnstile> C", "have \"insert (A IMP B) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A IMP B) H \\<turnstile> B", "by (metis Hyp A thin1 MP_same insertI1)"], ["proof (state)\nthis:\n  insert (A IMP B) H \\<turnstile> B\n\ngoal (1 subgoal):\n 1. insert (A IMP B) H \\<turnstile> C", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert (A IMP B) H \\<turnstile> B\n\ngoal (1 subgoal):\n 1. insert (A IMP B) H \\<turnstile> C", "by (metis cut [where B=C] Un_insert_right sup_commute sup_idem B)"], ["proof (state)\nthis:\n  insert (A IMP B) H \\<turnstile> C\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Imp_cut:\n  assumes \"insert C H \\<turnstile> A IMP B\" \"{A} \\<turnstile> C\"\n    shows \"H \\<turnstile> A IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IMP B", "by (metis Contra Disj_I1 Neg_mono assms rcut1)"], ["", "lemma Iff_I [intro!]: \"insert A H \\<turnstile> B \\<Longrightarrow> insert B H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A IFF B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A H \\<turnstile> B; insert B H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A IFF B", "by (metis Iff_def Conj_I Imp_I)"], ["", "lemma Iff_MP_same: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF B; H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis Iff_def Conj_E1 MP_same)"], ["", "lemma Iff_MP2_same: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF B; H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A", "by (metis Iff_def Conj_E2 MP_same)"], ["", "lemma Iff_refl [intro!]: \"H \\<turnstile> A IFF A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IFF A", "by (metis Hyp Iff_I insertI1)"], ["", "lemma Iff_sym: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B IFF A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B IFF A", "by (metis Iff_def Conj_commute)"], ["", "lemma Iff_trans: \"H \\<turnstile> A IFF B \\<Longrightarrow> H \\<turnstile> B IFF C \\<Longrightarrow> H \\<turnstile> A IFF C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF B; H \\<turnstile> B IFF C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A IFF C", "unfolding Iff_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> (A IMP B) AND (B IMP A);\n     H \\<turnstile> (B IMP C) AND (C IMP B)\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> (A IMP C) AND (C IMP A)", "by (metis Conj_E1 Conj_E2 Conj_I Disj_Semicong_1 Disj_commute)"], ["", "lemma Iff_E:\n  \"insert A (insert B H) \\<turnstile> C \\<Longrightarrow> insert (Neg A) (insert (Neg B) H) \\<turnstile> C \\<Longrightarrow> insert (A IFF B) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A (insert B H) \\<turnstile> C;\n     insert (Neg A) (insert (Neg B) H) \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert (A IFF B) H \\<turnstile> C", "apply (auto simp: Iff_def insert_commute)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>insert A (insert B H) \\<turnstile> C;\n     insert (Neg A) (insert (Neg B) H) \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert B (insert (Neg B) H) \\<turnstile> C\n 2. \\<lbrakk>insert A (insert B H) \\<turnstile> C;\n     insert (Neg A) (insert (Neg B) H) \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert A (insert (Neg A) H) \\<turnstile> C", "apply (metis Disj_I1 Hyp anti_deduction insertCI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A (insert B H) \\<turnstile> C;\n     insert (Neg A) (insert (Neg B) H) \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert A (insert (Neg A) H) \\<turnstile> C", "apply (metis Assume Disj_I1 anti_deduction)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma Iff_E1:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (A IFF B) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A IFF B) H \\<turnstile> C", "by (metis Iff_def A B Conj_E Imp_E insert_commute thin1)"], ["", "lemma Iff_E2:\n  assumes A: \"H \\<turnstile> A\" and B: \"insert B H \\<turnstile> C\" shows \"insert (B IFF A) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (B IFF A) H \\<turnstile> C", "by (metis Iff_def A B Bool Conj_E2 Conj_mono Imp_E boolean_axioms.Ident)"], ["", "lemma Iff_MP_left: \"H \\<turnstile> A IFF B \\<Longrightarrow> insert A H \\<turnstile> C \\<Longrightarrow> insert B H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF B; insert A H \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert B H \\<turnstile> C", "by (metis Hyp Iff_E2 cut_same insertI1 insert_commute thin1)"], ["", "lemma Iff_MP_left': \"H \\<turnstile> A IFF B \\<Longrightarrow> insert B H \\<turnstile> C \\<Longrightarrow> insert A H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF B; insert B H \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert A H \\<turnstile> C", "by (metis Iff_MP_left Iff_sym)"], ["", "lemma Swap: \"insert (Neg B) H \\<turnstile> A \\<Longrightarrow> insert (Neg A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg B) H \\<turnstile> A \\<Longrightarrow>\n    insert (Neg A) H \\<turnstile> B", "by (metis NegNeg_D Neg_mono)"], ["", "lemma Cases: \"insert A H \\<turnstile> B \\<Longrightarrow> insert (Neg A) H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A H \\<turnstile> B;\n     insert (Neg A) H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis Contra Neg_D Neg_mono)"], ["", "lemma Neg_Conj_E: \"H \\<turnstile> B \\<Longrightarrow> insert (Neg A) H \\<turnstile> C \\<Longrightarrow> insert (Neg (A AND B)) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> B; insert (Neg A) H \\<turnstile> C\\<rbrakk>\n    \\<Longrightarrow> insert (Neg (A AND B)) H \\<turnstile> C", "by (metis Conj_I Swap thin1)"], ["", "lemma Disj_CI: \"insert (Neg B) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg B) H \\<turnstile> A \\<Longrightarrow> H \\<turnstile> A OR B", "by (metis Contra Disj_I1 Disj_I2 Swap)"], ["", "lemma Disj_3I: \"insert (Neg A) (insert (Neg C) H) \\<turnstile> B \\<Longrightarrow> H \\<turnstile> A OR B OR C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg A) (insert (Neg C) H) \\<turnstile> B \\<Longrightarrow>\n    H \\<turnstile> A OR B OR C", "by (metis Disj_CI Disj_commute insert_commute)"], ["", "lemma Contrapos1: \"H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> Neg B IMP Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IMP B \\<Longrightarrow> H \\<turnstile> Neg B IMP Neg A", "by (metis Bool MP_same boolean_axioms.DisjConj boolean_axioms.Ident)"], ["", "lemma Contrapos2: \"H \\<turnstile> (Neg B) IMP (Neg A) \\<Longrightarrow> H \\<turnstile> A IMP B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg B IMP Neg A \\<Longrightarrow> H \\<turnstile> A IMP B", "by (metis Bool MP_same boolean_axioms.DisjConj boolean_axioms.Ident)"], ["", "lemma ContraAssumeN [intro]: \"B \\<in> H \\<Longrightarrow> insert (Neg B) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> H \\<Longrightarrow> insert (Neg B) H \\<turnstile> A", "by (metis Hyp Swap thin1)"], ["", "lemma ContraAssume: \"Neg B \\<in> H \\<Longrightarrow> insert B H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Neg B \\<in> H \\<Longrightarrow> insert B H \\<turnstile> A", "by (metis Disj_I1 Hyp anti_deduction)"], ["", "lemma ContraProve: \"H \\<turnstile> B \\<Longrightarrow> insert (Neg B) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B \\<Longrightarrow> insert (Neg B) H \\<turnstile> A", "by (metis Swap thin1)"], ["", "lemma Disj_IE1: \"insert B H \\<turnstile> C \\<Longrightarrow> insert (A OR B) H \\<turnstile> A OR C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert B H \\<turnstile> C \\<Longrightarrow>\n    insert (A OR B) H \\<turnstile> A OR C", "by (metis Assume Disj_mono)"], ["", "lemmas Disj_IE1H = Disj_IE1 Disj_IE1 [THEN rotate2] Disj_IE1 [THEN rotate3] Disj_IE1 [THEN rotate4] Disj_IE1 [THEN rotate5]\n                 Disj_IE1 [THEN rotate6] Disj_IE1 [THEN rotate7] Disj_IE1 [THEN rotate8]"], ["", "declare Disj_IE1H [intro!]"], ["", "subsection\\<open>Quantifier reasoning\\<close>"], ["", "lemma Ex_I: \"H \\<turnstile> A(i::=x) \\<Longrightarrow> H \\<turnstile> Ex i A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A(i::=x) \\<Longrightarrow> H \\<turnstile> SyntaxN.Ex i A", "by (metis MP_same Spec special_axioms.intros)"], ["", "lemma Ex_E:\n  assumes \"insert A H \\<turnstile> B\" \"atom i \\<sharp> B\" \"\\<forall>C \\<in> H. atom i \\<sharp> C\"\n  shows \"insert (Ex i A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (SyntaxN.Ex i A) H \\<turnstile> B", "by (metis Exists Imp_I anti_deduction assms)"], ["", "lemma Ex_E_with_renaming:\n  assumes \"insert ((i \\<leftrightarrow> i') \\<bullet> A) H \\<turnstile> B\" \"atom i' \\<sharp> (A,i,B)\" \"\\<forall>C \\<in> H. atom i' \\<sharp> C\"\n  shows \"insert (Ex i A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (SyntaxN.Ex i A) H \\<turnstile> B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (SyntaxN.Ex i A) H \\<turnstile> B", "have \"Ex i A = Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SyntaxN.Ex i A = SyntaxN.Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)", "using assms"], ["proof (prove)\nusing this:\n  insert ((i \\<leftrightarrow> i') \\<bullet> A) H \\<turnstile> B\n  atom i' \\<sharp> (A, i, B)\n  \\<forall>C\\<in>H. atom i' \\<sharp> C\n\ngoal (1 subgoal):\n 1. SyntaxN.Ex i A = SyntaxN.Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)", "apply (auto simp: Abs1_eq_iff fresh_Pair)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>insert ((i \\<leftrightarrow> i') \\<bullet> A) H \\<turnstile> B;\n     \\<forall>C\\<in>H. atom i' \\<sharp> C; atom i' \\<sharp> A;\n     atom i' \\<sharp> i; atom i' \\<sharp> B;\n     \\<not> atom i \\<sharp> (i \\<leftrightarrow> i') \\<bullet> A\\<rbrakk>\n    \\<Longrightarrow> i = i'\n 2. \\<lbrakk>insert ((i \\<leftrightarrow> i') \\<bullet> A) H \\<turnstile> B;\n     \\<forall>C\\<in>H. atom i' \\<sharp> C; atom i' \\<sharp> A;\n     atom i' \\<sharp> i; atom i' \\<sharp> B;\n     \\<not> atom i \\<sharp> (i \\<leftrightarrow> i') \\<bullet> A\\<rbrakk>\n    \\<Longrightarrow> A = (i \\<leftrightarrow> i') \\<bullet> A", "apply (metis flip_at_simps(2) fresh_at_base_permute_iff)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  SyntaxN.Ex i A = SyntaxN.Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)\n\ngoal (1 subgoal):\n 1. insert (SyntaxN.Ex i A) H \\<turnstile> B", "thus ?thesis"], ["proof (prove)\nusing this:\n  SyntaxN.Ex i A = SyntaxN.Ex i' ((i \\<leftrightarrow> i') \\<bullet> A)\n\ngoal (1 subgoal):\n 1. insert (SyntaxN.Ex i A) H \\<turnstile> B", "by (metis Ex_E assms fresh_Pair)"], ["proof (state)\nthis:\n  insert (SyntaxN.Ex i A) H \\<turnstile> B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas Ex_EH = Ex_E Ex_E [THEN rotate2] Ex_E [THEN rotate3] Ex_E [THEN rotate4] Ex_E [THEN rotate5]\n                 Ex_E [THEN rotate6] Ex_E [THEN rotate7] Ex_E [THEN rotate8] Ex_E [THEN rotate9] Ex_E [THEN rotate10]"], ["", "declare Ex_EH [intro!]"], ["", "lemma Ex_mono: \"insert A H \\<turnstile> B \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> insert (Ex i A) H \\<turnstile> (Ex i B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>insert A H \\<turnstile> B;\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (SyntaxN.Ex i A) H \\<turnstile> SyntaxN.Ex i B", "by (auto simp add: intro: Ex_I [where x=\"Var i\"])"], ["", "lemma All_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> All i A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> SyntaxN.All i A", "by (auto intro: ContraProve Neg_I0)"], ["", "lemma All_D: \"H \\<turnstile> All i A \\<Longrightarrow> H \\<turnstile> A(i::=x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> SyntaxN.All i A \\<Longrightarrow> H \\<turnstile> A(i::=x)", "by (metis Assume Ex_I NegNeg_D Neg_mono SyntaxN.Neg cut_same)"], ["", "lemma All_E: \"insert (A(i::=x)) H \\<turnstile> B \\<Longrightarrow> insert (All i A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (A(i::=x)) H \\<turnstile> B \\<Longrightarrow>\n    insert (SyntaxN.All i A) H \\<turnstile> B", "by (metis Ex_I NegNeg_D Neg_mono SyntaxN.Neg)"], ["", "lemma All_E': \"H \\<turnstile> All i A \\<Longrightarrow> insert (A(i::=x)) H \\<turnstile> B \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> SyntaxN.All i A;\n     insert (A(i::=x)) H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis All_D cut_same)"], ["", "lemma All2_E: \"\\<lbrakk>atom i \\<sharp> t; H \\<turnstile> x IN t; insert (A(i::=x)) H \\<turnstile> B\\<rbrakk> \\<Longrightarrow> insert (All2 i t A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> t; H \\<turnstile> x IN t;\n     insert (A(i::=x)) H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> insert (All2 i t A) H \\<turnstile> B", "apply (rule All_E [where x=x], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> t; H \\<turnstile> x IN t;\n     insert (A(i::=x)) H \\<turnstile> B\\<rbrakk>\n    \\<Longrightarrow> insert (Neg (x IN t)) H \\<turnstile> B", "by (metis Swap thin1)"], ["", "lemma All2_E': \"\\<lbrakk>H \\<turnstile> All2 i t A; H \\<turnstile> x IN t; insert (A(i::=x)) H \\<turnstile> B; atom i \\<sharp> t\\<rbrakk> \\<Longrightarrow> H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> All2 i t A; H \\<turnstile> x IN t;\n     insert (A(i::=x)) H \\<turnstile> B; atom i \\<sharp> t\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> B", "by (metis All2_E cut_same)"], ["", "subsection\\<open>Congruence rules\\<close>"], ["", "lemma Neg_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> Neg A IFF Neg A'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A IFF A' \\<Longrightarrow>\n    H \\<turnstile> Neg A IFF Neg A'", "by (metis Iff_def Conj_E1 Conj_E2 Conj_I Contrapos1)"], ["", "lemma Disj_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> A OR B IFF A' OR B'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A'; H \\<turnstile> B IFF B'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A OR B IFF A' OR B'", "by (metis Conj_E1 Conj_E2 Disj_mono Iff_I Iff_def anti_deduction)"], ["", "lemma Conj_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> A AND B IFF A' AND B'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A'; H \\<turnstile> B IFF B'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A AND B IFF A' AND B'", "by (metis Conj_def Disj_cong Neg_cong)"], ["", "lemma Imp_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> (A IMP B) IFF (A' IMP B')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A'; H \\<turnstile> B IFF B'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> (A IMP B) IFF A' IMP B'", "by (metis Disj_cong Neg_cong)"], ["", "lemma Iff_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> H \\<turnstile> B IFF B' \\<Longrightarrow> H \\<turnstile> (A IFF B) IFF (A' IFF B')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A'; H \\<turnstile> B IFF B'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> (A IFF B) IFF A' IFF B'", "by (metis Iff_def Conj_cong Imp_cong)"], ["", "lemma Ex_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (Ex i A) IFF (Ex i A')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> SyntaxN.Ex i A IFF SyntaxN.Ex i A'", "apply (rule Iff_I)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (SyntaxN.Ex i A) H \\<turnstile> SyntaxN.Ex i A'\n 2. \\<lbrakk>H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (SyntaxN.Ex i A') H \\<turnstile> SyntaxN.Ex i A", "apply (metis Ex_mono Hyp Iff_MP_same Un_absorb Un_insert_right insertI1 thin_Un)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (SyntaxN.Ex i A') H \\<turnstile> SyntaxN.Ex i A", "apply (metis Ex_mono Hyp Iff_MP2_same Un_absorb Un_insert_right insertI1 thin_Un)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma All_cong: \"H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (All i A) IFF (All i A')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> SyntaxN.All i A IFF SyntaxN.All i A'", "by (metis Ex_cong Neg_cong)"], ["", "lemma Subst: \"H \\<turnstile> A \\<Longrightarrow> \\<forall>B \\<in> H. atom i \\<sharp> B \\<Longrightarrow> H \\<turnstile> A (i::=x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; \\<forall>B\\<in>H. atom i \\<sharp> B\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> A(i::=x)", "by (metis All_D All_I)"], ["", "section\\<open>Equality reasoning\\<close>"], ["", "subsection\\<open>The congruence property for @{term Eq}, and other basic properties of equality\\<close>"], ["", "lemma Eq_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (t EQ u IMP t' EQ u')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "obtain v2::name and v3::name and v4::name\n    where v2: \"atom v2 \\<sharp> (t,X1,X3,X4)\"\n      and v3: \"atom v3 \\<sharp> (t,t',X1,v2,X4)\"\n      and v4: \"atom v4 \\<sharp> (t,t',u,X1,v2,v3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v2 v3 v4.\n        \\<lbrakk>atom v2 \\<sharp> (t, X1, X3, X4);\n         atom v3 \\<sharp> (t, t', X1, v2, X4);\n         atom v4 \\<sharp> (t, t', u, X1, v2, v3)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "have \"{} \\<turnstile> (Var X1 EQ Var X2 AND Var X3 EQ Var X4) IMP (Var X1 EQ Var X3 IMP Var X2 EQ Var X4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n    Var X1 EQ Var X3 IMP Var X2 EQ Var X4", "by (rule Eq) (simp add: eq_cong_ax_def equality_axioms_def)"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var X2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (Var X1 EQ Var X2 AND Var X3 EQ Var X4) IMP (Var X1 EQ Var X3 IMP Var X2 EQ Var X4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var X2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n    Var X1 EQ Var X3 IMP Var X2 EQ Var X4", "by (drule_tac i=X1 and x=\"Var X1\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var X2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var X3 EQ Var X4) IMP (Var X1 EQ Var X3 IMP Var v2 EQ Var X4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var X2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n    Var X1 EQ Var X3 IMP Var v2 EQ Var X4", "by (drule_tac i=X2 and x=\"Var v2\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var v2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var X4) IMP (Var X1 EQ Var v3 IMP Var v2 EQ Var X4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var v2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Var X1 EQ Var v3 IMP Var v2 EQ Var X4", "using v2"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 EQ Var X3 IMP Var v2 EQ Var X4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Var X1 EQ Var v3 IMP Var v2 EQ Var X4", "by (drule_tac i=X3 and x=\"Var v3\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var v4) IMP (Var X1 EQ Var v3 IMP Var v2 EQ Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Var X1 EQ Var v3 IMP Var v2 EQ Var v4", "using v2 v3"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var X4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Var X1 EQ Var v3 IMP Var v2 EQ Var v4", "by (drule_tac i=X4 and x=\"Var v4\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (t EQ Var v2 AND Var v3 EQ Var v4) IMP (t EQ Var v3 IMP Var v2 EQ Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP Var v2 EQ Var v4", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 EQ Var v3 IMP Var v2 EQ Var v4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP Var v2 EQ Var v4", "by (drule_tac i=X1 and x=t in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP Var v2 EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (t EQ t' AND Var v3 EQ Var v4) IMP (t EQ Var v3 IMP t' EQ Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP Var v2 EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP t' EQ Var v4", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP Var v2 EQ Var v4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP t' EQ Var v4", "by (drule_tac i=v2 and x=\"t'\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP t' EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "hence \"{} \\<turnstile> (t EQ t' AND u EQ Var v4) IMP (t EQ u IMP t' EQ Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP t' EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t EQ u IMP t' EQ Var v4", "using v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t EQ Var v3 IMP t' EQ Var v4\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t EQ u IMP t' EQ Var v4", "by (drule_tac i=v3 and x=u in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t EQ u IMP t' EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t EQ u IMP t' EQ Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "using v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t EQ u IMP t' EQ Var v4\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'", "by (drule_tac i=v4 and x=\"u'\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ u' IMP t EQ u IMP t' EQ u'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Refl [iff]: \"H \\<turnstile> t EQ t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t", "have \"{} \\<turnstile> Var X1 EQ Var X1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> Var X1 EQ Var X1", "by (rule Eq) (simp add: equality_axioms_def refl_ax_def)"], ["proof (state)\nthis:\n  {} \\<turnstile> Var X1 EQ Var X1\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t", "hence \"{} \\<turnstile> t EQ t\""], ["proof (prove)\nusing this:\n  {} \\<turnstile> Var X1 EQ Var X1\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t", "by (drule_tac i=X1 and x=t in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t", "thus ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t", "by (metis empty_subsetI thin)"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ t\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Apparently necessary in order to prove the congruence property.\\<close>"], ["", "lemma Sym: assumes \"H \\<turnstile> t EQ u\" shows \"H \\<turnstile> u EQ t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "have \"{} \\<turnstile>  (t EQ u AND t EQ t) IMP (t EQ t IMP u EQ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ u AND t EQ t IMP t EQ t IMP u EQ t", "by (rule Eq_cong1)"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ u AND t EQ t IMP t EQ t IMP u EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "moreover"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ u AND t EQ t IMP t EQ t IMP u EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "have \"{t EQ u} \\<turnstile> t EQ u AND t EQ t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t EQ u} \\<turnstile> t EQ u AND t EQ t", "by (metis Assume Conj_I Refl)"], ["proof (state)\nthis:\n  {t EQ u} \\<turnstile> t EQ u AND t EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "ultimately"], ["proof (chain)\npicking this:\n  {} \\<turnstile> t EQ u AND t EQ t IMP t EQ t IMP u EQ t\n  {t EQ u} \\<turnstile> t EQ u AND t EQ t", "have \"{t EQ u} \\<turnstile> u EQ t\""], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ u AND t EQ t IMP t EQ t IMP u EQ t\n  {t EQ u} \\<turnstile> t EQ u AND t EQ t\n\ngoal (1 subgoal):\n 1. {t EQ u} \\<turnstile> u EQ t", "by (metis MP_same MP Refl sup_bot_left)"], ["proof (state)\nthis:\n  {t EQ u} \\<turnstile> u EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "thus \"H \\<turnstile> u EQ t\""], ["proof (prove)\nusing this:\n  {t EQ u} \\<turnstile> u EQ t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t", "by (metis assms cut1)"], ["proof (state)\nthis:\n  H \\<turnstile> u EQ t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Sym_L: \"insert (t EQ u) H \\<turnstile> A \\<Longrightarrow> insert (u EQ t) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (t EQ u) H \\<turnstile> A \\<Longrightarrow>\n    insert (u EQ t) H \\<turnstile> A", "by (metis Assume Sym Un_empty_left Un_insert_left cut)"], ["", "lemma Trans: assumes \"H \\<turnstile> x EQ y\" \"H \\<turnstile> y EQ z\" shows \"H \\<turnstile> x EQ z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "have \"\\<And>H. H \\<turnstile> (x EQ x AND y EQ z) IMP (x EQ y IMP x EQ z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>H. H \\<turnstile> x EQ x AND y EQ z IMP x EQ y IMP x EQ z", "by (metis Eq_cong1 bot_least thin)"], ["proof (state)\nthis:\n  ?H \\<turnstile> x EQ x AND y EQ z IMP x EQ y IMP x EQ z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "moreover"], ["proof (state)\nthis:\n  ?H \\<turnstile> x EQ x AND y EQ z IMP x EQ y IMP x EQ z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "have \"{x EQ y, y EQ z} \\<turnstile> x EQ x AND y EQ z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x EQ y, y EQ z} \\<turnstile> x EQ x AND y EQ z", "by (metis Assume Conj_I Refl thin1)"], ["proof (state)\nthis:\n  {x EQ y, y EQ z} \\<turnstile> x EQ x AND y EQ z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "ultimately"], ["proof (chain)\npicking this:\n  ?H \\<turnstile> x EQ x AND y EQ z IMP x EQ y IMP x EQ z\n  {x EQ y, y EQ z} \\<turnstile> x EQ x AND y EQ z", "have \"{x EQ y, y EQ z} \\<turnstile> x EQ z\""], ["proof (prove)\nusing this:\n  ?H \\<turnstile> x EQ x AND y EQ z IMP x EQ y IMP x EQ z\n  {x EQ y, y EQ z} \\<turnstile> x EQ x AND y EQ z\n\ngoal (1 subgoal):\n 1. {x EQ y, y EQ z} \\<turnstile> x EQ z", "by (metis Hyp MP_same insertI1)"], ["proof (state)\nthis:\n  {x EQ y, y EQ z} \\<turnstile> x EQ z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "thus ?thesis"], ["proof (prove)\nusing this:\n  {x EQ y, y EQ z} \\<turnstile> x EQ z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x EQ z", "by (metis assms cut2)"], ["proof (state)\nthis:\n  H \\<turnstile> x EQ z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Eq_cong:\n  assumes \"H \\<turnstile> t EQ t'\" \"H \\<turnstile> u EQ u'\" shows \"H \\<turnstile> t EQ u IFF t' EQ u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "fix t t' u u'"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "assume  \"H \\<turnstile> t EQ t'\" \"H \\<turnstile> u EQ u'\""], ["proof (state)\nthis:\n  H \\<turnstile> t EQ t'\n  H \\<turnstile> u EQ u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "moreover"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ t'\n  H \\<turnstile> u EQ u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "have \"{t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'", "using Eq_cong1"], ["proof (prove)\nusing this:\n  {} \\<turnstile> ?t EQ ?t' AND ?u EQ ?u' IMP ?t EQ ?u IMP ?t' EQ ?u'\n\ngoal (1 subgoal):\n 1. {t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'", "by (metis Assume Conj_I MP_null insert_commute)"], ["proof (state)\nthis:\n  {t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "ultimately"], ["proof (chain)\npicking this:\n  H \\<turnstile> t EQ t'\n  H \\<turnstile> u EQ u'\n  {t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'", "have \"H \\<turnstile> t EQ u IMP t' EQ u'\""], ["proof (prove)\nusing this:\n  H \\<turnstile> t EQ t'\n  H \\<turnstile> u EQ u'\n  {t EQ t', u EQ u'} \\<turnstile> t EQ u IMP t' EQ u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IMP t' EQ u'", "by (metis cut2)"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ u IMP t' EQ u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>H \\<turnstile> ?ta2 EQ ?t'a2;\n   H \\<turnstile> ?ua2 EQ ?u'a2\\<rbrakk>\n  \\<Longrightarrow> H \\<turnstile> ?ta2 EQ ?ua2 IMP ?t'a2 EQ ?u'a2\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>H \\<turnstile> ?ta2 EQ ?t'a2;\n   H \\<turnstile> ?ua2 EQ ?u'a2\\<rbrakk>\n  \\<Longrightarrow> H \\<turnstile> ?ta2 EQ ?ua2 IMP ?t'a2 EQ ?u'a2\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ u IFF t' EQ u'", "by (metis Iff_def Conj_I assms Sym)"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ u IFF t' EQ u'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Eq_Trans_E: \"H \\<turnstile> x EQ u \\<Longrightarrow> insert (t EQ u) H \\<turnstile> A \\<Longrightarrow> insert (x EQ t) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> x EQ u;\n     insert (t EQ u) H \\<turnstile> A\\<rbrakk>\n    \\<Longrightarrow> insert (x EQ t) H \\<turnstile> A", "by (metis Assume Sym_L Trans cut_same thin1 thin2)"], ["", "subsection\\<open>The congruence property for @{term Mem}\\<close>"], ["", "lemma Mem_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (t IN u IMP t' IN u')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "obtain v2::name and v3::name and v4::name\n    where v2: \"atom v2 \\<sharp> (t,X1,X3,X4)\"\n      and v3: \"atom v3 \\<sharp> (t,t',X1,v2,X4)\"\n      and v4: \"atom v4 \\<sharp> (t,t',u,X1,v2,v3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v2 v3 v4.\n        \\<lbrakk>atom v2 \\<sharp> (t, X1, X3, X4);\n         atom v3 \\<sharp> (t, t', X1, v2, X4);\n         atom v4 \\<sharp> (t, t', u, X1, v2, v3)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "have \"{} \\<turnstile> (Var X1 EQ Var X2 AND Var X3 EQ Var X4) IMP (Var X1 IN Var X3 IMP Var X2 IN Var X4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n    Var X1 IN Var X3 IMP Var X2 IN Var X4", "by (metis mem_cong_ax_def equality_axioms_def insert_iff Eq)"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 IN Var X3 IMP Var X2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var X3 EQ Var X4) IMP (Var X1 IN Var X3 IMP Var v2 IN Var X4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Var X1 IN Var X3 IMP Var X2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n    Var X1 IN Var X3 IMP Var v2 IN Var X4", "by (drule_tac i=X2 and x=\"Var v2\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 IN Var X3 IMP Var v2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var X4) IMP (Var X1 IN Var v3 IMP Var v2 IN Var X4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 IN Var X3 IMP Var v2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Var X1 IN Var v3 IMP Var v2 IN Var X4", "using v2"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Var X1 IN Var X3 IMP Var v2 IN Var X4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Var X1 IN Var v3 IMP Var v2 IN Var X4", "by (drule_tac i=X3 and x=\"Var v3\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var v4) IMP (Var X1 IN Var v3 IMP Var v2 IN Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var X4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Var X1 IN Var v3 IMP Var v2 IN Var v4", "using v2 v3"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var X4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Var X1 IN Var v3 IMP Var v2 IN Var v4", "by (drule_tac i=X4 and x=\"Var v4\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (t EQ Var v2 AND Var v3 EQ Var v4) IMP (t IN Var v3 IMP Var v2 IN Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP t IN Var v3 IMP Var v2 IN Var v4", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Var X1 IN Var v3 IMP Var v2 IN Var v4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP t IN Var v3 IMP Var v2 IN Var v4", "by (drule_tac i=X1 and x=t in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t IN Var v3 IMP Var v2 IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (t EQ t' AND Var v3 EQ Var v4) IMP (t IN Var v3 IMP t' IN Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t IN Var v3 IMP Var v2 IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP t IN Var v3 IMP t' IN Var v4", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP t IN Var v3 IMP Var v2 IN Var v4\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP t IN Var v3 IMP t' IN Var v4", "by (drule_tac i=v2 and x=t' in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t IN Var v3 IMP t' IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "hence \"{} \\<turnstile> (t EQ t' AND u EQ Var v4) IMP (t IN u IMP t' IN Var v4)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t IN Var v3 IMP t' IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t IN u IMP t' IN Var v4", "using v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP t IN Var v3 IMP t' IN Var v4\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t IN u IMP t' IN Var v4", "by (drule_tac i=v3 and x=u in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t IN u IMP t' IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t IN u IMP t' IN Var v4\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "using v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP t IN u IMP t' IN Var v4\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'", "by (drule_tac i=v4 and x=u' in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ u' IMP t IN u IMP t' IN u'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Mem_cong:\n  assumes \"H \\<turnstile> t EQ t'\" \"H \\<turnstile> u EQ u'\" shows \"H \\<turnstile> t IN u IFF t' IN u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "fix t t' u u'"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "have cong: \"{t EQ t', u EQ u'} \\<turnstile> t IN u IMP t' IN u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t EQ t', u EQ u'} \\<turnstile> t IN u IMP t' IN u'", "by (metis AssumeH(2) Conj_I MP_null Mem_cong1 insert_commute)"], ["proof (state)\nthis:\n  {t EQ t', u EQ u'} \\<turnstile> t IN u IMP t' IN u'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "}"], ["proof (state)\nthis:\n  {?ta2 EQ ?t'a2, ?ua2 EQ ?u'a2} \\<turnstile>\n  ?ta2 IN ?ua2 IMP ?t'a2 IN ?u'a2\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {?ta2 EQ ?t'a2, ?ua2 EQ ?u'a2} \\<turnstile>\n  ?ta2 IN ?ua2 IMP ?t'a2 IN ?u'a2\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t IN u IFF t' IN u'", "by (metis Iff_def Conj_I cut2 assms Sym)"], ["proof (state)\nthis:\n  H \\<turnstile> t IN u IFF t' IN u'\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>The congruence properties for @{term Eats} and @{term HPair}\\<close>"], ["", "lemma Eats_cong1: \"{} \\<turnstile> (t EQ t' AND u EQ u') IMP (Eats t u EQ Eats t' u')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "obtain v2::name and v3::name and v4::name\n    where v2: \"atom v2 \\<sharp> (t,X1,X3,X4)\"\n      and v3: \"atom v3 \\<sharp> (t,t',X1,v2,X4)\"\n      and v4: \"atom v4 \\<sharp> (t,t',u,X1,v2,v3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v2 v3 v4.\n        \\<lbrakk>atom v2 \\<sharp> (t, X1, X3, X4);\n         atom v3 \\<sharp> (t, t', X1, v2, X4);\n         atom v4 \\<sharp> (t, t', u, X1, v2, v3)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "have \"{} \\<turnstile> (Var X1 EQ Var X2 AND Var X3 EQ Var X4) IMP (Eats (Var X1) (Var X3) EQ Eats (Var X2) (Var X4))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n    Eats (Var X1) (Var X3) EQ Eats (Var X2) (Var X4)", "by (metis eats_cong_ax_def equality_axioms_def insert_iff Eq)"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Eats (Var X1) (Var X3) EQ Eats (Var X2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var X3 EQ Var X4) IMP (Eats (Var X1) (Var X3) EQ Eats (Var v2) (Var X4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var X2 AND Var X3 EQ Var X4 IMP\n  Eats (Var X1) (Var X3) EQ Eats (Var X2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n    Eats (Var X1) (Var X3) EQ Eats (Var v2) (Var X4)", "by (drule_tac i=X2 and x=\"Var v2\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Eats (Var X1) (Var X3) EQ Eats (Var v2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var X4) IMP (Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Eats (Var X1) (Var X3) EQ Eats (Var v2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4)", "using v2"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var X3 EQ Var X4 IMP\n  Eats (Var X1) (Var X3) EQ Eats (Var v2) (Var X4)\n  atom v2 \\<sharp> (t, X1, X3, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n    Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4)", "by (drule_tac i=X3 and x=\"Var v3\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (Var X1 EQ Var v2 AND Var v3 EQ Var v4) IMP (Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4)", "using v2 v3"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var X4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var X4)\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4)", "by (drule_tac i=X4 and x=\"Var v4\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (t EQ Var v2 AND Var v3 EQ Var v4) IMP (Eats t (Var v3) EQ Eats (Var v2) (Var v4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Eats t (Var v3) EQ Eats (Var v2) (Var v4)", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X1 EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats (Var X1) (Var v3) EQ Eats (Var v2) (Var v4)\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ Var v2 AND Var v3 EQ Var v4 IMP\n    Eats t (Var v3) EQ Eats (Var v2) (Var v4)", "by (drule_tac i=X1 and x=t in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats t (Var v3) EQ Eats (Var v2) (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (t EQ t' AND Var v3 EQ Var v4) IMP (Eats t (Var v3) EQ Eats t' (Var v4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats t (Var v3) EQ Eats (Var v2) (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP Eats t (Var v3) EQ Eats t' (Var v4)", "using v2 v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ Var v2 AND Var v3 EQ Var v4 IMP\n  Eats t (Var v3) EQ Eats (Var v2) (Var v4)\n  atom v2 \\<sharp> (t, X1, X3, X4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    t EQ t' AND Var v3 EQ Var v4 IMP Eats t (Var v3) EQ Eats t' (Var v4)", "by (drule_tac i=v2 and x=t' in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP Eats t (Var v3) EQ Eats t' (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "hence \"{} \\<turnstile> (t EQ t' AND u EQ Var v4) IMP (Eats t u EQ Eats t' (Var v4))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP Eats t (Var v3) EQ Eats t' (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP Eats t u EQ Eats t' (Var v4)", "using v3 v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  t EQ t' AND Var v3 EQ Var v4 IMP Eats t (Var v3) EQ Eats t' (Var v4)\n  atom v3 \\<sharp> (t, t', X1, v2, X4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP Eats t u EQ Eats t' (Var v4)", "by (drule_tac i=v3 and x=u in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP Eats t u EQ Eats t' (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP Eats t u EQ Eats t' (Var v4)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "using v4"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ t' AND u EQ Var v4 IMP Eats t u EQ Eats t' (Var v4)\n  atom v4 \\<sharp> (t, t', u, X1, v2, v3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'", "by (drule_tac i=v4 and x=u' in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ t' AND u EQ u' IMP Eats t u EQ Eats t' u'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Eats_cong: \"\\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk> \\<Longrightarrow> H \\<turnstile> Eats t u EQ Eats t' u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> Eats t u EQ Eats t' u'", "by (metis Conj_I anti_deduction Eats_cong1 cut1)"], ["", "lemma HPair_cong: \"\\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk> \\<Longrightarrow> H \\<turnstile> HPair t u EQ HPair t' u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> u EQ u'\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> HPair t u EQ HPair t' u'", "by (metis HPair_def Eats_cong Refl)"], ["", "lemma SUCC_cong: \"H \\<turnstile> t EQ t' \\<Longrightarrow> H \\<turnstile> SUCC t EQ SUCC t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ t' \\<Longrightarrow>\n    H \\<turnstile> SUCC t EQ SUCC t'", "by (metis Eats_cong SUCC_def)"], ["", "subsection\\<open>Substitution for Equalities\\<close>"], ["", "lemma Eq_subst_tm_Iff: \"{t EQ u} \\<turnstile> subst i t tm EQ subst i u tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t EQ u} \\<turnstile> subst i t tm EQ subst i u tm", "by (induct tm rule: tm.induct) (auto simp: Eats_cong)"], ["", "lemma Eq_subst_fm_Iff: \"insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)", "have \"{ t EQ u } \\<turnstile> A(i::=t) IFF A(i::=u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t EQ u} \\<turnstile> A(i::=t) IFF A(i::=u)", "by (nominal_induct A avoiding: i t u rule: fm.strong_induct)\n       (auto simp: Disj_cong Neg_cong Ex_cong Mem_cong Eq_cong Eq_subst_tm_Iff)"], ["proof (state)\nthis:\n  {t EQ u} \\<turnstile> A(i::=t) IFF A(i::=u)\n\ngoal (1 subgoal):\n 1. insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)", "thus ?thesis"], ["proof (prove)\nusing this:\n  {t EQ u} \\<turnstile> A(i::=t) IFF A(i::=u)\n\ngoal (1 subgoal):\n 1. insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)", "by (metis Assume cut1)"], ["proof (state)\nthis:\n  insert (t EQ u) H \\<turnstile> A(i::=t) IFF A(i::=u)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Var_Eq_subst_Iff: \"insert (Var i EQ t) H \\<turnstile> A(i::=t) IFF A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Var i EQ t) H \\<turnstile> A(i::=t) IFF A", "by (metis Eq_subst_fm_Iff Iff_sym subst_fm_id)"], ["", "lemma Var_Eq_imp_subst_Iff: \"H \\<turnstile> Var i EQ t \\<Longrightarrow> H \\<turnstile> A(i::=t) IFF A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Var i EQ t \\<Longrightarrow>\n    H \\<turnstile> A(i::=t) IFF A", "by (metis Var_Eq_subst_Iff cut_same)"], ["", "subsection\\<open>Congruence Rules for Predicates\\<close>"], ["", "lemma P1_cong:\n  fixes tms :: \"tm list\"\n  assumes \"\\<And>i t x. atom i \\<sharp> tms \\<Longrightarrow> (P t)(i::=x) = P (subst i x t)\" and \"H \\<turnstile> x EQ x'\"\n  shows \"H \\<turnstile> P x IFF P x'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "obtain i::name where i: \"atom i \\<sharp> tms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        atom i \\<sharp> tms \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> tms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "have \"insert (x EQ x') H  \\<turnstile> (P (Var i))(i::=x) IFF (P(Var i))(i::=x')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (x EQ x') H \\<turnstile>\n    (P (Var i))(i::=x) IFF (P (Var i))(i::=x')", "by (rule Eq_subst_fm_Iff)"], ["proof (state)\nthis:\n  insert (x EQ x') H \\<turnstile> (P (Var i))(i::=x) IFF (P (Var i))(i::=x')\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert (x EQ x') H \\<turnstile> (P (Var i))(i::=x) IFF (P (Var i))(i::=x')\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "using assms i"], ["proof (prove)\nusing this:\n  insert (x EQ x') H \\<turnstile> (P (Var i))(i::=x) IFF (P (Var i))(i::=x')\n  atom ?i \\<sharp> tms \\<Longrightarrow>\n  (P ?t)(?i::=?x) = P (subst ?i ?x ?t)\n  H \\<turnstile> x EQ x'\n  atom i \\<sharp> tms\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x IFF P x'", "by (metis cut_same subst.simps(2))"], ["proof (state)\nthis:\n  H \\<turnstile> P x IFF P x'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma P2_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t u x. atom i \\<sharp> tms \\<Longrightarrow> (P t u)(i::=x) = P (subst i x t) (subst i x u)\"\n      and eq:  \"H \\<turnstile> x EQ x'\" \"H \\<turnstile> y EQ y'\"\n  shows \"H \\<turnstile> P x y IFF P x' y'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "have yy': \"{ y EQ y' } \\<turnstile> P x' y IFF P x' y'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y EQ y'} \\<turnstile> P x' y IFF P x' y'", "by (rule P1_cong [where tms=\"[y,x']@tms\"]) (auto simp: fresh_Cons sub)"], ["proof (state)\nthis:\n  {y EQ y'} \\<turnstile> P x' y IFF P x' y'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "have \"{ x EQ x' } \\<turnstile> P x y IFF P x' y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x EQ x'} \\<turnstile> P x y IFF P x' y", "by (rule P1_cong [where tms=\"[y,x']@tms\"]) (auto simp: fresh_Cons sub)"], ["proof (state)\nthis:\n  {x EQ x'} \\<turnstile> P x y IFF P x' y\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "hence \"{x EQ x', y EQ y'} \\<turnstile> P x y IFF P x' y'\""], ["proof (prove)\nusing this:\n  {x EQ x'} \\<turnstile> P x y IFF P x' y\n\ngoal (1 subgoal):\n 1. {x EQ x', y EQ y'} \\<turnstile> P x y IFF P x' y'", "by (metis Assume Iff_trans cut1 rotate2 yy')"], ["proof (state)\nthis:\n  {x EQ x', y EQ y'} \\<turnstile> P x y IFF P x' y'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {x EQ x', y EQ y'} \\<turnstile> P x y IFF P x' y'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y IFF P x' y'", "by (metis cut2 eq)"], ["proof (state)\nthis:\n  H \\<turnstile> P x y IFF P x' y'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma P3_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t u v x. atom i \\<sharp> tms \\<Longrightarrow>\n                   (P t u v)(i::=x) = P (subst i x t) (subst i x u) (subst i x v)\"\n      and eq:  \"H \\<turnstile> x EQ x'\" \"H \\<turnstile> y EQ y'\" \"H \\<turnstile> z EQ z'\"\n  shows \"H \\<turnstile> P x y z IFF P x' y' z'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "obtain i::name where i: \"atom i \\<sharp> (z,z',y,y',x,x')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        atom i \\<sharp> (z, z', y, y', x, x') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> (z, z', y, y', x, x')\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "have tl: \"{ y EQ y', z EQ z' } \\<turnstile> P x' y z IFF P x' y' z'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y EQ y', z EQ z'} \\<turnstile> P x' y z IFF P x' y' z'", "by (rule P2_cong [where tms=\"[z,z',y,y',x,x']@tms\"]) (auto simp: fresh_Cons sub)"], ["proof (state)\nthis:\n  {y EQ y', z EQ z'} \\<turnstile> P x' y z IFF P x' y' z'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "have hd: \"{ x EQ x' } \\<turnstile> P x y z IFF P x' y z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x EQ x'} \\<turnstile> P x y z IFF P x' y z", "by (rule P1_cong [where tms=\"[z,y,x']@tms\"]) (auto simp: fresh_Cons sub)"], ["proof (state)\nthis:\n  {x EQ x'} \\<turnstile> P x y z IFF P x' y z\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "have \"{x EQ x', y EQ y', z EQ z'} \\<turnstile> P x y z IFF P x' y' z'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x EQ x', y EQ y', z EQ z'} \\<turnstile> P x y z IFF P x' y' z'", "by (metis Assume thin1 hd [THEN cut1] tl Iff_trans)"], ["proof (state)\nthis:\n  {x EQ x', y EQ y', z EQ z'} \\<turnstile> P x y z IFF P x' y' z'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {x EQ x', y EQ y', z EQ z'} \\<turnstile> P x y z IFF P x' y' z'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x y z IFF P x' y' z'", "by (rule cut3) (rule eq)+"], ["proof (state)\nthis:\n  H \\<turnstile> P x y z IFF P x' y' z'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma P4_cong:\n  fixes tms :: \"tm list\"\n  assumes sub: \"\\<And>i t1 t2 t3 t4 x. atom i \\<sharp> tms \\<Longrightarrow>\n                 (P t1 t2 t3 t4)(i::=x) = P (subst i x t1) (subst i x t2) (subst i x t3) (subst i x t4)\"\n      and eq:  \"H \\<turnstile> x1 EQ x1'\" \"H \\<turnstile> x2 EQ x2'\" \"H \\<turnstile> x3 EQ x3'\" \"H \\<turnstile> x4 EQ x4'\"\n  shows \"H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "obtain i::name where i: \"atom i \\<sharp> (x4,x4',x3,x3',x2,x2',x1,x1')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        atom\n         i \\<sharp> (x4, x4', x3, x3', x2, x2', x1, x1') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> (x4, x4', x3, x3', x2, x2', x1, x1')\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "have tl: \"{ x2 EQ x2', x3 EQ x3', x4 EQ x4' } \\<turnstile> P x1' x2 x3 x4 IFF P x1' x2' x3' x4'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile>\n    P x1' x2 x3 x4 IFF P x1' x2' x3' x4'", "by (rule P3_cong [where tms=\"[x4,x4',x3,x3',x2,x2',x1,x1']@tms\"]) (auto simp: fresh_Cons sub)"], ["proof (state)\nthis:\n  {x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile>\n  P x1' x2 x3 x4 IFF P x1' x2' x3' x4'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "have hd: \"{ x1 EQ x1' } \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2 x3 x4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x1 EQ x1'} \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2 x3 x4", "by (auto simp: fresh_Cons sub intro!: P1_cong [where tms=\"[x4,x3,x2,x1']@tms\"])"], ["proof (state)\nthis:\n  {x1 EQ x1'} \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2 x3 x4\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "have \"{x1 EQ x1', x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x1 EQ x1', x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile>\n    P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "by (metis Assume thin1 hd [THEN cut1] tl Iff_trans)"], ["proof (state)\nthis:\n  {x1 EQ x1', x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile>\n  P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "thus ?thesis"], ["proof (prove)\nusing this:\n  {x1 EQ x1', x2 EQ x2', x3 EQ x3', x4 EQ x4'} \\<turnstile>\n  P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\n\ngoal (1 subgoal):\n 1. H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'", "by (rule cut4) (rule eq)+"], ["proof (state)\nthis:\n  H \\<turnstile> P x1 x2 x3 x4 IFF P x1' x2' x3' x4'\n\ngoal:\nNo subgoals!", "qed"], ["", "section\\<open>Zero and Falsity\\<close>"], ["", "lemma Mem_Zero_iff:\n  assumes \"atom i \\<sharp> t\" shows \"H \\<turnstile> (t EQ Zero) IFF (All i (Neg ((Var i) IN t)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "obtain i'::name where i': \"atom i' \\<sharp> (t, X0, X1, i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i'.\n        atom i' \\<sharp> (t, X0, X1, i) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (rule obtain_fresh)"], ["proof (state)\nthis:\n  atom i' \\<sharp> (t, X0, X1, i)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "have \"{} \\<turnstile> ((Var X0) EQ Zero) IFF (All X1 (Neg ((Var X1) IN (Var X0))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0))", "by (simp add: HF HF_axioms_def HF1_def)"], ["proof (state)\nthis:\n  {} \\<turnstile> Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "then"], ["proof (chain)\npicking this:\n  {} \\<turnstile> Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0))", "have \"{} \\<turnstile> (((Var X0) EQ Zero) IFF (All X1 (Neg ((Var X1) IN (Var X0)))))(X0 ::= t)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile> Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0))\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    (Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0)))(X0::=t)", "by (rule Subst) simp"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  (Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0)))(X0::=t)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "hence \"{} \\<turnstile> (t EQ Zero) IFF (All i' (Neg ((Var i') IN t)))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  (Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0)))(X0::=t)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))", "using i'"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  (Var X0 EQ Zero IFF SyntaxN.All X1 (Neg (Var X1 IN Var X0)))(X0::=t)\n  atom i' \\<sharp> (t, X0, X1, i)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))", "by simp"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "also"], ["proof (state)\nthis:\n  {} \\<turnstile> t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "have \"... = (FRESH i'. (t EQ Zero) IFF (All i' (Neg ((Var i') IN t))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)) =\n    (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)))", "using i'"], ["proof (prove)\nusing this:\n  atom i' \\<sharp> (t, X0, X1, i)\n\ngoal (1 subgoal):\n 1. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)) =\n    (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)))", "by simp"], ["proof (state)\nthis:\n  t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)) =\n  (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "also"], ["proof (state)\nthis:\n  t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)) =\n  (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t)))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "have \"... = (t EQ Zero) IFF (All i (Neg ((Var i) IN t)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))) =\n    t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "using assms"], ["proof (prove)\nusing this:\n  atom i \\<sharp> t\n\ngoal (1 subgoal):\n 1. (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))) =\n    t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "by simp"], ["proof (state)\nthis:\n  (FRESH i'. t EQ Zero IFF SyntaxN.All i' (Neg (Var i' IN t))) =\n  t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "finally"], ["proof (chain)\npicking this:\n  {} \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "show ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))", "by (metis empty_subsetI thin)"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ Zero IFF SyntaxN.All i (Neg (Var i IN t))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Mem_Zero_E [intro!]: \"insert (x IN Zero) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "obtain i::name where \"atom i \\<sharp> Zero\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        atom i \\<sharp> Zero \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> Zero\n\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "hence \"{} \\<turnstile> All i (Neg ((Var i) IN Zero))\""], ["proof (prove)\nusing this:\n  atom i \\<sharp> Zero\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> SyntaxN.All i (Neg (Var i IN Zero))", "by (metis Mem_Zero_iff Iff_MP_same Refl)"], ["proof (state)\nthis:\n  {} \\<turnstile> SyntaxN.All i (Neg (Var i IN Zero))\n\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "hence \"{} \\<turnstile> Neg (x IN Zero)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile> SyntaxN.All i (Neg (Var i IN Zero))\n\ngoal (1 subgoal):\n 1. {} \\<turnstile> Neg (x IN Zero)", "by (drule_tac x=x in All_D) simp"], ["proof (state)\nthis:\n  {} \\<turnstile> Neg (x IN Zero)\n\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "thus ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile> Neg (x IN Zero)\n\ngoal (1 subgoal):\n 1. insert (x IN Zero) H \\<turnstile> A", "by (metis Contrapos2 Hyp Imp_triv_I MP_same empty_subsetI insertI1 thin)"], ["proof (state)\nthis:\n  insert (x IN Zero) H \\<turnstile> A\n\ngoal:\nNo subgoals!", "qed"], ["", "declare Mem_Zero_E [THEN rotate2, intro!]"], ["", "declare Mem_Zero_E [THEN rotate3, intro!]"], ["", "declare Mem_Zero_E [THEN rotate4, intro!]"], ["", "declare Mem_Zero_E [THEN rotate5, intro!]"], ["", "declare Mem_Zero_E [THEN rotate6, intro!]"], ["", "declare Mem_Zero_E [THEN rotate7, intro!]"], ["", "declare Mem_Zero_E [THEN rotate8, intro!]"], ["", "subsection\\<open>The Formula @{term Fls}\\<close>"], ["", "definition Fls  where \"Fls \\<equiv> Zero IN Zero\""], ["", "lemma Fls_eqvt [eqvt]: \"(p \\<bullet> Fls) = Fls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> Fls = Fls", "by (simp add: Fls_def)"], ["", "lemma Fls_fresh [simp]: \"a \\<sharp> Fls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sharp> Fls", "by (simp add: Fls_def)"], ["", "lemma Neg_I [intro!]: \"insert A H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> Neg A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> Neg A", "unfolding Fls_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. insert A H \\<turnstile> Zero IN Zero \\<Longrightarrow>\n    H \\<turnstile> Neg A", "by (rule Neg_I0) (metis Mem_Zero_E cut_same)"], ["", "lemma Neg_E [intro!]: \"H \\<turnstile> A \\<Longrightarrow> insert (Neg A) H \\<turnstile> Fls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A \\<Longrightarrow> insert (Neg A) H \\<turnstile> Fls", "by (rule ContraProve)"], ["", "declare Neg_E [THEN rotate2, intro!]"], ["", "declare Neg_E [THEN rotate3, intro!]"], ["", "declare Neg_E [THEN rotate4, intro!]"], ["", "declare Neg_E [THEN rotate5, intro!]"], ["", "declare Neg_E [THEN rotate6, intro!]"], ["", "declare Neg_E [THEN rotate7, intro!]"], ["", "declare Neg_E [THEN rotate8, intro!]"], ["", "text\\<open>We need these because Neg (A IMP B) doesn't have to be syntactically a conjunction.\\<close>"], ["", "lemma Neg_Imp_I [intro!]: \"H \\<turnstile> A \\<Longrightarrow> insert B H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> Neg (A IMP B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> A; insert B H \\<turnstile> Fls\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> Neg (A IMP B)", "by (metis NegNeg_I Neg_Disj_I Neg_I)"], ["", "lemma Neg_Imp_E [intro!]: \"insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow> insert (Neg (A IMP B)) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow>\n    insert (Neg (A IMP B)) H \\<turnstile> C", "apply (rule cut_same [where A=A])"], ["proof (prove)\ngoal (2 subgoals):\n 1. insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow>\n    insert (Neg (A IMP B)) H \\<turnstile> A\n 2. insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow>\n    insert A (insert (Neg (A IMP B)) H) \\<turnstile> C", "apply (metis Assume Disj_I1 NegNeg_D Neg_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Neg B) (insert A H) \\<turnstile> C \\<Longrightarrow>\n    insert A (insert (Neg (A IMP B)) H) \\<turnstile> C", "apply (metis Swap Imp_I rotate2 thin1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "declare Neg_Imp_E [THEN rotate2, intro!]"], ["", "declare Neg_Imp_E [THEN rotate3, intro!]"], ["", "declare Neg_Imp_E [THEN rotate4, intro!]"], ["", "declare Neg_Imp_E [THEN rotate5, intro!]"], ["", "declare Neg_Imp_E [THEN rotate6, intro!]"], ["", "declare Neg_Imp_E [THEN rotate7, intro!]"], ["", "declare Neg_Imp_E [THEN rotate8, intro!]"], ["", "lemma Fls_E [intro!]: \"insert Fls H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert Fls H \\<turnstile> A", "by (metis Mem_Zero_E Fls_def)"], ["", "declare Fls_E [THEN rotate2, intro!]"], ["", "declare Fls_E [THEN rotate3, intro!]"], ["", "declare Fls_E [THEN rotate4, intro!]"], ["", "declare Fls_E [THEN rotate5, intro!]"], ["", "declare Fls_E [THEN rotate6, intro!]"], ["", "declare Fls_E [THEN rotate7, intro!]"], ["", "declare Fls_E [THEN rotate8, intro!]"], ["", "lemma truth_provable: \"H \\<turnstile> (Neg Fls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg Fls", "by (metis Fls_E Neg_I)"], ["", "lemma ExFalso: \"H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Fls \\<Longrightarrow> H \\<turnstile> A", "by (metis Neg_D truth_provable)"], ["", "subsection\\<open>More properties of @{term Zero}\\<close>"], ["", "lemma Eq_Zero_D:\n  assumes \"H \\<turnstile> t EQ Zero\" \"H \\<turnstile> u IN t\" shows \"H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "obtain i::name where  i: \"atom i \\<sharp> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. atom i \\<sharp> t \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "with assms"], ["proof (chain)\npicking this:\n  H \\<turnstile> t EQ Zero\n  H \\<turnstile> u IN t\n  atom i \\<sharp> t", "have an: \"H \\<turnstile> (All i (Neg ((Var i) IN t)))\""], ["proof (prove)\nusing this:\n  H \\<turnstile> t EQ Zero\n  H \\<turnstile> u IN t\n  atom i \\<sharp> t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> SyntaxN.All i (Neg (Var i IN t))", "by (metis Iff_MP_same Mem_Zero_iff)"], ["proof (state)\nthis:\n  H \\<turnstile> SyntaxN.All i (Neg (Var i IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "have \"H \\<turnstile> Neg (u IN t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg (u IN t)", "using All_D [OF an, of u] i"], ["proof (prove)\nusing this:\n  H \\<turnstile> (Neg (Var i IN t))(i::=u)\n  atom i \\<sharp> t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> Neg (u IN t)", "by simp"], ["proof (state)\nthis:\n  H \\<turnstile> Neg (u IN t)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "thus ?thesis"], ["proof (prove)\nusing this:\n  H \\<turnstile> Neg (u IN t)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "using assms"], ["proof (prove)\nusing this:\n  H \\<turnstile> Neg (u IN t)\n  H \\<turnstile> t EQ Zero\n  H \\<turnstile> u IN t\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "by (metis Neg_D)"], ["proof (state)\nthis:\n  H \\<turnstile> A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Eq_Zero_thm:\n  assumes \"atom i \\<sharp> t\" shows \"{All i (Neg ((Var i) IN t))} \\<turnstile> t EQ Zero\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {SyntaxN.All i (Neg (Var i IN t))} \\<turnstile> t EQ Zero", "by (metis Assume Iff_MP2_same Mem_Zero_iff assms)"], ["", "lemma Eq_Zero_I:\n  assumes insi: \"insert ((Var i) IN t) H \\<turnstile> Fls\" and i1: \"atom i \\<sharp> t\" and i2: \"\\<forall>B \\<in> H. atom i \\<sharp> B\"\n  shows \"H \\<turnstile> t EQ Zero\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero", "have \"H \\<turnstile> All i (Neg ((Var i) IN t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> SyntaxN.All i (Neg (Var i IN t))", "by (metis All_I Neg_I i2 insi)"], ["proof (state)\nthis:\n  H \\<turnstile> SyntaxN.All i (Neg (Var i IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero", "thus ?thesis"], ["proof (prove)\nusing this:\n  H \\<turnstile> SyntaxN.All i (Neg (Var i IN t))\n\ngoal (1 subgoal):\n 1. H \\<turnstile> t EQ Zero", "by (metis cut_same  cut [OF Eq_Zero_thm [OF i1] Hyp] insertCI insert_is_Un)"], ["proof (state)\nthis:\n  H \\<turnstile> t EQ Zero\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Basic properties of @{term Eats}\\<close>"], ["", "lemma Eq_Eats_iff:\n  assumes \"atom i \\<sharp> (z,t,u)\"\n  shows \"H \\<turnstile> (z EQ Eats t u) IFF (All i (Var i IN z IFF Var i IN t OR Var i EQ u))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "obtain v1::name and v2::name and i'::name\n    where v1: \"atom v1 \\<sharp> (z,X0,X2,X3)\"\n      and v2: \"atom v2 \\<sharp> (t,z,X0,v1,X3)\"\n      and i': \"atom i' \\<sharp> (t,u,z,X0,v1,v2,X3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2 i'.\n        \\<lbrakk>atom v1 \\<sharp> (z, X0, X2, X3);\n         atom v2 \\<sharp> (t, z, X0, v1, X3);\n         atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis obtain_fresh)"], ["proof (state)\nthis:\n  atom v1 \\<sharp> (z, X0, X2, X3)\n  atom v2 \\<sharp> (t, z, X0, v1, X3)\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "have \"{} \\<turnstile> ((Var X0) EQ (Eats (Var X1) (Var X2))) IFF\n             (All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var X1) (Var X2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)", "by (simp add: HF HF_axioms_def HF2_def)"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var X1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> ((Var X0) EQ (Eats (Var X1) (Var X2))) IFF\n              (All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var X1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var X1) (Var X2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)", "by (drule_tac i=X0 and x=\"Var X0\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var X1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> ((Var X0) EQ (Eats (Var v1) (Var X2))) IFF\n                 (All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var X1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var v1) (Var X2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2)", "using v1"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var X1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var X1 OR Var X3 EQ Var X2)\n  atom v1 \\<sharp> (z, X0, X2, X3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var v1) (Var X2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2)", "by (drule_tac i=X1 and x=\"Var v1\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var v1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> ((Var X0) EQ (Eats (Var v1) (Var v2))) IFF\n                 (All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var v1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var v1) (Var v2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2)", "using v1 v2"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var v1) (Var X2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var X2)\n  atom v1 \\<sharp> (z, X0, X2, X3)\n  atom v2 \\<sharp> (t, z, X0, v1, X3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    Var X0 EQ Eats (Var v1) (Var v2) IFF\n    SyntaxN.All X3\n     (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2)", "by (drule_tac i=X2 and x=\"Var v2\" in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var v1) (Var v2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> (((Var X0) EQ (Eats (Var v1) (Var v2))) IFF\n             (All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2)))(X0 ::= z)\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  Var X0 EQ Eats (Var v1) (Var v2) IFF\n  SyntaxN.All X3 (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    (Var X0 EQ Eats (Var v1) (Var v2) IFF\n     SyntaxN.All X3\n      (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2))(X0::=z)", "by (rule Subst) simp"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  (Var X0 EQ Eats (Var v1) (Var v2) IFF\n   SyntaxN.All X3\n    (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2))(X0::=z)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> ((z EQ (Eats (Var v1) (Var v2))) IFF\n              (All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  (Var X0 EQ Eats (Var v1) (Var v2) IFF\n   SyntaxN.All X3\n    (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2))(X0::=z)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats (Var v1) (Var v2) IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)", "using v1 v2 i'"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  (Var X0 EQ Eats (Var v1) (Var v2) IFF\n   SyntaxN.All X3\n    (Var X3 IN Var X0 IFF Var X3 IN Var v1 OR Var X3 EQ Var v2))(X0::=z)\n  atom v1 \\<sharp> (z, X0, X2, X3)\n  atom v2 \\<sharp> (t, z, X0, v1, X3)\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats (Var v1) (Var v2) IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)", "by (simp add: Conj_def Iff_def)"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  z EQ Eats (Var v1) (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> (z EQ (Eats t (Var v2))) IFF\n                 (All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  z EQ Eats (Var v1) (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats t (Var v2) IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2)", "using v1 v2 i'"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  z EQ Eats (Var v1) (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN Var v1 OR Var i' EQ Var v2)\n  atom v1 \\<sharp> (z, X0, X2, X3)\n  atom v2 \\<sharp> (t, z, X0, v1, X3)\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats t (Var v2) IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2)", "by (drule_tac i=v1 and x=t in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  z EQ Eats t (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "hence \"{} \\<turnstile> (z EQ Eats t u) IFF\n                 (All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u))\""], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  z EQ Eats t (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)", "using v1 v2 i'"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  z EQ Eats t (Var v2) IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ Var v2)\n  atom v1 \\<sharp> (z, X0, X2, X3)\n  atom v2 \\<sharp> (t, z, X0, v1, X3)\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. {} \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)", "by (drule_tac i=v2 and x=u in Subst) simp_all"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  z EQ Eats t u IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "also"], ["proof (state)\nthis:\n  {} \\<turnstile>\n  z EQ Eats t u IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "have \"... = (FRESH i'. (z EQ Eats t u) IFF (All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z EQ Eats t u IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u) =\n    (FRESH i'.\n        z EQ Eats t u IFF\n        SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u))", "using i'"], ["proof (prove)\nusing this:\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. z EQ Eats t u IFF\n    SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u) =\n    (FRESH i'.\n        z EQ Eats t u IFF\n        SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u))", "by simp"], ["proof (state)\nthis:\n  z EQ Eats t u IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u) =\n  (FRESH i'.\n      z EQ Eats t u IFF\n      SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u))\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "also"], ["proof (state)\nthis:\n  z EQ Eats t u IFF\n  SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u) =\n  (FRESH i'.\n      z EQ Eats t u IFF\n      SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u))\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "have \"... = (z EQ Eats t u) IFF (All i (Var i IN z IFF Var i IN t OR Var i EQ u))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (FRESH i'.\n        z EQ Eats t u IFF\n        SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)) =\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "using assms i'"], ["proof (prove)\nusing this:\n  atom i \\<sharp> (z, t, u)\n  atom i' \\<sharp> (t, u, z, X0, v1, v2, X3)\n\ngoal (1 subgoal):\n 1. (FRESH i'.\n        z EQ Eats t u IFF\n        SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)) =\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "by simp"], ["proof (state)\nthis:\n  (FRESH i'.\n      z EQ Eats t u IFF\n      SyntaxN.All i' (Var i' IN z IFF Var i' IN t OR Var i' EQ u)) =\n  z EQ Eats t u IFF SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "finally"], ["proof (chain)\npicking this:\n  {} \\<turnstile>\n  z EQ Eats t u IFF SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "show ?thesis"], ["proof (prove)\nusing this:\n  {} \\<turnstile>\n  z EQ Eats t u IFF SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile>\n    z EQ Eats t u IFF\n    SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)", "by (rule thin0)"], ["proof (state)\nthis:\n  H \\<turnstile>\n  z EQ Eats t u IFF SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Eq_Eats_I:\n  \"H \\<turnstile> All i (Var i IN z IFF Var i IN t OR Var i EQ u) \\<Longrightarrow> atom i \\<sharp> (z,t,u) \\<Longrightarrow> H \\<turnstile> z EQ Eats t u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile>\n             SyntaxN.All i (Var i IN z IFF Var i IN t OR Var i EQ u);\n     atom i \\<sharp> (z, t, u)\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> z EQ Eats t u", "by (metis Iff_MP2_same Eq_Eats_iff)"], ["", "lemma Mem_Eats_Iff:\n  \"H \\<turnstile> x IN (Eats t u) IFF x IN t OR x EQ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u", "obtain i::name where \"atom i \\<sharp> (Eats t u, t, u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        atom i \\<sharp> (Eats t u, t, u) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (rule obtain_fresh)"], ["proof (state)\nthis:\n  atom i \\<sharp> (Eats t u, t, u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u", "thus ?thesis"], ["proof (prove)\nusing this:\n  atom i \\<sharp> (Eats t u, t, u)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u", "using Iff_MP_same [OF Eq_Eats_iff, THEN All_D]"], ["proof (prove)\nusing this:\n  atom i \\<sharp> (Eats t u, t, u)\n  \\<lbrakk>atom ?i \\<sharp> (?z2, ?t2, ?u2);\n   ?H \\<turnstile> ?z2 EQ Eats ?t2 ?u2\\<rbrakk>\n  \\<Longrightarrow> ?H \\<turnstile>\n                    (Var ?i IN ?z2 IFF\n                     Var ?i IN ?t2 OR Var ?i EQ ?u2)(?i::=?x)\n\ngoal (1 subgoal):\n 1. H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u", "by auto"], ["proof (state)\nthis:\n  H \\<turnstile> x IN Eats t u IFF x IN t OR x EQ u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Mem_Eats_I1: \"H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN Eats t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN Eats t z", "by (metis Disj_I1 Iff_MP2_same Mem_Eats_Iff)"], ["", "lemma Mem_Eats_I2: \"H \\<turnstile> u EQ z \\<Longrightarrow> H \\<turnstile> u IN Eats t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ z \\<Longrightarrow> H \\<turnstile> u IN Eats t z", "by (metis Disj_I2 Iff_MP2_same Mem_Eats_Iff)"], ["", "lemma Mem_Eats_E:\n  assumes A: \"insert (u IN t) H \\<turnstile> C\" and B: \"insert (u EQ z) H \\<turnstile> C\"\n    shows \"insert (u IN Eats t z) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (u IN Eats t z) H \\<turnstile> C", "by (rule Mem_Eats_Iff [of _ u t z, THEN Iff_MP_left']) (metis A B Disj_E)"], ["", "lemmas Mem_Eats_EH = Mem_Eats_E Mem_Eats_E [THEN rotate2] Mem_Eats_E [THEN rotate3] Mem_Eats_E [THEN rotate4] Mem_Eats_E [THEN rotate5]\n                 Mem_Eats_E [THEN rotate6] Mem_Eats_E [THEN rotate7] Mem_Eats_E [THEN rotate8]"], ["", "declare Mem_Eats_EH [intro!]"], ["", "lemma Mem_SUCC_I1: \"H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN SUCC t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> u IN t \\<Longrightarrow> H \\<turnstile> u IN SUCC t", "by (metis Mem_Eats_I1 SUCC_def)"], ["", "lemma Mem_SUCC_I2: \"H \\<turnstile> u EQ t \\<Longrightarrow> H \\<turnstile> u IN SUCC t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> u EQ t \\<Longrightarrow> H \\<turnstile> u IN SUCC t", "by (metis Mem_Eats_I2 SUCC_def)"], ["", "lemma Mem_SUCC_Refl [simp]: \"H \\<turnstile> k IN SUCC k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> k IN SUCC k", "by (metis Mem_SUCC_I2 Refl)"], ["", "lemma Mem_SUCC_E:\n  assumes \"insert (u IN t) H \\<turnstile> C\" \"insert (u EQ t) H \\<turnstile> C\" shows \"insert (u IN SUCC t) H \\<turnstile> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (u IN SUCC t) H \\<turnstile> C", "by (metis assms Mem_Eats_E SUCC_def)"], ["", "lemmas Mem_SUCC_EH = Mem_SUCC_E Mem_SUCC_E [THEN rotate2] Mem_SUCC_E [THEN rotate3] Mem_SUCC_E [THEN rotate4] Mem_SUCC_E [THEN rotate5]\n                 Mem_SUCC_E [THEN rotate6] Mem_SUCC_E [THEN rotate7] Mem_SUCC_E [THEN rotate8]"], ["", "lemma Eats_EQ_Zero_E: \"insert (Eats t u EQ Zero) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Eats t u EQ Zero) H \\<turnstile> A", "by (metis Assume Eq_Zero_D Mem_Eats_I2 Refl)"], ["", "lemmas Eats_EQ_Zero_EH = Eats_EQ_Zero_E Eats_EQ_Zero_E [THEN rotate2] Eats_EQ_Zero_E [THEN rotate3] Eats_EQ_Zero_E [THEN rotate4] Eats_EQ_Zero_E [THEN rotate5]\n                 Eats_EQ_Zero_E [THEN rotate6] Eats_EQ_Zero_E [THEN rotate7] Eats_EQ_Zero_E [THEN rotate8]"], ["", "declare Eats_EQ_Zero_EH [intro!]"], ["", "lemma Eats_EQ_Zero_E2: \"insert (Zero EQ Eats t u) H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (Zero EQ Eats t u) H \\<turnstile> A", "by (metis Eats_EQ_Zero_E Sym_L)"], ["", "lemmas Eats_EQ_Zero_E2H = Eats_EQ_Zero_E2 Eats_EQ_Zero_E2 [THEN rotate2] Eats_EQ_Zero_E2 [THEN rotate3] Eats_EQ_Zero_E2 [THEN rotate4] Eats_EQ_Zero_E2 [THEN rotate5]\n                 Eats_EQ_Zero_E2 [THEN rotate6] Eats_EQ_Zero_E2 [THEN rotate7] Eats_EQ_Zero_E2 [THEN rotate8]"], ["", "declare Eats_EQ_Zero_E2H [intro!]"], ["", "section\\<open>Bounded Quantification involving @{term Eats}\\<close>"], ["", "lemma All2_cong: \"H \\<turnstile> t EQ t' \\<Longrightarrow> H \\<turnstile> A IFF A' \\<Longrightarrow> \\<forall>C \\<in> H. atom i \\<sharp> C \\<Longrightarrow> H \\<turnstile> (All2 i t A) IFF (All2 i t' A')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<turnstile> t EQ t'; H \\<turnstile> A IFF A';\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> All2 i t A IFF All2 i t' A'", "by (metis All_cong Imp_cong Mem_cong Refl)"], ["", "lemma All2_Zero_E [intro!]: \"H  \\<turnstile> B \\<Longrightarrow> insert (All2 i Zero A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> B \\<Longrightarrow>\n    insert (All2 i Zero A) H \\<turnstile> B", "by (rule thin1)"], ["", "lemma All2_Eats_I_D:\n  \"atom i \\<sharp> (t,u) \\<Longrightarrow> { All2 i t A, A(i::=u)} \\<turnstile> (All2 i (Eats t u) A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom i \\<sharp> (t, u) \\<Longrightarrow>\n    {All2 i t A, A(i::=u)} \\<turnstile> All2 i (Eats t u) A", "apply (auto, auto intro!: Ex_I [where x=\"Var i\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom i \\<sharp> (t, u) \\<Longrightarrow>\n    {Neg (Var i IN t), Var i EQ u, A(i::=u)} \\<turnstile> A", "apply (metis Assume thin1 Var_Eq_subst_Iff [THEN Iff_MP_same])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma All2_Eats_I:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); H \\<turnstile> All2 i t A; H \\<turnstile> A(i::=u)\\<rbrakk> \\<Longrightarrow> H \\<turnstile> (All2 i (Eats t u) A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> (t, u); H \\<turnstile> All2 i t A;\n     H \\<turnstile> A(i::=u)\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> All2 i (Eats t u) A", "by (rule cut2 [OF All2_Eats_I_D], auto)"], ["", "lemma All2_Eats_E1:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); \\<forall>C \\<in> H. atom i \\<sharp> C\\<rbrakk> \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> All2 i t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> (t, u);\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> All2 i t A", "by auto (metis Assume Ex_I Imp_E Mem_Eats_I1 Neg_mono subst_fm_id)"], ["", "lemma All2_Eats_E2:\n  \"\\<lbrakk>atom i \\<sharp> (t,u); \\<forall>C \\<in> H. atom i \\<sharp> C\\<rbrakk> \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> A(i::=u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> (t, u);\n     \\<forall>C\\<in>H. atom i \\<sharp> C\\<rbrakk>\n    \\<Longrightarrow> insert (All2 i (Eats t u) A) H \\<turnstile> A(i::=u)", "by (rule All_E [where x=u]) (auto intro: ContraProve Mem_Eats_I2)"], ["", "lemma All2_Eats_E:\n  assumes i: \"atom i \\<sharp> (t,u)\"\n      and B: \"insert (All2 i t A) (insert (A(i::=u)) H) \\<turnstile> B\"\n    shows \"insert (All2 i (Eats t u) A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (All2 i (Eats t u) A) H \\<turnstile> B", "using i"], ["proof (prove)\nusing this:\n  atom i \\<sharp> (t, u)\n\ngoal (1 subgoal):\n 1. insert (All2 i (Eats t u) A) H \\<turnstile> B", "apply (rule cut_thin [OF All2_Eats_E2, where HB = \"insert (All2 i (Eats t u) A) H\"], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. atom i \\<sharp> (t, u) \\<Longrightarrow>\n    insert (A(i::=u)) (insert (All2 i (Eats t u) A) H) \\<turnstile> B", "apply (rule cut_thin [OF All2_Eats_E1 B], auto)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma All2_SUCC_I:\n  \"atom i \\<sharp> t \\<Longrightarrow> H \\<turnstile> All2 i t A \\<Longrightarrow> H \\<turnstile> A(i::=t) \\<Longrightarrow> H \\<turnstile> (All2 i (SUCC t) A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom i \\<sharp> t; H \\<turnstile> All2 i t A;\n     H \\<turnstile> A(i::=t)\\<rbrakk>\n    \\<Longrightarrow> H \\<turnstile> All2 i (SUCC t) A", "by (simp add: SUCC_def All2_Eats_I)"], ["", "lemma All2_SUCC_E:\n  assumes \"atom i \\<sharp> t\"\n      and \"insert (All2 i t A) (insert (A(i::=t)) H) \\<turnstile> B\"\n    shows \"insert (All2 i (SUCC t) A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (All2 i (SUCC t) A) H \\<turnstile> B", "by (simp add: SUCC_def All2_Eats_E assms)"], ["", "lemma All2_SUCC_E':\n  assumes \"H \\<turnstile> u EQ SUCC t\"\n      and \"atom i \\<sharp> t\" \"\\<forall>C \\<in> H. atom i \\<sharp> C\"\n      and \"insert (All2 i t A) (insert (A(i::=t)) H) \\<turnstile> B\"\n    shows \"insert (All2 i u A) H \\<turnstile> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (All2 i u A) H \\<turnstile> B", "by (metis All2_SUCC_E Iff_MP_left' Iff_refl All2_cong assms)"], ["", "section\\<open>Induction\\<close>"], ["", "lemma Ind:\n  assumes j: \"atom (j::name) \\<sharp> (i,A)\"\n  and prems: \"H \\<turnstile> A(i::=Zero)\" \"H \\<turnstile> All i (All j (A IMP (A(i::= Var j) IMP A(i::= Eats(Var i)(Var j)))))\"\n  shows \"H \\<turnstile> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "have  \"{A(i::=Zero), All i (All j (A IMP (A(i::= Var j) IMP A(i::= Eats(Var i)(Var j)))))} \\<turnstile> All i A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A(i::=Zero),\n     SyntaxN.All i\n      (SyntaxN.All j\n        (A IMP A(i::=Var j) IMP A(i::=Eats (Var i) (Var j))))} \\<turnstile>\n    SyntaxN.All i A", "by (metis j hfthm.Ind ind anti_deduction insert_commute)"], ["proof (state)\nthis:\n  {A(i::=Zero),\n   SyntaxN.All i\n    (SyntaxN.All j\n      (A IMP A(i::=Var j) IMP A(i::=Eats (Var i) (Var j))))} \\<turnstile>\n  SyntaxN.All i A\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "hence \"H \\<turnstile> (All i A)\""], ["proof (prove)\nusing this:\n  {A(i::=Zero),\n   SyntaxN.All i\n    (SyntaxN.All j\n      (A IMP A(i::=Var j) IMP A(i::=Eats (Var i) (Var j))))} \\<turnstile>\n  SyntaxN.All i A\n\ngoal (1 subgoal):\n 1. H \\<turnstile> SyntaxN.All i A", "by (metis cut2 prems)"], ["proof (state)\nthis:\n  H \\<turnstile> SyntaxN.All i A\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "thus ?thesis"], ["proof (prove)\nusing this:\n  H \\<turnstile> SyntaxN.All i A\n\ngoal (1 subgoal):\n 1. H \\<turnstile> A", "by (metis All_E' Assume subst_fm_id)"], ["proof (state)\nthis:\n  H \\<turnstile> A\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}