{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL/Rewriting.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL", "problem_names": ["lemma mk_and_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_and x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x and\\<^sub>n y\"", "lemma mk_or_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_or x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x or\\<^sub>n y\"", "lemma remove_strong_ops_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n F\\<^sub>n (remove_strong_ops y) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n y\"", "lemma remove_weak_ops_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n G\\<^sub>n (remove_weak_ops y) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n y\"", "lemma mk_finally_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_finally x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n x\"", "lemma mk_globally_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_globally x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n x\"", "lemma mk_until_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_until x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\"", "lemma mk_release_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_release x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\"", "lemma mk_weak_until_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_weak_until x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\"", "lemma mk_strong_release_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_strong_release x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\"", "lemma mk_next_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_next x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n x\"", "lemma mk_next_pow_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_next_pow i x \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n x\"", "lemma mk_next_pow_simp [simp, code_unfold]:\n  \"mk_next_pow 0 x = x\"\n  \"mk_next_pow 1 x = mk_next x\"", "lemma is_constant_constructorsI:\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_and x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_and x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_or x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_or x y)\"\n  \"is_constant x \\<Longrightarrow>  is_constant (mk_finally x)\"\n  \"\\<not>is_constant x \\<Longrightarrow>  \\<not>is_constant (mk_finally x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_globally x)\"\n  \"\\<not>is_constant x \\<Longrightarrow>  \\<not>is_constant (mk_globally x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_until y x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_until y x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_release y x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_release y x)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_weak_until x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_weak_until x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_strong_release x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_strong_release x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_next x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_next x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_next_pow n x)\"", "lemma is_constant_constructors_simps:\n  \"mk_next_pow n x = false\\<^sub>n \\<longleftrightarrow> x = false\\<^sub>n\"\n  \"mk_next_pow n x = true\\<^sub>n \\<longleftrightarrow> x = true\\<^sub>n\"\n  \"is_constant (mk_next_pow n x) \\<longleftrightarrow> is_constant x\"", "lemma is_constant_constructors_simps2:\n  \"is_constant (mk_and x y) \\<longleftrightarrow> (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or> x = false\\<^sub>n \\<or> y = false\\<^sub>n)\"\n  \"is_constant (mk_or x y) \\<longleftrightarrow> (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or> x = true\\<^sub>n \\<or> y = true\\<^sub>n)\"\n  \"is_constant (mk_finally x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_globally x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_until y x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_release y x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_next x) \\<longleftrightarrow> is_constant x\"", "lemma is_constant_constructors_simps3:\n  \"is_constant (mk_weak_until x y) \\<longleftrightarrow> (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or> x = true\\<^sub>n \\<or> y = true\\<^sub>n)\"\n  \"is_constant (mk_strong_release x y) \\<longleftrightarrow> (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or> x = false\\<^sub>n \\<or> y = false\\<^sub>n)\"", "lemma is_constant_semantics:\n  \"is_constant \\<phi> \\<Longrightarrow> ((\\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi>) \\<or> \\<not>(\\<exists>w. w \\<Turnstile>\\<^sub>n \\<phi>))\"", "lemma until_constant_simp:\n  \"is_constant \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\"", "lemma release_constant_simp:\n  \"is_constant \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\"", "lemma mk_next_pow_dist:\n  \"mk_next_pow (i + j) \\<phi> = mk_next_pow i (mk_next_pow j \\<phi>)\"", "lemma mk_next_pow_until:\n  \"suffix (min i j) w \\<Turnstile>\\<^sub>n (mk_next_pow (i - j) \\<phi>) U\\<^sub>n (mk_next_pow (j - i) \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (mk_next_pow i \\<phi>) U\\<^sub>n (mk_next_pow j \\<psi>)\"", "lemma mk_next_pow_release:\n  \"suffix (min i j) w \\<Turnstile>\\<^sub>n (mk_next_pow (i - j) \\<phi>) R\\<^sub>n (mk_next_pow (j - i) \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (mk_next_pow i \\<phi>) R\\<^sub>n (mk_next_pow j \\<psi>)\"", "lemma the_enat_0_simp [simp]:\n  \"the_enat_0 0 = 0\"\n  \"the_enat_0 1 = 1\"", "lemma fst_combine:\n  \"fst (combine binop (\\<phi>, i) (\\<psi>, j)) = binop (mk_next_pow (the_enat_0 (i - j)) \\<phi>) (mk_next_pow (the_enat_0 (j - i)) \\<psi>)\"", "lemma combine_infinity_invariant:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant x\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant y\"\n  shows \"combine mk_and (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_or (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_until (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_release (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_weak_until (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_strong_release (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"", "lemma combine_and_or_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_and (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) and\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_or (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) or\\<^sub>n to_ltln (\\<psi>, j)\"", "lemma combine_until_release_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_until (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) U\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_release (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) R\\<^sub>n to_ltln (\\<psi>, j)\"", "lemma combine_weak_until_strong_release_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_weak_until (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) W\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_strong_release (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) M\\<^sub>n to_ltln (\\<psi>, j)\"", "lemma rewrite_X_enat_infinity_invariant:\n  \"snd (rewrite_X_enat \\<phi>) = \\<infinity> \\<longleftrightarrow> is_constant (fst (rewrite_X_enat \\<phi>))\"", "lemma rewrite_X_enat_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\"", "lemma rewrite_X_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_X \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma pure_eventual_left_append:\n  \"pure_eventual \\<mu> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>\"", "lemma pure_universal_suffix_closed:\n  \"pure_universal \\<nu> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>\"", "lemma suspendable_prefix_invariant:\n  \"suspendable \\<xi> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\"", "theorem pure_eventual_until_simp:\n  assumes \"pure_eventual \\<mu>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<mu>\"", "theorem pure_universal_release_simp:\n  assumes \"pure_universal \\<nu>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>\"", "theorem pure_universal_weak_until_simp:\n  assumes \"pure_universal \\<phi>\" and \"pure_universal \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\"", "theorem pure_eventual_strong_release_simp:\n  assumes \"pure_eventual \\<phi>\" and \"pure_eventual \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\"", "theorem suspendable_formula_simp:\n  assumes \"suspendable \\<xi>\"\n  shows \"w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t1)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t2)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t3)", "theorem suspendable_formula_simp2:\n  assumes \"suspendable \\<phi>\" and \"suspendable \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\" (is ?t1)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\" (is ?t2)", "lemma rewrite_modal_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma rewrite_modal_size:\n  \"size (rewrite_modal \\<phi>) \\<le> size \\<phi>\"", "lemma syntactical_implies_correct:\n  \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\"", "lemma rewrite_syn_imp_sound:\n  \"w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma iterate_sound:\n  assumes \"\\<And>\\<phi>. w \\<Turnstile>\\<^sub>n f \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"\n  shows \"w \\<Turnstile>\\<^sub>n iterate f \\<phi> n \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "theorem rewrite_iter_fast_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_iter_fast \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "theorem rewrite_iter_slow_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_iter_slow \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma iterate_atoms:\n  assumes\n    \"\\<And>\\<phi>. atoms_ltln (f \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"\n  shows\n    \"atoms_ltln (iterate f \\<phi> n) \\<subseteq> atoms_ltln \\<phi>\"", "lemma rewrite_modal_atoms:\n  \"atoms_ltln (rewrite_modal \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma mk_and_atoms:\n  \"atoms_ltln (mk_and \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma mk_or_atoms:\n  \"atoms_ltln (mk_or \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma remove_strong_ops_atoms:\n  \"atoms_ltln (remove_strong_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma remove_weak_ops_atoms:\n  \"atoms_ltln (remove_weak_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma mk_finally_atoms:\n  \"atoms_ltln (mk_finally \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma mk_globally_atoms:\n  \"atoms_ltln (mk_globally \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma mk_until_atoms:\n  \"atoms_ltln (mk_until \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma mk_release_atoms:\n  \"atoms_ltln (mk_release \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma mk_weak_until_atoms:\n  \"atoms_ltln (mk_weak_until \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma mk_strong_release_atoms:\n  \"atoms_ltln (mk_strong_release \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"", "lemma mk_next_atoms:\n  \"atoms_ltln (mk_next \\<phi>) = atoms_ltln \\<phi>\"", "lemma mk_next_pow_atoms:\n  \"atoms_ltln (mk_next_pow n \\<phi>) = atoms_ltln \\<phi>\"", "lemma combine_atoms:\n  assumes\n    \"\\<And>\\<phi> \\<psi>. atoms_ltln (f \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"\n  shows\n    \"atoms_ltln (fst (combine f x y)) \\<subseteq> atoms_ltln (fst x) \\<union> atoms_ltln (fst y)\"", "lemmas combine_mk_atoms =\n  combine_atoms[OF mk_and_atoms]\n  combine_atoms[OF mk_or_atoms]\n  combine_atoms[OF mk_until_atoms]\n  combine_atoms[OF mk_release_atoms]\n  combine_atoms[OF mk_weak_until_atoms]\n  combine_atoms[OF mk_strong_release_atoms]", "lemma rewrite_X_enat_atoms:\n  \"atoms_ltln (fst (rewrite_X_enat \\<phi>)) \\<subseteq> atoms_ltln \\<phi>\"", "lemma rewrite_X_atoms:\n  \"atoms_ltln (rewrite_X \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma rewrite_syn_imp_atoms:\n  \"atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma rewrite_iter_fast_atoms:\n  \"atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma rewrite_iter_slow_atoms:\n  \"atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "theorem simplify_correct:\n  \"w \\<Turnstile>\\<^sub>n simplify m \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma simplify_atoms:\n  \"atoms_ltln (simplify m \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"", "lemma \"rewrite_iter_fast (F\\<^sub>n (G\\<^sub>n (X\\<^sub>n prop\\<^sub>n(''a'')))) = (F\\<^sub>n (G\\<^sub>n prop\\<^sub>n(''a'')))\"", "lemma \"rewrite_iter_fast (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n (X\\<^sub>n nprop\\<^sub>n(''a''))) = X\\<^sub>n (prop\\<^sub>n(''a'') U\\<^sub>n nprop\\<^sub>n(''a''))\"", "lemma \"rewrite_iter_slow (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n (X\\<^sub>n nprop\\<^sub>n(''a''))) = X\\<^sub>n (F\\<^sub>n nprop\\<^sub>n(''a''))\""], "translations": [["", "lemma mk_and_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_and x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x and\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_and x y =\n    w \\<Turnstile>\\<^sub>n x and\\<^sub>n y", "unfolding mk_and_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case x of true\\<^sub>n \\<Rightarrow> y\n                            | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                            | _ \\<Rightarrow>\n                                case y of true\\<^sub>n \\<Rightarrow> x\n                                | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                                | _ \\<Rightarrow> x and\\<^sub>n y) =\n    w \\<Turnstile>\\<^sub>n x and\\<^sub>n y", "by (cases x; cases y; simp)"], ["", "lemma mk_or_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_or x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x or\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_or x y = w \\<Turnstile>\\<^sub>n x or\\<^sub>n y", "unfolding mk_or_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case x of\n                            true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                            | false\\<^sub>n \\<Rightarrow> y\n                            | _ \\<Rightarrow>\n                                case y of\n                                true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                                | false\\<^sub>n \\<Rightarrow> x\n                                | _ \\<Rightarrow> x or\\<^sub>n y) =\n    w \\<Turnstile>\\<^sub>n x or\\<^sub>n y", "by (cases x; cases y; simp)"], ["", "lemma remove_strong_ops_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n F\\<^sub>n (remove_strong_ops y) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n F\\<^sub>n remove_strong_ops y =\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n y", "by (induction y arbitrary: w) (auto; force)+"], ["", "lemma remove_weak_ops_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n G\\<^sub>n (remove_weak_ops y) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n G\\<^sub>n remove_weak_ops y =\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n y", "by (induction y arbitrary: w) (auto; force)+"], ["", "lemma mk_finally_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_finally x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_finally x = w \\<Turnstile>\\<^sub>n F\\<^sub>n x", "by (simp add: mk_finally_def del: semantics_ltln.simps(8,9) remove_strong_ops.simps split: ltln.splits)"], ["", "lemma mk_globally_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_globally x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_globally x =\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n x", "by (simp add: mk_globally_def del: semantics_ltln.simps(8,9) remove_weak_ops.simps split: ltln.splits)"], ["", "lemma mk_until_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_until x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "proof (cases x)"], ["proof (state)\ngoal (11 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 10. \\<And>x101 x102.\n        x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_until x y =\n        w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\nA total of 11 subgoals...", "case (True_ltln)"], ["proof (state)\nthis:\n  x = true\\<^sub>n\n\ngoal (11 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 10. \\<And>x101 x102.\n        x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_until x y =\n        w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\nA total of 11 subgoals...", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "unfolding True_ltln mk_until_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case true\\<^sub>n of\n                            true\\<^sub>n \\<Rightarrow> mk_finally y\n                            | false\\<^sub>n \\<Rightarrow> y\n                            | _ \\<Rightarrow>\n                                case y of\n                                true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                                | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                                | _ \\<Rightarrow> F\\<^sub>n y) =\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n y", "by (cases y) auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_until x y = w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n\ngoal (10 subgoals):\n 1. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_until x y =\n        w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_until x y =\n        w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "case (False_ltln)"], ["proof (state)\nthis:\n  x = false\\<^sub>n\n\ngoal (10 subgoals):\n 1. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_until x y =\n        w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_until x y =\n    w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "by (force simp: mk_until_def)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_until x y = w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n\ngoal (9 subgoals):\n 1. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 2. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 3. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 4. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 5. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 6. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 7. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 8. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y\n 9. \\<And>x111 x112.\n       x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_until x y =\n       w \\<Turnstile>\\<^sub>n x U\\<^sub>n y", "qed (cases y; force simp: mk_until_def)+"], ["", "lemma mk_release_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_release x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "proof (cases x)"], ["proof (state)\ngoal (11 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 10. \\<And>x101 x102.\n        x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_release x y =\n        w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\nA total of 11 subgoals...", "case (False_ltln)"], ["proof (state)\nthis:\n  x = false\\<^sub>n\n\ngoal (11 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. x = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 10. \\<And>x101 x102.\n        x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_release x y =\n        w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\nA total of 11 subgoals...", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "unfolding False_ltln mk_release_def"], ["proof (prove)\nusing this:\n  false\\<^sub>n = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case false\\<^sub>n of\n                            true\\<^sub>n \\<Rightarrow> y\n                            | false\\<^sub>n \\<Rightarrow> mk_globally y\n                            | _ \\<Rightarrow>\n                                case y of\n                                true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                                | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                                | _ \\<Rightarrow> G\\<^sub>n y) =\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n y", "by (cases y) auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_release x y =\n  w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n\ngoal (10 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_release x y =\n        w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_release x y =\n        w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "case (True_ltln)"], ["proof (state)\nthis:\n  x = true\\<^sub>n\n\ngoal (10 subgoals):\n 1. x = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 10. \\<And>x111 x112.\n        x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_release x y =\n        w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = true\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_release x y =\n    w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "by (force simp: mk_release_def)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_release x y =\n  w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n\ngoal (9 subgoals):\n 1. \\<And>x3.\n       x = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 2. \\<And>x4.\n       x = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 3. \\<And>x51 x52.\n       x = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 4. \\<And>x61 x62.\n       x = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 5. \\<And>x7.\n       x = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 6. \\<And>x81 x82.\n       x = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 7. \\<And>x91 x92.\n       x = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 8. \\<And>x101 x102.\n       x = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y\n 9. \\<And>x111 x112.\n       x = x111 M\\<^sub>n x112 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_release x y =\n       w \\<Turnstile>\\<^sub>n x R\\<^sub>n y", "qed (cases y; force simp: mk_release_def)+"], ["", "lemma mk_weak_until_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_weak_until x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "proof (cases y)"], ["proof (state)\ngoal (11 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 10. \\<And>x101 x102.\n        y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n        w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\nA total of 11 subgoals...", "case (False_ltln)"], ["proof (state)\nthis:\n  y = false\\<^sub>n\n\ngoal (11 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 10. \\<And>x101 x102.\n        y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n        w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\nA total of 11 subgoals...", "thus ?thesis"], ["proof (prove)\nusing this:\n  y = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "unfolding False_ltln mk_weak_until_def"], ["proof (prove)\nusing this:\n  false\\<^sub>n = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case false\\<^sub>n of\n                            true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                            | false\\<^sub>n \\<Rightarrow> mk_globally x\n                            | _ \\<Rightarrow>\n                                case x of\n                                true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                                | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                                | _ \\<Rightarrow>\n                                    x W\\<^sub>n false\\<^sub>n) =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n false\\<^sub>n", "by (cases x) auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n  w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n\ngoal (10 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n        w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n        w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "case (True_ltln)"], ["proof (state)\nthis:\n  y = true\\<^sub>n\n\ngoal (10 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n        w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "thus ?thesis"], ["proof (prove)\nusing this:\n  y = true\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n    w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "by (force simp: mk_weak_until_def)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n  w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n\ngoal (9 subgoals):\n 1. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 2. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 3. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 4. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 5. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 6. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 7. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 8. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y\n 9. \\<And>x111 x112.\n       y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_weak_until x y =\n       w \\<Turnstile>\\<^sub>n x W\\<^sub>n y", "qed (cases x; force simp: mk_weak_until_def)+"], ["", "lemma mk_strong_release_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_strong_release x y \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "proof (cases y)"], ["proof (state)\ngoal (11 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 10. \\<And>x101 x102.\n        y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n        w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\nA total of 11 subgoals...", "case (True_ltln)"], ["proof (state)\nthis:\n  y = true\\<^sub>n\n\ngoal (11 subgoals):\n 1. y = true\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 10. \\<And>x101 x102.\n        y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n        w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\nA total of 11 subgoals...", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "unfolding True_ltln mk_strong_release_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case true\\<^sub>n of\n                            true\\<^sub>n \\<Rightarrow> mk_finally x\n                            | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                            | _ \\<Rightarrow>\n                                case x of\n                                true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                                | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                                | _ \\<Rightarrow>\n                                    x M\\<^sub>n true\\<^sub>n) =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n true\\<^sub>n", "by (cases x) auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n  w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n\ngoal (10 subgoals):\n 1. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n        w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n        w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "case (False_ltln)"], ["proof (state)\nthis:\n  y = false\\<^sub>n\n\ngoal (10 subgoals):\n 1. y = false\\<^sub>n \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 10. \\<And>x111 x112.\n        y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n        w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "thus ?thesis"], ["proof (prove)\nusing this:\n  y = false\\<^sub>n\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n    w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "by (force simp: mk_strong_release_def)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n  w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n\ngoal (9 subgoals):\n 1. \\<And>x3.\n       y = prop\\<^sub>n(x3) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 2. \\<And>x4.\n       y = nprop\\<^sub>n(x4) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 3. \\<And>x51 x52.\n       y = x51 and\\<^sub>n x52 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 4. \\<And>x61 x62.\n       y = x61 or\\<^sub>n x62 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 5. \\<And>x7.\n       y = X\\<^sub>n x7 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 6. \\<And>x81 x82.\n       y = x81 U\\<^sub>n x82 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 7. \\<And>x91 x92.\n       y = x91 R\\<^sub>n x92 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 8. \\<And>x101 x102.\n       y = x101 W\\<^sub>n x102 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y\n 9. \\<And>x111 x112.\n       y = x111 M\\<^sub>n x112 \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n mk_strong_release x y =\n       w \\<Turnstile>\\<^sub>n x M\\<^sub>n y", "qed (cases x; force simp: mk_strong_release_def)+"], ["", "lemma mk_next_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_next x \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n mk_next x = w \\<Turnstile>\\<^sub>n X\\<^sub>n x", "unfolding mk_next_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (case x of\n                            true\\<^sub>n \\<Rightarrow> true\\<^sub>n\n                            | false\\<^sub>n \\<Rightarrow> false\\<^sub>n\n                            | _ \\<Rightarrow> X\\<^sub>n x) =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n x", "by (cases x; auto)"], ["", "lemma mk_next_pow_semantics [simp]:\n  \"w \\<Turnstile>\\<^sub>n mk_next_pow i x \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n' i x =\n    suffix i w \\<Turnstile>\\<^sub>n x", "by (induction i arbitrary: w; cases x)\n     (auto simp: mk_next_pow_def)"], ["", "lemma mk_next_pow_simp [simp, code_unfold]:\n  \"mk_next_pow 0 x = x\"\n  \"mk_next_pow 1 x = mk_next x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X\\<^sub>n' 0 x = x &&& X\\<^sub>n' 1 x = mk_next x", "by (cases x; simp add: mk_next_pow_def mk_next_def)+"], ["", "subsection \\<open>Constant Propagation\\<close>"], ["", "fun is_constant :: \"'a ltln \\<Rightarrow> bool\"\nwhere\n  \"is_constant true\\<^sub>n = True\"\n| \"is_constant false\\<^sub>n = True\"\n| \"is_constant _ = False\""], ["", "lemma is_constant_constructorsI:\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_and x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_and x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_or x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_or x y)\"\n  \"is_constant x \\<Longrightarrow>  is_constant (mk_finally x)\"\n  \"\\<not>is_constant x \\<Longrightarrow>  \\<not>is_constant (mk_finally x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_globally x)\"\n  \"\\<not>is_constant x \\<Longrightarrow>  \\<not>is_constant (mk_globally x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_until y x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_until y x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_release y x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_release y x)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_weak_until x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_weak_until x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant y \\<Longrightarrow> is_constant (mk_strong_release x y)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant y \\<Longrightarrow> \\<not>is_constant (mk_strong_release x y)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_next x)\"\n  \"\\<not>is_constant x \\<Longrightarrow> \\<not>is_constant (mk_next x)\"\n  \"is_constant x \\<Longrightarrow> is_constant (mk_next_pow n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((((\\<lbrakk>is_constant x; is_constant y\\<rbrakk>\n        \\<Longrightarrow> is_constant (mk_and x y)) &&&\n       (\\<lbrakk>\\<not> is_constant x; \\<not> is_constant y\\<rbrakk>\n        \\<Longrightarrow> \\<not> is_constant (mk_and x y))) &&&\n      (\\<lbrakk>is_constant x; is_constant y\\<rbrakk>\n       \\<Longrightarrow> is_constant (mk_or x y)) &&&\n      (\\<lbrakk>\\<not> is_constant x; \\<not> is_constant y\\<rbrakk>\n       \\<Longrightarrow> \\<not> is_constant (mk_or x y))) &&&\n     ((is_constant x \\<Longrightarrow> is_constant (mk_finally x)) &&&\n      (\\<not> is_constant x \\<Longrightarrow>\n       \\<not> is_constant (mk_finally x))) &&&\n     (is_constant x \\<Longrightarrow> is_constant (mk_globally x)) &&&\n     (\\<not> is_constant x \\<Longrightarrow>\n      \\<not> is_constant (mk_globally x)) &&&\n     (is_constant x \\<Longrightarrow> is_constant (mk_until y x))) &&&\n    (((\\<not> is_constant x \\<Longrightarrow>\n       \\<not> is_constant (mk_until y x)) &&&\n      (is_constant x \\<Longrightarrow> is_constant (mk_release y x))) &&&\n     (\\<not> is_constant x \\<Longrightarrow>\n      \\<not> is_constant (mk_release y x)) &&&\n     (\\<lbrakk>is_constant x; is_constant y\\<rbrakk>\n      \\<Longrightarrow> is_constant (mk_weak_until x y)) &&&\n     (\\<lbrakk>\\<not> is_constant x; \\<not> is_constant y\\<rbrakk>\n      \\<Longrightarrow> \\<not> is_constant (mk_weak_until x y))) &&&\n    ((\\<lbrakk>is_constant x; is_constant y\\<rbrakk>\n      \\<Longrightarrow> is_constant (mk_strong_release x y)) &&&\n     (\\<lbrakk>\\<not> is_constant x; \\<not> is_constant y\\<rbrakk>\n      \\<Longrightarrow> \\<not> is_constant (mk_strong_release x y))) &&&\n    (is_constant x \\<Longrightarrow> is_constant (mk_next x)) &&&\n    (\\<not> is_constant x \\<Longrightarrow>\n     \\<not> is_constant (mk_next x)) &&&\n    (is_constant x \\<Longrightarrow> is_constant (X\\<^sub>n' n x))", "by (cases x; cases y; simp add: mk_and_def mk_or_def mk_finally_def mk_globally_def mk_until_def mk_release_def mk_weak_until_def mk_strong_release_def mk_next_def mk_next_pow_def)+"], ["", "lemma is_constant_constructors_simps:\n  \"mk_next_pow n x = false\\<^sub>n \\<longleftrightarrow> x = false\\<^sub>n\"\n  \"mk_next_pow n x = true\\<^sub>n \\<longleftrightarrow> x = true\\<^sub>n\"\n  \"is_constant (mk_next_pow n x) \\<longleftrightarrow> is_constant x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X\\<^sub>n' n x = false\\<^sub>n) = (x = false\\<^sub>n) &&&\n    (X\\<^sub>n' n x = true\\<^sub>n) = (x = true\\<^sub>n) &&&\n    is_constant (X\\<^sub>n' n x) = is_constant x", "by (induction n) (cases x; simp add: mk_next_pow_def)+"], ["", "lemma is_constant_constructors_simps2:\n  \"is_constant (mk_and x y) \\<longleftrightarrow> (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or> x = false\\<^sub>n \\<or> y = false\\<^sub>n)\"\n  \"is_constant (mk_or x y) \\<longleftrightarrow> (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or> x = true\\<^sub>n \\<or> y = true\\<^sub>n)\"\n  \"is_constant (mk_finally x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_globally x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_until y x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_release y x) \\<longleftrightarrow> is_constant x\"\n  \"is_constant (mk_next x) \\<longleftrightarrow> is_constant x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (is_constant (mk_and x y) =\n     (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or>\n      x = false\\<^sub>n \\<or> y = false\\<^sub>n) &&&\n     is_constant (mk_or x y) =\n     (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or>\n      x = true\\<^sub>n \\<or> y = true\\<^sub>n) &&&\n     is_constant (mk_finally x) = is_constant x) &&&\n    (is_constant (mk_globally x) = is_constant x &&&\n     is_constant (mk_until y x) = is_constant x) &&&\n    is_constant (mk_release y x) = is_constant x &&&\n    is_constant (mk_next x) = is_constant x", "by ((cases x; cases y; simp add: mk_and_def),\n      (cases x; cases y; simp add: mk_or_def),\n      (meson is_constant_constructorsI)+)"], ["", "lemma is_constant_constructors_simps3:\n  \"is_constant (mk_weak_until x y) \\<longleftrightarrow> (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or> x = true\\<^sub>n \\<or> y = true\\<^sub>n)\"\n  \"is_constant (mk_strong_release x y) \\<longleftrightarrow> (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or> x = false\\<^sub>n \\<or> y = false\\<^sub>n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_constant (mk_weak_until x y) =\n    (x = false\\<^sub>n \\<and> y = false\\<^sub>n \\<or>\n     x = true\\<^sub>n \\<or> y = true\\<^sub>n) &&&\n    is_constant (mk_strong_release x y) =\n    (x = true\\<^sub>n \\<and> y = true\\<^sub>n \\<or>\n     x = false\\<^sub>n \\<or> y = false\\<^sub>n)", "by (cases x; cases y; simp add: mk_weak_until_def mk_strong_release_def is_constant_constructors_simps2)+"], ["", "lemma is_constant_semantics:\n  \"is_constant \\<phi> \\<Longrightarrow> ((\\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi>) \\<or> \\<not>(\\<exists>w. w \\<Turnstile>\\<^sub>n \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_constant \\<phi> \\<Longrightarrow>\n    (\\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi>) \\<or>\n    (\\<nexists>w. w \\<Turnstile>\\<^sub>n \\<phi>)", "by (cases \\<phi>) auto"], ["", "lemma until_constant_simp:\n  \"is_constant \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_constant \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<psi>", "by (cases \\<psi>) auto"], ["", "lemma release_constant_simp:\n  \"is_constant \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_constant \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<psi>", "by (cases \\<psi>) auto"], ["", "lemma mk_next_pow_dist:\n  \"mk_next_pow (i + j) \\<phi> = mk_next_pow i (mk_next_pow j \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X\\<^sub>n' (i + j) \\<phi> = X\\<^sub>n' i (X\\<^sub>n' j \\<phi>)", "by (cases j; simp) (cases \\<phi>; simp add: mk_next_pow_def funpow_add; simp add: funpow_swap1)"], ["", "lemma mk_next_pow_until:\n  \"suffix (min i j) w \\<Turnstile>\\<^sub>n (mk_next_pow (i - j) \\<phi>) U\\<^sub>n (mk_next_pow (j - i) \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (mk_next_pow i \\<phi>) U\\<^sub>n (mk_next_pow j \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix (min i j)\n     w \\<Turnstile>\\<^sub>n X\\<^sub>n' (i - j)\n                             \\<phi> U\\<^sub>n X\\<^sub>n' (j - i) \\<psi> =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n' i \\<phi> U\\<^sub>n X\\<^sub>n' j \\<psi>", "by (simp add: mk_next_pow_dist min_def add.commute)"], ["", "lemma mk_next_pow_release:\n  \"suffix (min i j) w \\<Turnstile>\\<^sub>n (mk_next_pow (i - j) \\<phi>) R\\<^sub>n (mk_next_pow (j - i) \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (mk_next_pow i \\<phi>) R\\<^sub>n (mk_next_pow j \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix (min i j)\n     w \\<Turnstile>\\<^sub>n X\\<^sub>n' (i - j)\n                             \\<phi> R\\<^sub>n X\\<^sub>n' (j - i) \\<psi> =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n' i \\<phi> R\\<^sub>n X\\<^sub>n' j \\<psi>", "by (simp add: mk_next_pow_dist min_def add.commute)"], ["", "subsection \\<open>X-Normalisation\\<close>"], ["", "text \\<open>The following rewrite functions pulls the X-operator up in the syntax tree. This preprocessing\n  step enables the removal of X-operators in front of suspendable formulas. Furthermore constants are\n  removed as far as possible.\\<close>"], ["", "fun the_enat_0 :: \"enat \\<Rightarrow> nat\"\nwhere\n  \"the_enat_0 i = i\"\n| \"the_enat_0 \\<infinity> = 0\""], ["", "lemma the_enat_0_simp [simp]:\n  \"the_enat_0 0 = 0\"\n  \"the_enat_0 1 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the_enat_0 0 = 0 &&& the_enat_0 1 = 1", "by (simp add: zero_enat_def one_enat_def)+"], ["", "fun combine :: \"('a ltln \\<Rightarrow> 'a ltln \\<Rightarrow> 'a ltln) \\<Rightarrow> ('a ltln * enat) \\<Rightarrow> ('a ltln * enat) \\<Rightarrow> ('a ltln * enat)\"\nwhere\n  \"combine binop (\\<phi>, i) (\\<psi>, j) = (\n    let\n      \\<chi> = binop (mk_next_pow (the_enat_0 (i - j)) \\<phi>) (mk_next_pow (the_enat_0 (j - i)) \\<psi>)\n    in\n      (\\<chi>, if is_constant \\<chi> then \\<infinity> else min i j))\""], ["", "lemma fst_combine:\n  \"fst (combine binop (\\<phi>, i) (\\<psi>, j)) = binop (mk_next_pow (the_enat_0 (i - j)) \\<phi>) (mk_next_pow (the_enat_0 (j - i)) \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fst (combine binop (\\<phi>, i) (\\<psi>, j)) =\n    binop (X\\<^sub>n' (the_enat_0 (i - j)) \\<phi>)\n     (X\\<^sub>n' (the_enat_0 (j - i)) \\<psi>)", "unfolding combine.simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. fst (let \\<chi> =\n               binop (X\\<^sub>n' (the_enat_0 (i - j)) \\<phi>)\n                (X\\<^sub>n' (the_enat_0 (j - i)) \\<psi>)\n         in (\\<chi>, if is_constant \\<chi> then \\<infinity> else min i j)) =\n    binop (X\\<^sub>n' (the_enat_0 (i - j)) \\<phi>)\n     (X\\<^sub>n' (the_enat_0 (j - i)) \\<psi>)", "by (meson fstI)"], ["", "abbreviation to_ltln :: \"('a ltln * enat) \\<Rightarrow> 'a ltln\"\nwhere\n  \"to_ltln x \\<equiv> mk_next_pow (the_enat_0 (snd x)) (fst x)\""], ["", "fun rewrite_X_enat :: \"'a ltln \\<Rightarrow> ('a ltln * enat)\"\nwhere\n  \"rewrite_X_enat true\\<^sub>n = (true\\<^sub>n, \\<infinity>)\"\n| \"rewrite_X_enat false\\<^sub>n = (false\\<^sub>n, \\<infinity>)\"\n| \"rewrite_X_enat prop\\<^sub>n(a) = (prop\\<^sub>n(a), 0)\"\n| \"rewrite_X_enat nprop\\<^sub>n(a) = (nprop\\<^sub>n(a), 0)\"\n| \"rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>) = combine mk_and (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>) = combine mk_or (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>) = combine mk_until (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>) = combine mk_release (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>) = combine mk_weak_until (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>) = combine mk_strong_release (rewrite_X_enat \\<phi>) (rewrite_X_enat \\<psi>)\"\n| \"rewrite_X_enat (X\\<^sub>n \\<phi>) = (\\<lambda>(\\<phi>, n). (\\<phi>, eSuc n)) (rewrite_X_enat \\<phi>)\""], ["", "definition\n  \"rewrite_X \\<phi> = to_ltln (rewrite_X_enat \\<phi>)\""], ["", "lemma combine_infinity_invariant:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant x\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant y\"\n  shows \"combine mk_and (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_or (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_until (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_release (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_weak_until (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\"\n    and \"combine mk_strong_release (x, i) (y, j) = (z, k) \\<Longrightarrow> (k = \\<infinity> \\<longleftrightarrow> is_constant z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((combine mk_and (x, i) (y, j) = (z, k) \\<Longrightarrow>\n      (k = \\<infinity>) = is_constant z) &&&\n     (combine mk_or (x, i) (y, j) = (z, k) \\<Longrightarrow>\n      (k = \\<infinity>) = is_constant z) &&&\n     (combine mk_until (x, i) (y, j) = (z, k) \\<Longrightarrow>\n      (k = \\<infinity>) = is_constant z)) &&&\n    (combine mk_release (x, i) (y, j) = (z, k) \\<Longrightarrow>\n     (k = \\<infinity>) = is_constant z) &&&\n    (combine mk_weak_until (x, i) (y, j) = (z, k) \\<Longrightarrow>\n     (k = \\<infinity>) = is_constant z) &&&\n    (combine mk_strong_release (x, i) (y, j) = (z, k) \\<Longrightarrow>\n     (k = \\<infinity>) = is_constant z)", "by (cases i; cases j; simp add: assms Let_def; force intro: is_constant_constructorsI)+"], ["", "lemma combine_and_or_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_and (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) and\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_or (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) or\\<^sub>n to_ltln (\\<psi>, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n to_ltln\n                            (combine mk_and (\\<phi>, i) (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (\\<phi>, i) and\\<^sub>n to_ltln (\\<psi>, j) &&&\n    w \\<Turnstile>\\<^sub>n to_ltln (combine mk_or (\\<phi>, i) (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (\\<phi>, i) or\\<^sub>n to_ltln (\\<psi>, j)", "by ((cases i; cases j; simp add: min_def is_constant_constructors_simps is_constant_constructors_simps2 assms),\n      (cases \\<psi>; insert assms; auto),\n      (cases \\<phi>; insert assms; auto),\n      (blast elim!: is_constant.elims))+"], ["", "lemma combine_until_release_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_until (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) U\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_release (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) R\\<^sub>n to_ltln (\\<psi>, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n to_ltln\n                            (combine mk_until (\\<phi>, i) (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (\\<phi>, i) U\\<^sub>n to_ltln (\\<psi>, j) &&&\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (combine mk_release (\\<phi>, i) (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) R\\<^sub>n to_ltln (\\<psi>, j)", "by ((cases i; cases j; simp add: is_constant_constructors_simps is_constant_constructors_simps2\n       until_constant_simp release_constant_simp mk_next_pow_until mk_next_pow_release del: semantics_ltln.simps),\n      (blast dest: is_constant_semantics),\n      (cases \\<psi>; simp add: assms),\n      (cases \\<phi>; insert assms; auto simp: add.commute))+"], ["", "(* TODO this proof is a bit slow and could be optimized *)"], ["", "lemma combine_weak_until_strong_release_semantics:\n  assumes \"i = \\<infinity> \\<longleftrightarrow> is_constant \\<phi>\"\n  assumes \"j = \\<infinity> \\<longleftrightarrow> is_constant \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_weak_until (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) W\\<^sub>n to_ltln (\\<psi>, j)\"\n    and \"w \\<Turnstile>\\<^sub>n to_ltln (combine mk_strong_release (\\<phi>, i) (\\<psi>, j)) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) M\\<^sub>n to_ltln (\\<psi>, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n to_ltln\n                            (combine mk_weak_until (\\<phi>, i)\n                              (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (\\<phi>, i) W\\<^sub>n to_ltln (\\<psi>, j) &&&\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (combine mk_strong_release (\\<phi>, i)\n                              (\\<psi>, j)) =\n    w \\<Turnstile>\\<^sub>n to_ltln (\\<phi>, i) M\\<^sub>n to_ltln (\\<psi>, j)", "by ((cases i; cases j; simp add: min_def is_constant_constructors_simps is_constant_constructors_simps3 del: semantics_ltln.simps),\n      (cases \\<phi>; simp add: assms),\n      (cases \\<psi>; insert assms; auto simp: add.commute))+"], ["", "lemma rewrite_X_enat_infinity_invariant:\n  \"snd (rewrite_X_enat \\<phi>) = \\<infinity> \\<longleftrightarrow> is_constant (fst (rewrite_X_enat \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat \\<phi>))", "proof (induction \\<phi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 and\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 or\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 or\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                 is_constant (fst (rewrite_X_enat \\<phi>1));\n         (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n         is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n        \\<Longrightarrow> (snd (rewrite_X_enat\n                                 (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                           \\<infinity>) =\n                          is_constant\n                           (fst (rewrite_X_enat\n                                  (\\<phi>1 W\\<^sub>n \\<phi>2)))\nA total of 11 subgoals...", "case (And_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (11 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 and\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 or\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 or\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                 is_constant (fst (rewrite_X_enat \\<phi>1));\n         (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n         is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n        \\<Longrightarrow> (snd (rewrite_X_enat\n                                 (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                           \\<infinity>) =\n                          is_constant\n                           (fst (rewrite_X_enat\n                                  (\\<phi>1 W\\<^sub>n \\<phi>2)))\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF And_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>)))\n\ngoal (10 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 or\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 or\\<^sub>n \\<phi>2)))\n 6. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                 is_constant (fst (rewrite_X_enat \\<phi>1));\n         (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n         is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n        \\<Longrightarrow> (snd (rewrite_X_enat\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                           \\<infinity>) =\n                          is_constant\n                           (fst (rewrite_X_enat\n                                  (\\<phi>1 M\\<^sub>n \\<phi>2)))", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 or\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 or\\<^sub>n \\<phi>2)))\n 6. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                 is_constant (fst (rewrite_X_enat \\<phi>1));\n         (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n         is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n        \\<Longrightarrow> (snd (rewrite_X_enat\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                           \\<infinity>) =\n                          is_constant\n                           (fst (rewrite_X_enat\n                                  (\\<phi>1 M\\<^sub>n \\<phi>2)))", "case (Or_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (10 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat\n                                (\\<phi>1 or\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat\n                                 (\\<phi>1 or\\<^sub>n \\<phi>2)))\n 6. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                 is_constant (fst (rewrite_X_enat \\<phi>1));\n         (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n         is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n        \\<Longrightarrow> (snd (rewrite_X_enat\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                           \\<infinity>) =\n                          is_constant\n                           (fst (rewrite_X_enat\n                                  (\\<phi>1 M\\<^sub>n \\<phi>2)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF Or_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>)))\n\ngoal (9 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "case (Until_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (9 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF Until_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>)))\n\ngoal (8 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "case (Release_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (8 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF Release_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>)))\n\ngoal (7 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "case (WeakUntil_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (7 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2)))\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF WeakUntil_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>)))\n\ngoal (6 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "case (StrongRelease_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (6 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>(snd (rewrite_X_enat \\<phi>1) = \\<infinity>) =\n                is_constant (fst (rewrite_X_enat \\<phi>1));\n        (snd (rewrite_X_enat \\<phi>2) = \\<infinity>) =\n        is_constant (fst (rewrite_X_enat \\<phi>2))\\<rbrakk>\n       \\<Longrightarrow> (snd (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)) =\n                          \\<infinity>) =\n                         is_constant\n                          (fst (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n  (snd (rewrite_X_enat \\<psi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<psi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>)))", "by (simp add: combine_infinity_invariant[OF StrongRelease_ltln(1,2), unfolded prod.collapse])"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>)))\n\ngoal (5 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n\ngoal (5 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))\n 5. \\<And>\\<phi>.\n       (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat \\<phi>)) \\<Longrightarrow>\n       (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))", "thus ?case"], ["proof (prove)\nusing this:\n  (snd (rewrite_X_enat \\<phi>) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat \\<phi>))\n\ngoal (1 subgoal):\n 1. (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))", "by (simp add: split_def) (metis eSuc_infinity eSuc_inject)"], ["proof (state)\nthis:\n  (snd (rewrite_X_enat (X\\<^sub>n \\<phi>)) = \\<infinity>) =\n  is_constant (fst (rewrite_X_enat (X\\<^sub>n \\<phi>)))\n\ngoal (4 subgoals):\n 1. (snd (rewrite_X_enat true\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat true\\<^sub>n))\n 2. (snd (rewrite_X_enat false\\<^sub>n) = \\<infinity>) =\n    is_constant (fst (rewrite_X_enat false\\<^sub>n))\n 3. \\<And>x.\n       (snd (rewrite_X_enat prop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat prop\\<^sub>n(x)))\n 4. \\<And>x.\n       (snd (rewrite_X_enat nprop\\<^sub>n(x)) = \\<infinity>) =\n       is_constant (fst (rewrite_X_enat nprop\\<^sub>n(x)))", "qed auto"], ["", "lemma rewrite_X_enat_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> =\n    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 and\\<^sub>n \\<phi>2))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 or\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                          w \\<Turnstile>\\<^sub>n to_ltln\n            (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\nA total of 11 subgoals...", "case (And_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 and\\<^sub>n \\<phi>2))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 or\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                          w \\<Turnstile>\\<^sub>n to_ltln\n            (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>))", "using combine_and_or_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (combine mk_and\n                             (fst (rewrite_X_enat ?\\<phi>2),\n                              snd (rewrite_X_enat ?\\<phi>2))\n                             (fst (rewrite_X_enat ?\\<phi>1),\n                              snd (rewrite_X_enat ?\\<phi>1))) =\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (fst (rewrite_X_enat ?\\<phi>2),\n                            snd (rewrite_X_enat\n                                  ?\\<phi>2)) and\\<^sub>n to_ltln\n                    (fst (rewrite_X_enat ?\\<phi>1),\n                     snd (rewrite_X_enat ?\\<phi>1))\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (combine mk_or\n                             (fst (rewrite_X_enat ?\\<phi>2),\n                              snd (rewrite_X_enat ?\\<phi>2))\n                             (fst (rewrite_X_enat ?\\<phi>1),\n                              snd (rewrite_X_enat ?\\<phi>1))) =\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (fst (rewrite_X_enat ?\\<phi>2),\n                            snd (rewrite_X_enat\n                                  ?\\<phi>2)) or\\<^sub>n to_ltln\n                   (fst (rewrite_X_enat ?\\<phi>1),\n                    snd (rewrite_X_enat ?\\<phi>1))\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>))", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln\n                          (rewrite_X_enat (\\<phi> and\\<^sub>n \\<psi>))\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 or\\<^sub>n \\<phi>2))\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                          w \\<Turnstile>\\<^sub>n to_ltln\n            (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 or\\<^sub>n \\<phi>2))\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                          w \\<Turnstile>\\<^sub>n to_ltln\n            (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "case (Or_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 or\\<^sub>n \\<phi>2))\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                          w \\<Turnstile>\\<^sub>n to_ltln\n            (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>))", "using combine_and_or_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (combine mk_and\n                             (fst (rewrite_X_enat ?\\<phi>2),\n                              snd (rewrite_X_enat ?\\<phi>2))\n                             (fst (rewrite_X_enat ?\\<phi>1),\n                              snd (rewrite_X_enat ?\\<phi>1))) =\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (fst (rewrite_X_enat ?\\<phi>2),\n                            snd (rewrite_X_enat\n                                  ?\\<phi>2)) and\\<^sub>n to_ltln\n                    (fst (rewrite_X_enat ?\\<phi>1),\n                     snd (rewrite_X_enat ?\\<phi>1))\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (combine mk_or\n                             (fst (rewrite_X_enat ?\\<phi>2),\n                              snd (rewrite_X_enat ?\\<phi>2))\n                             (fst (rewrite_X_enat ?\\<phi>1),\n                              snd (rewrite_X_enat ?\\<phi>1))) =\n  ?w \\<Turnstile>\\<^sub>n to_ltln\n                           (fst (rewrite_X_enat ?\\<phi>2),\n                            snd (rewrite_X_enat\n                                  ?\\<phi>2)) or\\<^sub>n to_ltln\n                   (fst (rewrite_X_enat ?\\<phi>1),\n                    snd (rewrite_X_enat ?\\<phi>1))\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>))", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (\\<phi> or\\<^sub>n \\<psi>))\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "case (Until_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 U\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>))", "unfolding rewrite_X_enat.simps combine_until_release_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant, unfolded prod.collapse]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat\n                              \\<phi>) U\\<^sub>n to_ltln\n           (rewrite_X_enat \\<psi>)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (\\<phi> U\\<^sub>n \\<psi>))\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "case (Release_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 R\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>))", "unfolding rewrite_X_enat.simps combine_until_release_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant, unfolded prod.collapse]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat\n                              \\<phi>) R\\<^sub>n to_ltln\n           (rewrite_X_enat \\<psi>)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (\\<phi> R\\<^sub>n \\<psi>))\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "case (WeakUntil_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 W\\<^sub>n \\<phi>2))\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>))", "unfolding rewrite_X_enat.simps combine_weak_until_strong_release_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant, unfolded prod.collapse]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat\n                              \\<phi>) W\\<^sub>n to_ltln\n           (rewrite_X_enat \\<psi>)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (\\<phi> W\\<^sub>n \\<psi>))\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "case (StrongRelease_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>1);\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>2)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 =\n                         w \\<Turnstile>\\<^sub>n to_ltln\n           (rewrite_X_enat (\\<phi>1 M\\<^sub>n \\<phi>2))", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>))", "unfolding rewrite_X_enat.simps combine_weak_until_strong_release_semantics[OF rewrite_X_enat_infinity_invariant rewrite_X_enat_infinity_invariant, unfolded prod.collapse]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?w \\<Turnstile>\\<^sub>n \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<psi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n to_ltln\n                            (rewrite_X_enat\n                              \\<phi>) M\\<^sub>n to_ltln\n           (rewrite_X_enat \\<psi>)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (\\<phi> M\\<^sub>n \\<psi>))\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "moreover"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "have \" w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) \\<longleftrightarrow> suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) =\n    suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)", "by (simp add: split_def; cases \"snd (rewrite_X_enat \\<phi>) \\<noteq> \\<infinity>\")\n         (auto simp: eSuc_def, auto simp: rewrite_X_enat_infinity_invariant eSuc_def dest: is_constant_semantics)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) =\n  suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi> =\n           w \\<Turnstile>\\<^sub>n to_ltln\n                                   (rewrite_X_enat\n                                     \\<phi>)) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "ultimately"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) =\n  suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) =\n  suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "using semantics_ltln.simps(7)"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>)) =\n  suffix 1 w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>)\n  ?\\<xi> \\<Turnstile>\\<^sub>n X\\<^sub>n ?\\<phi> =\n  suffix 1 ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n    w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n  w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat (X\\<^sub>n \\<phi>))\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat true\\<^sub>n)\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat false\\<^sub>n)\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat prop\\<^sub>n(x))\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat nprop\\<^sub>n(x))", "qed auto"], ["", "lemma rewrite_X_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_X \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_X \\<phi> = w \\<Turnstile>\\<^sub>n \\<phi>", "using rewrite_X_enat_correct"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat ?\\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_X \\<phi> = w \\<Turnstile>\\<^sub>n \\<phi>", "unfolding rewrite_X_def Let_def"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> =\n  ?w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat ?\\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n to_ltln (rewrite_X_enat \\<phi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "by auto"], ["", "subsection \\<open>Pure Eventual, Pure Universal, and Suspendable Formulas\\<close>"], ["", "fun pure_eventual :: \"'a ltln \\<Rightarrow> bool\"\nwhere\n  \"pure_eventual true\\<^sub>n = True\"\n| \"pure_eventual false\\<^sub>n = True\"\n| \"pure_eventual (\\<mu> and\\<^sub>n \\<mu>') = (pure_eventual \\<mu> \\<and> pure_eventual \\<mu>')\"\n| \"pure_eventual (\\<mu> or\\<^sub>n \\<mu>') = (pure_eventual \\<mu> \\<and> pure_eventual \\<mu>')\"\n| \"pure_eventual (\\<mu> U\\<^sub>n \\<mu>') = (\\<mu> = true\\<^sub>n \\<or> pure_eventual \\<mu>')\"\n| \"pure_eventual (\\<mu> R\\<^sub>n \\<mu>') = (pure_eventual \\<mu> \\<and> pure_eventual \\<mu>')\"\n| \"pure_eventual (\\<mu> W\\<^sub>n \\<mu>') = (pure_eventual \\<mu> \\<and> pure_eventual \\<mu>')\"\n| \"pure_eventual (\\<mu> M\\<^sub>n \\<mu>') = (pure_eventual \\<mu> \\<and> pure_eventual \\<mu>' \\<or> \\<mu>' = true\\<^sub>n)\"\n| \"pure_eventual (X\\<^sub>n \\<mu>) = pure_eventual \\<mu>\"\n| \"pure_eventual _ = False\""], ["", "fun pure_universal :: \"'a ltln \\<Rightarrow> bool\"\nwhere\n  \"pure_universal true\\<^sub>n = True\"\n| \"pure_universal false\\<^sub>n = True\"\n| \"pure_universal (\\<nu> and\\<^sub>n \\<nu>') = (pure_universal \\<nu> \\<and> pure_universal \\<nu>')\"\n| \"pure_universal (\\<nu> or\\<^sub>n \\<nu>') = (pure_universal \\<nu> \\<and> pure_universal \\<nu>')\"\n| \"pure_universal (\\<nu> U\\<^sub>n \\<nu>') = (pure_universal \\<nu> \\<and> pure_universal \\<nu>')\"\n| \"pure_universal (\\<nu> R\\<^sub>n \\<nu>') = (\\<nu> = false\\<^sub>n \\<or> pure_universal \\<nu>')\"\n| \"pure_universal (\\<nu> W\\<^sub>n \\<nu>') = (pure_universal \\<nu> \\<and> pure_universal \\<nu>' \\<or> \\<nu>' = false\\<^sub>n)\"\n| \"pure_universal (\\<nu> M\\<^sub>n \\<nu>') = (pure_universal \\<nu> \\<and> pure_universal \\<nu>')\"\n| \"pure_universal (X\\<^sub>n \\<nu>) = pure_universal \\<nu>\"\n| \"pure_universal _ = False\""], ["", "fun suspendable :: \"'a ltln \\<Rightarrow> bool\"\nwhere\n  \"suspendable true\\<^sub>n = True\"\n| \"suspendable false\\<^sub>n = True\"\n| \"suspendable (\\<xi> and\\<^sub>n \\<xi>') = (suspendable \\<xi> \\<and> suspendable \\<xi>')\"\n| \"suspendable (\\<xi> or\\<^sub>n \\<xi>') = (suspendable \\<xi> \\<and> suspendable \\<xi>')\"\n| \"suspendable (\\<phi> U\\<^sub>n \\<xi>) = (\\<phi> = true\\<^sub>n \\<and> pure_universal \\<xi> \\<or> suspendable \\<xi>)\"\n| \"suspendable (\\<phi> R\\<^sub>n \\<xi>) = (\\<phi> = false\\<^sub>n \\<and> pure_eventual \\<xi> \\<or> suspendable \\<xi>)\"\n| \"suspendable (\\<phi> W\\<^sub>n \\<xi>) = (suspendable \\<phi> \\<and> suspendable \\<xi> \\<or> pure_eventual \\<phi> \\<and> \\<xi> = false\\<^sub>n)\"\n| \"suspendable (\\<phi> M\\<^sub>n \\<xi>) = (suspendable \\<phi> \\<and> suspendable \\<xi> \\<or> pure_universal \\<phi> \\<and> \\<xi> = true\\<^sub>n)\"\n| \"suspendable (X\\<^sub>n \\<xi>) = suspendable \\<xi>\"\n| \"suspendable _ = False\""], ["", "lemma pure_eventual_left_append:\n  \"pure_eventual \\<mu> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pure_eventual \\<mu>; w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n    \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>", "proof (induction \\<mu> arbitrary: u w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "case (Until_ltln \\<mu> \\<mu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'", "obtain i where \"suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<mu>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "hence \"\\<mu> = true\\<^sub>n \\<Longrightarrow> ?case\""], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu> = true\\<^sub>n \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'", "by simp (metis suffix_conc_length suffix_suffix)"], ["proof (state)\nthis:\n  \\<mu> = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<mu> = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "have \"pure_eventual \\<mu>' \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pure_eventual \\<mu>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>'", "by (metis \\<open>suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\\<close> Until_ltln(2) prefix_suffix)"], ["proof (state)\nthis:\n  pure_eventual \\<mu>' \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "hence \"pure_eventual \\<mu>' \\<Longrightarrow> ?case\""], ["proof (prove)\nusing this:\n  pure_eventual \\<mu>' \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. pure_eventual \\<mu>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'", "by force"], ["proof (state)\nthis:\n  pure_eventual \\<mu>' \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 U\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 U\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\nA total of 11 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n  \\<mu> = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n  pure_eventual \\<mu>' \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> U\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n  \\<mu> = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n  pure_eventual \\<mu>' \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'", "by fastforce"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> U\\<^sub>n \\<mu>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "case (Release_ltln \\<mu> \\<mu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> R\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> R\\<^sub>n \\<mu>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 R\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 R\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 10. \\<And>\\<mu>1 \\<mu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_eventual \\<mu>1;\n                     w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                    \\<Longrightarrow> (u \\<frown>\n w) \\<Turnstile>\\<^sub>n \\<mu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_eventual \\<mu>2;\n             w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n            \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n         pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n         w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> R\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> R\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> R\\<^sub>n \\<mu>'", "by (cases \"\\<forall>i. suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\"; simp_all)\n         (metis linear suffix_conc_snd gr0I not_less0 prefix_suffix suffix_0)+"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> R\\<^sub>n \\<mu>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "case (WeakUntil_ltln \\<mu> \\<mu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> W\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> W\\<^sub>n \\<mu>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 W\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 W\\<^sub>n \\<mu>2\n 9. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> W\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> W\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> W\\<^sub>n \\<mu>'", "by (cases \"\\<forall>i. suffix i w \\<Turnstile>\\<^sub>n \\<mu>'\"; simp_all)\n         (metis zero_le le0 nat_le_linear prefix_suffix suffix_0 suffix_conc_length suffix_conc_snd suffix_subseq_join)+"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> W\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "case (StrongRelease_ltln \\<mu> \\<mu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'", "obtain i where \"suffix i w \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i\n         w \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  suffix i w \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "hence \"\\<mu>' = true\\<^sub>n \\<Longrightarrow> ?case\""], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu>' = true\\<^sub>n \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'", "by simp (metis suffix_conc_length suffix_suffix)"], ["proof (state)\nthis:\n  \\<mu>' = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "moreover"], ["proof (state)\nthis:\n  \\<mu>' = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "have \"pure_eventual \\<mu> \\<Longrightarrow> pure_eventual \\<mu>' \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n    \\<Longrightarrow> (u \\<frown>\n                       w) \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'", "by (metis \\<open>suffix i w \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\\<close> calculation(1) calculation(2) prefix_suffix semantics_ltln.simps(5))"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (u \\<frown>\n                     w) \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "hence \"pure_eventual \\<mu> \\<Longrightarrow> pure_eventual \\<mu>' \\<Longrightarrow> ?case\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (u \\<frown>\n                     w) \\<Turnstile>\\<^sub>n \\<mu> and\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n    \\<Longrightarrow> (u \\<frown>\n                       w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (u \\<frown>\n                     w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n 8. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 M\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 M\\<^sub>n \\<mu>2", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n  \\<mu>' = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n  \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (u \\<frown>\n                     w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_eventual \\<mu>; ?w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  \\<lbrakk>pure_eventual \\<mu>'; ?w \\<Turnstile>\\<^sub>n \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>'\n  pure_eventual (\\<mu> M\\<^sub>n \\<mu>')\n  w \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n  \\<mu>' = true\\<^sub>n \\<Longrightarrow>\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n  \\<lbrakk>pure_eventual \\<mu>; pure_eventual \\<mu>'\\<rbrakk>\n  \\<Longrightarrow> (u \\<frown>\n                     w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'", "by fastforce"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu> M\\<^sub>n \\<mu>'\n\ngoal (7 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_eventual true\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_eventual false\\<^sub>n;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_eventual prop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_eventual nprop\\<^sub>n(x);\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 and\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 and\\<^sub>n \\<mu>2\n 6. \\<And>\\<mu>1 \\<mu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>1;\n                    w \\<Turnstile>\\<^sub>n \\<mu>1\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_eventual \\<mu>2;\n            w \\<Turnstile>\\<^sub>n \\<mu>2\\<rbrakk>\n           \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<mu>2;\n        pure_eventual (\\<mu>1 or\\<^sub>n \\<mu>2);\n        w \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<mu>1 or\\<^sub>n \\<mu>2\n 7. \\<And>\\<mu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_eventual \\<mu>;\n                    w \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n                   \\<Longrightarrow> (u \\<frown>\nw) \\<Turnstile>\\<^sub>n \\<mu>;\n        pure_eventual (X\\<^sub>n \\<mu>);\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>", "qed (auto, metis diff_zero le_0_eq not_less_eq_eq suffix_conc_length suffix_conc_snd word_split)"], ["", "lemma pure_universal_suffix_closed:\n  \"pure_universal \\<nu> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pure_universal \\<nu>;\n     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>", "proof (induction \\<nu> arbitrary: u w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 U\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\nA total of 11 subgoals...", "case (Until_ltln \\<nu> \\<nu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> U\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> U\\<^sub>n \\<nu>'\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 U\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\nA total of 11 subgoals...", "hence \"\\<exists>i. suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<and> (\\<forall>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> U\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> U\\<^sub>n \\<nu>'\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<and>\n       (\\<forall>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)", "using semantics_ltln.simps(8)"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> U\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> U\\<^sub>n \\<nu>'\n  ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi> U\\<^sub>n ?\\<psi> =\n  (\\<exists>i.\n      suffix i ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<psi> \\<and>\n      (\\<forall>j<i. suffix j ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi>))\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<and>\n       (\\<forall>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<and>\n     (\\<forall>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 U\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 U\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<and>\n     (\\<forall>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<nu> U\\<^sub>n \\<nu>'", "by simp (metis Until_ltln(1-3) le_0_eq le_eq_less_or_eq le_less_linear prefix_suffix pure_universal.simps(5) suffix_conc_fst suffix_conc_snd)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<nu> U\\<^sub>n \\<nu>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "case (Release_ltln \\<nu> \\<nu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> R\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> R\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "hence \"\\<forall>i. suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<or> (\\<exists>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> R\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<or>\n       (\\<exists>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)", "by simp"], ["proof (state)\nthis:\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<or>\n     (\\<exists>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 R\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 R\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 10. \\<And>\\<nu>1 \\<nu>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    \\<lbrakk>pure_universal \\<nu>1;\n                     (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n         \\<And>u w.\n            \\<lbrakk>pure_universal \\<nu>2;\n             (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n            \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n         pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n         (u \\<frown>\n          w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> R\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<or>\n     (\\<exists>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> R\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>' \\<or>\n     (\\<exists>j<i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'", "by simp (metis semantics_ltln.simps(2) not_less0 prefix_suffix suffix_0 suffix_conc_length suffix_suffix)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<nu> R\\<^sub>n \\<nu>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "case (WeakUntil_ltln \\<nu> \\<nu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> W\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> W\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "hence \"\\<forall>i. suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<or> (\\<exists>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> W\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<or>\n       (\\<exists>j\\<le>i.\n           suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')", "by simp"], ["proof (state)\nthis:\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<or>\n     (\\<exists>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 W\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 W\\<^sub>n \\<nu>2\n 9. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> W\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<or>\n     (\\<exists>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> W\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n  \\<forall>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<or>\n     (\\<exists>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'", "by simp (metis (full_types) le_antisym prefix_suffix semantics_ltln.simps(2) suffix_0 suffix_conc_length suffix_suffix zero_le)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<nu> W\\<^sub>n \\<nu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "case (StrongRelease_ltln \\<nu> \\<nu>')"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> M\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> M\\<^sub>n \\<nu>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "hence \"\\<exists>i. suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<and> (\\<forall>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\""], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> M\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> M\\<^sub>n \\<nu>'\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<and>\n       (\\<forall>j\\<le>i.\n           suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')", "using semantics_ltln.simps(11)"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>\n  \\<lbrakk>pure_universal \\<nu>';\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu>'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<nu>'\n  pure_universal (\\<nu> M\\<^sub>n \\<nu>')\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> M\\<^sub>n \\<nu>'\n  ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi> =\n  (\\<exists>i.\n      suffix i ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi> \\<and>\n      (\\<forall>j\\<le>i. suffix j ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<psi>))\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<and>\n       (\\<forall>j\\<le>i.\n           suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<and>\n     (\\<forall>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\n 8. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 M\\<^sub>n \\<nu>2);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 M\\<^sub>n \\<nu>2", "thus ?case"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     suffix i (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu> \\<and>\n     (\\<forall>j\\<le>i. suffix j (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>')\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<nu> M\\<^sub>n \\<nu>'", "by simp (metis StrongRelease_ltln(1-3) diff_is_0_eq nat_le_linear prefix_conc_length prefix_suffix pure_universal.simps(8) subsequence_length suffix_conc_snd suffix_subseq_join)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<nu> M\\<^sub>n \\<nu>'\n\ngoal (7 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>", "case (Next_ltln \\<mu>)"], ["proof (state)\nthis:\n  \\<lbrakk>pure_universal \\<mu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<mu>\n  pure_universal (X\\<^sub>n \\<mu>)\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n\ngoal (7 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\n 7. \\<And>\\<nu> u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>;\n        pure_universal (X\\<^sub>n \\<nu>);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<nu>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>pure_universal \\<mu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n \\<mu>\n  pure_universal (X\\<^sub>n \\<mu>)\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>", "by (metis prefix_suffix pure_universal.simps(9) semantics_ltln.simps(7) semiring_normalization_rules(24) suffix_conc_length suffix_suffix)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<mu>\n\ngoal (6 subgoals):\n 1. \\<And>u w.\n       \\<lbrakk>pure_universal true\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       \\<lbrakk>pure_universal false\\<^sub>n;\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       \\<lbrakk>pure_universal prop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       \\<lbrakk>pure_universal nprop\\<^sub>n(x);\n        (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 and\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 and\\<^sub>n \\<nu>2\n 6. \\<And>\\<nu>1 \\<nu>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   \\<lbrakk>pure_universal \\<nu>1;\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>1\\<rbrakk>\n                   \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1;\n        \\<And>u w.\n           \\<lbrakk>pure_universal \\<nu>2;\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<nu>2\\<rbrakk>\n           \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>2;\n        pure_universal (\\<nu>1 or\\<^sub>n \\<nu>2);\n        (u \\<frown>\n         w) \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>1 or\\<^sub>n \\<nu>2", "qed auto"], ["", "lemma suspendable_prefix_invariant:\n  \"suspendable \\<xi> \\<Longrightarrow> (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suspendable \\<xi> \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>", "proof (induction \\<xi> arbitrary: u w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 U\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 U\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 U\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 R\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2\n 10. \\<And>\\<xi>1 \\<xi>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    suspendable \\<xi>1 \\<Longrightarrow>\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<xi>1;\n         \\<And>u w.\n            suspendable \\<xi>2 \\<Longrightarrow>\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n            w \\<Turnstile>\\<^sub>n \\<xi>2;\n         suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                          w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\nA total of 11 subgoals...", "case (Until_ltln \\<xi> \\<xi>')"], ["proof (state)\nthis:\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> U\\<^sub>n \\<xi>')\n\ngoal (11 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 U\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 U\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 U\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 R\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2\n 10. \\<And>\\<xi>1 \\<xi>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    suspendable \\<xi>1 \\<Longrightarrow>\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<xi>1;\n         \\<And>u w.\n            suspendable \\<xi>2 \\<Longrightarrow>\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n            w \\<Turnstile>\\<^sub>n \\<xi>2;\n         suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                          w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\nA total of 11 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "proof (cases \"suspendable \\<xi>'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "case False"], ["proof (state)\nthis:\n  \\<not> suspendable \\<xi>'\n\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "hence \"\\<xi> = true\\<^sub>n\" and \"pure_universal \\<xi>'\""], ["proof (prove)\nusing this:\n  \\<not> suspendable \\<xi>'\n\ngoal (1 subgoal):\n 1. \\<xi> = true\\<^sub>n &&& pure_universal \\<xi>'", "using Until_ltln"], ["proof (prove)\nusing this:\n  \\<not> suspendable \\<xi>'\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> U\\<^sub>n \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi> = true\\<^sub>n &&& pure_universal \\<xi>'", "by simp+"], ["proof (state)\nthis:\n  \\<xi> = true\\<^sub>n\n  pure_universal \\<xi>'\n\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<xi> = true\\<^sub>n\n  pure_universal \\<xi>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "by (simp; metis (no_types) linear pure_universal_suffix_closed suffix_conc_fst suffix_conc_length suffix_conc_snd suffix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'\n\ngoal (1 subgoal):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'", "qed (simp; metis Until_ltln(2) not_less0 prefix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> U\\<^sub>n \\<xi>'\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 R\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 10. \\<And>\\<xi>1 \\<xi>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    suspendable \\<xi>1 \\<Longrightarrow>\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<xi>1;\n         \\<And>u w.\n            suspendable \\<xi>2 \\<Longrightarrow>\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n            w \\<Turnstile>\\<^sub>n \\<xi>2;\n         suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                          w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 R\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 10. \\<And>\\<xi>1 \\<xi>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    suspendable \\<xi>1 \\<Longrightarrow>\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<xi>1;\n         \\<And>u w.\n            suspendable \\<xi>2 \\<Longrightarrow>\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n            w \\<Turnstile>\\<^sub>n \\<xi>2;\n         suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                          w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "case (Release_ltln \\<xi> \\<xi>')"], ["proof (state)\nthis:\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> R\\<^sub>n \\<xi>')\n\ngoal (10 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 R\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 R\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 10. \\<And>\\<xi>1 \\<xi>2 u w.\n        \\<lbrakk>\\<And>u w.\n                    suspendable \\<xi>1 \\<Longrightarrow>\n                    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<xi>1;\n         \\<And>u w.\n            suspendable \\<xi>2 \\<Longrightarrow>\n            (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n            w \\<Turnstile>\\<^sub>n \\<xi>2;\n         suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n        \\<Longrightarrow> (u \\<frown>\n                           w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                          w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "proof (cases \"suspendable \\<xi>'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "case False"], ["proof (state)\nthis:\n  \\<not> suspendable \\<xi>'\n\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "hence \"\\<xi> = false\\<^sub>n\" and \"pure_eventual \\<xi>'\""], ["proof (prove)\nusing this:\n  \\<not> suspendable \\<xi>'\n\ngoal (1 subgoal):\n 1. \\<xi> = false\\<^sub>n &&& pure_eventual \\<xi>'", "using Release_ltln"], ["proof (prove)\nusing this:\n  \\<not> suspendable \\<xi>'\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> R\\<^sub>n \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi> = false\\<^sub>n &&& pure_eventual \\<xi>'", "by simp+"], ["proof (state)\nthis:\n  \\<xi> = false\\<^sub>n\n  pure_eventual \\<xi>'\n\ngoal (2 subgoals):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'\n 2. \\<not> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<xi> = false\\<^sub>n\n  pure_eventual \\<xi>'\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "by (simp; metis (no_types) le_iff_add add_diff_cancel_left' linear pure_eventual_left_append suffix_0 suffix_conc_fst suffix_conc_snd)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'\n\ngoal (1 subgoal):\n 1. suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'", "qed (simp; metis Release_ltln(2) not_less0 prefix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> R\\<^sub>n \\<xi>'\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "case (WeakUntil_ltln \\<xi> \\<xi>')"], ["proof (state)\nthis:\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> W\\<^sub>n \\<xi>')\n\ngoal (9 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 W\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 W\\<^sub>n \\<xi>2\n 9. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "proof (cases \"suspendable \\<xi> \\<and> suspendable \\<xi>'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "case False"], ["proof (state)\nthis:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "hence \"\\<xi>' = false\\<^sub>n\" and \"pure_eventual \\<xi>\""], ["proof (prove)\nusing this:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi>' = false\\<^sub>n &&& pure_eventual \\<xi>", "using WeakUntil_ltln"], ["proof (prove)\nusing this:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> W\\<^sub>n \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi>' = false\\<^sub>n &&& pure_eventual \\<xi>", "by simp+"], ["proof (state)\nthis:\n  \\<xi>' = false\\<^sub>n\n  pure_eventual \\<xi>\n\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<xi>' = false\\<^sub>n\n  pure_eventual \\<xi>\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "by (simp; metis (no_types) le_iff_add add_diff_cancel_left' linear pure_eventual_left_append suffix_0 suffix_conc_fst suffix_conc_snd)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'\n\ngoal (1 subgoal):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'", "qed (simp; metis (full_types) WeakUntil_ltln.IH prefix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> W\\<^sub>n \\<xi>'\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "case (StrongRelease_ltln \\<xi> \\<xi>')"], ["proof (state)\nthis:\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> M\\<^sub>n \\<xi>')\n\ngoal (8 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>\n 8. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 M\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 M\\<^sub>n \\<xi>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "proof (cases \"suspendable \\<xi> \\<and> suspendable \\<xi>'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "case False"], ["proof (state)\nthis:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "hence \"\\<xi>' = true\\<^sub>n\" and \"pure_universal \\<xi>\""], ["proof (prove)\nusing this:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi>' = true\\<^sub>n &&& pure_universal \\<xi>", "using StrongRelease_ltln"], ["proof (prove)\nusing this:\n  \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>')\n  suspendable \\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  suspendable \\<xi>' \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi>' =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>'\n  suspendable (\\<xi> M\\<^sub>n \\<xi>')\n\ngoal (1 subgoal):\n 1. \\<xi>' = true\\<^sub>n &&& pure_universal \\<xi>", "by simp+"], ["proof (state)\nthis:\n  \\<xi>' = true\\<^sub>n\n  pure_universal \\<xi>\n\ngoal (2 subgoals):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'\n 2. \\<not> (suspendable \\<xi> \\<and> suspendable \\<xi>') \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<xi>' = true\\<^sub>n\n  pure_universal \\<xi>\n\ngoal (1 subgoal):\n 1. (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "by (simp; metis (no_types) linear pure_universal_suffix_closed suffix_conc_fst suffix_conc_length suffix_conc_snd suffix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'\n\ngoal (1 subgoal):\n 1. suspendable \\<xi> \\<and> suspendable \\<xi>' \\<Longrightarrow>\n    (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n    w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'", "qed (simp; metis (full_types) StrongRelease_ltln.IH(1) StrongRelease_ltln.IH(2) prefix_suffix)"], ["proof (state)\nthis:\n  (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>' =\n  w \\<Turnstile>\\<^sub>n \\<xi> M\\<^sub>n \\<xi>'\n\ngoal (7 subgoals):\n 1. \\<And>u w.\n       suspendable true\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>u w.\n       suspendable false\\<^sub>n \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x u w.\n       suspendable prop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x u w.\n       suspendable nprop\\<^sub>n(x) \\<Longrightarrow>\n       (u \\<frown> w) \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 and\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 and\\<^sub>n \\<xi>2\n 6. \\<And>\\<xi>1 \\<xi>2 u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi>1 \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<xi>1;\n        \\<And>u w.\n           suspendable \\<xi>2 \\<Longrightarrow>\n           (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi>2 =\n           w \\<Turnstile>\\<^sub>n \\<xi>2;\n        suspendable (\\<xi>1 or\\<^sub>n \\<xi>2)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2 =\n                         w \\<Turnstile>\\<^sub>n \\<xi>1 or\\<^sub>n \\<xi>2\n 7. \\<And>\\<xi> u w.\n       \\<lbrakk>\\<And>u w.\n                   suspendable \\<xi> \\<Longrightarrow>\n                   (u \\<frown> w) \\<Turnstile>\\<^sub>n \\<xi> =\n                   w \\<Turnstile>\\<^sub>n \\<xi>;\n        suspendable (X\\<^sub>n \\<xi>)\\<rbrakk>\n       \\<Longrightarrow> (u \\<frown>\n                          w) \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n                         w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi>", "qed (simp_all, metis prefix_suffix)"], ["", "theorem pure_eventual_until_simp:\n  assumes \"pure_eventual \\<mu>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> =\n    w \\<Turnstile>\\<^sub>n \\<mu>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> =\n    w \\<Turnstile>\\<^sub>n \\<mu>", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n \\<mu>", "using pure_eventual_left_append[OF assms] prefix_suffix"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<mu>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n \\<mu>", "by metis"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<mu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> =\n    w \\<Turnstile>\\<^sub>n \\<mu>", "thus ?thesis"], ["proof (prove)\nusing this:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<mu> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<mu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> =\n    w \\<Turnstile>\\<^sub>n \\<mu>", "by force"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<mu> =\n  w \\<Turnstile>\\<^sub>n \\<mu>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem pure_universal_release_simp:\n  assumes \"pure_universal \\<nu>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> =\n    w \\<Turnstile>\\<^sub>n \\<nu>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> =\n    w \\<Turnstile>\\<^sub>n \\<nu>", "have \"\\<And>i. w \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow> suffix i w \\<Turnstile>\\<^sub>n \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       w \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow>\n       suffix i w \\<Turnstile>\\<^sub>n \\<nu>", "using pure_universal_suffix_closed[OF assms] prefix_suffix"], ["proof (prove)\nusing this:\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n \\<nu>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       w \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow>\n       suffix i w \\<Turnstile>\\<^sub>n \\<nu>", "by metis"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<nu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> =\n    w \\<Turnstile>\\<^sub>n \\<nu>", "thus ?thesis"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<nu> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<nu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> =\n    w \\<Turnstile>\\<^sub>n \\<nu>", "by force"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<nu> =\n  w \\<Turnstile>\\<^sub>n \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem pure_universal_weak_until_simp:\n  assumes \"pure_universal \\<phi>\" and \"pure_universal \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "have \"\\<And>i. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow> suffix i w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<And>i. w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi>)", "using assms pure_universal_suffix_closed prefix_suffix"], ["proof (prove)\nusing this:\n  pure_universal \\<phi>\n  pure_universal \\<psi>\n  \\<lbrakk>pure_universal ?\\<nu>;\n   (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n ?\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<nu>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi>)", "by metis+"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi>\n  w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "thus ?thesis"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi>\n  w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "by force"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem pure_eventual_strong_release_simp:\n  assumes \"pure_eventual \\<phi>\" and \"pure_eventual \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<psi>)", "using assms pure_eventual_left_append prefix_suffix"], ["proof (prove)\nusing this:\n  pure_eventual \\<phi>\n  pure_eventual \\<psi>\n  \\<lbrakk>pure_eventual ?\\<mu>; ?w \\<Turnstile>\\<^sub>n ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n ?\\<mu>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<psi>)", "by metis+"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "thus ?thesis"], ["proof (prove)\nusing this:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "by force"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem suspendable_formula_simp:\n  assumes \"suspendable \\<xi>\"\n  shows \"w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t1)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t2)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\" (is ?t3)"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>\n 3. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<xi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<xi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>", "using suspendable_prefix_invariant[OF assms] prefix_suffix"], ["proof (prove)\nusing this:\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n \\<xi> =\n  ?w \\<Turnstile>\\<^sub>n \\<xi>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>", "by metis"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>\n\ngoal (3 subgoals):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>\n 3. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>", "thus ?t1 ?t2 ?t3"], ["proof (prove)\nusing this:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> =\n    w \\<Turnstile>\\<^sub>n \\<xi>", "by force+"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<xi> = w \\<Turnstile>\\<^sub>n \\<xi>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<xi> =\n  w \\<Turnstile>\\<^sub>n \\<xi>\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<xi> =\n  w \\<Turnstile>\\<^sub>n \\<xi>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem suspendable_formula_simp2:\n  assumes \"suspendable \\<phi>\" and \"suspendable \\<psi>\"\n  shows \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\" (is ?t1)\n    and \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\" (is ?t2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>)", "using assms suspendable_prefix_invariant prefix_suffix"], ["proof (prove)\nusing this:\n  suspendable \\<phi>\n  suspendable \\<psi>\n  suspendable ?\\<xi> \\<Longrightarrow>\n  (?u \\<frown> ?w) \\<Turnstile>\\<^sub>n ?\\<xi> =\n  ?w \\<Turnstile>\\<^sub>n ?\\<xi>\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>) &&&\n    (\\<And>i.\n        suffix i w \\<Turnstile>\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>)", "by metis+"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> = w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> = w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "thus ?t1 ?t2"], ["proof (prove)\nusing this:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> = w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> = w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>", "by force+"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "fun rewrite_modal :: \"'a ltln \\<Rightarrow> 'a ltln\"\nwhere\n  \"rewrite_modal true\\<^sub>n = true\\<^sub>n\"\n| \"rewrite_modal false\\<^sub>n = false\\<^sub>n\"\n| \"rewrite_modal (\\<phi> and\\<^sub>n \\<psi>) = (rewrite_modal \\<phi> and\\<^sub>n rewrite_modal \\<psi>)\"\n| \"rewrite_modal (\\<phi> or\\<^sub>n \\<psi>) = (rewrite_modal \\<phi> or\\<^sub>n rewrite_modal \\<psi>)\"\n| \"rewrite_modal (\\<phi> U\\<^sub>n \\<psi>) = (if pure_eventual \\<psi> \\<or> suspendable \\<psi> then rewrite_modal \\<psi> else (rewrite_modal \\<phi> U\\<^sub>n rewrite_modal \\<psi>))\"\n| \"rewrite_modal (\\<phi> R\\<^sub>n \\<psi>) = (if pure_universal \\<psi> \\<or> suspendable \\<psi> then rewrite_modal \\<psi> else (rewrite_modal \\<phi> R\\<^sub>n rewrite_modal \\<psi>))\"\n| \"rewrite_modal (\\<phi> W\\<^sub>n \\<psi>) = (if pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or> suspendable \\<phi> \\<and> suspendable \\<psi> then (rewrite_modal \\<phi> or\\<^sub>n rewrite_modal \\<psi>) else (rewrite_modal \\<phi> W\\<^sub>n rewrite_modal \\<psi>))\"\n| \"rewrite_modal (\\<phi> M\\<^sub>n \\<psi>) = (if pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or> suspendable \\<phi> \\<and> suspendable \\<psi> then (rewrite_modal \\<phi> and\\<^sub>n rewrite_modal \\<psi>) else (rewrite_modal \\<phi> M\\<^sub>n rewrite_modal \\<psi>))\"\n| \"rewrite_modal (X\\<^sub>n \\<phi>) = (if suspendable \\<phi> then rewrite_modal \\<phi> else X\\<^sub>n (rewrite_modal \\<phi>))\"\n| \"rewrite_modal \\<phi> = \\<phi>\""], ["", "lemma rewrite_modal_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n            (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "case (Until_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n            (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> U\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "apply (cases \"pure_eventual \\<psi> \\<or> suspendable \\<psi>\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_eventual \\<psi> \\<or> suspendable \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> U\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_eventual \\<psi> \\<or> suspendable \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> U\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "apply (insert pure_eventual_until_simp[of \\<psi>] suspendable_formula_simp[of \\<psi>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_eventual \\<psi> \\<or> suspendable \\<psi>;\n     \\<And>w \\<phi>.\n        pure_eventual \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> U\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_eventual \\<psi> \\<or> suspendable \\<psi>);\n     \\<And>w \\<phi>.\n        pure_eventual \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> U\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Release_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> R\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "apply (cases \"pure_universal \\<psi> \\<or> suspendable \\<psi>\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_universal \\<psi> \\<or> suspendable \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> R\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_universal \\<psi> \\<or> suspendable \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> R\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "apply (insert pure_universal_release_simp[of \\<psi>] suspendable_formula_simp[of \\<psi>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_universal \\<psi> \\<or> suspendable \\<psi>;\n     \\<And>w \\<phi>.\n        pure_universal \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> R\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_universal \\<psi> \\<or> suspendable \\<psi>);\n     \\<And>w \\<phi>.\n        pure_universal \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<And>w \\<phi>.\n        suspendable \\<psi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> R\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (WeakUntil_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> W\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "apply (cases \"pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or> suspendable \\<phi> \\<and> suspendable \\<psi>\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or>\n     suspendable \\<phi> \\<and> suspendable \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> W\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or>\n             suspendable \\<phi> \\<and> suspendable \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> W\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "apply (insert pure_universal_weak_until_simp[of \\<phi> \\<psi>] suspendable_formula_simp2[of \\<phi> \\<psi>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or>\n     suspendable \\<phi> \\<and> suspendable \\<psi>;\n     \\<And>w.\n        \\<lbrakk>pure_universal \\<phi>; pure_universal \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> W\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_universal \\<phi> \\<and> pure_universal \\<psi> \\<or>\n             suspendable \\<phi> \\<and> suspendable \\<psi>);\n     \\<And>w.\n        \\<lbrakk>pure_universal \\<phi>; pure_universal \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> W\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> W\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (StrongRelease_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> M\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "apply (cases \"pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or> suspendable \\<phi> \\<and> suspendable \\<psi>\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or>\n     suspendable \\<phi> \\<and> suspendable \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> M\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or>\n             suspendable \\<phi> \\<and> suspendable \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> M\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "apply (insert pure_eventual_strong_release_simp[of \\<phi> \\<psi>] suspendable_formula_simp2[of \\<phi> \\<psi>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or>\n     suspendable \\<phi> \\<and> suspendable \\<psi>;\n     \\<And>w.\n        \\<lbrakk>pure_eventual \\<phi>; pure_eventual \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> M\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w.\n        w \\<Turnstile>\\<^sub>n rewrite_modal \\<psi> =\n        w \\<Turnstile>\\<^sub>n \\<psi>;\n     \\<not> (pure_eventual \\<phi> \\<and> pure_eventual \\<psi> \\<or>\n             suspendable \\<phi> \\<and> suspendable \\<psi>);\n     \\<And>w.\n        \\<lbrakk>pure_eventual \\<phi>; pure_eventual \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>;\n     \\<And>w.\n        \\<lbrakk>suspendable \\<phi>; suspendable \\<psi>\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n                          w \\<Turnstile>\\<^sub>n \\<phi> and\\<^sub>n \\<psi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (\\<phi> M\\<^sub>n \\<psi>) =\n                      w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_modal (\\<phi> M\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "apply (cases \"suspendable \\<phi>\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     suspendable \\<phi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (X\\<^sub>n \\<phi>) =\n                      w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<not> suspendable \\<phi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (X\\<^sub>n \\<phi>) =\n                      w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "apply (insert suspendable_formula_simp[of \\<phi>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     suspendable \\<phi>;\n     \\<And>w.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w \\<phi>.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w \\<phi>.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (X\\<^sub>n \\<phi>) =\n                      w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 2. \\<lbrakk>\\<And>w.\n                w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi> =\n                w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<not> suspendable \\<phi>;\n     \\<And>w.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w \\<phi>.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>;\n     \\<And>w \\<phi>.\n        suspendable \\<phi> \\<Longrightarrow>\n        w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<phi> =\n        w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n        (X\\<^sub>n \\<phi>) =\n                      w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_modal (X\\<^sub>n \\<phi>) =\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_modal nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_modal \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_modal\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2", "qed auto"], ["", "lemma rewrite_modal_size:\n  \"size (rewrite_modal \\<phi>) \\<le> size \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (rewrite_modal \\<phi>) \\<le> size \\<phi>", "by (induction \\<phi>) auto"], ["", "subsection \\<open>Syntactical Implication Based Simplification\\<close>"], ["", "inductive syntactical_implies :: \"'a ltln \\<Rightarrow> 'a ltln \\<Rightarrow> bool\" (\"_ \\<turnstile>\\<^sub>s _\" [80, 80])\nwhere\n  \"_ \\<turnstile>\\<^sub>s true\\<^sub>n\"\n| \"false\\<^sub>n \\<turnstile>\\<^sub>s _\"\n| \"\\<phi> = \\<phi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s \\<phi>\"\n\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> (\\<phi> and\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<chi>\"\n| \"\\<psi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> (\\<phi> and\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<chi>\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s (\\<psi> and\\<^sub>n \\<chi>)\"\n\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s (\\<psi> or\\<^sub>n \\<chi>)\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s (\\<psi> or\\<^sub>n \\<chi>)\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<psi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> (\\<phi> or\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<chi>\"\n\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<phi> \\<turnstile>\\<^sub>s (\\<psi> U\\<^sub>n \\<chi>)\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<psi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> (\\<phi> U\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<chi>\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<psi> \\<turnstile>\\<^sub>s \\<nu> \\<Longrightarrow> (\\<phi> U\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s (\\<chi> U\\<^sub>n \\<nu>)\"\n\n| \"\\<chi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow> (\\<psi> R\\<^sub>n \\<chi>) \\<turnstile>\\<^sub>s \\<phi>\"\n| \"\\<chi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow> \\<chi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> \\<chi> \\<turnstile>\\<^sub>s (\\<phi> R\\<^sub>n \\<psi>)\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<chi> \\<Longrightarrow> \\<psi> \\<turnstile>\\<^sub>s \\<nu> \\<Longrightarrow> (\\<phi> R\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s (\\<chi> R\\<^sub>n \\<nu>)\"\n\n| \"(false\\<^sub>n R\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> (false\\<^sub>n R\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s X\\<^sub>n \\<psi>\"\n| \"\\<phi> \\<turnstile>\\<^sub>s (true\\<^sub>n U\\<^sub>n \\<psi>) \\<Longrightarrow> (X\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s (true\\<^sub>n U\\<^sub>n \\<psi>)\"\n| \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> (X\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s (X\\<^sub>n \\<psi>)\""], ["", "lemma syntactical_implies_correct:\n  \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<turnstile>\\<^sub>s \\<psi>;\n     w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi>", "by (induction arbitrary: w rule: syntactical_implies.induct; auto; force)"], ["", "fun rewrite_syn_imp\nwhere\n  \"rewrite_syn_imp (\\<phi> and\\<^sub>n \\<psi>) = (\n    if \\<phi> \\<turnstile>\\<^sub>s \\<psi> then\n      rewrite_syn_imp \\<phi>\n    else if \\<psi> \\<turnstile>\\<^sub>s \\<phi> then\n      rewrite_syn_imp \\<psi>\n    else if \\<phi> \\<turnstile>\\<^sub>s (not\\<^sub>n \\<psi>) \\<or> \\<psi> \\<turnstile>\\<^sub>s (not\\<^sub>n \\<phi>) then\n      false\\<^sub>n\n    else\n      mk_and (rewrite_syn_imp \\<phi>) (rewrite_syn_imp \\<psi>))\"\n| \"rewrite_syn_imp (\\<phi> or\\<^sub>n \\<psi>) = (\n    if \\<phi> \\<turnstile>\\<^sub>s \\<psi> then\n      rewrite_syn_imp \\<psi>\n    else if \\<psi> \\<turnstile>\\<^sub>s \\<phi> then\n      rewrite_syn_imp \\<phi>\n    else if (not\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s \\<psi> \\<or> (not\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<phi> then\n      true\\<^sub>n\n    else\n      mk_or (rewrite_syn_imp \\<phi>) (rewrite_syn_imp \\<psi>))\"\n| \"rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) = (\n    if \\<phi> \\<turnstile>\\<^sub>s \\<psi> then\n      rewrite_syn_imp \\<psi>\n    else if (not\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s \\<psi> then\n      mk_finally (rewrite_syn_imp \\<psi>)\n    else\n      mk_until (rewrite_syn_imp \\<phi>) (rewrite_syn_imp \\<psi>))\"\n| \"rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) = (\n    if \\<psi> \\<turnstile>\\<^sub>s \\<phi> then\n      rewrite_syn_imp \\<psi>\n    else if \\<psi> \\<turnstile>\\<^sub>s (not\\<^sub>n \\<phi>) then\n      mk_globally (rewrite_syn_imp \\<psi>)\n    else\n      mk_release (rewrite_syn_imp \\<phi>) (rewrite_syn_imp \\<psi>))\"\n| \"rewrite_syn_imp (X\\<^sub>n \\<phi>) = mk_next (rewrite_syn_imp \\<phi>)\"\n| \"rewrite_syn_imp \\<phi> = \\<phi>\""], ["", "lemma rewrite_syn_imp_sound:\n  \"w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "case And_ltln"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1_ =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1_\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2_ =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2_\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1_ =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1_\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2_ =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2_\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi>1_ and\\<^sub>n \\<phi>2_) =\n    w \\<Turnstile>\\<^sub>n \\<phi>1_ and\\<^sub>n \\<phi>2_", "by (simp add: Let_def; metis syntactical_implies_correct not\\<^sub>n_semantics)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi>1_ and\\<^sub>n \\<phi>2_) =\n  w \\<Turnstile>\\<^sub>n \\<phi>1_ and\\<^sub>n \\<phi>2_\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Or_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "have \"(not\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n    \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "by (auto intro: syntactical_implies_correct[of \"not\\<^sub>n \\<phi>\"])"], ["proof (state)\nthis:\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "have \"(not\\<^sub>n \\<psi>) \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow> \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. not\\<^sub>n \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n    \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "by (auto intro: syntactical_implies_correct[of \"not\\<^sub>n \\<psi>\"])"], ["proof (state)\nthis:\n  not\\<^sub>n \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n            (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "ultimately"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n  not\\<^sub>n \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n  not\\<^sub>n \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  \\<forall>w. w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> or\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>", "by (auto intro: syntactical_implies_correct)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> or\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> or\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Until_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "have \"\\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow> ?case\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "by (force simp add: Until_ltln dest: syntactical_implies_correct)"], ["proof (state)\nthis:\n  \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "{"], ["proof (state)\nthis:\n  \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "assume A: \"(not\\<^sub>n \\<phi>) \\<turnstile>\\<^sub>s \\<psi>\" and B: \"\\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\""], ["proof (state)\nthis:\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi>\n  \\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence [simp]: \"rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) = mk_finally (rewrite_syn_imp \\<psi>)\""], ["proof (prove)\nusing this:\n  not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi>\n  \\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\n\ngoal (1 subgoal):\n 1. rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n    mk_finally (rewrite_syn_imp \\<psi>)", "by simp"], ["proof (state)\nthis:\n  rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  mk_finally (rewrite_syn_imp \\<psi>)\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "{"], ["proof (state)\nthis:\n  rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  mk_finally (rewrite_syn_imp \\<psi>)\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "assume \"\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "define i where \"i \\<equiv> LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  i \\<equiv> LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  i \\<equiv> LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "have \"\\<forall>j < i. \\<not>suffix j w \\<Turnstile>\\<^sub>n \\<psi>\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  i \\<equiv> LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi> &&&\n    suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by (blast dest: not_less_Least , metis LeastI \\<open>\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>\\<close> i_def)"], ["proof (state)\nthis:\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence \"\\<forall>j < i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi> &&&\n    suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "using syntactical_implies_correct[OF A]"], ["proof (prove)\nusing this:\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  ?w \\<Turnstile>\\<^sub>n not\\<^sub>n \\<phi> \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi> &&&\n    suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "}"], ["proof (state)\nthis:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<forall>j<LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>.\n     suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix (LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>)\n   w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence ?case"], ["proof (prove)\nusing this:\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<forall>j<LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>.\n     suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<exists>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix (LEAST i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>)\n   w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "by (simp del: rewrite_syn_imp.simps; unfold Until_ltln(2)) blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi>;\n   \\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> U\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "ultimately"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n  \\<lbrakk>not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi>;\n   \\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> U\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<phi> \\<turnstile>\\<^sub>s \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n  \\<lbrakk>not\\<^sub>n \\<phi> \\<turnstile>\\<^sub>s \\<psi>;\n   \\<not> \\<phi> \\<turnstile>\\<^sub>s \\<psi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> U\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> U\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Release_ltln \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "have \"\\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow> ?case\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "by (force simp add: Release_ltln dest: syntactical_implies_correct)"], ["proof (state)\nthis:\n  \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "{"], ["proof (state)\nthis:\n  \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "assume A: \"\\<psi> \\<turnstile>\\<^sub>s (not\\<^sub>n \\<phi>)\" and B: \"\\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\""], ["proof (state)\nthis:\n  \\<psi> \\<turnstile>\\<^sub>s not\\<^sub>n \\<phi>\n  \\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence [simp]: \"rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) = mk_globally (rewrite_syn_imp \\<psi>)\""], ["proof (prove)\nusing this:\n  \\<psi> \\<turnstile>\\<^sub>s not\\<^sub>n \\<phi>\n  \\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\n\ngoal (1 subgoal):\n 1. rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n    mk_globally (rewrite_syn_imp \\<psi>)", "by simp"], ["proof (state)\nthis:\n  rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  mk_globally (rewrite_syn_imp \\<psi>)\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "{"], ["proof (state)\nthis:\n  rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  mk_globally (rewrite_syn_imp \\<psi>)\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "assume \"\\<exists>i. \\<not>suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  \\<exists>i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "moreover"], ["proof (state)\nthis:\n  \\<exists>i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "define i where \"i \\<equiv> LEAST i. \\<not>suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  i \\<equiv> LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  i \\<equiv> LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "have \"\\<forall>j < i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\" and \"\\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<exists>i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  i \\<equiv> LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<psi> &&&\n    \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by (blast dest: not_less_Least , metis LeastI \\<open>\\<exists>i. \\<not>suffix i w \\<Turnstile>\\<^sub>n \\<psi>\\<close> i_def)"], ["proof (state)\nthis:\n  \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence \"\\<forall>j < i. \\<not>suffix j w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi> &&&\n    \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "using syntactical_implies_correct[OF A]"], ["proof (prove)\nusing this:\n  \\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n  ?w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n not\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi> &&&\n    \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "}"], ["proof (state)\nthis:\n  \\<exists>i.\n     \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<forall>j<LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>.\n     \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<exists>i.\n     \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<not> suffix (LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>)\n          w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "hence ?case"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<forall>j<LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>.\n     \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<exists>i.\n     \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  \\<not> suffix (LEAST i. \\<not> suffix i w \\<Turnstile>\\<^sub>n \\<psi>)\n          w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "by (simp del: rewrite_syn_imp.simps; unfold Release_ltln(2)) blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<psi> \\<turnstile>\\<^sub>s not\\<^sub>n \\<phi>;\n   \\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> R\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "ultimately"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n  \\<lbrakk>\\<psi> \\<turnstile>\\<^sub>s not\\<^sub>n \\<phi>;\n   \\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> R\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<psi> =\n  ?w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<psi> \\<turnstile>\\<^sub>s \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n  \\<lbrakk>\\<psi> \\<turnstile>\\<^sub>s not\\<^sub>n \\<phi>;\n   \\<not> \\<psi> \\<turnstile>\\<^sub>s \\<phi>\\<rbrakk>\n  \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n      (\\<phi> R\\<^sub>n \\<psi>) =\n                    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n rewrite_syn_imp (\\<phi> R\\<^sub>n \\<psi>) =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp true\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp false\\<^sub>n =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp prop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp nprop\\<^sub>n(x) =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi> =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n rewrite_syn_imp (X\\<^sub>n \\<phi>) =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>1 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n rewrite_syn_imp \\<phi>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n rewrite_syn_imp\n           (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "qed auto"], ["", "subsection \\<open>Iterated Rewriting\\<close>"], ["", "fun iterate\nwhere\n  \"iterate f x 0 = x\"\n| \"iterate f x (Suc n) = (let x' = f x in if x = x' then x else iterate f x' n)\""], ["", "definition\n  \"rewrite_iter_fast \\<phi> \\<equiv> iterate (rewrite_modal o rewrite_X) \\<phi> (size \\<phi>)\""], ["", "definition\n  \"rewrite_iter_slow \\<phi> \\<equiv> iterate (rewrite_syn_imp o rewrite_modal o rewrite_X) \\<phi> (size \\<phi>)\""], ["", "text \\<open>The rewriting functions defined in the previous subsections can be used as-is. However, in the\n  most cases one wants to iterate these rules until the formula cannot be simplified further.\n  @{const rewrite_iter_fast} pulls X operators up in the syntax tree and the uses the\n  \"modal\" simplification rules. @{const rewrite_iter_slow} additionally tries to simplify the\n  formula using syntactic implication checking.\\<close>"], ["", "lemma iterate_sound:\n  assumes \"\\<And>\\<phi>. w \\<Turnstile>\\<^sub>n f \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"\n  shows \"w \\<Turnstile>\\<^sub>n iterate f \\<phi> n \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n iterate f \\<phi> n =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "by (induction n arbitrary: \\<phi>; simp add: assms Let_def)"], ["", "theorem rewrite_iter_fast_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_iter_fast \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_iter_fast \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "using iterate_sound[of _ \"rewrite_modal o rewrite_X\"]"], ["proof (prove)\nusing this:\n  (\\<And>\\<phi>.\n      ?w \\<Turnstile>\\<^sub>n (rewrite_modal \\<circ> rewrite_X) \\<phi> =\n      ?w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n iterate (rewrite_modal \\<circ> rewrite_X) ?\\<phi>\n                           ?n =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_iter_fast \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "unfolding comp_def rewrite_modal_sound rewrite_X_sound rewrite_iter_fast_def"], ["proof (prove)\nusing this:\n  (\\<And>\\<phi>.\n      ?w \\<Turnstile>\\<^sub>n \\<phi> =\n      ?w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n iterate (\\<lambda>x. rewrite_modal (rewrite_X x))\n                           ?\\<phi> ?n =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n iterate (\\<lambda>x. rewrite_modal (rewrite_X x))\n                            \\<phi> (size \\<phi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "by blast"], ["", "theorem rewrite_iter_slow_sound [simp]:\n  \"w \\<Turnstile>\\<^sub>n rewrite_iter_slow \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_iter_slow \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "using iterate_sound[of _ \"rewrite_syn_imp o rewrite_modal o rewrite_X\"]"], ["proof (prove)\nusing this:\n  (\\<And>\\<phi>.\n      ?w \\<Turnstile>\\<^sub>n (rewrite_syn_imp \\<circ> rewrite_modal \\<circ>\n                               rewrite_X)\n                               \\<phi> =\n      ?w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n iterate\n                           (rewrite_syn_imp \\<circ> rewrite_modal \\<circ>\n                            rewrite_X)\n                           ?\\<phi> ?n =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n rewrite_iter_slow \\<phi> =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "unfolding comp_def rewrite_modal_sound rewrite_X_sound rewrite_syn_imp_sound rewrite_iter_slow_def"], ["proof (prove)\nusing this:\n  (\\<And>\\<phi>.\n      ?w \\<Turnstile>\\<^sub>n \\<phi> =\n      ?w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n iterate\n                           (\\<lambda>x.\n                               rewrite_syn_imp\n                                (rewrite_modal (rewrite_X x)))\n                           ?\\<phi> ?n =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n iterate\n                            (\\<lambda>x.\n                                rewrite_syn_imp\n                                 (rewrite_modal (rewrite_X x)))\n                            \\<phi> (size \\<phi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "by blast"], ["", "subsection \\<open>Preservation of atoms\\<close>"], ["", "lemma iterate_atoms:\n  assumes\n    \"\\<And>\\<phi>. atoms_ltln (f \\<phi>) \\<subseteq> atoms_ltln \\<phi>\"\n  shows\n    \"atoms_ltln (iterate f \\<phi> n) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (iterate f \\<phi> n) \\<subseteq> atoms_ltln \\<phi>", "by (induction n arbitrary: \\<phi>) (auto, metis (mono_tags, lifting) assms in_mono)"], ["", "lemma rewrite_modal_atoms:\n  \"atoms_ltln (rewrite_modal \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_modal \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma mk_and_atoms:\n  \"atoms_ltln (mk_and \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_and \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_and_def split: ltln.splits)"], ["", "lemma mk_or_atoms:\n  \"atoms_ltln (mk_or \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_or \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_or_def split: ltln.splits)"], ["", "lemma remove_strong_ops_atoms:\n  \"atoms_ltln (remove_strong_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (remove_strong_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma remove_weak_ops_atoms:\n  \"atoms_ltln (remove_weak_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (remove_weak_ops \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma mk_finally_atoms:\n  \"atoms_ltln (mk_finally \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_finally \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (auto simp: mk_finally_def split: ltln.splits) (insert remove_strong_ops_atoms, fast+)"], ["", "lemma mk_globally_atoms:\n  \"atoms_ltln (mk_globally \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_globally \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (auto simp: mk_globally_def split: ltln.splits) (insert remove_weak_ops_atoms, fast+)"], ["", "lemma mk_until_atoms:\n  \"atoms_ltln (mk_until \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_until \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_until_def split: ltln.splits) (insert mk_finally_atoms, fastforce+)"], ["", "lemma mk_release_atoms:\n  \"atoms_ltln (mk_release \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_release \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_release_def split: ltln.splits) (insert mk_globally_atoms, fastforce+)"], ["", "lemma mk_weak_until_atoms:\n  \"atoms_ltln (mk_weak_until \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_weak_until \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_weak_until_def split: ltln.splits) (insert mk_globally_atoms, fastforce+)"], ["", "lemma mk_strong_release_atoms:\n  \"atoms_ltln (mk_strong_release \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_strong_release \\<phi> \\<psi>)\n    \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>", "by (auto simp: mk_strong_release_def split: ltln.splits) (insert mk_finally_atoms, fastforce+)"], ["", "lemma mk_next_atoms:\n  \"atoms_ltln (mk_next \\<phi>) = atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (mk_next \\<phi>) = atoms_ltln \\<phi>", "by (auto simp: mk_next_def split: ltln.splits)"], ["", "lemma mk_next_pow_atoms:\n  \"atoms_ltln (mk_next_pow n \\<phi>) = atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (X\\<^sub>n' n \\<phi>) = atoms_ltln \\<phi>", "by (induction n) (auto simp: mk_next_pow_def split: ltln.splits)"], ["", "lemma combine_atoms:\n  assumes\n    \"\\<And>\\<phi> \\<psi>. atoms_ltln (f \\<phi> \\<psi>) \\<subseteq> atoms_ltln \\<phi> \\<union> atoms_ltln \\<psi>\"\n  shows\n    \"atoms_ltln (fst (combine f x y)) \\<subseteq> atoms_ltln (fst x) \\<union> atoms_ltln (fst y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (fst (combine f x y))\n    \\<subseteq> atoms_ltln (fst x) \\<union> atoms_ltln (fst y)", "by (metis assms fst_combine mk_next_pow_atoms prod.collapse)"], ["", "lemmas combine_mk_atoms =\n  combine_atoms[OF mk_and_atoms]\n  combine_atoms[OF mk_or_atoms]\n  combine_atoms[OF mk_until_atoms]\n  combine_atoms[OF mk_release_atoms]\n  combine_atoms[OF mk_weak_until_atoms]\n  combine_atoms[OF mk_strong_release_atoms]"], ["", "lemma rewrite_X_enat_atoms:\n  \"atoms_ltln (fst (rewrite_X_enat \\<phi>)) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (fst (rewrite_X_enat \\<phi>)) \\<subseteq> atoms_ltln \\<phi>", "by (induction \\<phi>) (simp_all add: case_prod_beta, insert combine_mk_atoms, fast+)"], ["", "lemma rewrite_X_atoms:\n  \"atoms_ltln (rewrite_X \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_X \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (induction \\<phi>) (simp_all add: rewrite_X_def mk_next_pow_atoms case_prod_beta, insert combine_mk_atoms, fast+)"], ["", "lemma rewrite_syn_imp_atoms:\n  \"atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "proof (induction \\<phi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 and\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln\n(\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                 \\<subseteq> atoms_ltln \\<phi>1;\n         atoms_ltln (rewrite_syn_imp \\<phi>2)\n         \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> atoms_ltln\n                           (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                          \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (11 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 and\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln\n(\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                 \\<subseteq> atoms_ltln \\<phi>1;\n         atoms_ltln (rewrite_syn_imp \\<phi>2)\n         \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> atoms_ltln\n                           (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                          \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 and\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 and\\<^sub>n \\<phi>2)", "using mk_and_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n  atoms_ltln (mk_and ?\\<phi> ?\\<psi>)\n  \\<subseteq> atoms_ltln ?\\<phi> \\<union> atoms_ltln ?\\<psi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 and\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 and\\<^sub>n \\<phi>2)", "by simp fast"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (\\<phi>1 and\\<^sub>n \\<phi>2))\n  \\<subseteq> atoms_ltln (\\<phi>1 and\\<^sub>n \\<phi>2)\n\ngoal (10 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                 \\<subseteq> atoms_ltln \\<phi>1;\n         atoms_ltln (rewrite_syn_imp \\<phi>2)\n         \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> atoms_ltln\n                           (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                          \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                 \\<subseteq> atoms_ltln \\<phi>1;\n         atoms_ltln (rewrite_syn_imp \\<phi>2)\n         \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> atoms_ltln\n                           (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                          \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (Or_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (10 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                 \\<subseteq> atoms_ltln \\<phi>1;\n         atoms_ltln (rewrite_syn_imp \\<phi>2)\n         \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> atoms_ltln\n                           (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                          \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)", "using mk_or_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n  atoms_ltln (mk_or ?\\<phi> ?\\<psi>)\n  \\<subseteq> atoms_ltln ?\\<phi> \\<union> atoms_ltln ?\\<psi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)", "by simp fast"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (\\<phi>1 or\\<^sub>n \\<phi>2))\n  \\<subseteq> atoms_ltln (\\<phi>1 or\\<^sub>n \\<phi>2)\n\ngoal (9 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>\n\ngoal (9 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp \\<phi>)\n       \\<subseteq> atoms_ltln \\<phi> \\<Longrightarrow>\n       atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n       \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "show ?case"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n    \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)", "using mk_next_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>) \\<subseteq> atoms_ltln \\<phi>\n  atoms_ltln (mk_next ?\\<phi>) = atoms_ltln ?\\<phi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n    \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)", "by simp fast"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (X\\<^sub>n \\<phi>))\n  \\<subseteq> atoms_ltln (X\\<^sub>n \\<phi>)\n\ngoal (8 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (Until_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (8 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)", "using mk_finally_atoms mk_until_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n  atoms_ltln (mk_finally ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n  atoms_ltln (mk_until ?\\<phi> ?\\<psi>)\n  \\<subseteq> atoms_ltln ?\\<phi> \\<union> atoms_ltln ?\\<psi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)", "by simp fast"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (\\<phi>1 U\\<^sub>n \\<phi>2))\n  \\<subseteq> atoms_ltln (\\<phi>1 U\\<^sub>n \\<phi>2)\n\ngoal (7 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (Release_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (7 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)", "using mk_globally_atoms mk_release_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp \\<phi>1) \\<subseteq> atoms_ltln \\<phi>1\n  atoms_ltln (rewrite_syn_imp \\<phi>2) \\<subseteq> atoms_ltln \\<phi>2\n  atoms_ltln (mk_globally ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n  atoms_ltln (mk_release ?\\<phi> ?\\<psi>)\n  \\<subseteq> atoms_ltln ?\\<phi> \\<union> atoms_ltln ?\\<psi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n    \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)", "by simp fast"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (\\<phi>1 R\\<^sub>n \\<phi>2))\n  \\<subseteq> atoms_ltln (\\<phi>1 R\\<^sub>n \\<phi>2)\n\ngoal (6 subgoals):\n 1. atoms_ltln (rewrite_syn_imp true\\<^sub>n)\n    \\<subseteq> atoms_ltln true\\<^sub>n\n 2. atoms_ltln (rewrite_syn_imp false\\<^sub>n)\n    \\<subseteq> atoms_ltln false\\<^sub>n\n 3. \\<And>x.\n       atoms_ltln (rewrite_syn_imp prop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln prop\\<^sub>n(x)\n 4. \\<And>x.\n       atoms_ltln (rewrite_syn_imp nprop\\<^sub>n(x))\n       \\<subseteq> atoms_ltln nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 W\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 W\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>atoms_ltln (rewrite_syn_imp \\<phi>1)\n                \\<subseteq> atoms_ltln \\<phi>1;\n        atoms_ltln (rewrite_syn_imp \\<phi>2)\n        \\<subseteq> atoms_ltln \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> atoms_ltln\n                          (rewrite_syn_imp (\\<phi>1 M\\<^sub>n \\<phi>2))\n                         \\<subseteq> atoms_ltln (\\<phi>1 M\\<^sub>n \\<phi>2)", "qed simp_all"], ["", "lemma rewrite_iter_fast_atoms:\n  \"atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "have 1: \"\\<And>\\<phi>. atoms_ltln (rewrite_modal (rewrite_X \\<phi>)) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       atoms_ltln (rewrite_modal (rewrite_X \\<phi>))\n       \\<subseteq> atoms_ltln \\<phi>", "using rewrite_modal_atoms rewrite_X_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_modal ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n  atoms_ltln (rewrite_X ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       atoms_ltln (rewrite_modal (rewrite_X \\<phi>))\n       \\<subseteq> atoms_ltln \\<phi>", "by force"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_modal (rewrite_X ?\\<phi>))\n  \\<subseteq> atoms_ltln ?\\<phi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (simp add: rewrite_iter_fast_def 1 iterate_atoms)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_iter_fast \\<phi>) \\<subseteq> atoms_ltln \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rewrite_iter_slow_atoms:\n  \"atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "have 1: \"\\<And>\\<phi>. atoms_ltln (rewrite_syn_imp (rewrite_modal (rewrite_X \\<phi>))) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp (rewrite_modal (rewrite_X \\<phi>)))\n       \\<subseteq> atoms_ltln \\<phi>", "using rewrite_syn_imp_atoms rewrite_modal_atoms rewrite_X_atoms"], ["proof (prove)\nusing this:\n  atoms_ltln (rewrite_syn_imp ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n  atoms_ltln (rewrite_modal ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n  atoms_ltln (rewrite_X ?\\<phi>) \\<subseteq> atoms_ltln ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       atoms_ltln (rewrite_syn_imp (rewrite_modal (rewrite_X \\<phi>)))\n       \\<subseteq> atoms_ltln \\<phi>", "by force"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_syn_imp (rewrite_modal (rewrite_X ?\\<phi>)))\n  \\<subseteq> atoms_ltln ?\\<phi>\n\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (simp add: rewrite_iter_slow_def 1 iterate_atoms)"], ["proof (state)\nthis:\n  atoms_ltln (rewrite_iter_slow \\<phi>) \\<subseteq> atoms_ltln \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Simplifier\\<close>"], ["", "text \\<open>We now define a convenience wrapper for the rewriting engine\\<close>"], ["", "datatype mode = Nop | Fast | Slow"], ["", "fun simplify :: \"mode \\<Rightarrow> 'a ltln \\<Rightarrow> 'a ltln\"\nwhere\n  \"simplify Nop = id\"\n| \"simplify Fast = rewrite_iter_fast\"\n| \"simplify Slow = rewrite_iter_slow\""], ["", "theorem simplify_correct:\n  \"w \\<Turnstile>\\<^sub>n simplify m \\<phi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n simplify m \\<phi> = w \\<Turnstile>\\<^sub>n \\<phi>", "by (cases m) simp+"], ["", "lemma simplify_atoms:\n  \"atoms_ltln (simplify m \\<phi>) \\<subseteq> atoms_ltln \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms_ltln (simplify m \\<phi>) \\<subseteq> atoms_ltln \\<phi>", "by (cases m) (insert rewrite_iter_fast_atoms rewrite_iter_slow_atoms, fastforce+)"], ["", "subsection \\<open>Code Generation\\<close>"], ["", "code_pred syntactical_implies"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "export_code simplify checking"], ["", "lemma \"rewrite_iter_fast (F\\<^sub>n (G\\<^sub>n (X\\<^sub>n prop\\<^sub>n(''a'')))) = (F\\<^sub>n (G\\<^sub>n prop\\<^sub>n(''a'')))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rewrite_iter_fast\n     (F\\<^sub>n (G\\<^sub>n (X\\<^sub>n prop\\<^sub>n(''a'')))) =\n    F\\<^sub>n (G\\<^sub>n prop\\<^sub>n(''a''))", "by eval"], ["", "lemma \"rewrite_iter_fast (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n (X\\<^sub>n nprop\\<^sub>n(''a''))) = X\\<^sub>n (prop\\<^sub>n(''a'') U\\<^sub>n nprop\\<^sub>n(''a''))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rewrite_iter_fast\n     (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n X\\<^sub>n nprop\\<^sub>n(''a'')) =\n    X\\<^sub>n (prop\\<^sub>n(''a'') U\\<^sub>n nprop\\<^sub>n(''a''))", "by eval"], ["", "lemma \"rewrite_iter_slow (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n (X\\<^sub>n nprop\\<^sub>n(''a''))) = X\\<^sub>n (F\\<^sub>n nprop\\<^sub>n(''a''))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rewrite_iter_slow\n     (X\\<^sub>n prop\\<^sub>n(''a'') U\\<^sub>n X\\<^sub>n nprop\\<^sub>n(''a'')) =\n    X\\<^sub>n (F\\<^sub>n nprop\\<^sub>n(''a''))", "by eval"], ["", "end"]]}