{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL/Disjunctive_Normal_Form.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL", "problem_names": ["lemma min_set_iff:\n  \"x \\<in> min_set X \\<longleftrightarrow> x \\<in> X \\<and> (\\<forall>y \\<in> X. y \\<le> x \\<longrightarrow> y = x)\"", "lemma min_set_subset:\n  \"min_set X \\<subseteq> X\"", "lemma min_set_idem[simp]:\n  \"min_set (min_set X) = min_set X\"", "lemma min_set_empty[simp]:\n  \"min_set {} = {}\"", "lemma min_set_singleton[simp]:\n  \"min_set {x} = {x}\"", "lemma min_set_finite:\n  \"finite X \\<Longrightarrow> finite (min_set X)\"", "lemma min_set_obtains_helper:\n  \"A \\<in> B \\<Longrightarrow> \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B\"", "lemma min_set_obtains:\n  assumes \"A \\<in> B\"\n  obtains C where \"C |\\<subseteq>| A\" and \"C \\<in> min_set B\"", "lemma min_product_idem[simp]:\n  \"A \\<otimes>\\<^sub>m A = min_set A\"", "lemma min_union_idem[simp]:\n  \"A \\<union>\\<^sub>m A = min_set A\"", "lemma product_empty[simp]:\n  \"A \\<otimes> {} = {}\"\n  \"{} \\<otimes> A = {}\"", "lemma min_product_empty[simp]:\n  \"A \\<otimes>\\<^sub>m {} = {}\"\n  \"{} \\<otimes>\\<^sub>m A = {}\"", "lemma min_union_empty[simp]:\n  \"A \\<union>\\<^sub>m {} = min_set A\"\n  \"{} \\<union>\\<^sub>m A = min_set A\"", "lemma product_empty_singleton[simp]:\n  \"A \\<otimes> {{||}} = A\"\n  \"{{||}} \\<otimes> A = A\"", "lemma min_product_empty_singleton[simp]:\n  \"A \\<otimes>\\<^sub>m {{||}} = min_set A\"\n  \"{{||}} \\<otimes>\\<^sub>m A = min_set A\"", "lemma product_singleton_singleton:\n  \"A \\<otimes> {{|x|}} = finsert x ` A\"\n  \"{{|x|}} \\<otimes> A = finsert x ` A\"", "lemma product_mono:\n  \"A \\<subseteq> B \\<Longrightarrow> A \\<otimes> C \\<subseteq> B \\<otimes> C\"\n  \"B \\<subseteq> C \\<Longrightarrow> A \\<otimes> B \\<subseteq> A \\<otimes> C\"", "lemma product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes> B)\"", "lemma min_product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes>\\<^sub>m B)\"", "lemma min_union_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<union>\\<^sub>m B)\"", "lemma product_set_infinite[simp]:\n  \"infinite X \\<Longrightarrow> \\<Otimes> X = {{||}}\"", "lemma min_product_set_infinite[simp]:\n  \"infinite X \\<Longrightarrow> \\<Otimes>\\<^sub>m X = {{||}}\"", "lemma product_comm:\n  \"A \\<otimes> B = B \\<otimes> A\"", "lemma min_product_comm:\n  \"A \\<otimes>\\<^sub>m B = B \\<otimes>\\<^sub>m A\"", "lemma min_union_comm:\n  \"A \\<union>\\<^sub>m B = B \\<union>\\<^sub>m A\"", "lemma product_iff:\n  \"x \\<in> A \\<otimes> B \\<longleftrightarrow> (\\<exists>a \\<in> A. \\<exists>b \\<in> B. x = a |\\<union>| b)\"", "lemma min_product_iff:\n  \"x \\<in> A \\<otimes>\\<^sub>m B \\<longleftrightarrow> (\\<exists>a \\<in> A. \\<exists>b \\<in> B. x = a |\\<union>| b) \\<and> (\\<forall>a \\<in> A. \\<forall>b \\<in> B. a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x)\"", "lemma min_union_iff:\n  \"x \\<in> A \\<union>\\<^sub>m B \\<longleftrightarrow> x \\<in> A \\<union> B \\<and> (\\<forall>a \\<in> A. a |\\<subseteq>| x \\<longrightarrow> a = x) \\<and> (\\<forall>b \\<in> B. b |\\<subseteq>| x \\<longrightarrow> b = x)\"", "lemma min_set_min_product_helper:\n  \"x \\<in> (min_set A) \\<otimes>\\<^sub>m B \\<longleftrightarrow> x \\<in> A \\<otimes>\\<^sub>m B\"", "lemma min_set_min_product[simp]:\n  \"(min_set A) \\<otimes>\\<^sub>m B = A \\<otimes>\\<^sub>m B\"\n  \"A \\<otimes>\\<^sub>m (min_set B) = A \\<otimes>\\<^sub>m B\"", "lemma min_set_min_union[simp]:\n  \"(min_set A) \\<union>\\<^sub>m B = A \\<union>\\<^sub>m B\"\n  \"A \\<union>\\<^sub>m (min_set B) = A \\<union>\\<^sub>m B\"", "lemma product_assoc[simp]:\n  \"(A \\<otimes> B) \\<otimes> C = A \\<otimes> (B \\<otimes> C)\"", "lemma min_product_assoc[simp]:\n  \"(A \\<otimes>\\<^sub>m B) \\<otimes>\\<^sub>m C = A \\<otimes>\\<^sub>m (B \\<otimes>\\<^sub>m C)\"", "lemma min_union_assoc[simp]:\n  \"(A \\<union>\\<^sub>m B) \\<union>\\<^sub>m C = A \\<union>\\<^sub>m (B \\<union>\\<^sub>m C)\"", "lemma min_product_comp:\n  \"a \\<in> A \\<Longrightarrow> b \\<in> B \\<Longrightarrow> \\<exists>c. c |\\<subseteq>| (a |\\<union>| b) \\<and> c \\<in> A \\<otimes>\\<^sub>m B\"", "lemma min_union_comp:\n  \"a \\<in> A \\<Longrightarrow> \\<exists>c. c |\\<subseteq>| a \\<and> c \\<in> A \\<union>\\<^sub>m B\"", "lemma product_set_empty[simp]:\n  \"\\<Otimes> {} = {{||}}\"\n  \"\\<Otimes> {{}} = {}\"\n  \"\\<Otimes> {{{||}}} = {{||}}\"", "lemma min_product_set_empty[simp]:\n  \"\\<Otimes>\\<^sub>m {} = {{||}}\"\n  \"\\<Otimes>\\<^sub>m {{}} = {}\"\n  \"\\<Otimes>\\<^sub>m {{{||}}} = {{||}}\"", "lemma product_set_code[code]:\n  \"\\<Otimes> (set xs) = fold product (remdups xs) {{||}}\"", "lemma min_product_set_code[code]:\n  \"\\<Otimes>\\<^sub>m (set xs) = fold min_product (remdups xs) {{||}}\"", "lemma product_set_insert[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes> (insert x X) = x \\<otimes> (\\<Otimes> (X - {x}))\"", "lemma min_product_set_insert[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes>\\<^sub>m (insert x X) = x \\<otimes>\\<^sub>m (\\<Otimes>\\<^sub>m X)\"", "lemma min_product_subseteq:\n  \"x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow> \\<exists>a. a |\\<subseteq>| x \\<and> a \\<in> A\"", "lemma min_product_set_subseteq:\n  \"finite X \\<Longrightarrow> x \\<in> \\<Otimes>\\<^sub>m X \\<Longrightarrow> A \\<in> X \\<Longrightarrow> \\<exists>a \\<in> A. a |\\<subseteq>| x\"", "lemma min_set_product_set:\n  \"\\<Otimes>\\<^sub>m A = min_set (\\<Otimes> A)\"", "lemma min_product_min_set[simp]:\n  \"min_set (A \\<otimes>\\<^sub>m B) = A \\<otimes>\\<^sub>m B\"", "lemma min_union_min_set[simp]:\n  \"min_set (A \\<union>\\<^sub>m B) = A \\<union>\\<^sub>m B\"", "lemma min_product_set_min_set[simp]:\n  \"finite X \\<Longrightarrow> min_set (\\<Otimes>\\<^sub>m X) = \\<Otimes>\\<^sub>m X\"", "lemma min_set_min_product_set[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes>\\<^sub>m (min_set ` X) = \\<Otimes>\\<^sub>m X\"", "lemma min_product_set_union[simp]:\n  \"finite X \\<Longrightarrow> finite Y \\<Longrightarrow> \\<Otimes>\\<^sub>m (X \\<union> Y) = (\\<Otimes>\\<^sub>m X) \\<otimes>\\<^sub>m (\\<Otimes>\\<^sub>m Y)\"", "lemma product_set_finite:\n  \"(\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow> finite (\\<Otimes> X)\"", "lemma min_product_set_finite:\n  \"(\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow> finite (\\<Otimes>\\<^sub>m X)\"", "lemma dnf_min_set:\n  \"min_dnf \\<phi> = min_set (dnf \\<phi>)\"", "lemma dnf_finite:\n  \"finite (dnf \\<phi>)\"", "lemma min_dnf_finite:\n  \"finite (min_dnf \\<phi>)\"", "lemma dnf_Abs_fset[simp]:\n  \"fset (Abs_fset (dnf \\<phi>)) = dnf \\<phi>\"", "lemma min_dnf_Abs_fset[simp]:\n  \"fset (Abs_fset (min_dnf \\<phi>)) = min_dnf \\<phi>\"", "lemma dnf_prop_atoms:\n  \"\\<Phi> \\<in> dnf \\<phi> \\<Longrightarrow> fset \\<Phi> \\<subseteq> prop_atoms \\<phi>\"", "lemma min_dnf_prop_atoms:\n  \"\\<Phi> \\<in> min_dnf \\<phi> \\<Longrightarrow> fset \\<Phi> \\<subseteq> prop_atoms \\<phi>\"", "lemma min_dnf_atoms_dnf:\n  \"\\<Phi> \\<in> min_dnf \\<psi> \\<Longrightarrow> \\<phi> \\<in> fset \\<Phi> \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}}\"", "lemma min_dnf_min_set[simp]:\n  \"min_set (min_dnf \\<phi>) = min_dnf \\<phi>\"", "lemma min_dnf_iff_prop_assignment_subset:\n  \"\\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<longleftrightarrow> (\\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>)\"", "lemma ltl_prop_implies_min_dnf:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> = (\\<forall>A \\<in> min_dnf \\<phi>. \\<exists>B \\<in> min_dnf \\<psi>. B |\\<subseteq>| A)\"", "lemma ltl_prop_equiv_min_dnf:\n  \"\\<phi> \\<sim>\\<^sub>P \\<psi> = (min_dnf \\<phi> = min_dnf \\<psi>)\"", "lemma min_dnf_rep_abs[simp]:\n  \"min_dnf (rep_ltln\\<^sub>P (abs_ltln\\<^sub>P \\<phi>)) = min_dnf \\<phi>\"", "lemma fold_graph_And\\<^sub>n:\n  \"finite \\<Phi> \\<Longrightarrow> fold_graph And_ltln True_ltln \\<Phi> (And\\<^sub>n \\<Phi>)\"", "lemma fold_graph_Or\\<^sub>n:\n  \"finite \\<Phi> \\<Longrightarrow> fold_graph Or_ltln False_ltln \\<Phi> (Or\\<^sub>n \\<Phi>)\"", "lemma Or\\<^sub>n_empty[simp]:\n  \"Or\\<^sub>n {} = False_ltln\"", "lemma And\\<^sub>n_empty[simp]:\n  \"And\\<^sub>n {} = True_ltln\"", "lemma fold_graph_finite:\n  assumes \"fold_graph f z A y\"\n  shows \"finite A\"", "lemma And\\<^sub>n_dnf:\n  \"finite \\<Phi> \\<Longrightarrow> dnf (And\\<^sub>n \\<Phi>) = Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} \\<Phi>\"", "lemma Or\\<^sub>n_dnf:\n  \"finite \\<Phi> \\<Longrightarrow> dnf (Or\\<^sub>n \\<Phi>) = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} \\<Phi>\"", "lemma And\\<^sub>n_inj:\n  \"inj_on And\\<^sub>n {s. finite s}\"", "lemma Or\\<^sub>n_inj:\n  \"inj_on Or\\<^sub>n {s. finite s}\"", "lemma And\\<^sub>n_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\"", "lemma Or\\<^sub>n_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\"", "lemma And\\<^sub>n_prop_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\"", "lemma Or\\<^sub>n_prop_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\"", "lemma Or\\<^sub>n_And\\<^sub>n_image_semantics:\n  assumes \"finite \\<A>\" and \"\\<And>\\<Phi>. \\<Phi> \\<in> \\<A> \\<Longrightarrow> finite \\<Phi>\"\n  shows \"w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\"", "lemma Or\\<^sub>n_And\\<^sub>n_image_prop_semantics:\n  assumes \"finite \\<A>\" and \"\\<And>\\<Phi>. \\<Phi> \\<in> \\<A> \\<Longrightarrow> finite \\<Phi>\"\n  shows \"\\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\"", "lemma ltln_of_dnf_semantics:\n  assumes \"finite \\<A>\"\n  shows \"w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi>. \\<phi> |\\<in>| \\<Phi> \\<longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>)\"", "lemma ltln_of_dnf_prop_semantics:\n  assumes \"finite \\<A>\"\n  shows \"\\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi>. \\<phi> |\\<in>| \\<Phi> \\<longrightarrow> \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\"", "lemma ltln_of_dnf_prop_equiv:\n  \"ltln_of_dnf (min_dnf \\<phi>) \\<sim>\\<^sub>P \\<phi>\"", "lemma min_dnf_ltln_of_dnf[simp]:\n  \"min_dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>\"", "lemma subst_clause_empty[simp]:\n  \"subst_clause {||} m = {{||}}\"", "lemma subst_dnf_empty[simp]:\n  \"subst_dnf {} m = {}\"", "lemma subst_clause_inner_finite:\n  \"finite {min_dnf (subst \\<phi> m) | \\<phi>. \\<phi> \\<in> \\<Phi>}\" if \"finite \\<Phi>\"", "lemma subst_clause_finite:\n  \"finite (subst_clause \\<Phi> m)\"", "lemma subst_dnf_finite:\n  \"finite \\<A> \\<Longrightarrow> finite (subst_dnf \\<A> m)\"", "lemma subst_dnf_mono:\n  \"\\<A> \\<subseteq> \\<B> \\<Longrightarrow> subst_dnf \\<A> m \\<subseteq> subst_dnf \\<B> m\"", "lemma subst_clause_min_set[simp]:\n  \"min_set (subst_clause \\<Phi> m) = subst_clause \\<Phi> m\"", "lemma subst_clause_finsert[simp]:\n  \"subst_clause (finsert \\<phi> \\<Phi>) m = (min_dnf (subst \\<phi> m)) \\<otimes>\\<^sub>m (subst_clause \\<Phi> m)\"", "lemma subst_clause_funion[simp]:\n  \"subst_clause (\\<Phi> |\\<union>| \\<Psi>) m = (subst_clause \\<Phi> m) \\<otimes>\\<^sub>m (subst_clause \\<Psi> m)\"", "lemma list_product_fset_of_list[simp]:\n  \"fset_of_list ` (A \\<otimes>\\<^sub>l B) = (fset_of_list ` A) \\<otimes> (fset_of_list ` B)\"", "lemma list_product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes>\\<^sub>l B)\"", "lemma list_product_iff:\n  \"x \\<in> A \\<otimes>\\<^sub>l B \\<longleftrightarrow> (\\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> x = a @ b)\"", "lemma list_product_assoc[simp]:\n  \"A \\<otimes>\\<^sub>l (B \\<otimes>\\<^sub>l C) = A \\<otimes>\\<^sub>l B \\<otimes>\\<^sub>l C\"", "lemma list_dnf_to_dnf_list_dnf[simp]:\n  \"list_dnf_to_dnf (list_dnf \\<phi>) = dnf \\<phi>\"", "lemma list_dnf_finite:\n  \"finite (list_dnf \\<phi>)\"", "lemma subst_clause'_finite:\n  \"finite (subst_clause' \\<Phi> m)\"", "lemma subst_clause'_nil[simp]:\n  \"subst_clause' [] m = {[]}\"", "lemma subst_clause'_cons[simp]:\n  \"subst_clause' (xs @ [x]) m = subst_clause' xs m \\<otimes>\\<^sub>l list_dnf (subst x m)\"", "lemma subst_clause'_append[simp]:\n  \"subst_clause' (A @ B) m = subst_clause' A m \\<otimes>\\<^sub>l subst_clause' B m\"", "lemma subst_dnf'_iff:\n  \"x \\<in> subst_dnf' A m \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> A. x \\<in> subst_clause' \\<Phi> m)\"", "lemma subst_dnf'_product:\n  \"subst_dnf' (A \\<otimes>\\<^sub>l B) m = (subst_dnf' A m) \\<otimes>\\<^sub>l (subst_dnf' B m)\" (is \"?lhs = ?rhs\")", "lemma subst_dnf'_list_dnf:\n  \"subst_dnf' (list_dnf \\<phi>) m = list_dnf (subst \\<phi> m)\"", "lemma min_set_Union:\n  \"finite X \\<Longrightarrow> min_set (\\<Union> (min_set ` X)) = min_set (\\<Union> X)\" for X :: \"'a fset set set\"", "lemma min_set_Union_image:\n  \"finite X \\<Longrightarrow> min_set (\\<Union>x \\<in> X. min_set (f x)) = min_set (\\<Union>x \\<in> X. f x)\" for f :: \"'b \\<Rightarrow> 'a fset set\"", "lemma subst_clause_fset_of_list:\n  \"subst_clause (fset_of_list \\<Phi>) m = min_set (list_dnf_to_dnf (subst_clause' \\<Phi> m))\"", "lemma min_set_list_dnf_to_dnf_subst_dnf':\n  \"finite X \\<Longrightarrow> min_set (list_dnf_to_dnf (subst_dnf' X m)) = min_set (subst_dnf (list_dnf_to_dnf X) m)\"", "lemma subst_dnf_dnf:\n  \"min_set (subst_dnf (dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\"", "lemma fold_product:\n  \"Finite_Set.fold (\\<lambda>x. (\\<otimes>) {{|x|}}) {{||}} (fset x) = {x}\"", "lemma fold_union:\n  \"Finite_Set.fold (\\<lambda>x. (\\<union>) {x}) {} (fset x) = fset x\"", "lemma fold_union_fold_product:\n  assumes \"finite X\" and \"\\<And>\\<Psi> \\<psi>. \\<Psi> \\<in> X \\<Longrightarrow> \\<psi> \\<in> fset \\<Psi> \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\"\n  shows \"Finite_Set.fold (\\<lambda>x. (\\<union>) (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} (fset x))) {} X = X\" (is \"?lhs = X\")", "lemma dnf_ltln_of_dnf_min_dnf:\n  \"dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>\"", "lemma min_dnf_subst:\n  \"min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\" (is \"?lhs = ?rhs\")"], "translations": [["", "lemma min_set_iff:\n  \"x \\<in> min_set X \\<longleftrightarrow> x \\<in> X \\<and> (\\<forall>y \\<in> X. y \\<le> x \\<longrightarrow> y = x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> min_set X) =\n    (x \\<in> X \\<and> (\\<forall>y\\<in>X. y \\<le> x \\<longrightarrow> y = x))", "unfolding min_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {y \\<in> X.\n              \\<forall>x\\<in>X. x \\<le> y \\<longrightarrow> x = y}) =\n    (x \\<in> X \\<and> (\\<forall>y\\<in>X. y \\<le> x \\<longrightarrow> y = x))", "by blast"], ["", "lemma min_set_subset:\n  \"min_set X \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set X \\<subseteq> X", "by (auto simp: min_set_def)"], ["", "lemma min_set_idem[simp]:\n  \"min_set (min_set X) = min_set X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (min_set X) = min_set X", "by (auto simp: min_set_def)"], ["", "lemma min_set_empty[simp]:\n  \"min_set {} = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set {} = {}", "using min_set_subset"], ["proof (prove)\nusing this:\n  min_set ?X \\<subseteq> ?X\n\ngoal (1 subgoal):\n 1. min_set {} = {}", "by blast"], ["", "lemma min_set_singleton[simp]:\n  \"min_set {x} = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set {x} = {x}", "by (auto simp: min_set_def)"], ["", "lemma min_set_finite:\n  \"finite X \\<Longrightarrow> finite (min_set X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow> finite (min_set X)", "by (simp add: min_set_def)"], ["", "lemma min_set_obtains_helper:\n  \"A \\<in> B \\<Longrightarrow> \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> B \\<Longrightarrow>\n    \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B", "proof (induction \"fcard A\" arbitrary: A rule: less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<And>Aa.\n                   \\<lbrakk>fcard Aa < fcard A; Aa \\<in> B\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>C.\n  C |\\<subseteq>| Aa \\<and> C \\<in> min_set B;\n        A \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>C.\n                            C |\\<subseteq>| A \\<and> C \\<in> min_set B", "case less"], ["proof (state)\nthis:\n  \\<lbrakk>fcard ?A < fcard A; ?A \\<in> B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>C. C |\\<subseteq>| ?A \\<and> C \\<in> min_set B\n  A \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<And>Aa.\n                   \\<lbrakk>fcard Aa < fcard A; Aa \\<in> B\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>C.\n  C |\\<subseteq>| Aa \\<and> C \\<in> min_set B;\n        A \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>C.\n                            C |\\<subseteq>| A \\<and> C \\<in> min_set B", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>fcard ?A < fcard A; ?A \\<in> B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>C. C |\\<subseteq>| ?A \\<and> C \\<in> min_set B\n  A \\<in> B", "have \"(\\<forall>A'. A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or> (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>fcard ?A < fcard A; ?A \\<in> B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>C. C |\\<subseteq>| ?A \\<and> C \\<in> min_set B\n  A \\<in> B\n\ngoal (1 subgoal):\n 1. (\\<forall>A'.\n        A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or>\n    (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)", "by (metis (no_types) dual_order.trans order.not_eq_order_implies_strict pfsubset_fcard_mono)"], ["proof (state)\nthis:\n  (\\<forall>A'.\n      A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or>\n  (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<And>Aa.\n                   \\<lbrakk>fcard Aa < fcard A; Aa \\<in> B\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>C.\n  C |\\<subseteq>| Aa \\<and> C \\<in> min_set B;\n        A \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>C.\n                            C |\\<subseteq>| A \\<and> C \\<in> min_set B", "then"], ["proof (chain)\npicking this:\n  (\\<forall>A'.\n      A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or>\n  (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<forall>A'.\n      A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or>\n  (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)\n\ngoal (1 subgoal):\n 1. \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B", "using less.prems min_set_def"], ["proof (prove)\nusing this:\n  (\\<forall>A'.\n      A' \\<notin> B \\<or> \\<not> A' |\\<subseteq>| A \\<or> A' = A) \\<or>\n  (\\<exists>A'. A' |\\<subseteq>| A \\<and> A' \\<in> min_set B)\n  A \\<in> B\n  min_set ?X =\n  {y \\<in> ?X. \\<forall>x\\<in>?X. x \\<le> y \\<longrightarrow> x = y}\n\ngoal (1 subgoal):\n 1. \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B", "by auto"], ["proof (state)\nthis:\n  \\<exists>C. C |\\<subseteq>| A \\<and> C \\<in> min_set B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma min_set_obtains:\n  assumes \"A \\<in> B\"\n  obtains C where \"C |\\<subseteq>| A\" and \"C \\<in> min_set B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| A; C \\<in> min_set B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using min_set_obtains_helper assms"], ["proof (prove)\nusing this:\n  ?A \\<in> ?B \\<Longrightarrow>\n  \\<exists>C. C |\\<subseteq>| ?A \\<and> C \\<in> min_set ?B\n  A \\<in> B\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| A; C \\<in> min_set B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["", "subsection \\<open>Minimal operators on sets\\<close>"], ["", "definition product :: \"'a fset set \\<Rightarrow> 'a fset set \\<Rightarrow> 'a fset set\" (infixr \"\\<otimes>\" 65)\n  where \"A \\<otimes> B = {a |\\<union>| b | a b. a \\<in> A \\<and> b \\<in> B}\""], ["", "definition min_product :: \"'a fset set \\<Rightarrow> 'a fset set \\<Rightarrow> 'a fset set\" (infixr \"\\<otimes>\\<^sub>m\" 65)\n  where \"A \\<otimes>\\<^sub>m B = min_set (A \\<otimes> B)\""], ["", "definition min_union :: \"'a fset set \\<Rightarrow> 'a fset set \\<Rightarrow> 'a fset set\" (infixr \"\\<union>\\<^sub>m\" 65)\n  where \"A \\<union>\\<^sub>m B = min_set (A \\<union> B)\""], ["", "definition product_set :: \"'a fset set set \\<Rightarrow> 'a fset set\" (\"\\<Otimes>\")\n  where \"\\<Otimes> X = Finite_Set.fold product {{||}} X\""], ["", "definition min_product_set :: \"'a fset set set \\<Rightarrow> 'a fset set\" (\"\\<Otimes>\\<^sub>m\")\n  where \"\\<Otimes>\\<^sub>m X = Finite_Set.fold min_product {{||}} X\""], ["", "lemma min_product_idem[simp]:\n  \"A \\<otimes>\\<^sub>m A = min_set A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes>\\<^sub>m A = min_set A", "by (auto simp: min_product_def product_def min_set_def) fastforce"], ["", "lemma min_union_idem[simp]:\n  \"A \\<union>\\<^sub>m A = min_set A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union>\\<^sub>m A = min_set A", "by (simp add: min_union_def)"], ["", "lemma product_empty[simp]:\n  \"A \\<otimes> {} = {}\"\n  \"{} \\<otimes> A = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes> {} = {} &&& {} \\<otimes> A = {}", "by (simp_all add: product_def)"], ["", "lemma min_product_empty[simp]:\n  \"A \\<otimes>\\<^sub>m {} = {}\"\n  \"{} \\<otimes>\\<^sub>m A = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes>\\<^sub>m {} = {} &&& {} \\<otimes>\\<^sub>m A = {}", "by (simp_all add: min_product_def)"], ["", "lemma min_union_empty[simp]:\n  \"A \\<union>\\<^sub>m {} = min_set A\"\n  \"{} \\<union>\\<^sub>m A = min_set A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union>\\<^sub>m {} = min_set A &&& {} \\<union>\\<^sub>m A = min_set A", "by (simp_all add: min_union_def)"], ["", "lemma product_empty_singleton[simp]:\n  \"A \\<otimes> {{||}} = A\"\n  \"{{||}} \\<otimes> A = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes> {{||}} = A &&& {{||}} \\<otimes> A = A", "by (simp_all add: product_def)"], ["", "lemma min_product_empty_singleton[simp]:\n  \"A \\<otimes>\\<^sub>m {{||}} = min_set A\"\n  \"{{||}} \\<otimes>\\<^sub>m A = min_set A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes>\\<^sub>m {{||}} = min_set A &&&\n    {{||}} \\<otimes>\\<^sub>m A = min_set A", "by (simp_all add: min_product_def)"], ["", "lemma product_singleton_singleton:\n  \"A \\<otimes> {{|x|}} = finsert x ` A\"\n  \"{{|x|}} \\<otimes> A = finsert x ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes> {{|x|}} = finsert x ` A &&&\n    {{|x|}} \\<otimes> A = finsert x ` A", "unfolding product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> {{|x|}}} =\n    finsert x ` A &&&\n    {a |\\<union>| b |a b. a \\<in> {{|x|}} \\<and> b \\<in> A} = finsert x ` A", "by blast+"], ["", "lemma product_mono:\n  \"A \\<subseteq> B \\<Longrightarrow> A \\<otimes> C \\<subseteq> B \\<otimes> C\"\n  \"B \\<subseteq> C \\<Longrightarrow> A \\<otimes> B \\<subseteq> A \\<otimes> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<subseteq> B \\<Longrightarrow>\n     A \\<otimes> C \\<subseteq> B \\<otimes> C) &&&\n    (B \\<subseteq> C \\<Longrightarrow>\n     A \\<otimes> B \\<subseteq> A \\<otimes> C)", "unfolding product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<subseteq> B \\<Longrightarrow>\n     {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> C}\n     \\<subseteq> {a |\\<union>| b |a b. a \\<in> B \\<and> b \\<in> C}) &&&\n    (B \\<subseteq> C \\<Longrightarrow>\n     {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> B}\n     \\<subseteq> {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> C})", "by auto"], ["", "lemma product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite A; finite B\\<rbrakk>\n    \\<Longrightarrow> finite (A \\<otimes> B)", "by (simp add: product_def finite_image_set2)"], ["", "lemma min_product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes>\\<^sub>m B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite A; finite B\\<rbrakk>\n    \\<Longrightarrow> finite (A \\<otimes>\\<^sub>m B)", "by (metis min_product_def product_finite min_set_finite)"], ["", "lemma min_union_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<union>\\<^sub>m B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite A; finite B\\<rbrakk>\n    \\<Longrightarrow> finite (A \\<union>\\<^sub>m B)", "by (simp add: min_union_def min_set_finite)"], ["", "lemma product_set_infinite[simp]:\n  \"infinite X \\<Longrightarrow> \\<Otimes> X = {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite X \\<Longrightarrow> \\<Otimes> X = {{||}}", "by (simp add: product_set_def)"], ["", "lemma min_product_set_infinite[simp]:\n  \"infinite X \\<Longrightarrow> \\<Otimes>\\<^sub>m X = {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite X \\<Longrightarrow> \\<Otimes>\\<^sub>m X = {{||}}", "by (simp add: min_product_set_def)"], ["", "lemma product_comm:\n  \"A \\<otimes> B = B \\<otimes> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes> B = B \\<otimes> A", "unfolding product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> B} =\n    {a |\\<union>| b |a b. a \\<in> B \\<and> b \\<in> A}", "by blast"], ["", "lemma min_product_comm:\n  \"A \\<otimes>\\<^sub>m B = B \\<otimes>\\<^sub>m A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes>\\<^sub>m B = B \\<otimes>\\<^sub>m A", "unfolding min_product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<otimes> B) = min_set (B \\<otimes> A)", "by (simp add: product_comm)"], ["", "lemma min_union_comm:\n  \"A \\<union>\\<^sub>m B = B \\<union>\\<^sub>m A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union>\\<^sub>m B = B \\<union>\\<^sub>m A", "unfolding min_union_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<union> B) = min_set (B \\<union> A)", "by (simp add: sup.commute)"], ["", "lemma product_iff:\n  \"x \\<in> A \\<otimes> B \\<longleftrightarrow> (\\<exists>a \\<in> A. \\<exists>b \\<in> B. x = a |\\<union>| b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> A \\<otimes> B) =\n    (\\<exists>a\\<in>A. \\<exists>b\\<in>B. x = a |\\<union>| b)", "unfolding product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> B}) =\n    (\\<exists>a\\<in>A. \\<exists>b\\<in>B. x = a |\\<union>| b)", "by blast"], ["", "lemma min_product_iff:\n  \"x \\<in> A \\<otimes>\\<^sub>m B \\<longleftrightarrow> (\\<exists>a \\<in> A. \\<exists>b \\<in> B. x = a |\\<union>| b) \\<and> (\\<forall>a \\<in> A. \\<forall>b \\<in> B. a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> A \\<otimes>\\<^sub>m B) =\n    ((\\<exists>a\\<in>A. \\<exists>b\\<in>B. x = a |\\<union>| b) \\<and>\n     (\\<forall>a\\<in>A.\n         \\<forall>b\\<in>B.\n            a |\\<union>| b |\\<subseteq>| x \\<longrightarrow>\n            a |\\<union>| b = x))", "unfolding min_product_def min_set_iff product_iff product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> B} \\<and>\n     (\\<forall>y\\<in>{a |\\<union>| b |a b. a \\<in> A \\<and> b \\<in> B}.\n         y |\\<subseteq>| x \\<longrightarrow> y = x)) =\n    ((\\<exists>a\\<in>A. \\<exists>b\\<in>B. x = a |\\<union>| b) \\<and>\n     (\\<forall>a\\<in>A.\n         \\<forall>b\\<in>B.\n            a |\\<union>| b |\\<subseteq>| x \\<longrightarrow>\n            a |\\<union>| b = x))", "by blast"], ["", "lemma min_union_iff:\n  \"x \\<in> A \\<union>\\<^sub>m B \\<longleftrightarrow> x \\<in> A \\<union> B \\<and> (\\<forall>a \\<in> A. a |\\<subseteq>| x \\<longrightarrow> a = x) \\<and> (\\<forall>b \\<in> B. b |\\<subseteq>| x \\<longrightarrow> b = x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> A \\<union>\\<^sub>m B) =\n    (x \\<in> A \\<union> B \\<and>\n     (\\<forall>a\\<in>A. a |\\<subseteq>| x \\<longrightarrow> a = x) \\<and>\n     (\\<forall>b\\<in>B. b |\\<subseteq>| x \\<longrightarrow> b = x))", "unfolding min_union_def min_set_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> A \\<union> B \\<and>\n     (\\<forall>y\\<in>A \\<union> B.\n         y |\\<subseteq>| x \\<longrightarrow> y = x)) =\n    (x \\<in> A \\<union> B \\<and>\n     (\\<forall>a\\<in>A. a |\\<subseteq>| x \\<longrightarrow> a = x) \\<and>\n     (\\<forall>b\\<in>B. b |\\<subseteq>| x \\<longrightarrow> b = x))", "by blast"], ["", "lemma min_set_min_product_helper:\n  \"x \\<in> (min_set A) \\<otimes>\\<^sub>m B \\<longleftrightarrow> x \\<in> A \\<otimes>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> min_set A \\<otimes>\\<^sub>m B) =\n    (x \\<in> A \\<otimes>\\<^sub>m B)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "assume \"x \\<in> (min_set A) \\<otimes>\\<^sub>m B\""], ["proof (state)\nthis:\n  x \\<in> min_set A \\<otimes>\\<^sub>m B\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  x \\<in> min_set A \\<otimes>\\<^sub>m B", "obtain a b where \"a \\<in> min_set A\" and \"b \\<in> B\" and \"x = a |\\<union>| b\" and 1: \"\\<forall>a \\<in> min_set A. \\<forall>b \\<in> B. a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\""], ["proof (prove)\nusing this:\n  x \\<in> min_set A \\<otimes>\\<^sub>m B\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> min_set A; b \\<in> B; x = a |\\<union>| b;\n         \\<forall>a\\<in>min_set A.\n            \\<forall>b\\<in>B.\n               a |\\<union>| b |\\<subseteq>| x \\<longrightarrow>\n               a |\\<union>| b = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding min_product_iff"], ["proof (prove)\nusing this:\n  (\\<exists>a\\<in>min_set A. \\<exists>b\\<in>B. x = a |\\<union>| b) \\<and>\n  (\\<forall>a\\<in>min_set A.\n      \\<forall>b\\<in>B.\n         a |\\<union>| b |\\<subseteq>| x \\<longrightarrow>\n         a |\\<union>| b = x)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> min_set A; b \\<in> B; x = a |\\<union>| b;\n         \\<forall>a\\<in>min_set A.\n            \\<forall>b\\<in>B.\n               a |\\<union>| b |\\<subseteq>| x \\<longrightarrow>\n               a |\\<union>| b = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> min_set A\n  b \\<in> B\n  x = a |\\<union>| b\n  \\<forall>a\\<in>min_set A.\n     \\<forall>b\\<in>B.\n        a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "moreover"], ["proof (state)\nthis:\n  a \\<in> min_set A\n  b \\<in> B\n  x = a |\\<union>| b\n  \\<forall>a\\<in>min_set A.\n     \\<forall>b\\<in>B.\n        a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "{"], ["proof (state)\nthis:\n  a \\<in> min_set A\n  b \\<in> B\n  x = a |\\<union>| b\n  \\<forall>a\\<in>min_set A.\n     \\<forall>b\\<in>B.\n        a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "fix a' b'"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "assume \"a' \\<in> A\" and \"b' \\<in> B\" and \"a' |\\<union>| b' |\\<subseteq>| x\""], ["proof (state)\nthis:\n  a' \\<in> A\n  b' \\<in> B\n  a' |\\<union>| b' |\\<subseteq>| x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  a' \\<in> A\n  b' \\<in> B\n  a' |\\<union>| b' |\\<subseteq>| x", "obtain a'' where \"a'' |\\<subseteq>| a'\" and \"a'' \\<in> min_set A\""], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n  a' |\\<union>| b' |\\<subseteq>| x\n\ngoal (1 subgoal):\n 1. (\\<And>a''.\n        \\<lbrakk>a'' |\\<subseteq>| a'; a'' \\<in> min_set A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using min_set_obtains"], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n  a' |\\<union>| b' |\\<subseteq>| x\n  \\<lbrakk>?A \\<in> ?B;\n   \\<And>C.\n      \\<lbrakk>C |\\<subseteq>| ?A; C \\<in> min_set ?B\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>a''.\n        \\<lbrakk>a'' |\\<subseteq>| a'; a'' \\<in> min_set A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  a'' |\\<subseteq>| a'\n  a'' \\<in> min_set A\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  a'' |\\<subseteq>| a'\n  a'' \\<in> min_set A", "have \"a'' |\\<union>| b' = x\""], ["proof (prove)\nusing this:\n  a'' |\\<subseteq>| a'\n  a'' \\<in> min_set A\n\ngoal (1 subgoal):\n 1. a'' |\\<union>| b' = x", "by (metis (full_types) 1 \\<open>b' \\<in> B\\<close> \\<open>a' |\\<union>| b' |\\<subseteq>| x\\<close> dual_order.trans le_sup_iff)"], ["proof (state)\nthis:\n  a'' |\\<union>| b' = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  a'' |\\<union>| b' = x", "have \"a' |\\<union>| b' = x\""], ["proof (prove)\nusing this:\n  a'' |\\<union>| b' = x\n\ngoal (1 subgoal):\n 1. a' |\\<union>| b' = x", "using \\<open>a' |\\<union>| b' |\\<subseteq>| x\\<close> \\<open>a'' |\\<subseteq>| a'\\<close>"], ["proof (prove)\nusing this:\n  a'' |\\<union>| b' = x\n  a' |\\<union>| b' |\\<subseteq>| x\n  a'' |\\<subseteq>| a'\n\ngoal (1 subgoal):\n 1. a' |\\<union>| b' = x", "by blast"], ["proof (state)\nthis:\n  a' |\\<union>| b' = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?a'2 \\<in> A; ?b'2 \\<in> B;\n   ?a'2 |\\<union>| ?b'2 |\\<subseteq>| x\\<rbrakk>\n  \\<Longrightarrow> ?a'2 |\\<union>| ?b'2 = x\n\ngoal (2 subgoals):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> A \\<otimes>\\<^sub>m B\n 2. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "ultimately"], ["proof (chain)\npicking this:\n  a \\<in> min_set A\n  b \\<in> B\n  x = a |\\<union>| b\n  \\<forall>a\\<in>min_set A.\n     \\<forall>b\\<in>B.\n        a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\n  \\<lbrakk>?a'2 \\<in> A; ?b'2 \\<in> B;\n   ?a'2 |\\<union>| ?b'2 |\\<subseteq>| x\\<rbrakk>\n  \\<Longrightarrow> ?a'2 |\\<union>| ?b'2 = x", "show \"x \\<in> A \\<otimes>\\<^sub>m B\""], ["proof (prove)\nusing this:\n  a \\<in> min_set A\n  b \\<in> B\n  x = a |\\<union>| b\n  \\<forall>a\\<in>min_set A.\n     \\<forall>b\\<in>B.\n        a |\\<union>| b |\\<subseteq>| x \\<longrightarrow> a |\\<union>| b = x\n  \\<lbrakk>?a'2 \\<in> A; ?b'2 \\<in> B;\n   ?a'2 |\\<union>| ?b'2 |\\<subseteq>| x\\<rbrakk>\n  \\<Longrightarrow> ?a'2 |\\<union>| ?b'2 = x\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B", "by (metis min_product_iff min_set_iff)"], ["proof (state)\nthis:\n  x \\<in> A \\<otimes>\\<^sub>m B\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "assume \"x \\<in> A \\<otimes>\\<^sub>m B\""], ["proof (state)\nthis:\n  x \\<in> A \\<otimes>\\<^sub>m B\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  x \\<in> A \\<otimes>\\<^sub>m B", "have 1: \"x \\<in> A \\<otimes> B\" and \"\\<forall>y \\<in> A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x\""], ["proof (prove)\nusing this:\n  x \\<in> A \\<otimes>\\<^sub>m B\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes> B &&&\n    \\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x", "unfolding min_product_def min_set_iff"], ["proof (prove)\nusing this:\n  x \\<in> A \\<otimes> B \\<and>\n  (\\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x)\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes> B &&&\n    \\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x", "by simp+"], ["proof (state)\nthis:\n  x \\<in> A \\<otimes> B\n  \\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  x \\<in> A \\<otimes> B\n  \\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x", "have 2: \"\\<forall>y\\<in>min_set A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x\""], ["proof (prove)\nusing this:\n  x \\<in> A \\<otimes> B\n  \\<forall>y\\<in>A \\<otimes> B. y |\\<subseteq>| x \\<longrightarrow> y = x\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>min_set A \\<otimes> B.\n       y |\\<subseteq>| x \\<longrightarrow> y = x", "by (metis product_iff min_set_iff)"], ["proof (state)\nthis:\n  \\<forall>y\\<in>min_set A \\<otimes> B.\n     y |\\<subseteq>| x \\<longrightarrow> y = x\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>min_set A \\<otimes> B.\n     y |\\<subseteq>| x \\<longrightarrow> y = x", "have \"x \\<in> min_set A \\<otimes> B\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>min_set A \\<otimes> B.\n     y |\\<subseteq>| x \\<longrightarrow> y = x\n\ngoal (1 subgoal):\n 1. x \\<in> min_set A \\<otimes> B", "by (metis 1 funion_mono min_set_obtains order_refl product_iff)"], ["proof (state)\nthis:\n  x \\<in> min_set A \\<otimes> B\n\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    x \\<in> min_set A \\<otimes>\\<^sub>m B", "then"], ["proof (chain)\npicking this:\n  x \\<in> min_set A \\<otimes> B", "show \"x \\<in> min_set A \\<otimes>\\<^sub>m B\""], ["proof (prove)\nusing this:\n  x \\<in> min_set A \\<otimes> B\n\ngoal (1 subgoal):\n 1. x \\<in> min_set A \\<otimes>\\<^sub>m B", "by (simp add: 2 min_product_def min_set_iff)"], ["proof (state)\nthis:\n  x \\<in> min_set A \\<otimes>\\<^sub>m B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma min_set_min_product[simp]:\n  \"(min_set A) \\<otimes>\\<^sub>m B = A \\<otimes>\\<^sub>m B\"\n  \"A \\<otimes>\\<^sub>m (min_set B) = A \\<otimes>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set A \\<otimes>\\<^sub>m B = A \\<otimes>\\<^sub>m B &&&\n    A \\<otimes>\\<^sub>m min_set B = A \\<otimes>\\<^sub>m B", "using min_product_comm min_set_min_product_helper"], ["proof (prove)\nusing this:\n  ?A \\<otimes>\\<^sub>m ?B = ?B \\<otimes>\\<^sub>m ?A\n  (?x \\<in> min_set ?A \\<otimes>\\<^sub>m ?B) =\n  (?x \\<in> ?A \\<otimes>\\<^sub>m ?B)\n\ngoal (1 subgoal):\n 1. min_set A \\<otimes>\\<^sub>m B = A \\<otimes>\\<^sub>m B &&&\n    A \\<otimes>\\<^sub>m min_set B = A \\<otimes>\\<^sub>m B", "by blast+"], ["", "lemma min_set_min_union[simp]:\n  \"(min_set A) \\<union>\\<^sub>m B = A \\<union>\\<^sub>m B\"\n  \"A \\<union>\\<^sub>m (min_set B) = A \\<union>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set A \\<union>\\<^sub>m B = A \\<union>\\<^sub>m B &&&\n    A \\<union>\\<^sub>m min_set B = A \\<union>\\<^sub>m B", "proof (unfold min_union_def min_set_def, safe)"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 2. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 3. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 4. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 5. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; x \\<notin> B; xa \\<in> A; xa |\\<subseteq>| x;\n        xb |\\<in>| x\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 6. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 7. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 8. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 9. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 10. \\<And>x xa xb.\n        \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                 {y \\<in> B.\n                                  \\<forall>x\\<in>B.\n                                     x |\\<subseteq>| y \\<longrightarrow>\n                                     x = y}.\n                    xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n         x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n        \\<Longrightarrow> xb |\\<in>| xa\nA total of 18 subgoals...", "show \"\\<And>x xa xb. \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A. \\<forall>x\\<in>A. x |\\<subseteq>| y \\<longrightarrow> x = y} \\<union> B. xa |\\<subseteq>| x \\<longrightarrow> xa = x; x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk> \\<Longrightarrow> xb |\\<in>| xa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa", "by (metis (mono_tags) UnCI dual_order.trans fequalityI min_set_def min_set_obtains)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                            \\<forall>x\\<in>A.\n                               x |\\<subseteq>| y \\<longrightarrow>\n                               x = y} \\<union>\n                           B.\n              xa |\\<subseteq>| ?x \\<longrightarrow> xa = ?x;\n   ?x \\<in> B; ?xa |\\<subseteq>| ?x; ?xb |\\<in>| ?x; ?xa \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?xb |\\<in>| ?xa\n\ngoal (17 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 2. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 3. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 4. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; x \\<notin> B; xa \\<in> A; xa |\\<subseteq>| x;\n        xb |\\<in>| x\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 5. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 6. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 7. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 8. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 9. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                {y \\<in> B.\n                                 \\<forall>x\\<in>B.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y}.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 10. \\<And>x xa xb.\n        \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                 {y \\<in> B.\n                                  \\<forall>x\\<in>B.\n                                     x |\\<subseteq>| y \\<longrightarrow>\n                                     x = y}.\n                    xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n         x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n        \\<Longrightarrow> xb |\\<in>| xa\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 2. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 3. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 4. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; x \\<notin> B; xa \\<in> A; xa |\\<subseteq>| x;\n        xb |\\<in>| x\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 5. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 6. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 7. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 8. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 9. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                {y \\<in> B.\n                                 \\<forall>x\\<in>B.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y}.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 10. \\<And>x xa xb.\n        \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                 {y \\<in> B.\n                                  \\<forall>x\\<in>B.\n                                     x |\\<subseteq>| y \\<longrightarrow>\n                                     x = y}.\n                    xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n         x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n        \\<Longrightarrow> xb |\\<in>| xa\nA total of 17 subgoals...", "show \"\\<And>x xa xb. \\<lbrakk>\\<forall>xa\\<in>A \\<union> {y \\<in> B. \\<forall>x\\<in>B. x |\\<subseteq>| y \\<longrightarrow> x = y}. xa |\\<subseteq>| x \\<longrightarrow> xa = x; x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk> \\<Longrightarrow> xb |\\<in>| xa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                {y \\<in> B.\n                                 \\<forall>x\\<in>B.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y}.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa", "by (metis (mono_tags) UnCI dual_order.trans fequalityI min_set_def min_set_obtains)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                           {y \\<in> B.\n                            \\<forall>x\\<in>B.\n                               x |\\<subseteq>| y \\<longrightarrow> x = y}.\n              xa |\\<subseteq>| ?x \\<longrightarrow> xa = ?x;\n   ?x \\<in> A; ?xa |\\<subseteq>| ?x; ?xb |\\<in>| ?x; ?xa \\<in> B\\<rbrakk>\n  \\<Longrightarrow> ?xb |\\<in>| ?xa\n\ngoal (16 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 2. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A;\n        \\<forall>xa\\<in>A. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 3. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>{y \\<in> A.\n                                 \\<forall>x\\<in>A.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y} \\<union>\n                                B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 4. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; x \\<notin> B; xa \\<in> A; xa |\\<subseteq>| x;\n        xb |\\<in>| x\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 5. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 6. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 7. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A;\n        \\<forall>x\\<in>A.\n           x |\\<subseteq>| xa \\<longrightarrow> x = xa\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 8. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union> B.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> B; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> B\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 9. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                {y \\<in> B.\n                                 \\<forall>x\\<in>B.\n                                    x |\\<subseteq>| y \\<longrightarrow>\n                                    x = y}.\n                   xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n        x \\<in> A; xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> xb |\\<in>| xa\n 10. \\<And>x xa xb.\n        \\<lbrakk>\\<forall>xa\\<in>A \\<union>\n                                 {y \\<in> B.\n                                  \\<forall>x\\<in>B.\n                                     x |\\<subseteq>| y \\<longrightarrow>\n                                     x = y}.\n                    xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n         x \\<in> B;\n         \\<forall>xa\\<in>B. xa |\\<subseteq>| x \\<longrightarrow> xa = x;\n         xa |\\<subseteq>| x; xb |\\<in>| x; xa \\<in> A\\<rbrakk>\n        \\<Longrightarrow> xb |\\<in>| xa\nA total of 16 subgoals...", "qed blast+"], ["", "lemma product_assoc[simp]:\n  \"(A \\<otimes> B) \\<otimes> C = A \\<otimes> (B \\<otimes> C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<otimes> B) \\<otimes> C = A \\<otimes> B \\<otimes> C", "proof (unfold product_def, safe)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>b \\<in> C; aa \\<in> A; ba \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a bb.\n                            aa |\\<union>| ba |\\<union>| b =\n                            a |\\<union>| bb \\<and>\n                            a \\<in> A \\<and>\n                            bb \\<in> {a |\\<union>| b |a b.\na \\<in> B \\<and> b \\<in> C}\n 2. \\<And>x a b aa ba.\n       \\<lbrakk>a \\<in> A; aa \\<in> B; ba \\<in> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ab b.\n                            a |\\<union>| (aa |\\<union>| ba) =\n                            ab |\\<union>| b \\<and>\n                            ab \\<in> {a |\\<union>| b |a b.\na \\<in> A \\<and> b \\<in> B} \\<and>\n                            b \\<in> C", "fix a b c"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>b \\<in> C; aa \\<in> A; ba \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a bb.\n                            aa |\\<union>| ba |\\<union>| b =\n                            a |\\<union>| bb \\<and>\n                            a \\<in> A \\<and>\n                            bb \\<in> {a |\\<union>| b |a b.\na \\<in> B \\<and> b \\<in> C}\n 2. \\<And>x a b aa ba.\n       \\<lbrakk>a \\<in> A; aa \\<in> B; ba \\<in> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ab b.\n                            a |\\<union>| (aa |\\<union>| ba) =\n                            ab |\\<union>| b \\<and>\n                            ab \\<in> {a |\\<union>| b |a b.\na \\<in> A \\<and> b \\<in> B} \\<and>\n                            b \\<in> C", "assume \"a \\<in> A\" and \"c \\<in> C\" and \"b \\<in> B\""], ["proof (state)\nthis:\n  a \\<in> A\n  c \\<in> C\n  b \\<in> B\n\ngoal (2 subgoals):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>b \\<in> C; aa \\<in> A; ba \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a bb.\n                            aa |\\<union>| ba |\\<union>| b =\n                            a |\\<union>| bb \\<and>\n                            a \\<in> A \\<and>\n                            bb \\<in> {a |\\<union>| b |a b.\na \\<in> B \\<and> b \\<in> C}\n 2. \\<And>x a b aa ba.\n       \\<lbrakk>a \\<in> A; aa \\<in> B; ba \\<in> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ab b.\n                            a |\\<union>| (aa |\\<union>| ba) =\n                            ab |\\<union>| b \\<and>\n                            ab \\<in> {a |\\<union>| b |a b.\na \\<in> A \\<and> b \\<in> B} \\<and>\n                            b \\<in> C", "then"], ["proof (chain)\npicking this:\n  a \\<in> A\n  c \\<in> C\n  b \\<in> B", "have \"b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  c \\<in> C\n  b \\<in> B\n\ngoal (1 subgoal):\n 1. b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}", "by blast"], ["proof (state)\nthis:\n  b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\n\ngoal (2 subgoals):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>b \\<in> C; aa \\<in> A; ba \\<in> B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a bb.\n                            aa |\\<union>| ba |\\<union>| b =\n                            a |\\<union>| bb \\<and>\n                            a \\<in> A \\<and>\n                            bb \\<in> {a |\\<union>| b |a b.\na \\<in> B \\<and> b \\<in> C}\n 2. \\<And>x a b aa ba.\n       \\<lbrakk>a \\<in> A; aa \\<in> B; ba \\<in> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ab b.\n                            a |\\<union>| (aa |\\<union>| ba) =\n                            ab |\\<union>| b \\<and>\n                            ab \\<in> {a |\\<union>| b |a b.\na \\<in> A \\<and> b \\<in> B} \\<and>\n                            b \\<in> C", "then"], ["proof (chain)\npicking this:\n  b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}", "show \"\\<exists>a' bc. a |\\<union>| b |\\<union>| c = a' |\\<union>| bc \\<and> a' \\<in> A \\<and> bc \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\""], ["proof (prove)\nusing this:\n  b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\n\ngoal (1 subgoal):\n 1. \\<exists>a' bc.\n       a |\\<union>| b |\\<union>| c = a' |\\<union>| bc \\<and>\n       a' \\<in> A \\<and>\n       bc \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}", "using \\<open>a \\<in> A\\<close>"], ["proof (prove)\nusing this:\n  b |\\<union>| c \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>a' bc.\n       a |\\<union>| b |\\<union>| c = a' |\\<union>| bc \\<and>\n       a' \\<in> A \\<and>\n       bc \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}", "by (metis (no_types) inf_sup_aci(5) sup_left_commute)"], ["proof (state)\nthis:\n  \\<exists>a' bc.\n     a |\\<union>| b |\\<union>| c = a' |\\<union>| bc \\<and>\n     a' \\<in> A \\<and>\n     bc \\<in> {b |\\<union>| c |b c. b \\<in> B \\<and> c \\<in> C}\n\ngoal (1 subgoal):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>a \\<in> A; aa \\<in> B; ba \\<in> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ab b.\n                            a |\\<union>| (aa |\\<union>| ba) =\n                            ab |\\<union>| b \\<and>\n                            ab \\<in> {a |\\<union>| b |a b.\na \\<in> A \\<and> b \\<in> B} \\<and>\n                            b \\<in> C", "qed (metis (mono_tags, lifting) mem_Collect_eq sup_assoc)"], ["", "lemma min_product_assoc[simp]:\n  \"(A \\<otimes>\\<^sub>m B) \\<otimes>\\<^sub>m C = A \\<otimes>\\<^sub>m (B \\<otimes>\\<^sub>m C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<otimes>\\<^sub>m B) \\<otimes>\\<^sub>m C =\n    A \\<otimes>\\<^sub>m B \\<otimes>\\<^sub>m C", "unfolding min_product_def[of A B] min_product_def[of B C]"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<otimes> B) \\<otimes>\\<^sub>m C =\n    A \\<otimes>\\<^sub>m min_set (B \\<otimes> C)", "by simp (simp add: min_product_def)"], ["", "lemma min_union_assoc[simp]:\n  \"(A \\<union>\\<^sub>m B) \\<union>\\<^sub>m C = A \\<union>\\<^sub>m (B \\<union>\\<^sub>m C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<union>\\<^sub>m B) \\<union>\\<^sub>m C =\n    A \\<union>\\<^sub>m B \\<union>\\<^sub>m C", "unfolding min_union_def[of A B] min_union_def[of B C]"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<union> B) \\<union>\\<^sub>m C =\n    A \\<union>\\<^sub>m min_set (B \\<union> C)", "by simp (simp add: min_union_def sup_assoc)"], ["", "lemma min_product_comp:\n  \"a \\<in> A \\<Longrightarrow> b \\<in> B \\<Longrightarrow> \\<exists>c. c |\\<subseteq>| (a |\\<union>| b) \\<and> c \\<in> A \\<otimes>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>c.\n                         c |\\<subseteq>| a |\\<union>| b \\<and>\n                         c \\<in> A \\<otimes>\\<^sub>m B", "by (metis (mono_tags, lifting) mem_Collect_eq min_product_def product_def min_set_obtains)"], ["", "lemma min_union_comp:\n  \"a \\<in> A \\<Longrightarrow> \\<exists>c. c |\\<subseteq>| a \\<and> c \\<in> A \\<union>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> A \\<Longrightarrow>\n    \\<exists>c. c |\\<subseteq>| a \\<and> c \\<in> A \\<union>\\<^sub>m B", "by (metis Un_iff min_set_obtains min_union_def)"], ["", "interpretation product_set_thms: Finite_Set.comp_fun_commute product"], ["proof (prove)\ngoal (1 subgoal):\n 1. comp_fun_commute (\\<otimes>)", "proof unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y x.\n       (\\<otimes>) y \\<circ> (\\<otimes>) x =\n       (\\<otimes>) x \\<circ> (\\<otimes>) y", "have \"\\<And>x y z. x \\<otimes> (y \\<otimes> z) = y \\<otimes> (x \\<otimes> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z. x \\<otimes> y \\<otimes> z = y \\<otimes> x \\<otimes> z", "by (simp only: product_assoc[symmetric]) (simp only: product_comm)"], ["proof (state)\nthis:\n  ?x \\<otimes> ?y \\<otimes> ?z = ?y \\<otimes> ?x \\<otimes> ?z\n\ngoal (1 subgoal):\n 1. \\<And>y x.\n       (\\<otimes>) y \\<circ> (\\<otimes>) x =\n       (\\<otimes>) x \\<circ> (\\<otimes>) y", "then"], ["proof (chain)\npicking this:\n  ?x \\<otimes> ?y \\<otimes> ?z = ?y \\<otimes> ?x \\<otimes> ?z", "show \"\\<And>x y. (\\<otimes>) y \\<circ> (\\<otimes>) x = (\\<otimes>) x \\<circ> (\\<otimes>) y\""], ["proof (prove)\nusing this:\n  ?x \\<otimes> ?y \\<otimes> ?z = ?y \\<otimes> ?x \\<otimes> ?z\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (\\<otimes>) y \\<circ> (\\<otimes>) x =\n       (\\<otimes>) x \\<circ> (\\<otimes>) y", "by fastforce"], ["proof (state)\nthis:\n  (\\<otimes>) ?y1 \\<circ> (\\<otimes>) ?x1 =\n  (\\<otimes>) ?x1 \\<circ> (\\<otimes>) ?y1\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation min_product_set_thms: Finite_Set.comp_fun_idem min_product"], ["proof (prove)\ngoal (1 subgoal):\n 1. comp_fun_idem (\\<otimes>\\<^sub>m)", "proof unfold_locales"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y x.\n       (\\<otimes>\\<^sub>m) y \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) y\n 2. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "have \"\\<And>x y z. x \\<otimes>\\<^sub>m (y \\<otimes>\\<^sub>m z) = y \\<otimes>\\<^sub>m (x \\<otimes>\\<^sub>m z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       x \\<otimes>\\<^sub>m y \\<otimes>\\<^sub>m z =\n       y \\<otimes>\\<^sub>m x \\<otimes>\\<^sub>m z", "by (simp only: min_product_assoc[symmetric]) (simp only: min_product_comm)"], ["proof (state)\nthis:\n  ?x \\<otimes>\\<^sub>m ?y \\<otimes>\\<^sub>m ?z =\n  ?y \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?z\n\ngoal (2 subgoals):\n 1. \\<And>y x.\n       (\\<otimes>\\<^sub>m) y \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) y\n 2. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "then"], ["proof (chain)\npicking this:\n  ?x \\<otimes>\\<^sub>m ?y \\<otimes>\\<^sub>m ?z =\n  ?y \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?z", "show \"\\<And>x y. (\\<otimes>\\<^sub>m) y \\<circ> (\\<otimes>\\<^sub>m) x = (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) y\""], ["proof (prove)\nusing this:\n  ?x \\<otimes>\\<^sub>m ?y \\<otimes>\\<^sub>m ?z =\n  ?y \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?z\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (\\<otimes>\\<^sub>m) y \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) y", "by fastforce"], ["proof (state)\nthis:\n  (\\<otimes>\\<^sub>m) ?y1 \\<circ> (\\<otimes>\\<^sub>m) ?x1 =\n  (\\<otimes>\\<^sub>m) ?x1 \\<circ> (\\<otimes>\\<^sub>m) ?y1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "have \"\\<And>x y. x \\<otimes>\\<^sub>m (x \\<otimes>\\<^sub>m y) = x \\<otimes>\\<^sub>m y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<otimes>\\<^sub>m x \\<otimes>\\<^sub>m y = x \\<otimes>\\<^sub>m y", "by (simp add: min_product_assoc[symmetric])"], ["proof (state)\nthis:\n  ?x \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?y = ?x \\<otimes>\\<^sub>m ?y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "then"], ["proof (chain)\npicking this:\n  ?x \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?y = ?x \\<otimes>\\<^sub>m ?y", "show \"\\<And>x. (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x = (\\<otimes>\\<^sub>m) x\""], ["proof (prove)\nusing this:\n  ?x \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?y = ?x \\<otimes>\\<^sub>m ?y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<otimes>\\<^sub>m) x \\<circ> (\\<otimes>\\<^sub>m) x =\n       (\\<otimes>\\<^sub>m) x", "by fastforce"], ["proof (state)\nthis:\n  (\\<otimes>\\<^sub>m) ?x1 \\<circ> (\\<otimes>\\<^sub>m) ?x1 =\n  (\\<otimes>\\<^sub>m) ?x1\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation min_union_set_thms: Finite_Set.comp_fun_idem min_union"], ["proof (prove)\ngoal (1 subgoal):\n 1. comp_fun_idem (\\<union>\\<^sub>m)", "proof unfold_locales"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y x.\n       (\\<union>\\<^sub>m) y \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) y\n 2. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "have \"\\<And>x y z. x \\<union>\\<^sub>m (y \\<union>\\<^sub>m z) = y \\<union>\\<^sub>m (x \\<union>\\<^sub>m z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       x \\<union>\\<^sub>m y \\<union>\\<^sub>m z =\n       y \\<union>\\<^sub>m x \\<union>\\<^sub>m z", "by (simp only: min_union_assoc[symmetric]) (simp only: min_union_comm)"], ["proof (state)\nthis:\n  ?x \\<union>\\<^sub>m ?y \\<union>\\<^sub>m ?z =\n  ?y \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?z\n\ngoal (2 subgoals):\n 1. \\<And>y x.\n       (\\<union>\\<^sub>m) y \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) y\n 2. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "then"], ["proof (chain)\npicking this:\n  ?x \\<union>\\<^sub>m ?y \\<union>\\<^sub>m ?z =\n  ?y \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?z", "show \"\\<And>x y. (\\<union>\\<^sub>m) y \\<circ> (\\<union>\\<^sub>m) x = (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) y\""], ["proof (prove)\nusing this:\n  ?x \\<union>\\<^sub>m ?y \\<union>\\<^sub>m ?z =\n  ?y \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?z\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (\\<union>\\<^sub>m) y \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) y", "by fastforce"], ["proof (state)\nthis:\n  (\\<union>\\<^sub>m) ?y1 \\<circ> (\\<union>\\<^sub>m) ?x1 =\n  (\\<union>\\<^sub>m) ?x1 \\<circ> (\\<union>\\<^sub>m) ?y1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "have \"\\<And>x y. x \\<union>\\<^sub>m (x \\<union>\\<^sub>m y) = x \\<union>\\<^sub>m y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<union>\\<^sub>m x \\<union>\\<^sub>m y = x \\<union>\\<^sub>m y", "by (simp add: min_union_assoc[symmetric])"], ["proof (state)\nthis:\n  ?x \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?y = ?x \\<union>\\<^sub>m ?y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "then"], ["proof (chain)\npicking this:\n  ?x \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?y = ?x \\<union>\\<^sub>m ?y", "show \"\\<And>x. (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x = (\\<union>\\<^sub>m) x\""], ["proof (prove)\nusing this:\n  ?x \\<union>\\<^sub>m ?x \\<union>\\<^sub>m ?y = ?x \\<union>\\<^sub>m ?y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<union>\\<^sub>m) x \\<circ> (\\<union>\\<^sub>m) x =\n       (\\<union>\\<^sub>m) x", "by fastforce"], ["proof (state)\nthis:\n  (\\<union>\\<^sub>m) ?x1 \\<circ> (\\<union>\\<^sub>m) ?x1 =\n  (\\<union>\\<^sub>m) ?x1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_set_empty[simp]:\n  \"\\<Otimes> {} = {{||}}\"\n  \"\\<Otimes> {{}} = {}\"\n  \"\\<Otimes> {{{||}}} = {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Otimes> {} = {{||}} &&&\n    \\<Otimes> {{}} = {} &&& \\<Otimes> {{{||}}} = {{||}}", "by (simp_all add: product_set_def)"], ["", "lemma min_product_set_empty[simp]:\n  \"\\<Otimes>\\<^sub>m {} = {{||}}\"\n  \"\\<Otimes>\\<^sub>m {{}} = {}\"\n  \"\\<Otimes>\\<^sub>m {{{||}}} = {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Otimes>\\<^sub>m {} = {{||}} &&&\n    \\<Otimes>\\<^sub>m {{}} = {} &&& \\<Otimes>\\<^sub>m {{{||}}} = {{||}}", "by (simp_all add: min_product_set_def)"], ["", "lemma product_set_code[code]:\n  \"\\<Otimes> (set xs) = fold product (remdups xs) {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Otimes> (set xs) = fold (\\<otimes>) (remdups xs) {{||}}", "by (simp add: product_set_def product_set_thms.fold_set_fold_remdups)"], ["", "lemma min_product_set_code[code]:\n  \"\\<Otimes>\\<^sub>m (set xs) = fold min_product (remdups xs) {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Otimes>\\<^sub>m (set xs) =\n    fold (\\<otimes>\\<^sub>m) (remdups xs) {{||}}", "by (simp add: min_product_set_def min_product_set_thms.fold_set_fold_remdups)"], ["", "lemma product_set_insert[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes> (insert x X) = x \\<otimes> (\\<Otimes> (X - {x}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    \\<Otimes> (insert x X) = x \\<otimes> \\<Otimes> (X - {x})", "unfolding product_set_def product_set_thms.fold_insert_remove"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    x \\<otimes> Finite_Set.fold (\\<otimes>) {{||}} (X - {x}) =\n    x \\<otimes> Finite_Set.fold (\\<otimes>) {{||}} (X - {x})", ".."], ["", "lemma min_product_set_insert[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes>\\<^sub>m (insert x X) = x \\<otimes>\\<^sub>m (\\<Otimes>\\<^sub>m X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    \\<Otimes>\\<^sub>m (insert x X) = x \\<otimes>\\<^sub>m \\<Otimes>\\<^sub>m X", "unfolding min_product_set_def min_product_set_thms.fold_insert_idem"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    x \\<otimes>\\<^sub>m Finite_Set.fold (\\<otimes>\\<^sub>m) {{||}} X =\n    x \\<otimes>\\<^sub>m Finite_Set.fold (\\<otimes>\\<^sub>m) {{||}} X", ".."], ["", "lemma min_product_subseteq:\n  \"x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow> \\<exists>a. a |\\<subseteq>| x \\<and> a \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> A \\<otimes>\\<^sub>m B \\<Longrightarrow>\n    \\<exists>a. a |\\<subseteq>| x \\<and> a \\<in> A", "by (metis funion_upper1 min_product_iff)"], ["", "lemma min_product_set_subseteq:\n  \"finite X \\<Longrightarrow> x \\<in> \\<Otimes>\\<^sub>m X \\<Longrightarrow> A \\<in> X \\<Longrightarrow> \\<exists>a \\<in> A. a |\\<subseteq>| x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite X; x \\<in> \\<Otimes>\\<^sub>m X; A \\<in> X\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>A. a |\\<subseteq>| x", "by (induction X rule: finite_induct) (blast, metis finite_insert insert_absorb min_product_set_insert min_product_subseteq)"], ["", "lemma min_set_product_set:\n  \"\\<Otimes>\\<^sub>m A = min_set (\\<Otimes> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Otimes>\\<^sub>m A = min_set (\\<Otimes> A)", "by (cases \"finite A\", induction A rule: finite_induct) (simp_all add: min_product_set_def product_set_def, metis min_product_def)"], ["", "lemma min_product_min_set[simp]:\n  \"min_set (A \\<otimes>\\<^sub>m B) = A \\<otimes>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<otimes>\\<^sub>m B) = A \\<otimes>\\<^sub>m B", "by (simp add: min_product_def)"], ["", "lemma min_union_min_set[simp]:\n  \"min_set (A \\<union>\\<^sub>m B) = A \\<union>\\<^sub>m B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (A \\<union>\\<^sub>m B) = A \\<union>\\<^sub>m B", "by (simp add: min_union_def)"], ["", "lemma min_product_set_min_set[simp]:\n  \"finite X \\<Longrightarrow> min_set (\\<Otimes>\\<^sub>m X) = \\<Otimes>\\<^sub>m X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Otimes>\\<^sub>m X) = \\<Otimes>\\<^sub>m X", "by (induction X rule: finite_induct, auto simp add: min_product_set_def min_set_iff)"], ["", "lemma min_set_min_product_set[simp]:\n  \"finite X \\<Longrightarrow> \\<Otimes>\\<^sub>m (min_set ` X) = \\<Otimes>\\<^sub>m X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    \\<Otimes>\\<^sub>m (min_set ` X) = \\<Otimes>\\<^sub>m X", "by (induction X rule: finite_induct) simp_all"], ["", "lemma min_product_set_union[simp]:\n  \"finite X \\<Longrightarrow> finite Y \\<Longrightarrow> \\<Otimes>\\<^sub>m (X \\<union> Y) = (\\<Otimes>\\<^sub>m X) \\<otimes>\\<^sub>m (\\<Otimes>\\<^sub>m Y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite X; finite Y\\<rbrakk>\n    \\<Longrightarrow> \\<Otimes>\\<^sub>m (X \\<union> Y) =\n                      \\<Otimes>\\<^sub>m X \\<otimes>\\<^sub>m\n                      \\<Otimes>\\<^sub>m Y", "by (induction X rule: finite_induct) simp_all"], ["", "lemma product_set_finite:\n  \"(\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow> finite (\\<Otimes> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow>\n    finite (\\<Otimes> X)", "by (cases \"finite X\", rotate_tac, induction X rule: finite_induct) (simp_all add: product_set_def, insert product_finite, blast)"], ["", "lemma min_product_set_finite:\n  \"(\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow> finite (\\<Otimes>\\<^sub>m X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> X \\<Longrightarrow> finite x) \\<Longrightarrow>\n    finite (\\<Otimes>\\<^sub>m X)", "by (cases \"finite X\", rotate_tac, induction X rule: finite_induct) (simp_all add: min_product_set_def, insert min_product_finite, blast)"], ["", "subsection \\<open>Disjunctive Normal Form\\<close>"], ["", "fun dnf :: \"'a ltln \\<Rightarrow> 'a ltln fset set\"\nwhere\n  \"dnf true\\<^sub>n = {{||}}\"\n| \"dnf false\\<^sub>n = {}\"\n| \"dnf (\\<phi> and\\<^sub>n \\<psi>) = (dnf \\<phi>) \\<otimes> (dnf \\<psi>)\"\n| \"dnf (\\<phi> or\\<^sub>n \\<psi>) = (dnf \\<phi>) \\<union> (dnf \\<psi>)\"\n| \"dnf \\<phi> = {{|\\<phi>|}}\""], ["", "fun min_dnf :: \"'a ltln \\<Rightarrow> 'a ltln fset set\"\nwhere\n  \"min_dnf true\\<^sub>n = {{||}}\"\n| \"min_dnf false\\<^sub>n = {}\"\n| \"min_dnf (\\<phi> and\\<^sub>n \\<psi>) = (min_dnf \\<phi>) \\<otimes>\\<^sub>m (min_dnf \\<psi>)\"\n| \"min_dnf (\\<phi> or\\<^sub>n \\<psi>) = (min_dnf \\<phi>) \\<union>\\<^sub>m (min_dnf \\<psi>)\"\n| \"min_dnf \\<phi> = {{|\\<phi>|}}\""], ["", "lemma dnf_min_set:\n  \"min_dnf \\<phi> = min_set (dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_dnf \\<phi> = min_set (dnf \\<phi>)", "by (induction \\<phi>) (simp_all, simp_all only: min_product_def min_union_def)"], ["", "lemma dnf_finite:\n  \"finite (dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (dnf \\<phi>)", "by (induction \\<phi>) (auto simp: product_finite)"], ["", "lemma min_dnf_finite:\n  \"finite (min_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (min_dnf \\<phi>)", "by (induction \\<phi>) (auto simp: min_product_finite min_union_finite)"], ["", "lemma dnf_Abs_fset[simp]:\n  \"fset (Abs_fset (dnf \\<phi>)) = dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fset (Abs_fset (dnf \\<phi>)) = dnf \\<phi>", "by (simp add: dnf_finite Abs_fset_inverse)"], ["", "lemma min_dnf_Abs_fset[simp]:\n  \"fset (Abs_fset (min_dnf \\<phi>)) = min_dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fset (Abs_fset (min_dnf \\<phi>)) = min_dnf \\<phi>", "by (simp add: min_dnf_finite Abs_fset_inverse)"], ["", "lemma dnf_prop_atoms:\n  \"\\<Phi> \\<in> dnf \\<phi> \\<Longrightarrow> fset \\<Phi> \\<subseteq> prop_atoms \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Phi> \\<in> dnf \\<phi> \\<Longrightarrow>\n    fset \\<Phi> \\<subseteq> prop_atoms \\<phi>", "by (induction \\<phi> arbitrary: \\<Phi>) (auto simp: product_def, blast+)"], ["", "lemma min_dnf_prop_atoms:\n  \"\\<Phi> \\<in> min_dnf \\<phi> \\<Longrightarrow> fset \\<Phi> \\<subseteq> prop_atoms \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Phi> \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    fset \\<Phi> \\<subseteq> prop_atoms \\<phi>", "using dnf_min_set dnf_prop_atoms min_set_subset"], ["proof (prove)\nusing this:\n  min_dnf ?\\<phi> = min_set (dnf ?\\<phi>)\n  ?\\<Phi> \\<in> dnf ?\\<phi> \\<Longrightarrow>\n  fset ?\\<Phi> \\<subseteq> prop_atoms ?\\<phi>\n  min_set ?X \\<subseteq> ?X\n\ngoal (1 subgoal):\n 1. \\<Phi> \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    fset \\<Phi> \\<subseteq> prop_atoms \\<phi>", "by blast"], ["", "lemma min_dnf_atoms_dnf:\n  \"\\<Phi> \\<in> min_dnf \\<psi> \\<Longrightarrow> \\<phi> \\<in> fset \\<Phi> \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}}", "proof (induction \\<phi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     true\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf true\\<^sub>n = {{|true\\<^sub>n|}}\n 2. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     false\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n 3. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 4. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                  \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                 \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n         \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n          \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n         \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n         \\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\nA total of 11 subgoals...", "case True_ltln"], ["proof (state)\nthis:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  true\\<^sub>n \\<in> fset \\<Phi>\n\ngoal (11 subgoals):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     true\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf true\\<^sub>n = {{|true\\<^sub>n|}}\n 2. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     false\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n 3. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 4. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                  \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                 \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n         \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n          \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n         \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n         \\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                          {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  true\\<^sub>n \\<in> fset \\<Phi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  true\\<^sub>n \\<in> fset \\<Phi>\n\ngoal (1 subgoal):\n 1. dnf true\\<^sub>n = {{|true\\<^sub>n|}}", "using min_dnf_prop_atoms prop_atoms_notin(1)"], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  true\\<^sub>n \\<in> fset \\<Phi>\n  ?\\<Phi> \\<in> min_dnf ?\\<phi> \\<Longrightarrow>\n  fset ?\\<Phi> \\<subseteq> prop_atoms ?\\<phi>\n  true\\<^sub>n \\<notin> prop_atoms ?\\<phi>\n\ngoal (1 subgoal):\n 1. dnf true\\<^sub>n = {{|true\\<^sub>n|}}", "by blast"], ["proof (state)\nthis:\n  dnf true\\<^sub>n = {{|true\\<^sub>n|}}\n\ngoal (10 subgoals):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     false\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 3. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                  \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                 \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n         \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n          \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n         \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n         \\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     false\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 3. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                  \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                 \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n         \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n          \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n         \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n         \\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "case False_ltln"], ["proof (state)\nthis:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  false\\<^sub>n \\<in> fset \\<Phi>\n\ngoal (10 subgoals):\n 1. \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n     false\\<^sub>n \\<in> fset \\<Phi>\\<rbrakk>\n    \\<Longrightarrow> dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 3. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                  \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                 \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n         \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n          \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n         \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n         \\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                          {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "then"], ["proof (chain)\npicking this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  false\\<^sub>n \\<in> fset \\<Phi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  false\\<^sub>n \\<in> fset \\<Phi>\n\ngoal (1 subgoal):\n 1. dnf false\\<^sub>n = {{|false\\<^sub>n|}}", "using min_dnf_prop_atoms prop_atoms_notin(2)"], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> min_dnf \\<psi>\n  false\\<^sub>n \\<in> fset \\<Phi>\n  ?\\<Phi> \\<in> min_dnf ?\\<phi> \\<Longrightarrow>\n  fset ?\\<Phi> \\<subseteq> prop_atoms ?\\<phi>\n  false\\<^sub>n \\<notin> prop_atoms ?\\<phi>\n\ngoal (1 subgoal):\n 1. dnf false\\<^sub>n = {{|false\\<^sub>n|}}", "by blast"], ["proof (state)\nthis:\n  dnf false\\<^sub>n = {{|false\\<^sub>n|}}\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 and\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n\ngoal (1 subgoal):\n 1. dnf (\\<phi>1 and\\<^sub>n \\<phi>2) = {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}", "using min_dnf_prop_atoms prop_atoms_notin(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 and\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n  ?\\<Phi> \\<in> min_dnf ?\\<phi> \\<Longrightarrow>\n  fset ?\\<Phi> \\<subseteq> prop_atoms ?\\<phi>\n  ?\\<phi>\\<^sub>1 and\\<^sub>n ?\\<phi>\\<^sub>2 \\<notin> prop_atoms ?\\<phi>\n\ngoal (1 subgoal):\n 1. dnf (\\<phi>1 and\\<^sub>n \\<phi>2) = {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}", "by force"], ["proof (state)\nthis:\n  dnf (\\<phi>1 and\\<^sub>n \\<phi>2) = {{|\\<phi>1 and\\<^sub>n \\<phi>2|}}\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "case (Or_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 or\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n 4. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n\ngoal (1 subgoal):\n 1. dnf (\\<phi>1 or\\<^sub>n \\<phi>2) = {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}", "using min_dnf_prop_atoms prop_atoms_notin(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}}\n  \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>; \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}}\n  \\<Phi> \\<in> min_dnf \\<psi>\n  \\<phi>1 or\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\n  ?\\<Phi> \\<in> min_dnf ?\\<phi> \\<Longrightarrow>\n  fset ?\\<Phi> \\<subseteq> prop_atoms ?\\<phi>\n  ?\\<phi>\\<^sub>1 or\\<^sub>n ?\\<phi>\\<^sub>2 \\<notin> prop_atoms ?\\<phi>\n\ngoal (1 subgoal):\n 1. dnf (\\<phi>1 or\\<^sub>n \\<phi>2) = {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}", "by force"], ["proof (state)\nthis:\n  dnf (\\<phi>1 or\\<^sub>n \\<phi>2) = {{|\\<phi>1 or\\<^sub>n \\<phi>2|}}\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        prop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf prop\\<^sub>n(x) = {{|prop\\<^sub>n(x)|}}\n 2. \\<And>x.\n       \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n        nprop\\<^sub>n(x) \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf nprop\\<^sub>n(x) = {{|nprop\\<^sub>n(x)|}}\n 3. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi> = {{|\\<phi>|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        X\\<^sub>n \\<phi> \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (X\\<^sub>n \\<phi>) = {{|X\\<^sub>n \\<phi>|}}\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 U\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 U\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 U\\<^sub>n \\<phi>2|}}\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 R\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 R\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 R\\<^sub>n \\<phi>2|}}\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 W\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 W\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 W\\<^sub>n \\<phi>2|}}\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n                 \\<phi>1 \\<in> fset \\<Phi>\\<rbrakk>\n                \\<Longrightarrow> dnf \\<phi>1 = {{|\\<phi>1|}};\n        \\<lbrakk>\\<Phi> \\<in> min_dnf \\<psi>;\n         \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<phi>2 = {{|\\<phi>2|}};\n        \\<Phi> \\<in> min_dnf \\<psi>;\n        \\<phi>1 M\\<^sub>n \\<phi>2 \\<in> fset \\<Phi>\\<rbrakk>\n       \\<Longrightarrow> dnf (\\<phi>1 M\\<^sub>n \\<phi>2) =\n                         {{|\\<phi>1 M\\<^sub>n \\<phi>2|}}", "qed auto"], ["", "lemma min_dnf_min_set[simp]:\n  \"min_set (min_dnf \\<phi>) = min_dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (min_dnf \\<phi>) = min_dnf \\<phi>", "by (induction \\<phi>) (simp_all add: min_set_def min_product_def min_union_def, blast+)"], ["", "lemma min_dnf_iff_prop_assignment_subset:\n  \"\\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<longleftrightarrow> (\\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P \\<phi> =\n    (\\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n    \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\n 2. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "assume \"\\<A> \\<Turnstile>\\<^sub>P \\<phi>\""], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (2 subgoals):\n 1. \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n    \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\n 2. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "show \"\\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\""], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>", "proof (induction \\<phi> arbitrary: \\<A>)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "case (And_ltln \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)"], ["proof (state)\nthis:\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 and\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (11 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 and\\<^sub>n \\<phi>\\<^sub>2", "obtain B\\<^sub>1 B\\<^sub>2 where 1: \"fset B\\<^sub>1 \\<subseteq> \\<A> \\<and> B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1\" and 2: \"fset B\\<^sub>2 \\<subseteq> \\<A> \\<and> B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 and\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>B\\<^sub>1 B\\<^sub>2.\n        \\<lbrakk>fset B\\<^sub>1 \\<subseteq> \\<A> \\<and>\n                 B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1;\n         fset B\\<^sub>2 \\<subseteq> \\<A> \\<and>\n         B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  fset B\\<^sub>1 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1\n  fset B\\<^sub>2 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2\n\ngoal (11 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  fset B\\<^sub>1 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1\n  fset B\\<^sub>2 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2", "obtain C where \"C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2\" and \"C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m min_dnf \\<phi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  fset B\\<^sub>1 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1\n  fset B\\<^sub>2 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using min_product_comp"], ["proof (prove)\nusing this:\n  fset B\\<^sub>1 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>1 \\<in> min_dnf \\<phi>\\<^sub>1\n  fset B\\<^sub>2 \\<subseteq> \\<A> \\<and>\n  B\\<^sub>2 \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<lbrakk>?a \\<in> ?A; ?b \\<in> ?B\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       c |\\<subseteq>| ?a |\\<union>| ?b \\<and>\n                       c \\<in> ?A \\<otimes>\\<^sub>m ?B\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (11 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m min_dnf \\<phi>\\<^sub>2", "show ?case"], ["proof (prove)\nusing this:\n  C |\\<subseteq>| B\\<^sub>1 |\\<union>| B\\<^sub>2\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<otimes>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf (\\<phi>\\<^sub>1 and\\<^sub>n \\<phi>\\<^sub>2)", "by (metis 1 2 le_sup_iff min_dnf.simps(3) sup.absorb_iff1 sup_fset.rep_eq)"], ["proof (state)\nthis:\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 and\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (Or_ltln \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)"], ["proof (state)\nthis:\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "{"], ["proof (state)\nthis:\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "assume \"\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1\""], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1", "obtain B where 1: \"fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\""], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        fset B \\<subseteq> \\<A> \\<and>\n        B \\<in> min_dnf \\<phi>\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Or_ltln"], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        fset B \\<subseteq> \\<A> \\<and>\n        B \\<in> min_dnf \\<phi>\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1", "obtain C where \"C |\\<subseteq>| B\" and \"C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using min_union_comp"], ["proof (prove)\nusing this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?a \\<in> ?A \\<Longrightarrow>\n  \\<exists>c. c |\\<subseteq>| ?a \\<and> c \\<in> ?A \\<union>\\<^sub>m ?B\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2", "have ?case"], ["proof (prove)\nusing this:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)", "by (metis 1 dual_order.trans less_eq_fset.rep_eq min_dnf.simps(4))"], ["proof (state)\nthis:\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "}"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "moreover"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "{"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "assume \"\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2\""], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2", "obtain B where 2: \"fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        fset B \\<subseteq> \\<A> \\<and>\n        B \\<in> min_dnf \\<phi>\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Or_ltln"], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>1\n  ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        fset B \\<subseteq> \\<A> \\<and>\n        B \\<in> min_dnf \\<phi>\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2", "obtain C where \"C |\\<subseteq>| B\" and \"C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using min_union_comp min_union_comm"], ["proof (prove)\nusing this:\n  fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\\<^sub>2\n  ?a \\<in> ?A \\<Longrightarrow>\n  \\<exists>c. c |\\<subseteq>| ?a \\<and> c \\<in> ?A \\<union>\\<^sub>m ?B\n  ?A \\<union>\\<^sub>m ?B = ?B \\<union>\\<^sub>m ?A\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>C |\\<subseteq>| B;\n         C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m\n                 min_dnf \\<phi>\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2", "have ?case"], ["proof (prove)\nusing this:\n  C |\\<subseteq>| B\n  C \\<in> min_dnf \\<phi>\\<^sub>1 \\<union>\\<^sub>m min_dnf \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)", "by (metis 2 dual_order.trans less_eq_fset.rep_eq min_dnf.simps(4))"], ["proof (state)\nthis:\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "}"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (10 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 or\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n        \\<lbrakk>\\<And>\\<A>.\n                    \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                    \\<exists>B.\n                       fset B \\<subseteq> \\<A> \\<and>\n                       B \\<in> min_dnf \\<phi>1;\n         \\<And>\\<A>.\n            \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n            \\<exists>B.\n               fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>B.\n                             fset B \\<subseteq> \\<A> \\<and>\n                             B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)", "using Or_ltln.prems"], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>2 \\<Longrightarrow>\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)", "by auto"], ["proof (state)\nthis:\n  \\<exists>B.\n     fset B \\<subseteq> \\<A> \\<and>\n     B \\<in> min_dnf (\\<phi>\\<^sub>1 or\\<^sub>n \\<phi>\\<^sub>2)\n\ngoal (9 subgoals):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P true\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf true\\<^sub>n\n 2. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P false\\<^sub>n \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf false\\<^sub>n\n 3. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P prop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf prop\\<^sub>n(x)\n 4. \\<And>x \\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P nprop\\<^sub>n(x) \\<Longrightarrow>\n       \\<exists>B.\n          fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>;\n        \\<A> \\<Turnstile>\\<^sub>P X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (X\\<^sub>n \\<phi>)\n 6. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 U\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 R\\<^sub>n \\<phi>2)\n 8. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 W\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2 \\<A>.\n       \\<lbrakk>\\<And>\\<A>.\n                   \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 \\<Longrightarrow>\n                   \\<exists>B.\n                      fset B \\<subseteq> \\<A> \\<and>\n                      B \\<in> min_dnf \\<phi>1;\n        \\<And>\\<A>.\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>2 \\<Longrightarrow>\n           \\<exists>B.\n              fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>2;\n        \\<A> \\<Turnstile>\\<^sub>P \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B.\n                            fset B \\<subseteq> \\<A> \\<and>\n                            B \\<in> min_dnf (\\<phi>1 M\\<^sub>n \\<phi>2)", "qed simp_all"], ["proof (state)\nthis:\n  \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "assume \"\\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\""], ["proof (state)\nthis:\n  \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>", "obtain B where \"fset B \\<subseteq> \\<A>\" and \"B \\<in> min_dnf \\<phi>\""], ["proof (prove)\nusing this:\n  \\<exists>B. fset B \\<subseteq> \\<A> \\<and> B \\<in> min_dnf \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>fset B \\<subseteq> \\<A>; B \\<in> min_dnf \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  fset B \\<subseteq> \\<A>\n  B \\<in> min_dnf \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "then"], ["proof (chain)\npicking this:\n  fset B \\<subseteq> \\<A>\n  B \\<in> min_dnf \\<phi>", "have \"fset B \\<Turnstile>\\<^sub>P \\<phi>\""], ["proof (prove)\nusing this:\n  fset B \\<subseteq> \\<A>\n  B \\<in> min_dnf \\<phi>\n\ngoal (1 subgoal):\n 1. fset B \\<Turnstile>\\<^sub>P \\<phi>", "by (induction \\<phi> arbitrary: B) (auto simp: min_set_def min_product_def product_def min_union_def, blast+)"], ["proof (state)\nthis:\n  fset B \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>B.\n       fset B \\<subseteq> \\<A> \\<and>\n       B \\<in> min_dnf \\<phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "then"], ["proof (chain)\npicking this:\n  fset B \\<Turnstile>\\<^sub>P \\<phi>", "show \"\\<A> \\<Turnstile>\\<^sub>P \\<phi>\""], ["proof (prove)\nusing this:\n  fset B \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "using \\<open>fset B \\<subseteq> \\<A>\\<close>"], ["proof (prove)\nusing this:\n  fset B \\<Turnstile>\\<^sub>P \\<phi>\n  fset B \\<subseteq> \\<A>\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "by blast"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltl_prop_implies_min_dnf:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> = (\\<forall>A \\<in> min_dnf \\<phi>. \\<exists>B \\<in> min_dnf \\<psi>. B |\\<subseteq>| A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> =\n    (\\<forall>A\\<in>min_dnf \\<phi>.\n        \\<exists>B\\<in>min_dnf \\<psi>. B |\\<subseteq>| A)", "by (meson less_eq_fset.rep_eq ltl_prop_implies_def min_dnf_iff_prop_assignment_subset order_refl dual_order.trans)"], ["", "lemma ltl_prop_equiv_min_dnf:\n  \"\\<phi> \\<sim>\\<^sub>P \\<psi> = (min_dnf \\<phi> = min_dnf \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<sim>\\<^sub>P \\<psi> = (min_dnf \\<phi> = min_dnf \\<psi>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<sim>\\<^sub>P \\<psi> \\<Longrightarrow>\n    min_dnf \\<phi> = min_dnf \\<psi>\n 2. min_dnf \\<phi> = min_dnf \\<psi> \\<Longrightarrow>\n    \\<phi> \\<sim>\\<^sub>P \\<psi>", "assume \"\\<phi> \\<sim>\\<^sub>P \\<psi>\""], ["proof (state)\nthis:\n  \\<phi> \\<sim>\\<^sub>P \\<psi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<sim>\\<^sub>P \\<psi> \\<Longrightarrow>\n    min_dnf \\<phi> = min_dnf \\<psi>\n 2. min_dnf \\<phi> = min_dnf \\<psi> \\<Longrightarrow>\n    \\<phi> \\<sim>\\<^sub>P \\<psi>", "then"], ["proof (chain)\npicking this:\n  \\<phi> \\<sim>\\<^sub>P \\<psi>", "have \"\\<And>x. x \\<in> min_set (min_dnf \\<phi>) \\<longleftrightarrow> x \\<in> min_set (min_dnf \\<psi>)\""], ["proof (prove)\nusing this:\n  \\<phi> \\<sim>\\<^sub>P \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (x \\<in> min_set (min_dnf \\<phi>)) =\n       (x \\<in> min_set (min_dnf \\<psi>))", "unfolding ltl_prop_implies_equiv ltl_prop_implies_min_dnf min_set_iff"], ["proof (prove)\nusing this:\n  (\\<forall>A\\<in>min_dnf \\<phi>.\n      \\<exists>B\\<in>min_dnf \\<psi>. B |\\<subseteq>| A) \\<and>\n  (\\<forall>A\\<in>min_dnf \\<psi>.\n      \\<exists>B\\<in>min_dnf \\<phi>. B |\\<subseteq>| A)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (x \\<in> min_dnf \\<phi> \\<and>\n        (\\<forall>y\\<in>min_dnf \\<phi>.\n            y |\\<subseteq>| x \\<longrightarrow> y = x)) =\n       (x \\<in> min_dnf \\<psi> \\<and>\n        (\\<forall>y\\<in>min_dnf \\<psi>.\n            y |\\<subseteq>| x \\<longrightarrow> y = x))", "by fastforce"], ["proof (state)\nthis:\n  (?x \\<in> min_set (min_dnf \\<phi>)) = (?x \\<in> min_set (min_dnf \\<psi>))\n\ngoal (2 subgoals):\n 1. \\<phi> \\<sim>\\<^sub>P \\<psi> \\<Longrightarrow>\n    min_dnf \\<phi> = min_dnf \\<psi>\n 2. min_dnf \\<phi> = min_dnf \\<psi> \\<Longrightarrow>\n    \\<phi> \\<sim>\\<^sub>P \\<psi>", "then"], ["proof (chain)\npicking this:\n  (?x \\<in> min_set (min_dnf \\<phi>)) = (?x \\<in> min_set (min_dnf \\<psi>))", "show \"min_dnf \\<phi> = min_dnf \\<psi>\""], ["proof (prove)\nusing this:\n  (?x \\<in> min_set (min_dnf \\<phi>)) = (?x \\<in> min_set (min_dnf \\<psi>))\n\ngoal (1 subgoal):\n 1. min_dnf \\<phi> = min_dnf \\<psi>", "by auto"], ["proof (state)\nthis:\n  min_dnf \\<phi> = min_dnf \\<psi>\n\ngoal (1 subgoal):\n 1. min_dnf \\<phi> = min_dnf \\<psi> \\<Longrightarrow>\n    \\<phi> \\<sim>\\<^sub>P \\<psi>", "qed (simp add: ltl_prop_equiv_def min_dnf_iff_prop_assignment_subset)"], ["", "lemma min_dnf_rep_abs[simp]:\n  \"min_dnf (rep_ltln\\<^sub>P (abs_ltln\\<^sub>P \\<phi>)) = min_dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_dnf (rep_ltln\\<^sub>P (abs_ltln\\<^sub>P \\<phi>)) = min_dnf \\<phi>", "by (simp add: ltl_prop_equiv_min_dnf[symmetric] Quotient3_ltln\\<^sub>P rep_abs_rsp_left)"], ["", "subsection \\<open>Folding of \\<open>and\\<^sub>n\\<close> and \\<open>or\\<^sub>n\\<close> over Finite Sets\\<close>"], ["", "definition And\\<^sub>n :: \"'a ltln set \\<Rightarrow> 'a ltln\"\nwhere\n  \"And\\<^sub>n \\<Phi> \\<equiv> SOME \\<phi>. fold_graph And_ltln True_ltln \\<Phi> \\<phi>\""], ["", "definition Or\\<^sub>n :: \"'a ltln set \\<Rightarrow> 'a ltln\"\nwhere\n  \"Or\\<^sub>n \\<Phi> \\<equiv> SOME \\<phi>. fold_graph Or_ltln False_ltln \\<Phi> \\<phi>\""], ["", "lemma fold_graph_And\\<^sub>n:\n  \"finite \\<Phi> \\<Longrightarrow> fold_graph And_ltln True_ltln \\<Phi> (And\\<^sub>n \\<Phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    fold_graph And_ltln true\\<^sub>n \\<Phi> (And\\<^sub>n \\<Phi>)", "unfolding And\\<^sub>n_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    fold_graph And_ltln true\\<^sub>n \\<Phi>\n     (SOME \\<phi>. fold_graph And_ltln true\\<^sub>n \\<Phi> \\<phi>)", "by (rule someI2_ex[OF finite_imp_fold_graph])"], ["", "lemma fold_graph_Or\\<^sub>n:\n  \"finite \\<Phi> \\<Longrightarrow> fold_graph Or_ltln False_ltln \\<Phi> (Or\\<^sub>n \\<Phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    fold_graph Or_ltln false\\<^sub>n \\<Phi> (Or\\<^sub>n \\<Phi>)", "unfolding Or\\<^sub>n_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    fold_graph Or_ltln false\\<^sub>n \\<Phi>\n     (SOME \\<phi>. fold_graph Or_ltln false\\<^sub>n \\<Phi> \\<phi>)", "by (rule someI2_ex[OF finite_imp_fold_graph])"], ["", "lemma Or\\<^sub>n_empty[simp]:\n  \"Or\\<^sub>n {} = False_ltln\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Or\\<^sub>n {} = false\\<^sub>n", "by (metis empty_fold_graphE finite.emptyI fold_graph_Or\\<^sub>n)"], ["", "lemma And\\<^sub>n_empty[simp]:\n  \"And\\<^sub>n {} = True_ltln\""], ["proof (prove)\ngoal (1 subgoal):\n 1. And\\<^sub>n {} = true\\<^sub>n", "by (metis empty_fold_graphE finite.emptyI fold_graph_And\\<^sub>n)"], ["", "interpretation dnf_union_thms: Finite_Set.comp_fun_commute \"\\<lambda>\\<phi>. (\\<union>) (f \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. comp_fun_commute (\\<lambda>\\<phi>. (\\<union>) (f \\<phi>))", "by unfold_locales fastforce"], ["", "interpretation dnf_product_thms: Finite_Set.comp_fun_commute \"\\<lambda>\\<phi>. (\\<otimes>) (f \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. comp_fun_commute (\\<lambda>\\<phi>. (\\<otimes>) (f \\<phi>))", "by unfold_locales (simp add: product_set_thms.comp_fun_commute)\n\n\\<comment> \\<open>Copied from locale @{locale comp_fun_commute}\\<close>"], ["", "lemma fold_graph_finite:\n  assumes \"fold_graph f z A y\"\n  shows \"finite A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite A", "using assms"], ["proof (prove)\nusing this:\n  fold_graph f z A y\n\ngoal (1 subgoal):\n 1. finite A", "by induct simp_all"], ["", "text \\<open>Taking the DNF of @{const And\\<^sub>n} and @{const Or\\<^sub>n} is the same as folding over the individual DNFs.\\<close>"], ["", "lemma And\\<^sub>n_dnf:\n  \"finite \\<Phi> \\<Longrightarrow> dnf (And\\<^sub>n \\<Phi>) = Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} \\<Phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    dnf (And\\<^sub>n \\<Phi>) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n     \\<Phi>", "proof (drule fold_graph_And\\<^sub>n, induction rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. dnf true\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x and\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n                          (insert x A)", "case (insertI x A y)"], ["proof (state)\nthis:\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  dnf y =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} A\n\ngoal (2 subgoals):\n 1. dnf true\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x and\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n                          (insert x A)", "then"], ["proof (chain)\npicking this:\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  dnf y =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} A", "have \"finite A\""], ["proof (prove)\nusing this:\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  dnf y =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} A\n\ngoal (1 subgoal):\n 1. finite A", "using fold_graph_finite"], ["proof (prove)\nusing this:\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  dnf y =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} A\n  fold_graph ?f ?z ?A ?y \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite A", "by fast"], ["proof (state)\nthis:\n  finite A\n\ngoal (2 subgoals):\n 1. dnf true\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x and\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n                          (insert x A)", "then"], ["proof (chain)\npicking this:\n  finite A", "show ?case"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. dnf (x and\\<^sub>n y) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n     (insert x A)", "using insertI"], ["proof (prove)\nusing this:\n  finite A\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  dnf y =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} A\n\ngoal (1 subgoal):\n 1. dnf (x and\\<^sub>n y) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n     (insert x A)", "by auto"], ["proof (state)\nthis:\n  dnf (x and\\<^sub>n y) =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n   (insert x A)\n\ngoal (1 subgoal):\n 1. dnf true\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} {}", "qed simp"], ["", "lemma Or\\<^sub>n_dnf:\n  \"finite \\<Phi> \\<Longrightarrow> dnf (Or\\<^sub>n \\<Phi>) = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} \\<Phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    dnf (Or\\<^sub>n \\<Phi>) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} \\<Phi>", "proof (drule fold_graph_Or\\<^sub>n, induction rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. dnf false\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x or\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n                          (insert x A)", "case (insertI x A y)"], ["proof (state)\nthis:\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  dnf y = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} A\n\ngoal (2 subgoals):\n 1. dnf false\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x or\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n                          (insert x A)", "then"], ["proof (chain)\npicking this:\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  dnf y = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} A", "have \"finite A\""], ["proof (prove)\nusing this:\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  dnf y = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} A\n\ngoal (1 subgoal):\n 1. finite A", "using fold_graph_finite"], ["proof (prove)\nusing this:\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  dnf y = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} A\n  fold_graph ?f ?z ?A ?y \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite A", "by fast"], ["proof (state)\nthis:\n  finite A\n\ngoal (2 subgoals):\n 1. dnf false\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} {}\n 2. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        dnf y =\n        Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n         A\\<rbrakk>\n       \\<Longrightarrow> dnf (x or\\<^sub>n y) =\n                         Finite_Set.fold\n                          (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n                          (insert x A)", "then"], ["proof (chain)\npicking this:\n  finite A", "show ?case"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. dnf (x or\\<^sub>n y) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n     (insert x A)", "using insertI"], ["proof (prove)\nusing this:\n  finite A\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  dnf y = Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} A\n\ngoal (1 subgoal):\n 1. dnf (x or\\<^sub>n y) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n     (insert x A)", "by auto"], ["proof (state)\nthis:\n  dnf (x or\\<^sub>n y) =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} (insert x A)\n\ngoal (1 subgoal):\n 1. dnf false\\<^sub>n =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {} {}", "qed simp"], ["", "text \\<open>@{const And\\<^sub>n} and @{const Or\\<^sub>n} are injective on finite sets.\\<close>"], ["", "lemma And\\<^sub>n_inj:\n  \"inj_on And\\<^sub>n {s. finite s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on And\\<^sub>n {s. finite s}", "proof (standard, simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; And\\<^sub>n x = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix x y :: \"'a ltln set\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; And\\<^sub>n x = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"finite x\" and \"finite y\""], ["proof (state)\nthis:\n  finite x\n  finite y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; And\\<^sub>n x = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  finite x\n  finite y", "have 1: \"fold_graph And_ltln True_ltln x (And\\<^sub>n x)\" and 2: \"fold_graph And_ltln True_ltln y (And\\<^sub>n y)\""], ["proof (prove)\nusing this:\n  finite x\n  finite y\n\ngoal (1 subgoal):\n 1. fold_graph And_ltln true\\<^sub>n x (And\\<^sub>n x) &&&\n    fold_graph And_ltln true\\<^sub>n y (And\\<^sub>n y)", "using fold_graph_And\\<^sub>n"], ["proof (prove)\nusing this:\n  finite x\n  finite y\n  finite ?\\<Phi> \\<Longrightarrow>\n  fold_graph And_ltln true\\<^sub>n ?\\<Phi> (And\\<^sub>n ?\\<Phi>)\n\ngoal (1 subgoal):\n 1. fold_graph And_ltln true\\<^sub>n x (And\\<^sub>n x) &&&\n    fold_graph And_ltln true\\<^sub>n y (And\\<^sub>n y)", "by blast+"], ["proof (state)\nthis:\n  fold_graph And_ltln true\\<^sub>n x (And\\<^sub>n x)\n  fold_graph And_ltln true\\<^sub>n y (And\\<^sub>n y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; And\\<^sub>n x = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"And\\<^sub>n x = And\\<^sub>n y\""], ["proof (state)\nthis:\n  And\\<^sub>n x = And\\<^sub>n y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; And\\<^sub>n x = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with 1"], ["proof (chain)\npicking this:\n  fold_graph And_ltln true\\<^sub>n x (And\\<^sub>n x)\n  And\\<^sub>n x = And\\<^sub>n y", "show \"x = y\""], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n x (And\\<^sub>n x)\n  And\\<^sub>n x = And\\<^sub>n y\n\ngoal (1 subgoal):\n 1. x = y", "proof (induction rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. true\\<^sub>n = And\\<^sub>n y \\<Longrightarrow> {} = y\n 2. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A ya;\n        ya = And\\<^sub>n y \\<Longrightarrow> A = y;\n        x and\\<^sub>n ya = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "case emptyI"], ["proof (state)\nthis:\n  true\\<^sub>n = And\\<^sub>n y\n\ngoal (2 subgoals):\n 1. true\\<^sub>n = And\\<^sub>n y \\<Longrightarrow> {} = y\n 2. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A ya;\n        ya = And\\<^sub>n y \\<Longrightarrow> A = y;\n        x and\\<^sub>n ya = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "then"], ["proof (chain)\npicking this:\n  true\\<^sub>n = And\\<^sub>n y", "show ?case"], ["proof (prove)\nusing this:\n  true\\<^sub>n = And\\<^sub>n y\n\ngoal (1 subgoal):\n 1. {} = y", "using 2 fold_graph.cases"], ["proof (prove)\nusing this:\n  true\\<^sub>n = And\\<^sub>n y\n  fold_graph And_ltln true\\<^sub>n y (And\\<^sub>n y)\n  \\<lbrakk>fold_graph ?f ?z ?a1.0 ?a2.0;\n   \\<lbrakk>?a1.0 = {}; ?a2.0 = ?z\\<rbrakk> \\<Longrightarrow> ?P;\n   \\<And>x A y.\n      \\<lbrakk>?a1.0 = insert x A; ?a2.0 = ?f x y; x \\<notin> A;\n       fold_graph ?f ?z A y\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. {} = y", "by force"], ["proof (state)\nthis:\n  {} = y\n\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A ya;\n        ya = And\\<^sub>n y \\<Longrightarrow> A = y;\n        x and\\<^sub>n ya = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A ya;\n        ya = And\\<^sub>n y \\<Longrightarrow> A = y;\n        x and\\<^sub>n ya = And\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "case (insertI x A y)"], ["proof (state)\nthis:\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = And\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x and\\<^sub>n y = And\\<^sub>n y__\n\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A ya;\n        ya = And\\<^sub>n y__ \\<Longrightarrow> A = y__;\n        x and\\<^sub>n ya = And\\<^sub>n y__\\<rbrakk>\n       \\<Longrightarrow> insert x A = y__", "with 2"], ["proof (chain)\npicking this:\n  fold_graph And_ltln true\\<^sub>n y__ (And\\<^sub>n y__)\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = And\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x and\\<^sub>n y = And\\<^sub>n y__", "show ?case"], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n y__ (And\\<^sub>n y__)\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = And\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x and\\<^sub>n y = And\\<^sub>n y__\n\ngoal (1 subgoal):\n 1. insert x A = y__", "proof (induction arbitrary: x A y rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        y = true\\<^sub>n \\<Longrightarrow> A = {};\n        x and\\<^sub>n y = true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}\n 2. \\<And>x A y xa Aa ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        \\<And>x Aa ya.\n           \\<lbrakk>x \\<notin> Aa; fold_graph And_ltln true\\<^sub>n Aa ya;\n            ya = y \\<Longrightarrow> Aa = A; x and\\<^sub>n ya = y\\<rbrakk>\n           \\<Longrightarrow> insert x Aa = A;\n        xa \\<notin> Aa; fold_graph And_ltln true\\<^sub>n Aa ya;\n        ya = x and\\<^sub>n y \\<Longrightarrow> Aa = insert x A;\n        xa and\\<^sub>n ya = x and\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert xa Aa = insert x A", "case (insertI x A y)"], ["proof (state)\nthis:\n  xb__ \\<notin> Aa__\n  fold_graph And_ltln true\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph And_ltln true\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x and\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = xb__ and\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x and\\<^sub>n y = xb__ and\\<^sub>n yb__\n\ngoal (2 subgoals):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        y = true\\<^sub>n \\<Longrightarrow> A = {};\n        x and\\<^sub>n y = true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}\n 2. \\<And>x A y xa Aa ya.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        \\<And>x Aa ya.\n           \\<lbrakk>x \\<notin> Aa; fold_graph And_ltln true\\<^sub>n Aa ya;\n            ya = y \\<Longrightarrow> Aa = A; x and\\<^sub>n ya = y\\<rbrakk>\n           \\<Longrightarrow> insert x Aa = A;\n        xa \\<notin> Aa; fold_graph And_ltln true\\<^sub>n Aa ya;\n        ya = x and\\<^sub>n y \\<Longrightarrow> Aa = insert x A;\n        xa and\\<^sub>n ya = x and\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert xa Aa = insert x A", "then"], ["proof (chain)\npicking this:\n  xb__ \\<notin> Aa__\n  fold_graph And_ltln true\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph And_ltln true\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x and\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = xb__ and\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x and\\<^sub>n y = xb__ and\\<^sub>n yb__", "show ?case"], ["proof (prove)\nusing this:\n  xb__ \\<notin> Aa__\n  fold_graph And_ltln true\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph And_ltln true\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x and\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph And_ltln true\\<^sub>n A y\n  y = xb__ and\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x and\\<^sub>n y = xb__ and\\<^sub>n yb__\n\ngoal (1 subgoal):\n 1. insert x A = insert xb__ Aa__", "by (metis fold_graph.cases insertI1 ltln.distinct(7) ltln.inject(3))"], ["proof (state)\nthis:\n  insert x A = insert xb__ Aa__\n\ngoal (1 subgoal):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph And_ltln true\\<^sub>n A y;\n        y = true\\<^sub>n \\<Longrightarrow> A = {};\n        x and\\<^sub>n y = true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}", "qed blast"], ["proof (state)\nthis:\n  insert x A = y__\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Or\\<^sub>n_inj:\n  \"inj_on Or\\<^sub>n {s. finite s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on Or\\<^sub>n {s. finite s}", "proof (standard, simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; Or\\<^sub>n x = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix x y :: \"'a ltln set\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; Or\\<^sub>n x = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"finite x\" and \"finite y\""], ["proof (state)\nthis:\n  finite x\n  finite y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; Or\\<^sub>n x = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  finite x\n  finite y", "have 1: \"fold_graph Or_ltln False_ltln x (Or\\<^sub>n x)\" and 2: \"fold_graph Or_ltln False_ltln y (Or\\<^sub>n y)\""], ["proof (prove)\nusing this:\n  finite x\n  finite y\n\ngoal (1 subgoal):\n 1. fold_graph Or_ltln false\\<^sub>n x (Or\\<^sub>n x) &&&\n    fold_graph Or_ltln false\\<^sub>n y (Or\\<^sub>n y)", "using fold_graph_Or\\<^sub>n"], ["proof (prove)\nusing this:\n  finite x\n  finite y\n  finite ?\\<Phi> \\<Longrightarrow>\n  fold_graph Or_ltln false\\<^sub>n ?\\<Phi> (Or\\<^sub>n ?\\<Phi>)\n\ngoal (1 subgoal):\n 1. fold_graph Or_ltln false\\<^sub>n x (Or\\<^sub>n x) &&&\n    fold_graph Or_ltln false\\<^sub>n y (Or\\<^sub>n y)", "by blast+"], ["proof (state)\nthis:\n  fold_graph Or_ltln false\\<^sub>n x (Or\\<^sub>n x)\n  fold_graph Or_ltln false\\<^sub>n y (Or\\<^sub>n y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; Or\\<^sub>n x = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"Or\\<^sub>n x = Or\\<^sub>n y\""], ["proof (state)\nthis:\n  Or\\<^sub>n x = Or\\<^sub>n y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>finite x; finite y; Or\\<^sub>n x = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with 1"], ["proof (chain)\npicking this:\n  fold_graph Or_ltln false\\<^sub>n x (Or\\<^sub>n x)\n  Or\\<^sub>n x = Or\\<^sub>n y", "show \"x = y\""], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n x (Or\\<^sub>n x)\n  Or\\<^sub>n x = Or\\<^sub>n y\n\ngoal (1 subgoal):\n 1. x = y", "proof (induction rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. false\\<^sub>n = Or\\<^sub>n y \\<Longrightarrow> {} = y\n 2. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A ya;\n        ya = Or\\<^sub>n y \\<Longrightarrow> A = y;\n        x or\\<^sub>n ya = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "case emptyI"], ["proof (state)\nthis:\n  false\\<^sub>n = Or\\<^sub>n y\n\ngoal (2 subgoals):\n 1. false\\<^sub>n = Or\\<^sub>n y \\<Longrightarrow> {} = y\n 2. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A ya;\n        ya = Or\\<^sub>n y \\<Longrightarrow> A = y;\n        x or\\<^sub>n ya = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "then"], ["proof (chain)\npicking this:\n  false\\<^sub>n = Or\\<^sub>n y", "show ?case"], ["proof (prove)\nusing this:\n  false\\<^sub>n = Or\\<^sub>n y\n\ngoal (1 subgoal):\n 1. {} = y", "using 2 fold_graph.cases"], ["proof (prove)\nusing this:\n  false\\<^sub>n = Or\\<^sub>n y\n  fold_graph Or_ltln false\\<^sub>n y (Or\\<^sub>n y)\n  \\<lbrakk>fold_graph ?f ?z ?a1.0 ?a2.0;\n   \\<lbrakk>?a1.0 = {}; ?a2.0 = ?z\\<rbrakk> \\<Longrightarrow> ?P;\n   \\<And>x A y.\n      \\<lbrakk>?a1.0 = insert x A; ?a2.0 = ?f x y; x \\<notin> A;\n       fold_graph ?f ?z A y\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. {} = y", "by force"], ["proof (state)\nthis:\n  {} = y\n\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A ya;\n        ya = Or\\<^sub>n y \\<Longrightarrow> A = y;\n        x or\\<^sub>n ya = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A ya;\n        ya = Or\\<^sub>n y \\<Longrightarrow> A = y;\n        x or\\<^sub>n ya = Or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert x A = y", "case (insertI x A y)"], ["proof (state)\nthis:\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = Or\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x or\\<^sub>n y = Or\\<^sub>n y__\n\ngoal (1 subgoal):\n 1. \\<And>x A ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A ya;\n        ya = Or\\<^sub>n y__ \\<Longrightarrow> A = y__;\n        x or\\<^sub>n ya = Or\\<^sub>n y__\\<rbrakk>\n       \\<Longrightarrow> insert x A = y__", "with 2"], ["proof (chain)\npicking this:\n  fold_graph Or_ltln false\\<^sub>n y__ (Or\\<^sub>n y__)\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = Or\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x or\\<^sub>n y = Or\\<^sub>n y__", "show ?case"], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n y__ (Or\\<^sub>n y__)\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = Or\\<^sub>n y__ \\<Longrightarrow> A = y__\n  x or\\<^sub>n y = Or\\<^sub>n y__\n\ngoal (1 subgoal):\n 1. insert x A = y__", "proof (induction arbitrary: x A y rule: fold_graph.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        y = false\\<^sub>n \\<Longrightarrow> A = {};\n        x or\\<^sub>n y = false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}\n 2. \\<And>x A y xa Aa ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        \\<And>x Aa ya.\n           \\<lbrakk>x \\<notin> Aa; fold_graph Or_ltln false\\<^sub>n Aa ya;\n            ya = y \\<Longrightarrow> Aa = A; x or\\<^sub>n ya = y\\<rbrakk>\n           \\<Longrightarrow> insert x Aa = A;\n        xa \\<notin> Aa; fold_graph Or_ltln false\\<^sub>n Aa ya;\n        ya = x or\\<^sub>n y \\<Longrightarrow> Aa = insert x A;\n        xa or\\<^sub>n ya = x or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert xa Aa = insert x A", "case (insertI x A y)"], ["proof (state)\nthis:\n  xb__ \\<notin> Aa__\n  fold_graph Or_ltln false\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph Or_ltln false\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x or\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = xb__ or\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x or\\<^sub>n y = xb__ or\\<^sub>n yb__\n\ngoal (2 subgoals):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        y = false\\<^sub>n \\<Longrightarrow> A = {};\n        x or\\<^sub>n y = false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}\n 2. \\<And>x A y xa Aa ya.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        \\<And>x Aa ya.\n           \\<lbrakk>x \\<notin> Aa; fold_graph Or_ltln false\\<^sub>n Aa ya;\n            ya = y \\<Longrightarrow> Aa = A; x or\\<^sub>n ya = y\\<rbrakk>\n           \\<Longrightarrow> insert x Aa = A;\n        xa \\<notin> Aa; fold_graph Or_ltln false\\<^sub>n Aa ya;\n        ya = x or\\<^sub>n y \\<Longrightarrow> Aa = insert x A;\n        xa or\\<^sub>n ya = x or\\<^sub>n y\\<rbrakk>\n       \\<Longrightarrow> insert xa Aa = insert x A", "then"], ["proof (chain)\npicking this:\n  xb__ \\<notin> Aa__\n  fold_graph Or_ltln false\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph Or_ltln false\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x or\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = xb__ or\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x or\\<^sub>n y = xb__ or\\<^sub>n yb__", "show ?case"], ["proof (prove)\nusing this:\n  xb__ \\<notin> Aa__\n  fold_graph Or_ltln false\\<^sub>n Aa__ yb__\n  \\<lbrakk>?x \\<notin> ?A; fold_graph Or_ltln false\\<^sub>n ?A ?y;\n   ?y = yb__ \\<Longrightarrow> ?A = Aa__; ?x or\\<^sub>n ?y = yb__\\<rbrakk>\n  \\<Longrightarrow> insert ?x ?A = Aa__\n  x \\<notin> A\n  fold_graph Or_ltln false\\<^sub>n A y\n  y = xb__ or\\<^sub>n yb__ \\<Longrightarrow> A = insert xb__ Aa__\n  x or\\<^sub>n y = xb__ or\\<^sub>n yb__\n\ngoal (1 subgoal):\n 1. insert x A = insert xb__ Aa__", "by (metis fold_graph.cases insertI1 ltln.distinct(27) ltln.inject(4))"], ["proof (state)\nthis:\n  insert x A = insert xb__ Aa__\n\ngoal (1 subgoal):\n 1. \\<And>x A y.\n       \\<lbrakk>x \\<notin> A; fold_graph Or_ltln false\\<^sub>n A y;\n        y = false\\<^sub>n \\<Longrightarrow> A = {};\n        x or\\<^sub>n y = false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> insert x A = {}", "qed blast"], ["proof (state)\nthis:\n  insert x A = y__\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The semantics of @{const And\\<^sub>n} and @{const Or\\<^sub>n} can be expressed using quantifiers.\\<close>"], ["", "lemma And\\<^sub>n_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "assume \"finite \\<Phi>\""], ["proof (state)\nthis:\n  finite \\<Phi>\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "have \"\\<And>\\<psi>. fold_graph And_ltln True_ltln \\<Phi> \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       fold_graph And_ltln true\\<^sub>n \\<Phi> \\<psi> \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n \\<psi> =\n       (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by (rule fold_graph.induct) auto"], ["proof (state)\nthis:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "then"], ["proof (chain)\npicking this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "using fold_graph_And\\<^sub>n[OF \\<open>finite \\<Phi>\\<close>]"], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n  fold_graph And_ltln true\\<^sub>n \\<Phi> (And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Or\\<^sub>n_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "assume \"finite \\<Phi>\""], ["proof (state)\nthis:\n  finite \\<Phi>\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "have \"\\<And>\\<psi>. fold_graph Or_ltln False_ltln \\<Phi> \\<psi> \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<psi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       fold_graph Or_ltln false\\<^sub>n \\<Phi> \\<psi> \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n \\<psi> =\n       (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by (rule fold_graph.induct) auto"], ["proof (state)\nthis:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "then"], ["proof (chain)\npicking this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "using fold_graph_Or\\<^sub>n[OF \\<open>finite \\<Phi>\\<close>]"], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> (Or\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n \\<Phi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma And\\<^sub>n_prop_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "assume \"finite \\<Phi>\""], ["proof (state)\nthis:\n  finite \\<Phi>\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "have \"\\<And>\\<psi>. fold_graph And_ltln True_ltln \\<Phi> \\<psi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P \\<psi> \\<longleftrightarrow> (\\<forall>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       fold_graph And_ltln true\\<^sub>n \\<Phi> \\<psi> \\<Longrightarrow>\n       \\<A> \\<Turnstile>\\<^sub>P \\<psi> =\n       (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "by (rule fold_graph.induct) auto"], ["proof (state)\nthis:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "then"], ["proof (chain)\npicking this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "using fold_graph_And\\<^sub>n[OF \\<open>finite \\<Phi>\\<close>]"], ["proof (prove)\nusing this:\n  fold_graph And_ltln true\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n  fold_graph And_ltln true\\<^sub>n \\<Phi> (And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n    (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "by simp"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi> =\n  (\\<forall>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Or\\<^sub>n_prop_semantics:\n  \"finite \\<Phi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "assume \"finite \\<Phi>\""], ["proof (state)\nthis:\n  finite \\<Phi>\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "have \"\\<And>\\<psi>. fold_graph Or_ltln False_ltln \\<Phi> \\<psi> \\<Longrightarrow> \\<A> \\<Turnstile>\\<^sub>P \\<psi> \\<longleftrightarrow> (\\<exists>\\<phi> \\<in> \\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       fold_graph Or_ltln false\\<^sub>n \\<Phi> \\<psi> \\<Longrightarrow>\n       \\<A> \\<Turnstile>\\<^sub>P \\<psi> =\n       (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "by (rule fold_graph.induct) auto"], ["proof (state)\nthis:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. finite \\<Phi> \\<Longrightarrow>\n    \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "then"], ["proof (chain)\npicking this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "using fold_graph_Or\\<^sub>n[OF \\<open>finite \\<Phi>\\<close>]"], ["proof (prove)\nusing this:\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> ?\\<psi> \\<Longrightarrow>\n  \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n  fold_graph Or_ltln false\\<^sub>n \\<Phi> (Or\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n    (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "by simp"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n \\<Phi> =\n  (\\<exists>\\<phi>\\<in>\\<Phi>. \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Or\\<^sub>n_And\\<^sub>n_image_semantics:\n  assumes \"finite \\<A>\" and \"\\<And>\\<Phi>. \\<Phi> \\<in> \\<A> \\<Longrightarrow> finite \\<Phi>\"\n  shows \"w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "have \"w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)", "using Or\\<^sub>n_semantics assms"], ["proof (prove)\nusing this:\n  finite ?\\<Phi> \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n Or\\<^sub>n ?\\<Phi> =\n  (\\<exists>\\<phi>\\<in>?\\<Phi>. ?w \\<Turnstile>\\<^sub>n \\<phi>)\n  finite \\<A>\n  ?\\<Phi> \\<in> \\<A> \\<Longrightarrow> finite ?\\<Phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "using And\\<^sub>n_semantics assms"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. w \\<Turnstile>\\<^sub>n And\\<^sub>n \\<Phi>)\n  finite ?\\<Phi> \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n And\\<^sub>n ?\\<Phi> =\n  (\\<forall>\\<phi>\\<in>?\\<Phi>. ?w \\<Turnstile>\\<^sub>n \\<phi>)\n  finite \\<A>\n  ?\\<Phi> \\<in> \\<A> \\<Longrightarrow> finite ?\\<Phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by fast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Or\\<^sub>n_And\\<^sub>n_image_prop_semantics:\n  assumes \"finite \\<A>\" and \"\\<And>\\<Phi>. \\<Phi> \\<in> \\<A> \\<Longrightarrow> finite \\<Phi>\"\n  shows \"\\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "have \"\\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)", "using Or\\<^sub>n_prop_semantics assms"], ["proof (prove)\nusing this:\n  finite ?\\<Phi> \\<Longrightarrow>\n  ?\\<A> \\<Turnstile>\\<^sub>P Or\\<^sub>n ?\\<Phi> =\n  (\\<exists>\\<phi>\\<in>?\\<Phi>. ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n  finite \\<A>\n  ?\\<Phi> \\<in> \\<A> \\<Longrightarrow> finite ?\\<Phi>\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)", "by blast"], ["proof (state)\nthis:\n  \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "then"], ["proof (chain)\npicking this:\n  \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "using And\\<^sub>n_prop_semantics assms"], ["proof (prove)\nusing this:\n  \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>. \\<I> \\<Turnstile>\\<^sub>P And\\<^sub>n \\<Phi>)\n  finite ?\\<Phi> \\<Longrightarrow>\n  ?\\<A> \\<Turnstile>\\<^sub>P And\\<^sub>n ?\\<Phi> =\n  (\\<forall>\\<phi>\\<in>?\\<Phi>. ?\\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n  finite \\<A>\n  ?\\<Phi> \\<in> \\<A> \\<Longrightarrow> finite ?\\<Phi>\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "by metis"], ["proof (state)\nthis:\n  \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` \\<A>) =\n  (\\<exists>\\<Phi>\\<in>\\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>DNF to LTL conversion\\<close>"], ["", "definition ltln_of_dnf :: \"'a ltln fset set \\<Rightarrow> 'a ltln\"\nwhere\n  \"ltln_of_dnf \\<A> = Or\\<^sub>n (And\\<^sub>n ` fset ` \\<A>)\""], ["", "lemma ltln_of_dnf_semantics:\n  assumes \"finite \\<A>\"\n  shows \"w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi>. \\<phi> |\\<in>| \\<Phi> \\<longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           w \\<Turnstile>\\<^sub>n \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           w \\<Turnstile>\\<^sub>n \\<phi>)", "have \"finite (fset ` \\<A>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (fset ` \\<A>)", "using assms"], ["proof (prove)\nusing this:\n  finite \\<A>\n\ngoal (1 subgoal):\n 1. finite (fset ` \\<A>)", "by blast"], ["proof (state)\nthis:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           w \\<Turnstile>\\<^sub>n \\<phi>)", "then"], ["proof (chain)\npicking this:\n  finite (fset ` \\<A>)", "have \"w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> fset ` \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\""], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "unfolding ltln_of_dnf_def"], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` fset ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "using Or\\<^sub>n_And\\<^sub>n_image_semantics"], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n  \\<lbrakk>finite ?\\<A>;\n   \\<And>\\<Phi>. \\<Phi> \\<in> ?\\<A> \\<Longrightarrow> finite \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n Or\\<^sub>n\n       (And\\<^sub>n ` ?\\<A>) =\n                    (\\<exists>\\<Phi>\\<in>?\\<A>.\n                        \\<forall>\\<phi>\\<in>\\<Phi>.\n                           ?w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n Or\\<^sub>n (And\\<^sub>n ` fset ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           w \\<Turnstile>\\<^sub>n \\<phi>)", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           w \\<Turnstile>\\<^sub>n \\<phi>)", "by (metis image_iff notin_fset)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>\\<A>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_of_dnf_prop_semantics:\n  assumes \"finite \\<A>\"\n  shows \"\\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> \\<A>. \\<forall>\\<phi>. \\<phi> |\\<in>| \\<Phi> \\<longrightarrow> \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "have \"finite (fset ` \\<A>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (fset ` \\<A>)", "using assms"], ["proof (prove)\nusing this:\n  finite \\<A>\n\ngoal (1 subgoal):\n 1. finite (fset ` \\<A>)", "by blast"], ["proof (state)\nthis:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "then"], ["proof (chain)\npicking this:\n  finite (fset ` \\<A>)", "have \"\\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> fset ` \\<A>. \\<forall>\\<phi> \\<in> \\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "unfolding ltln_of_dnf_def"], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` fset ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "using Or\\<^sub>n_And\\<^sub>n_image_prop_semantics"], ["proof (prove)\nusing this:\n  finite (fset ` \\<A>)\n  \\<lbrakk>finite ?\\<A>;\n   \\<And>\\<Phi>. \\<Phi> \\<in> ?\\<A> \\<Longrightarrow> finite \\<Phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<I> \\<Turnstile>\\<^sub>P\n                    Or\\<^sub>n (And\\<^sub>n ` ?\\<A>) =\n                    (\\<exists>\\<Phi>\\<in>?\\<A>.\n                        \\<forall>\\<phi>\\<in>\\<Phi>.\n                           ?\\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P Or\\<^sub>n (And\\<^sub>n ` fset ` \\<A>) =\n    (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n        \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "by fastforce"], ["proof (state)\nthis:\n  \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "then"], ["proof (chain)\npicking this:\n  \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>fset ` \\<A>.\n      \\<forall>\\<phi>\\<in>\\<Phi>. \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n    (\\<exists>\\<Phi>\\<in>\\<A>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<I> \\<Turnstile>\\<^sub>P \\<phi>)", "by (metis image_iff notin_fset)"], ["proof (state)\nthis:\n  \\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf \\<A> =\n  (\\<exists>\\<Phi>\\<in>\\<A>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         \\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_of_dnf_prop_equiv:\n  \"ltln_of_dnf (min_dnf \\<phi>) \\<sim>\\<^sub>P \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ltln_of_dnf (min_dnf \\<phi>) \\<sim>\\<^sub>P \\<phi>", "unfolding ltl_prop_equiv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "fix \\<A>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "have \"\\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> min_dnf \\<phi>. \\<forall>\\<phi>. \\<phi> |\\<in>| \\<Phi> \\<longrightarrow> \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n    (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "using ltln_of_dnf_prop_semantics min_dnf_finite"], ["proof (prove)\nusing this:\n  finite ?\\<A> \\<Longrightarrow>\n  ?\\<I> \\<Turnstile>\\<^sub>P ltln_of_dnf ?\\<A> =\n  (\\<exists>\\<Phi>\\<in>?\\<A>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         ?\\<I> \\<Turnstile>\\<^sub>P \\<phi>)\n  finite (min_dnf ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n    (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>)", "by metis"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "also"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "have \"\\<dots> \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n        \\<forall>\\<phi>.\n           \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n           \\<A> \\<Turnstile>\\<^sub>P \\<phi>) =\n    (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>)", "by (metis min_dnf_prop_atoms prop_atoms_entailment_iff notin_fset subset_eq)"], ["proof (state)\nthis:\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>) =\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "also"], ["proof (state)\nthis:\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>.\n      \\<forall>\\<phi>.\n         \\<phi> |\\<in>| \\<Phi> \\<longrightarrow>\n         \\<A> \\<Turnstile>\\<^sub>P \\<phi>) =\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "have \"\\<dots> \\<longleftrightarrow> \\<A> \\<Turnstile>\\<^sub>P \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>) =\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "using min_dnf_iff_prop_assignment_subset"], ["proof (prove)\nusing this:\n  ?\\<A> \\<Turnstile>\\<^sub>P ?\\<phi> =\n  (\\<exists>B. fset B \\<subseteq> ?\\<A> \\<and> B \\<in> min_dnf ?\\<phi>)\n\ngoal (1 subgoal):\n 1. (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>) =\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "by blast"], ["proof (state)\nthis:\n  (\\<exists>\\<Phi>\\<in>min_dnf \\<phi>. fset \\<Phi> \\<subseteq> \\<A>) =\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "finally"], ["proof (chain)\npicking this:\n  \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "show \"\\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) = \\<A> \\<Turnstile>\\<^sub>P \\<phi>\""], ["proof (prove)\nusing this:\n  \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n    \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "."], ["proof (state)\nthis:\n  \\<A> \\<Turnstile>\\<^sub>P ltln_of_dnf (min_dnf \\<phi>) =\n  \\<A> \\<Turnstile>\\<^sub>P \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma min_dnf_ltln_of_dnf[simp]:\n  \"min_dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "using ltl_prop_equiv_min_dnf ltln_of_dnf_prop_equiv"], ["proof (prove)\nusing this:\n  ?\\<phi> \\<sim>\\<^sub>P ?\\<psi> = (min_dnf ?\\<phi> = min_dnf ?\\<psi>)\n  ltln_of_dnf (min_dnf ?\\<phi>) \\<sim>\\<^sub>P ?\\<phi>\n\ngoal (1 subgoal):\n 1. min_dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "by blast"], ["", "subsection \\<open>Substitution in DNF formulas\\<close>"], ["", "definition subst_clause :: \"'a ltln fset \\<Rightarrow> ('a ltln \\<rightharpoonup> 'a ltln) \\<Rightarrow> 'a ltln fset set\"\nwhere\n  \"subst_clause \\<Phi> m = \\<Otimes>\\<^sub>m {min_dnf (subst \\<phi> m) | \\<phi>. \\<phi> \\<in> fset \\<Phi>}\""], ["", "definition subst_dnf :: \"'a ltln fset set \\<Rightarrow> ('a ltln \\<rightharpoonup> 'a ltln) \\<Rightarrow> 'a ltln fset set\"\nwhere\n  \"subst_dnf \\<A> m = (\\<Union>\\<Phi> \\<in> \\<A>. subst_clause \\<Phi> m)\""], ["", "lemma subst_clause_empty[simp]:\n  \"subst_clause {||} m = {{||}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause {||} m = {{||}}", "by (simp add: subst_clause_def)"], ["", "lemma subst_dnf_empty[simp]:\n  \"subst_dnf {} m = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_dnf {} m = {}", "by (simp add: subst_dnf_def)"], ["", "lemma subst_clause_inner_finite:\n  \"finite {min_dnf (subst \\<phi> m) | \\<phi>. \\<phi> \\<in> \\<Phi>}\" if \"finite \\<Phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {min_dnf (subst \\<phi> m) |\\<phi>. \\<phi> \\<in> \\<Phi>}", "using that"], ["proof (prove)\nusing this:\n  finite \\<Phi>\n\ngoal (1 subgoal):\n 1. finite {min_dnf (subst \\<phi> m) |\\<phi>. \\<phi> \\<in> \\<Phi>}", "by simp"], ["", "lemma subst_clause_finite:\n  \"finite (subst_clause \\<Phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (subst_clause \\<Phi> m)", "unfolding subst_clause_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     (\\<Otimes>\\<^sub>m\n       {min_dnf (subst \\<phi> m) |\\<phi>. \\<phi> \\<in> fset \\<Phi>})", "by (auto intro: min_dnf_finite min_product_set_finite)"], ["", "lemma subst_dnf_finite:\n  \"finite \\<A> \\<Longrightarrow> finite (subst_dnf \\<A> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<A> \\<Longrightarrow> finite (subst_dnf \\<A> m)", "unfolding subst_dnf_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite \\<A> \\<Longrightarrow>\n    finite (\\<Union>\\<Phi>\\<in>\\<A>. subst_clause \\<Phi> m)", "using subst_clause_finite"], ["proof (prove)\nusing this:\n  finite (subst_clause ?\\<Phi> ?m)\n\ngoal (1 subgoal):\n 1. finite \\<A> \\<Longrightarrow>\n    finite (\\<Union>\\<Phi>\\<in>\\<A>. subst_clause \\<Phi> m)", "by blast"], ["", "lemma subst_dnf_mono:\n  \"\\<A> \\<subseteq> \\<B> \\<Longrightarrow> subst_dnf \\<A> m \\<subseteq> subst_dnf \\<B> m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> \\<subseteq> \\<B> \\<Longrightarrow>\n    subst_dnf \\<A> m \\<subseteq> subst_dnf \\<B> m", "unfolding subst_dnf_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> \\<subseteq> \\<B> \\<Longrightarrow>\n    (\\<Union>\\<Phi>\\<in>\\<A>. subst_clause \\<Phi> m)\n    \\<subseteq> (\\<Union>\\<Phi>\\<in>\\<B>. subst_clause \\<Phi> m)", "by blast"], ["", "lemma subst_clause_min_set[simp]:\n  \"min_set (subst_clause \\<Phi> m) = subst_clause \\<Phi> m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_clause \\<Phi> m) = subst_clause \\<Phi> m", "unfolding subst_clause_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set\n     (\\<Otimes>\\<^sub>m\n       {min_dnf (subst \\<phi> m) |\\<phi>. \\<phi> \\<in> fset \\<Phi>}) =\n    \\<Otimes>\\<^sub>m\n     {min_dnf (subst \\<phi> m) |\\<phi>. \\<phi> \\<in> fset \\<Phi>}", "by simp"], ["", "lemma subst_clause_finsert[simp]:\n  \"subst_clause (finsert \\<phi> \\<Phi>) m = (min_dnf (subst \\<phi> m)) \\<otimes>\\<^sub>m (subst_clause \\<Phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause (finsert \\<phi> \\<Phi>) m =\n    min_dnf (subst \\<phi> m) \\<otimes>\\<^sub>m subst_clause \\<Phi> m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subst_clause (finsert \\<phi> \\<Phi>) m =\n    min_dnf (subst \\<phi> m) \\<otimes>\\<^sub>m subst_clause \\<Phi> m", "have \"{min_dnf (subst \\<psi> m) | \\<psi>. \\<psi> \\<in> fset (finsert \\<phi> \\<Phi>)}\n    = insert (min_dnf (subst \\<phi> m)) {min_dnf (subst \\<psi> m) | \\<psi>. \\<psi> \\<in> fset \\<Phi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {min_dnf (subst \\<psi> m) |\\<psi>.\n     \\<psi> \\<in> fset (finsert \\<phi> \\<Phi>)} =\n    insert (min_dnf (subst \\<phi> m))\n     {min_dnf (subst \\<psi> m) |\\<psi>. \\<psi> \\<in> fset \\<Phi>}", "by auto"], ["proof (state)\nthis:\n  {min_dnf (subst \\<psi> m) |\\<psi>.\n   \\<psi> \\<in> fset (finsert \\<phi> \\<Phi>)} =\n  insert (min_dnf (subst \\<phi> m))\n   {min_dnf (subst \\<psi> m) |\\<psi>. \\<psi> \\<in> fset \\<Phi>}\n\ngoal (1 subgoal):\n 1. subst_clause (finsert \\<phi> \\<Phi>) m =\n    min_dnf (subst \\<phi> m) \\<otimes>\\<^sub>m subst_clause \\<Phi> m", "then"], ["proof (chain)\npicking this:\n  {min_dnf (subst \\<psi> m) |\\<psi>.\n   \\<psi> \\<in> fset (finsert \\<phi> \\<Phi>)} =\n  insert (min_dnf (subst \\<phi> m))\n   {min_dnf (subst \\<psi> m) |\\<psi>. \\<psi> \\<in> fset \\<Phi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  {min_dnf (subst \\<psi> m) |\\<psi>.\n   \\<psi> \\<in> fset (finsert \\<phi> \\<Phi>)} =\n  insert (min_dnf (subst \\<phi> m))\n   {min_dnf (subst \\<psi> m) |\\<psi>. \\<psi> \\<in> fset \\<Phi>}\n\ngoal (1 subgoal):\n 1. subst_clause (finsert \\<phi> \\<Phi>) m =\n    min_dnf (subst \\<phi> m) \\<otimes>\\<^sub>m subst_clause \\<Phi> m", "by (simp add: subst_clause_def)"], ["proof (state)\nthis:\n  subst_clause (finsert \\<phi> \\<Phi>) m =\n  min_dnf (subst \\<phi> m) \\<otimes>\\<^sub>m subst_clause \\<Phi> m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_clause_funion[simp]:\n  \"subst_clause (\\<Phi> |\\<union>| \\<Psi>) m = (subst_clause \\<Phi> m) \\<otimes>\\<^sub>m (subst_clause \\<Psi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause (\\<Phi> |\\<union>| \\<Psi>) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause \\<Psi> m", "proof (induction \\<Psi>)"], ["proof (state)\ngoal (2 subgoals):\n 1. subst_clause (\\<Phi> |\\<union>| {||}) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause {||} m\n 2. \\<And>x \\<Psi>.\n       \\<lbrakk>x |\\<notin>| \\<Psi>;\n        subst_clause (\\<Phi> |\\<union>| \\<Psi>) m =\n        subst_clause \\<Phi> m \\<otimes>\\<^sub>m\n        subst_clause \\<Psi> m\\<rbrakk>\n       \\<Longrightarrow> subst_clause (\\<Phi> |\\<union>| finsert x \\<Psi>)\n                          m =\n                         subst_clause \\<Phi> m \\<otimes>\\<^sub>m\n                         subst_clause (finsert x \\<Psi>) m", "case (insert x F)"], ["proof (state)\nthis:\n  x |\\<notin>| F\n  subst_clause (\\<Phi> |\\<union>| F) m =\n  subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause F m\n\ngoal (2 subgoals):\n 1. subst_clause (\\<Phi> |\\<union>| {||}) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause {||} m\n 2. \\<And>x \\<Psi>.\n       \\<lbrakk>x |\\<notin>| \\<Psi>;\n        subst_clause (\\<Phi> |\\<union>| \\<Psi>) m =\n        subst_clause \\<Phi> m \\<otimes>\\<^sub>m\n        subst_clause \\<Psi> m\\<rbrakk>\n       \\<Longrightarrow> subst_clause (\\<Phi> |\\<union>| finsert x \\<Psi>)\n                          m =\n                         subst_clause \\<Phi> m \\<otimes>\\<^sub>m\n                         subst_clause (finsert x \\<Psi>) m", "then"], ["proof (chain)\npicking this:\n  x |\\<notin>| F\n  subst_clause (\\<Phi> |\\<union>| F) m =\n  subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause F m", "show ?case"], ["proof (prove)\nusing this:\n  x |\\<notin>| F\n  subst_clause (\\<Phi> |\\<union>| F) m =\n  subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause F m\n\ngoal (1 subgoal):\n 1. subst_clause (\\<Phi> |\\<union>| finsert x F) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause (finsert x F) m", "using min_product_set_thms.fun_left_comm"], ["proof (prove)\nusing this:\n  x |\\<notin>| F\n  subst_clause (\\<Phi> |\\<union>| F) m =\n  subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause F m\n  ?y \\<otimes>\\<^sub>m ?x \\<otimes>\\<^sub>m ?z =\n  ?x \\<otimes>\\<^sub>m ?y \\<otimes>\\<^sub>m ?z\n\ngoal (1 subgoal):\n 1. subst_clause (\\<Phi> |\\<union>| finsert x F) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause (finsert x F) m", "by fastforce"], ["proof (state)\nthis:\n  subst_clause (\\<Phi> |\\<union>| finsert x F) m =\n  subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause (finsert x F) m\n\ngoal (1 subgoal):\n 1. subst_clause (\\<Phi> |\\<union>| {||}) m =\n    subst_clause \\<Phi> m \\<otimes>\\<^sub>m subst_clause {||} m", "qed simp"], ["", "text \\<open>For the proof of correctness, we redefine the @{const product} operator on lists.\\<close>"], ["", "definition list_product :: \"'a list set \\<Rightarrow> 'a list set \\<Rightarrow> 'a list set\" (infixl \"\\<otimes>\\<^sub>l\" 65)\nwhere\n  \"A \\<otimes>\\<^sub>l B = {a @ b | a b. a \\<in> A \\<and> b \\<in> B}\""], ["", "lemma list_product_fset_of_list[simp]:\n  \"fset_of_list ` (A \\<otimes>\\<^sub>l B) = (fset_of_list ` A) \\<otimes> (fset_of_list ` B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fset_of_list ` (A \\<otimes>\\<^sub>l B) =\n    fset_of_list ` A \\<otimes> fset_of_list ` B", "unfolding list_product_def product_def image_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. \\<exists>x\\<in>{a @ b |a b. a \\<in> A \\<and> b \\<in> B}.\n           y = fset_of_list x} =\n    {a |\\<union>| b |a b.\n     a \\<in> {y. \\<exists>x\\<in>A. y = fset_of_list x} \\<and>\n     b \\<in> {y. \\<exists>x\\<in>B. y = fset_of_list x}}", "by fastforce"], ["", "lemma list_product_finite:\n  \"finite A \\<Longrightarrow> finite B \\<Longrightarrow> finite (A \\<otimes>\\<^sub>l B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite A; finite B\\<rbrakk>\n    \\<Longrightarrow> finite (A \\<otimes>\\<^sub>l B)", "unfolding list_product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite A; finite B\\<rbrakk>\n    \\<Longrightarrow> finite {a @ b |a b. a \\<in> A \\<and> b \\<in> B}", "by (simp add: finite_image_set2)"], ["", "lemma list_product_iff:\n  \"x \\<in> A \\<otimes>\\<^sub>l B \\<longleftrightarrow> (\\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> x = a @ b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> A \\<otimes>\\<^sub>l B) =\n    (\\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> x = a @ b)", "unfolding list_product_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {a @ b |a b. a \\<in> A \\<and> b \\<in> B}) =\n    (\\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> x = a @ b)", "by blast"], ["", "lemma list_product_assoc[simp]:\n  \"A \\<otimes>\\<^sub>l (B \\<otimes>\\<^sub>l C) = A \\<otimes>\\<^sub>l B \\<otimes>\\<^sub>l C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<otimes>\\<^sub>l (B \\<otimes>\\<^sub>l C) =\n    A \\<otimes>\\<^sub>l B \\<otimes>\\<^sub>l C", "unfolding set_eq_iff list_product_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       (\\<exists>a b.\n           a \\<in> A \\<and>\n           (\\<exists>a ba.\n               a \\<in> B \\<and> ba \\<in> C \\<and> b = a @ ba) \\<and>\n           x = a @ b) =\n       (\\<exists>a b.\n           (\\<exists>aa b.\n               aa \\<in> A \\<and> b \\<in> B \\<and> a = aa @ b) \\<and>\n           b \\<in> C \\<and> x = a @ b)", "by fastforce"], ["", "text \\<open>Furthermore, we introduct DNFs where the clauses are represented as lists.\\<close>"], ["", "fun list_dnf :: \"'a ltln \\<Rightarrow> 'a ltln list set\"\nwhere\n  \"list_dnf true\\<^sub>n = {[]}\"\n| \"list_dnf false\\<^sub>n = {}\"\n| \"list_dnf (\\<phi> and\\<^sub>n \\<psi>) = (list_dnf \\<phi>) \\<otimes>\\<^sub>l (list_dnf \\<psi>)\"\n| \"list_dnf (\\<phi> or\\<^sub>n \\<psi>) = (list_dnf \\<phi>) \\<union> (list_dnf \\<psi>)\"\n| \"list_dnf \\<phi> = {[\\<phi>]}\""], ["", "definition list_dnf_to_dnf :: \"'a list set \\<Rightarrow> 'a fset set\"\nwhere\n  \"list_dnf_to_dnf X = fset_of_list ` X\""], ["", "lemma list_dnf_to_dnf_list_dnf[simp]:\n  \"list_dnf_to_dnf (list_dnf \\<phi>) = dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. list_dnf_to_dnf (list_dnf \\<phi>) = dnf \\<phi>", "by (induction \\<phi>) (simp_all add: list_dnf_to_dnf_def image_Un)"], ["", "lemma list_dnf_finite:\n  \"finite (list_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (list_dnf \\<phi>)", "by (induction \\<phi>) (simp_all add: list_product_finite)"], ["", "text \\<open>We use this to redefine @{const subst_clause} and @{const subst_dnf} on list DNFs.\\<close>"], ["", "definition subst_clause' :: \"'a ltln list \\<Rightarrow> ('a ltln \\<rightharpoonup> 'a ltln) \\<Rightarrow> 'a ltln list set\"\nwhere\n  \"subst_clause' \\<Phi> m = fold (\\<lambda>\\<phi> acc. acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m)) \\<Phi> {[]}\""], ["", "definition subst_dnf' :: \"'a ltln list set \\<Rightarrow> ('a ltln \\<rightharpoonup> 'a ltln) \\<Rightarrow> 'a ltln list set\"\nwhere\n  \"subst_dnf' \\<A> m = (\\<Union>\\<Phi> \\<in> \\<A>. subst_clause' \\<Phi> m)\""], ["", "lemma subst_clause'_finite:\n  \"finite (subst_clause' \\<Phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (subst_clause' \\<Phi> m)", "by (induction \\<Phi> rule: rev_induct) (simp_all add: subst_clause'_def list_dnf_finite list_product_finite)"], ["", "lemma subst_clause'_nil[simp]:\n  \"subst_clause' [] m = {[]}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause' [] m = {[]}", "by (simp add: subst_clause'_def)"], ["", "lemma subst_clause'_cons[simp]:\n  \"subst_clause' (xs @ [x]) m = subst_clause' xs m \\<otimes>\\<^sub>l list_dnf (subst x m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause' (xs @ [x]) m =\n    subst_clause' xs m \\<otimes>\\<^sub>l list_dnf (subst x m)", "by (simp add: subst_clause'_def)"], ["", "lemma subst_clause'_append[simp]:\n  \"subst_clause' (A @ B) m = subst_clause' A m \\<otimes>\\<^sub>l subst_clause' B m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause' (A @ B) m =\n    subst_clause' A m \\<otimes>\\<^sub>l subst_clause' B m", "proof (induction B rule: rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. subst_clause' (A @ []) m =\n    subst_clause' A m \\<otimes>\\<^sub>l subst_clause' [] m\n 2. \\<And>x xs.\n       subst_clause' (A @ xs) m =\n       subst_clause' A m \\<otimes>\\<^sub>l\n       subst_clause' xs m \\<Longrightarrow>\n       subst_clause' (A @ xs @ [x]) m =\n       subst_clause' A m \\<otimes>\\<^sub>l subst_clause' (xs @ [x]) m", "case (snoc x xs)"], ["proof (state)\nthis:\n  subst_clause' (A @ xs) m =\n  subst_clause' A m \\<otimes>\\<^sub>l subst_clause' xs m\n\ngoal (2 subgoals):\n 1. subst_clause' (A @ []) m =\n    subst_clause' A m \\<otimes>\\<^sub>l subst_clause' [] m\n 2. \\<And>x xs.\n       subst_clause' (A @ xs) m =\n       subst_clause' A m \\<otimes>\\<^sub>l\n       subst_clause' xs m \\<Longrightarrow>\n       subst_clause' (A @ xs @ [x]) m =\n       subst_clause' A m \\<otimes>\\<^sub>l subst_clause' (xs @ [x]) m", "then"], ["proof (chain)\npicking this:\n  subst_clause' (A @ xs) m =\n  subst_clause' A m \\<otimes>\\<^sub>l subst_clause' xs m", "show ?case"], ["proof (prove)\nusing this:\n  subst_clause' (A @ xs) m =\n  subst_clause' A m \\<otimes>\\<^sub>l subst_clause' xs m\n\ngoal (1 subgoal):\n 1. subst_clause' (A @ xs @ [x]) m =\n    subst_clause' A m \\<otimes>\\<^sub>l subst_clause' (xs @ [x]) m", "by simp (metis append_assoc subst_clause'_cons)"], ["proof (state)\nthis:\n  subst_clause' (A @ xs @ [x]) m =\n  subst_clause' A m \\<otimes>\\<^sub>l subst_clause' (xs @ [x]) m\n\ngoal (1 subgoal):\n 1. subst_clause' (A @ []) m =\n    subst_clause' A m \\<otimes>\\<^sub>l subst_clause' [] m", "qed(simp add: list_product_def)"], ["", "lemma subst_dnf'_iff:\n  \"x \\<in> subst_dnf' A m \\<longleftrightarrow> (\\<exists>\\<Phi> \\<in> A. x \\<in> subst_clause' \\<Phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> subst_dnf' A m) =\n    (\\<exists>\\<Phi>\\<in>A. x \\<in> subst_clause' \\<Phi> m)", "by (simp add: subst_dnf'_def)"], ["", "lemma subst_dnf'_product:\n  \"subst_dnf' (A \\<otimes>\\<^sub>l B) m = (subst_dnf' A m) \\<otimes>\\<^sub>l (subst_dnf' B m)\" (is \"?lhs = ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_dnf' (A \\<otimes>\\<^sub>l B) m =\n    subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m", "proof (unfold set_eq_iff, safe)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "assume \"x \\<in> ?lhs\""], ["proof (state)\nthis:\n  x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "obtain \\<Phi> where \"\\<Phi> \\<in> A \\<otimes>\\<^sub>l B\" and \"x \\<in> subst_clause' \\<Phi> m\""], ["proof (prove)\nusing this:\n  x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m\n\ngoal (1 subgoal):\n 1. (\\<And>\\<Phi>.\n        \\<lbrakk>\\<Phi> \\<in> A \\<otimes>\\<^sub>l B;\n         x \\<in> subst_clause' \\<Phi> m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding subst_dnf'_iff"], ["proof (prove)\nusing this:\n  \\<exists>\\<Phi>\\<in>A \\<otimes>\\<^sub>l B. x \\<in> subst_clause' \\<Phi> m\n\ngoal (1 subgoal):\n 1. (\\<And>\\<Phi>.\n        \\<lbrakk>\\<Phi> \\<in> A \\<otimes>\\<^sub>l B;\n         x \\<in> subst_clause' \\<Phi> m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Phi> \\<in> A \\<otimes>\\<^sub>l B\n  x \\<in> subst_clause' \\<Phi> m\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  \\<Phi> \\<in> A \\<otimes>\\<^sub>l B\n  x \\<in> subst_clause' \\<Phi> m", "obtain a b where \"a \\<in> A\" and \"b \\<in> B\" and \"\\<Phi> = a @ b\""], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> A \\<otimes>\\<^sub>l B\n  x \\<in> subst_clause' \\<Phi> m\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> A; b \\<in> B; \\<Phi> = a @ b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding list_product_def"], ["proof (prove)\nusing this:\n  \\<Phi> \\<in> {a @ b |a b. a \\<in> A \\<and> b \\<in> B}\n  x \\<in> subst_clause' \\<Phi> m\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> A; b \\<in> B; \\<Phi> = a @ b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> A\n  b \\<in> B\n  \\<Phi> = a @ b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> B\n  \\<Phi> = a @ b", "have \"x \\<in> (subst_clause' a m) \\<otimes>\\<^sub>l (subst_clause' b m)\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> B\n  \\<Phi> = a @ b\n\ngoal (1 subgoal):\n 1. x \\<in> subst_clause' a m \\<otimes>\\<^sub>l subst_clause' b m", "using \\<open>x \\<in> subst_clause' \\<Phi> m\\<close>"], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> B\n  \\<Phi> = a @ b\n  x \\<in> subst_clause' \\<Phi> m\n\ngoal (1 subgoal):\n 1. x \\<in> subst_clause' a m \\<otimes>\\<^sub>l subst_clause' b m", "by simp"], ["proof (state)\nthis:\n  x \\<in> subst_clause' a m \\<otimes>\\<^sub>l subst_clause' b m\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  x \\<in> subst_clause' a m \\<otimes>\\<^sub>l subst_clause' b m", "obtain a' b' where \"a' \\<in> subst_clause' a m\" and \"b' \\<in> subst_clause' b m\" and \"x = a' @ b'\""], ["proof (prove)\nusing this:\n  x \\<in> subst_clause' a m \\<otimes>\\<^sub>l subst_clause' b m\n\ngoal (1 subgoal):\n 1. (\\<And>a' b'.\n        \\<lbrakk>a' \\<in> subst_clause' a m; b' \\<in> subst_clause' b m;\n         x = a' @ b'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding list_product_iff"], ["proof (prove)\nusing this:\n  \\<exists>aa ba.\n     aa \\<in> subst_clause' a m \\<and>\n     ba \\<in> subst_clause' b m \\<and> x = aa @ ba\n\ngoal (1 subgoal):\n 1. (\\<And>a' b'.\n        \\<lbrakk>a' \\<in> subst_clause' a m; b' \\<in> subst_clause' b m;\n         x = a' @ b'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a' \\<in> subst_clause' a m\n  b' \\<in> subst_clause' b m\n  x = a' @ b'\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  a' \\<in> subst_clause' a m\n  b' \\<in> subst_clause' b m\n  x = a' @ b'", "have \"a' \\<in> subst_dnf' A m\" and \"b' \\<in> subst_dnf' B m\""], ["proof (prove)\nusing this:\n  a' \\<in> subst_clause' a m\n  b' \\<in> subst_clause' b m\n  x = a' @ b'\n\ngoal (1 subgoal):\n 1. a' \\<in> subst_dnf' A m &&& b' \\<in> subst_dnf' B m", "unfolding subst_dnf'_iff"], ["proof (prove)\nusing this:\n  a' \\<in> subst_clause' a m\n  b' \\<in> subst_clause' b m\n  x = a' @ b'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<Phi>\\<in>A. a' \\<in> subst_clause' \\<Phi> m &&&\n    \\<exists>\\<Phi>\\<in>B. b' \\<in> subst_clause' \\<Phi> m", "using \\<open>a \\<in> A\\<close> \\<open>b \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  a' \\<in> subst_clause' a m\n  b' \\<in> subst_clause' b m\n  x = a' @ b'\n  a \\<in> A\n  b \\<in> B\n\ngoal (1 subgoal):\n 1. \\<exists>\\<Phi>\\<in>A. a' \\<in> subst_clause' \\<Phi> m &&&\n    \\<exists>\\<Phi>\\<in>B. b' \\<in> subst_clause' \\<Phi> m", "by auto"], ["proof (state)\nthis:\n  a' \\<in> subst_dnf' A m\n  b' \\<in> subst_dnf' B m\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  a' \\<in> subst_dnf' A m\n  b' \\<in> subst_dnf' B m", "have \"\\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b\""], ["proof (prove)\nusing this:\n  a' \\<in> subst_dnf' A m\n  b' \\<in> subst_dnf' B m\n\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b", "using \\<open>x = a' @ b'\\<close>"], ["proof (prove)\nusing this:\n  a' \\<in> subst_dnf' A m\n  b' \\<in> subst_dnf' B m\n  x = a' @ b'\n\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b", "by blast"], ["proof (state)\nthis:\n  \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m \\<Longrightarrow>\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n 2. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b", "show \"x \\<in> ?rhs\""], ["proof (prove)\nusing this:\n  \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b\n\ngoal (1 subgoal):\n 1. x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m", "unfolding list_product_iff"], ["proof (prove)\nusing this:\n  \\<exists>a\\<in>subst_dnf' A m. \\<exists>b\\<in>subst_dnf' B m. x = a @ b\n\ngoal (1 subgoal):\n 1. \\<exists>a b.\n       a \\<in> subst_dnf' A m \\<and> b \\<in> subst_dnf' B m \\<and> x = a @ b", "by blast"], ["proof (state)\nthis:\n  x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "assume \"x \\<in> ?rhs\""], ["proof (state)\nthis:\n  x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m", "obtain a b where \"a \\<in> subst_dnf' A m\" and \"b \\<in> subst_dnf' B m\" and \"x = a @ b\""], ["proof (prove)\nusing this:\n  x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l subst_dnf' B m\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> subst_dnf' A m; b \\<in> subst_dnf' B m;\n         x = a @ b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding list_product_iff"], ["proof (prove)\nusing this:\n  \\<exists>a b.\n     a \\<in> subst_dnf' A m \\<and> b \\<in> subst_dnf' B m \\<and> x = a @ b\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> subst_dnf' A m; b \\<in> subst_dnf' B m;\n         x = a @ b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> subst_dnf' A m\n  b \\<in> subst_dnf' B m\n  x = a @ b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  a \\<in> subst_dnf' A m\n  b \\<in> subst_dnf' B m\n  x = a @ b", "obtain a' b' where \"a' \\<in> A\" and \"b' \\<in> B\" and a: \"a \\<in> subst_clause' a' m\" and b: \"b \\<in> subst_clause' b' m\""], ["proof (prove)\nusing this:\n  a \\<in> subst_dnf' A m\n  b \\<in> subst_dnf' B m\n  x = a @ b\n\ngoal (1 subgoal):\n 1. (\\<And>a' b'.\n        \\<lbrakk>a' \\<in> A; b' \\<in> B; a \\<in> subst_clause' a' m;\n         b \\<in> subst_clause' b' m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding subst_dnf'_iff"], ["proof (prove)\nusing this:\n  \\<exists>\\<Phi>\\<in>A. a \\<in> subst_clause' \\<Phi> m\n  \\<exists>\\<Phi>\\<in>B. b \\<in> subst_clause' \\<Phi> m\n  x = a @ b\n\ngoal (1 subgoal):\n 1. (\\<And>a' b'.\n        \\<lbrakk>a' \\<in> A; b' \\<in> B; a \\<in> subst_clause' a' m;\n         b \\<in> subst_clause' b' m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a' \\<in> A\n  b' \\<in> B\n  a \\<in> subst_clause' a' m\n  b \\<in> subst_clause' b' m\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "then"], ["proof (chain)\npicking this:\n  a' \\<in> A\n  b' \\<in> B\n  a \\<in> subst_clause' a' m\n  b \\<in> subst_clause' b' m", "have \"x \\<in> (subst_clause' a' m) \\<otimes>\\<^sub>l (subst_clause' b' m)\""], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n  a \\<in> subst_clause' a' m\n  b \\<in> subst_clause' b' m\n\ngoal (1 subgoal):\n 1. x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m", "unfolding list_product_iff"], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n  a \\<in> subst_clause' a' m\n  b \\<in> subst_clause' b' m\n\ngoal (1 subgoal):\n 1. \\<exists>a b.\n       a \\<in> subst_clause' a' m \\<and>\n       b \\<in> subst_clause' b' m \\<and> x = a @ b", "using \\<open>x = a @ b\\<close>"], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n  a \\<in> subst_clause' a' m\n  b \\<in> subst_clause' b' m\n  x = a @ b\n\ngoal (1 subgoal):\n 1. \\<exists>a b.\n       a \\<in> subst_clause' a' m \\<and>\n       b \\<in> subst_clause' b' m \\<and> x = a @ b", "by blast"], ["proof (state)\nthis:\n  x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "moreover"], ["proof (state)\nthis:\n  x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "have \"a' @ b' \\<in> A \\<otimes>\\<^sub>l B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a' @ b' \\<in> A \\<otimes>\\<^sub>l B", "unfolding list_product_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> a' @ b' = a @ b", "using \\<open>a' \\<in> A\\<close> \\<open>b' \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  a' \\<in> A\n  b' \\<in> B\n\ngoal (1 subgoal):\n 1. \\<exists>a b. a \\<in> A \\<and> b \\<in> B \\<and> a' @ b' = a @ b", "by blast"], ["proof (state)\nthis:\n  a' @ b' \\<in> A \\<otimes>\\<^sub>l B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subst_dnf' A m \\<otimes>\\<^sub>l\n               subst_dnf' B m \\<Longrightarrow>\n       x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "ultimately"], ["proof (chain)\npicking this:\n  x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m\n  a' @ b' \\<in> A \\<otimes>\\<^sub>l B", "show \"x \\<in> ?lhs\""], ["proof (prove)\nusing this:\n  x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m\n  a' @ b' \\<in> A \\<otimes>\\<^sub>l B\n\ngoal (1 subgoal):\n 1. x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m", "unfolding subst_dnf'_iff"], ["proof (prove)\nusing this:\n  x \\<in> subst_clause' a' m \\<otimes>\\<^sub>l subst_clause' b' m\n  a' @ b' \\<in> A \\<otimes>\\<^sub>l B\n\ngoal (1 subgoal):\n 1. \\<exists>\\<Phi>\\<in>A \\<otimes>\\<^sub>l B.\n       x \\<in> subst_clause' \\<Phi> m", "by force"], ["proof (state)\nthis:\n  x \\<in> subst_dnf' (A \\<otimes>\\<^sub>l B) m\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_dnf'_list_dnf:\n  \"subst_dnf' (list_dnf \\<phi>) m = list_dnf (subst \\<phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_dnf' (list_dnf \\<phi>) m = list_dnf (subst \\<phi> m)", "proof (induction \\<phi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. subst_dnf' (list_dnf true\\<^sub>n) m = list_dnf (subst true\\<^sub>n m)\n 2. subst_dnf' (list_dnf false\\<^sub>n) m = list_dnf (subst false\\<^sub>n m)\n 3. \\<And>x.\n       subst_dnf' (list_dnf prop\\<^sub>n(x)) m =\n       list_dnf (subst prop\\<^sub>n(x) m)\n 4. \\<And>x.\n       subst_dnf' (list_dnf nprop\\<^sub>n(x)) m =\n       list_dnf (subst nprop\\<^sub>n(x) m)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 and\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 and\\<^sub>n \\<phi>2) m)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 or\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 or\\<^sub>n \\<phi>2) m)\n 7. \\<And>\\<phi>.\n       subst_dnf' (list_dnf \\<phi>) m =\n       list_dnf (subst \\<phi> m) \\<Longrightarrow>\n       subst_dnf' (list_dnf (X\\<^sub>n \\<phi>)) m =\n       list_dnf (subst (X\\<^sub>n \\<phi>) m)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 U\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 U\\<^sub>n \\<phi>2) m)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 R\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 R\\<^sub>n \\<phi>2) m)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                 list_dnf (subst \\<phi>1 m);\n         subst_dnf' (list_dnf \\<phi>2) m =\n         list_dnf (subst \\<phi>2 m)\\<rbrakk>\n        \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 W\\<^sub>n \\<phi>2))\n                           m =\n                          list_dnf (subst (\\<phi>1 W\\<^sub>n \\<phi>2) m)\nA total of 11 subgoals...", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  subst_dnf' (list_dnf \\<phi>1) m = list_dnf (subst \\<phi>1 m)\n  subst_dnf' (list_dnf \\<phi>2) m = list_dnf (subst \\<phi>2 m)\n\ngoal (11 subgoals):\n 1. subst_dnf' (list_dnf true\\<^sub>n) m = list_dnf (subst true\\<^sub>n m)\n 2. subst_dnf' (list_dnf false\\<^sub>n) m = list_dnf (subst false\\<^sub>n m)\n 3. \\<And>x.\n       subst_dnf' (list_dnf prop\\<^sub>n(x)) m =\n       list_dnf (subst prop\\<^sub>n(x) m)\n 4. \\<And>x.\n       subst_dnf' (list_dnf nprop\\<^sub>n(x)) m =\n       list_dnf (subst nprop\\<^sub>n(x) m)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 and\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 and\\<^sub>n \\<phi>2) m)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 or\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 or\\<^sub>n \\<phi>2) m)\n 7. \\<And>\\<phi>.\n       subst_dnf' (list_dnf \\<phi>) m =\n       list_dnf (subst \\<phi> m) \\<Longrightarrow>\n       subst_dnf' (list_dnf (X\\<^sub>n \\<phi>)) m =\n       list_dnf (subst (X\\<^sub>n \\<phi>) m)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 U\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 U\\<^sub>n \\<phi>2) m)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 R\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 R\\<^sub>n \\<phi>2) m)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                 list_dnf (subst \\<phi>1 m);\n         subst_dnf' (list_dnf \\<phi>2) m =\n         list_dnf (subst \\<phi>2 m)\\<rbrakk>\n        \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 W\\<^sub>n \\<phi>2))\n                           m =\n                          list_dnf (subst (\\<phi>1 W\\<^sub>n \\<phi>2) m)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  subst_dnf' (list_dnf \\<phi>1) m = list_dnf (subst \\<phi>1 m)\n  subst_dnf' (list_dnf \\<phi>2) m = list_dnf (subst \\<phi>2 m)", "show ?case"], ["proof (prove)\nusing this:\n  subst_dnf' (list_dnf \\<phi>1) m = list_dnf (subst \\<phi>1 m)\n  subst_dnf' (list_dnf \\<phi>2) m = list_dnf (subst \\<phi>2 m)\n\ngoal (1 subgoal):\n 1. subst_dnf' (list_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)) m =\n    list_dnf (subst (\\<phi>1 and\\<^sub>n \\<phi>2) m)", "by (simp add: subst_dnf'_product)"], ["proof (state)\nthis:\n  subst_dnf' (list_dnf (\\<phi>1 and\\<^sub>n \\<phi>2)) m =\n  list_dnf (subst (\\<phi>1 and\\<^sub>n \\<phi>2) m)\n\ngoal (10 subgoals):\n 1. subst_dnf' (list_dnf true\\<^sub>n) m = list_dnf (subst true\\<^sub>n m)\n 2. subst_dnf' (list_dnf false\\<^sub>n) m = list_dnf (subst false\\<^sub>n m)\n 3. \\<And>x.\n       subst_dnf' (list_dnf prop\\<^sub>n(x)) m =\n       list_dnf (subst prop\\<^sub>n(x) m)\n 4. \\<And>x.\n       subst_dnf' (list_dnf nprop\\<^sub>n(x)) m =\n       list_dnf (subst nprop\\<^sub>n(x) m)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 or\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 or\\<^sub>n \\<phi>2) m)\n 6. \\<And>\\<phi>.\n       subst_dnf' (list_dnf \\<phi>) m =\n       list_dnf (subst \\<phi> m) \\<Longrightarrow>\n       subst_dnf' (list_dnf (X\\<^sub>n \\<phi>)) m =\n       list_dnf (subst (X\\<^sub>n \\<phi>) m)\n 7. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 U\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 U\\<^sub>n \\<phi>2) m)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 R\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 R\\<^sub>n \\<phi>2) m)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                list_dnf (subst \\<phi>1 m);\n        subst_dnf' (list_dnf \\<phi>2) m =\n        list_dnf (subst \\<phi>2 m)\\<rbrakk>\n       \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 W\\<^sub>n \\<phi>2))\n                          m =\n                         list_dnf (subst (\\<phi>1 W\\<^sub>n \\<phi>2) m)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>subst_dnf' (list_dnf \\<phi>1) m =\n                 list_dnf (subst \\<phi>1 m);\n         subst_dnf' (list_dnf \\<phi>2) m =\n         list_dnf (subst \\<phi>2 m)\\<rbrakk>\n        \\<Longrightarrow> subst_dnf' (list_dnf (\\<phi>1 M\\<^sub>n \\<phi>2))\n                           m =\n                          list_dnf (subst (\\<phi>1 M\\<^sub>n \\<phi>2) m)", "qed (simp_all add: subst_dnf'_def subst_clause'_def list_product_def)"], ["", "lemma min_set_Union:\n  \"finite X \\<Longrightarrow> min_set (\\<Union> (min_set ` X)) = min_set (\\<Union> X)\" for X :: \"'a fset set set\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Union> (min_set ` X)) = min_set (\\<Union> X)", "by (induction X rule: finite_induct) (force, metis Sup_insert image_insert min_set_min_union min_union_def)"], ["", "lemma min_set_Union_image:\n  \"finite X \\<Longrightarrow> min_set (\\<Union>x \\<in> X. min_set (f x)) = min_set (\\<Union>x \\<in> X. f x)\" for f :: \"'b \\<Rightarrow> 'a fset set\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "assume \"finite X\""], ["proof (state)\nthis:\n  finite X\n\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "then"], ["proof (chain)\npicking this:\n  finite X", "have *: \"finite (f ` X)\""], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. finite (f ` X)", "by auto"], ["proof (state)\nthis:\n  finite (f ` X)\n\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "with min_set_Union"], ["proof (chain)\npicking this:\n  finite ?X \\<Longrightarrow>\n  min_set (\\<Union> (min_set ` ?X)) = min_set (\\<Union> ?X)\n  finite (f ` X)", "show ?thesis"], ["proof (prove)\nusing this:\n  finite ?X \\<Longrightarrow>\n  min_set (\\<Union> (min_set ` ?X)) = min_set (\\<Union> ?X)\n  finite (f ` X)\n\ngoal (1 subgoal):\n 1. min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "unfolding image_image"], ["proof (prove)\nusing this:\n  finite ?X \\<Longrightarrow>\n  min_set (\\<Union> (min_set ` ?X)) = min_set (\\<Union> ?X)\n  finite (f ` X)\n\ngoal (1 subgoal):\n 1. min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))", "by fastforce"], ["proof (state)\nthis:\n  min_set (\\<Union>x\\<in>X. min_set (f x)) = min_set (\\<Union> (f ` X))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_clause_fset_of_list:\n  \"subst_clause (fset_of_list \\<Phi>) m = min_set (list_dnf_to_dnf (subst_clause' \\<Phi> m))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause (fset_of_list \\<Phi>) m =\n    min_set (list_dnf_to_dnf (subst_clause' \\<Phi> m))", "unfolding list_dnf_to_dnf_def subst_clause'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subst_clause (fset_of_list \\<Phi>) m =\n    min_set\n     (fset_of_list `\n      fold\n       (\\<lambda>\\<phi> acc.\n           acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n       \\<Phi> {[]})", "proof (induction \\<Phi> rule: rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. subst_clause (fset_of_list []) m =\n    min_set\n     (fset_of_list `\n      fold\n       (\\<lambda>\\<phi> acc.\n           acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n       [] {[]})\n 2. \\<And>x xs.\n       subst_clause (fset_of_list xs) m =\n       min_set\n        (fset_of_list `\n         fold\n          (\\<lambda>\\<phi> acc.\n              acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n          xs {[]}) \\<Longrightarrow>\n       subst_clause (fset_of_list (xs @ [x])) m =\n       min_set\n        (fset_of_list `\n         fold\n          (\\<lambda>\\<phi> acc.\n              acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n          (xs @ [x]) {[]})", "case (snoc x xs)"], ["proof (state)\nthis:\n  subst_clause (fset_of_list xs) m =\n  min_set\n   (fset_of_list `\n    fold\n     (\\<lambda>\\<phi> acc. acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n     xs {[]})\n\ngoal (2 subgoals):\n 1. subst_clause (fset_of_list []) m =\n    min_set\n     (fset_of_list `\n      fold\n       (\\<lambda>\\<phi> acc.\n           acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n       [] {[]})\n 2. \\<And>x xs.\n       subst_clause (fset_of_list xs) m =\n       min_set\n        (fset_of_list `\n         fold\n          (\\<lambda>\\<phi> acc.\n              acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n          xs {[]}) \\<Longrightarrow>\n       subst_clause (fset_of_list (xs @ [x])) m =\n       min_set\n        (fset_of_list `\n         fold\n          (\\<lambda>\\<phi> acc.\n              acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n          (xs @ [x]) {[]})", "then"], ["proof (chain)\npicking this:\n  subst_clause (fset_of_list xs) m =\n  min_set\n   (fset_of_list `\n    fold\n     (\\<lambda>\\<phi> acc. acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n     xs {[]})", "show ?case"], ["proof (prove)\nusing this:\n  subst_clause (fset_of_list xs) m =\n  min_set\n   (fset_of_list `\n    fold\n     (\\<lambda>\\<phi> acc. acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n     xs {[]})\n\ngoal (1 subgoal):\n 1. subst_clause (fset_of_list (xs @ [x])) m =\n    min_set\n     (fset_of_list `\n      fold\n       (\\<lambda>\\<phi> acc.\n           acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n       (xs @ [x]) {[]})", "by simp (metis (no_types, lifting) dnf_min_set list_dnf_to_dnf_def list_dnf_to_dnf_list_dnf min_product_comm min_product_def min_set_min_product(1))"], ["proof (state)\nthis:\n  subst_clause (fset_of_list (xs @ [x])) m =\n  min_set\n   (fset_of_list `\n    fold\n     (\\<lambda>\\<phi> acc. acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n     (xs @ [x]) {[]})\n\ngoal (1 subgoal):\n 1. subst_clause (fset_of_list []) m =\n    min_set\n     (fset_of_list `\n      fold\n       (\\<lambda>\\<phi> acc.\n           acc \\<otimes>\\<^sub>l list_dnf (subst \\<phi> m))\n       [] {[]})", "qed simp"], ["", "lemma min_set_list_dnf_to_dnf_subst_dnf':\n  \"finite X \\<Longrightarrow> min_set (list_dnf_to_dnf (subst_dnf' X m)) = min_set (subst_dnf (list_dnf_to_dnf X) m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X \\<Longrightarrow>\n    min_set (list_dnf_to_dnf (subst_dnf' X m)) =\n    min_set (subst_dnf (list_dnf_to_dnf X) m)", "by (simp add: subst_dnf'_def subst_dnf_def subst_clause_fset_of_list list_dnf_to_dnf_def min_set_Union_image image_Union)"], ["", "lemma subst_dnf_dnf:\n  \"min_set (subst_dnf (dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "unfolding dnf_min_set"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (dnf \\<phi>) m) = min_set (dnf (subst \\<phi> m))", "unfolding list_dnf_to_dnf_list_dnf[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (list_dnf_to_dnf (list_dnf \\<phi>)) m) =\n    min_set (list_dnf_to_dnf (list_dnf (subst \\<phi> m)))", "unfolding subst_dnf'_list_dnf[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (list_dnf_to_dnf (list_dnf \\<phi>)) m) =\n    min_set (list_dnf_to_dnf (subst_dnf' (list_dnf \\<phi>) m))", "unfolding min_set_list_dnf_to_dnf_subst_dnf'[OF list_dnf_finite]"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (list_dnf_to_dnf (list_dnf \\<phi>)) m) =\n    min_set (subst_dnf (list_dnf_to_dnf (list_dnf \\<phi>)) m)", "by simp"], ["", "text \\<open>This is almost the lemma we need. However, we need to show that the same holds for @{term \"min_dnf \\<phi>\"}, too.\\<close>"], ["", "lemma fold_product:\n  \"Finite_Set.fold (\\<lambda>x. (\\<otimes>) {{|x|}}) {{||}} (fset x) = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold (\\<lambda>x. (\\<otimes>) {{|x|}}) {{||}} (fset x) = {x}", "by (induction x) (simp_all add: notin_fset, simp add: product_singleton_singleton)"], ["", "lemma fold_union:\n  \"Finite_Set.fold (\\<lambda>x. (\\<union>) {x}) {} (fset x) = fset x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold (\\<lambda>x. (\\<union>) {x}) {} (fset x) = fset x", "by (induction x) (simp_all add: notin_fset comp_fun_idem.fold_insert_idem comp_fun_idem_insert)"], ["", "lemma fold_union_fold_product:\n  assumes \"finite X\" and \"\\<And>\\<Psi> \\<psi>. \\<Psi> \\<in> X \\<Longrightarrow> \\<psi> \\<in> fset \\<Psi> \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\"\n  shows \"Finite_Set.fold (\\<lambda>x. (\\<union>) (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} (fset x))) {} X = X\" (is \"?lhs = X\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    X", "from assms"], ["proof (chain)\npicking this:\n  finite X\n  \\<lbrakk>?\\<Psi> \\<in> X; ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}", "have \"?lhs = Finite_Set.fold (\\<lambda>x. (\\<union>) (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}} (fset x))) {} X\""], ["proof (prove)\nusing this:\n  finite X\n  \\<lbrakk>?\\<Psi> \\<in> X; ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} X", "proof (induction X rule: finite_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>\\<Psi> \\<psi>.\n        \\<lbrakk>\\<Psi> \\<in> {}; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} {} =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>\\<Psi> \\<psi>.\n            \\<lbrakk>\\<Psi> \\<in> F; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n            \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                {{||}} (fset x)))\n         {} F =\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                {{||}} (fset x)))\n         {} F;\n        \\<And>\\<Psi> \\<psi>.\n           \\<lbrakk>\\<Psi> \\<in> insert x F;\n            \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n           \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\\<rbrakk>\n       \\<Longrightarrow> Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                                 {{||}} (fset x)))\n                          {} (insert x F) =\n                         Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                                 {{||}} (fset x)))\n                          {} (insert x F)", "case (insert \\<Phi> X)"], ["proof (state)\nthis:\n  finite X\n  \\<Phi> \\<notin> X\n  (\\<And>\\<Psi> \\<psi>.\n      \\<lbrakk>\\<Psi> \\<in> X; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n      \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n\ngoal (2 subgoals):\n 1. (\\<And>\\<Psi> \\<psi>.\n        \\<lbrakk>\\<Psi> \\<in> {}; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} {} =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>\\<Psi> \\<psi>.\n            \\<lbrakk>\\<Psi> \\<in> F; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n            \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                {{||}} (fset x)))\n         {} F =\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                {{||}} (fset x)))\n         {} F;\n        \\<And>\\<Psi> \\<psi>.\n           \\<lbrakk>\\<Psi> \\<in> insert x F;\n            \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n           \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\\<rbrakk>\n       \\<Longrightarrow> Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                                 {{||}} (fset x)))\n                          {} (insert x F) =\n                         Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                                 {{||}} (fset x)))\n                          {} (insert x F)", "from insert.prems"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}", "have 1: \"\\<And>\\<Psi> \\<psi>. \\<lbrakk>\\<Psi> \\<in> X; \\<psi> \\<in> fset \\<Psi>\\<rbrakk> \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> \\<psi>.\n       \\<lbrakk>\\<Psi> \\<in> X; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<in> X; ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n\ngoal (2 subgoals):\n 1. (\\<And>\\<Psi> \\<psi>.\n        \\<lbrakk>\\<Psi> \\<in> {}; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} {} =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>\\<Psi> \\<psi>.\n            \\<lbrakk>\\<Psi> \\<in> F; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n            \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                {{||}} (fset x)))\n         {} F =\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                {{||}} (fset x)))\n         {} F;\n        \\<And>\\<Psi> \\<psi>.\n           \\<lbrakk>\\<Psi> \\<in> insert x F;\n            \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n           \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\\<rbrakk>\n       \\<Longrightarrow> Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                                 {{||}} (fset x)))\n                          {} (insert x F) =\n                         Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                                 {{||}} (fset x)))\n                          {} (insert x F)", "from insert.prems"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}", "have \"Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}} (fset \\<Phi>) = Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}} (fset \\<Phi>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n\ngoal (1 subgoal):\n 1. Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n     (fset \\<Phi>) =\n    Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n     (fset \\<Phi>)", "by (induction \\<Phi>) (force simp: notin_fset)+"], ["proof (state)\nthis:\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n   (fset \\<Phi>) =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n   (fset \\<Phi>)\n\ngoal (2 subgoals):\n 1. (\\<And>\\<Psi> \\<psi>.\n        \\<lbrakk>\\<Psi> \\<in> {}; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} {} =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>\\<Psi> \\<psi>.\n            \\<lbrakk>\\<Psi> \\<in> F; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n            \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                {{||}} (fset x)))\n         {} F =\n        Finite_Set.fold\n         (\\<lambda>x.\n             (\\<union>)\n              (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                {{||}} (fset x)))\n         {} F;\n        \\<And>\\<Psi> \\<psi>.\n           \\<lbrakk>\\<Psi> \\<in> insert x F;\n            \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n           \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}\\<rbrakk>\n       \\<Longrightarrow> Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n                                 {{||}} (fset x)))\n                          {} (insert x F) =\n                         Finite_Set.fold\n                          (\\<lambda>x.\n                              (\\<union>)\n                               (Finite_Set.fold\n                                 (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n                                 {{||}} (fset x)))\n                          {} (insert x F)", "with insert 1"], ["proof (chain)\npicking this:\n  finite X\n  \\<Phi> \\<notin> X\n  (\\<And>\\<Psi> \\<psi>.\n      \\<lbrakk>\\<Psi> \\<in> X; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n      \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n  \\<lbrakk>?\\<Psi> \\<in> X; ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n   (fset \\<Phi>) =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n   (fset \\<Phi>)", "show ?case"], ["proof (prove)\nusing this:\n  finite X\n  \\<Phi> \\<notin> X\n  (\\<And>\\<Psi> \\<psi>.\n      \\<lbrakk>\\<Psi> \\<in> X; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n      \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X\n  \\<lbrakk>?\\<Psi> \\<in> insert \\<Phi> X;\n   ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n  \\<lbrakk>?\\<Psi> \\<in> X; ?\\<psi> \\<in> fset ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> dnf ?\\<psi> = {{|?\\<psi>|}}\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n   (fset \\<Phi>) =\n  Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n   (fset \\<Phi>)\n\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} (insert \\<Phi> X) =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} (insert \\<Phi> X)", "by simp"], ["proof (state)\nthis:\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} (insert \\<Phi> X) =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} (insert \\<Phi> X)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<Psi> \\<psi>.\n        \\<lbrakk>\\<Psi> \\<in> {}; \\<psi> \\<in> fset \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> dnf \\<psi> = {{|\\<psi>|}}) \\<Longrightarrow>\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} {} =\n    Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}})\n            {{||}} (fset x)))\n     {} {}", "qed simp"], ["proof (state)\nthis:\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X\n\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    X", "with \\<open>finite X\\<close>"], ["proof (chain)\npicking this:\n  finite X\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X", "show ?thesis"], ["proof (prove)\nusing this:\n  finite X\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) {{|\\<phi>|}}) {{||}}\n          (fset x)))\n   {} X\n\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    X", "unfolding fold_product"], ["proof (prove)\nusing this:\n  finite X\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  Finite_Set.fold (\\<lambda>x. (\\<union>) {x}) {} X\n\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} X =\n    X", "by (metis fset_to_fset fold_union)"], ["proof (state)\nthis:\n  Finite_Set.fold\n   (\\<lambda>x.\n       (\\<union>)\n        (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>)) {{||}}\n          (fset x)))\n   {} X =\n  X\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dnf_ltln_of_dnf_min_dnf:\n  \"dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "have 1: \"finite (And\\<^sub>n ` fset ` min_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (And\\<^sub>n ` fset ` min_dnf \\<phi>)", "using min_dnf_finite"], ["proof (prove)\nusing this:\n  finite (min_dnf ?\\<phi>)\n\ngoal (1 subgoal):\n 1. finite (And\\<^sub>n ` fset ` min_dnf \\<phi>)", "by blast"], ["proof (state)\nthis:\n  finite (And\\<^sub>n ` fset ` min_dnf \\<phi>)\n\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "have 2: \"inj_on And\\<^sub>n (fset ` min_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on And\\<^sub>n (fset ` min_dnf \\<phi>)", "by (metis (mono_tags, lifting) And\\<^sub>n_inj f_inv_into_f fset inj_onI inj_on_contraD)"], ["proof (state)\nthis:\n  inj_on And\\<^sub>n (fset ` min_dnf \\<phi>)\n\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "have 3: \"inj_on fset (min_dnf \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on fset (min_dnf \\<phi>)", "by (meson fset_inject inj_onI)"], ["proof (state)\nthis:\n  inj_on fset (min_dnf \\<phi>)\n\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>", "unfolding ltln_of_dnf_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dnf (Or\\<^sub>n (And\\<^sub>n ` fset ` min_dnf \\<phi>)) = min_dnf \\<phi>", "unfolding Or\\<^sub>n_dnf[OF 1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold (\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) {}\n     (And\\<^sub>n ` fset ` min_dnf \\<phi>) =\n    min_dnf \\<phi>", "unfolding fold_image[OF 2]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     ((\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) \\<circ> And\\<^sub>n) {}\n     (fset ` min_dnf \\<phi>) =\n    min_dnf \\<phi>", "unfolding fold_image[OF 3]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     ((\\<lambda>\\<phi>. (\\<union>) (dnf \\<phi>)) \\<circ> And\\<^sub>n \\<circ>\n      fset)\n     {} (min_dnf \\<phi>) =\n    min_dnf \\<phi>", "unfolding comp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold (\\<lambda>x. (\\<union>) (dnf (And\\<^sub>n (fset x)))) {}\n     (min_dnf \\<phi>) =\n    min_dnf \\<phi>", "unfolding And\\<^sub>n_dnf[OF finite_fset]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Set.fold\n     (\\<lambda>x.\n         (\\<union>)\n          (Finite_Set.fold (\\<lambda>\\<phi>. (\\<otimes>) (dnf \\<phi>))\n            {{||}} (fset x)))\n     {} (min_dnf \\<phi>) =\n    min_dnf \\<phi>", "by (metis fold_union_fold_product min_dnf_finite min_dnf_atoms_dnf)"], ["proof (state)\nthis:\n  dnf (ltln_of_dnf (min_dnf \\<phi>)) = min_dnf \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma min_dnf_subst:\n  \"min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\" (is \"?lhs = ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "let ?\\<phi>' = \"ltln_of_dnf (min_dnf \\<phi>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "have \"?lhs = min_set (subst_dnf (dnf ?\\<phi>') m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) =\n    min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m)", "unfolding dnf_ltln_of_dnf_min_dnf"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) =\n    min_set (subst_dnf (min_dnf \\<phi>) m)", ".."], ["proof (state)\nthis:\n  min_set (subst_dnf (min_dnf \\<phi>) m) =\n  min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "also"], ["proof (state)\nthis:\n  min_set (subst_dnf (min_dnf \\<phi>) m) =\n  min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "have \"\\<dots> = min_dnf (subst ?\\<phi>' m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m) =\n    min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m)", "unfolding subst_dnf_dnf"], ["proof (prove)\ngoal (1 subgoal):\n 1. min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m) =\n    min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m)", ".."], ["proof (state)\nthis:\n  min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m) =\n  min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "also"], ["proof (state)\nthis:\n  min_set (subst_dnf (dnf (ltln_of_dnf (min_dnf \\<phi>))) m) =\n  min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "have \"\\<dots> = min_dnf (subst \\<phi> m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m) =\n    min_dnf (subst \\<phi> m)", "using ltl_prop_equiv_min_dnf ltln_of_dnf_prop_equiv subst_respects_ltl_prop_entailment(2)"], ["proof (prove)\nusing this:\n  ?\\<phi> \\<sim>\\<^sub>P ?\\<psi> = (min_dnf ?\\<phi> = min_dnf ?\\<psi>)\n  ltln_of_dnf (min_dnf ?\\<phi>) \\<sim>\\<^sub>P ?\\<phi>\n  ?\\<phi> \\<sim>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<sim>\\<^sub>P subst ?\\<psi> ?m\n\ngoal (1 subgoal):\n 1. min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m) =\n    min_dnf (subst \\<phi> m)", "by blast"], ["proof (state)\nthis:\n  min_dnf (subst (ltln_of_dnf (min_dnf \\<phi>)) m) =\n  min_dnf (subst \\<phi> m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "finally"], ["proof (chain)\npicking this:\n  min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "show ?thesis"], ["proof (prove)\nusing this:\n  min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\n\ngoal (1 subgoal):\n 1. min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)", "."], ["proof (state)\nthis:\n  min_set (subst_dnf (min_dnf \\<phi>) m) = min_dnf (subst \\<phi> m)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}