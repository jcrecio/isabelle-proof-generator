{"file_name": "/home/qj213/afp-2021-10-22/thys/Verified_SAT_Based_AI_Planning/CNF_Semantics_Supplement.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Verified_SAT_Based_AI_Planning", "problem_names": ["lemma not_model_if_exists_unmodeled_singleton_clause:\n  assumes \"is_cnf F\"\n    and \"{L} \\<in> cnf F\"\n    and \"\\<not>lit_semantics \\<nu> L\" \n  shows \"\\<not>\\<nu> \\<Turnstile> F\"", "lemma model_for_cnf_is_model_of_all_subsets:\n  assumes \"cnf_semantics \\<nu> \\<F>\"\n    and \"\\<F>' \\<subseteq> \\<F>\" \n  shows \"cnf_semantics \\<nu> \\<F>'\"", "lemma cnf_semantics_monotonous_in_cnf_subsets_if:\n  assumes \"\\<A> \\<Turnstile> \\<Phi>\" \n    and \"is_cnf \\<Phi>\" \n    and \"cnf \\<Phi>' \\<subseteq> cnf \\<Phi>\" \n  shows \"cnf_semantics \\<A> (cnf \\<Phi>')\"", "lemma lit_semantics_reducible_to_subset_if:\n  assumes \"C' \\<subseteq> C\"\n    and \"\\<forall>L \\<in> C'. \\<not>lit_semantics \\<A> L\"\n  shows \"clause_semantics \\<A> C = clause_semantics \\<A> (C - C')\""], "translations": [["", "lemma not_model_if_exists_unmodeled_singleton_clause:\n  assumes \"is_cnf F\"\n    and \"{L} \\<in> cnf F\"\n    and \"\\<not>lit_semantics \\<nu> L\" \n  shows \"\\<not>\\<nu> \\<Turnstile> F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> \\<nu> \\<Turnstile> F", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "assume \"\\<not>\\<not>\\<nu> \\<Turnstile> F\""], ["proof (state)\nthis:\n  \\<not> \\<not> \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> \\<not> \\<nu> \\<Turnstile> F", "have a: \"\\<nu> \\<Turnstile> F\""], ["proof (prove)\nusing this:\n  \\<not> \\<not> \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. \\<nu> \\<Turnstile> F", "by blast"], ["proof (state)\nthis:\n  \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "have \"is_nnf F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_nnf F", "using is_nnf_cnf[OF assms(1)]"], ["proof (prove)\nusing this:\n  is_nnf F\n\ngoal (1 subgoal):\n 1. is_nnf F", "by simp"], ["proof (state)\nthis:\n  is_nnf F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  is_nnf F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  is_nnf F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "let ?C = \"{L}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "have \"\\<not>(\\<exists>L'. L' \\<in> ?C \\<and> lit_semantics \\<nu> L')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'", "using assms(3)"], ["proof (prove)\nusing this:\n  \\<not> lit_semantics \\<nu> L\n\ngoal (1 subgoal):\n 1. \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'", "by fast"], ["proof (state)\nthis:\n  \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'", "have \"\\<not>(\\<forall>C \\<in> cnf F. \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)\""], ["proof (prove)\nusing this:\n  \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>C\\<in>cnf F.\n               \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)", "using assms(2)"], ["proof (prove)\nusing this:\n  \\<nexists>L'. L' \\<in> {L} \\<and> lit_semantics \\<nu> L'\n  {L} \\<in> cnf F\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>C\\<in>cnf F.\n               \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)", "by blast"], ["proof (state)\nthis:\n  \\<not> (\\<forall>C\\<in>cnf F.\n             \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "hence \"\\<not>cnf_semantics \\<nu> (cnf F)\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>C\\<in>cnf F.\n             \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)\n\ngoal (1 subgoal):\n 1. \\<not> cnf_semantics \\<nu> (cnf F)", "unfolding cnf_semantics_def clause_semantics_def"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>C\\<in>cnf F.\n             \\<exists>L. L \\<in> C \\<and> lit_semantics \\<nu> L)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>C\\<in>cnf F. \\<exists>L\\<in>C. lit_semantics \\<nu> L)", "by fast"], ["proof (state)\nthis:\n  \\<not> cnf_semantics \\<nu> (cnf F)\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  \\<not> cnf_semantics \\<nu> (cnf F)\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<nu> \\<Turnstile> F\n  is_nnf F\n  \\<not> cnf_semantics \\<nu> (cnf F)", "have \"\\<not> \\<nu> \\<Turnstile> F\""], ["proof (prove)\nusing this:\n  \\<nu> \\<Turnstile> F\n  is_nnf F\n  \\<not> cnf_semantics \\<nu> (cnf F)\n\ngoal (1 subgoal):\n 1. \\<not> \\<nu> \\<Turnstile> F", "using cnf_semantics"], ["proof (prove)\nusing this:\n  \\<nu> \\<Turnstile> F\n  is_nnf F\n  \\<not> cnf_semantics \\<nu> (cnf F)\n  is_nnf ?F \\<Longrightarrow>\n  cnf_semantics ?\\<A> (cnf ?F) = ?\\<A> \\<Turnstile> ?F\n\ngoal (1 subgoal):\n 1. \\<not> \\<nu> \\<Turnstile> F", "by blast"], ["proof (state)\nthis:\n  \\<not> \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> \\<nu> \\<Turnstile> F \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  \\<not> \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. False", "using a"], ["proof (prove)\nusing this:\n  \\<not> \\<nu> \\<Turnstile> F\n  \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed\n\n\\<comment> \\<open> NOTE This follows by contraposition from the previous lemma \n\\<open>not_model_if_exists_unmodeled_singleton_clause\\<close>. \\<close>"], ["", "corollary model_then_all_singleton_clauses_modelled:\n  assumes \"is_cnf F\"\n    and \"{L} \\<in> cnf F\"\n    and \"\\<nu> \\<Turnstile> F\" \n  shows \"lit_semantics \\<nu> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lit_semantics \\<nu> L", "using not_model_if_exists_unmodeled_singleton_clause[OF assms(1, 2)] assms(3)"], ["proof (prove)\nusing this:\n  \\<not> lit_semantics ?\\<nu> L \\<Longrightarrow>\n  \\<not> ?\\<nu> \\<Turnstile> F\n  \\<nu> \\<Turnstile> F\n\ngoal (1 subgoal):\n 1. lit_semantics \\<nu> L", "by blast\n\n\\<comment> \\<open> NOTE This is essentially the \\<open>\\<Rightarrow>\\<close> direction of the compactness theorem when treating CNFs as sets\nof formulas (sets of disjunctions in this case). \\<close>"], ["", "lemma model_for_cnf_is_model_of_all_subsets:\n  assumes \"cnf_semantics \\<nu> \\<F>\"\n    and \"\\<F>' \\<subseteq> \\<F>\" \n  shows \"cnf_semantics \\<nu> \\<F>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "fix C"], ["proof (state)\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "assume \"C \\<in> \\<F>'\""], ["proof (state)\nthis:\n  C \\<in> \\<F>'\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "then"], ["proof (chain)\npicking this:\n  C \\<in> \\<F>'", "have \"C \\<in> \\<F>\""], ["proof (prove)\nusing this:\n  C \\<in> \\<F>'\n\ngoal (1 subgoal):\n 1. C \\<in> \\<F>", "using assms(2)"], ["proof (prove)\nusing this:\n  C \\<in> \\<F>'\n  \\<F>' \\<subseteq> \\<F>\n\ngoal (1 subgoal):\n 1. C \\<in> \\<F>", "by blast"], ["proof (state)\nthis:\n  C \\<in> \\<F>\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "then"], ["proof (chain)\npicking this:\n  C \\<in> \\<F>", "have \"clause_semantics \\<nu> C\""], ["proof (prove)\nusing this:\n  C \\<in> \\<F>\n\ngoal (1 subgoal):\n 1. clause_semantics \\<nu> C", "using assms(1)"], ["proof (prove)\nusing this:\n  C \\<in> \\<F>\n  cnf_semantics \\<nu> \\<F>\n\ngoal (1 subgoal):\n 1. clause_semantics \\<nu> C", "unfolding cnf_semantics_def"], ["proof (prove)\nusing this:\n  C \\<in> \\<F>\n  \\<forall>C\\<in>\\<F>. clause_semantics \\<nu> C\n\ngoal (1 subgoal):\n 1. clause_semantics \\<nu> C", "by blast"], ["proof (state)\nthis:\n  clause_semantics \\<nu> C\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "}"], ["proof (state)\nthis:\n  ?C2 \\<in> \\<F>' \\<Longrightarrow> clause_semantics \\<nu> ?C2\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?C2 \\<in> \\<F>' \\<Longrightarrow> clause_semantics \\<nu> ?C2\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<nu> \\<F>'", "unfolding cnf_semantics_def"], ["proof (prove)\nusing this:\n  ?C2 \\<in> \\<F>' \\<Longrightarrow> clause_semantics \\<nu> ?C2\n\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>\\<F>'. clause_semantics \\<nu> C", "by blast"], ["proof (state)\nthis:\n  cnf_semantics \\<nu> \\<F>'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cnf_semantics_monotonous_in_cnf_subsets_if:\n  assumes \"\\<A> \\<Turnstile> \\<Phi>\" \n    and \"is_cnf \\<Phi>\" \n    and \"cnf \\<Phi>' \\<subseteq> cnf \\<Phi>\" \n  shows \"cnf_semantics \\<A> (cnf \\<Phi>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "have \"is_nnf \\<Phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_nnf \\<Phi>", "using is_nnf_cnf[OF assms(2)]"], ["proof (prove)\nusing this:\n  is_nnf \\<Phi>\n\ngoal (1 subgoal):\n 1. is_nnf \\<Phi>", "."], ["proof (state)\nthis:\n  is_nnf \\<Phi>\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "hence \"cnf_semantics \\<A> (cnf \\<Phi>)\""], ["proof (prove)\nusing this:\n  is_nnf \\<Phi>\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>)", "using cnf_semantics assms(1)"], ["proof (prove)\nusing this:\n  is_nnf \\<Phi>\n  is_nnf ?F \\<Longrightarrow>\n  cnf_semantics ?\\<A> (cnf ?F) = ?\\<A> \\<Turnstile> ?F\n  \\<A> \\<Turnstile> \\<Phi>\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>)", "by blast"], ["proof (state)\nthis:\n  cnf_semantics \\<A> (cnf \\<Phi>)\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "}"], ["proof (state)\nthis:\n  cnf_semantics \\<A> (cnf \\<Phi>)\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "thus ?thesis"], ["proof (prove)\nusing this:\n  cnf_semantics \\<A> (cnf \\<Phi>)\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "using model_for_cnf_is_model_of_all_subsets[OF _ assms(3)]"], ["proof (prove)\nusing this:\n  cnf_semantics \\<A> (cnf \\<Phi>)\n  cnf_semantics ?\\<nu> (cnf \\<Phi>) \\<Longrightarrow>\n  cnf_semantics ?\\<nu> (cnf \\<Phi>')\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "by simp"], ["proof (state)\nthis:\n  cnf_semantics \\<A> (cnf \\<Phi>')\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary modelling_relation_monotonous_in_cnf_subsets_if:\n  assumes \"\\<A> \\<Turnstile> \\<Phi>\" \n    and \"is_cnf \\<Phi>\" \n    and \"is_cnf \\<Phi>'\"\n    and \"cnf \\<Phi>' \\<subseteq> cnf \\<Phi>\" \n  shows \"\\<A> \\<Turnstile> \\<Phi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile> \\<Phi>'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile> \\<Phi>'", "have \"cnf_semantics \\<A> (cnf \\<Phi>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "using cnf_semantics_monotonous_in_cnf_subsets_if[OF assms(1, 2, 4)]"], ["proof (prove)\nusing this:\n  cnf_semantics \\<A> (cnf \\<Phi>')\n\ngoal (1 subgoal):\n 1. cnf_semantics \\<A> (cnf \\<Phi>')", "."], ["proof (state)\nthis:\n  cnf_semantics \\<A> (cnf \\<Phi>')\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile> \\<Phi>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  cnf_semantics \\<A> (cnf \\<Phi>')\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile> \\<Phi>'", "using cnf_semantics is_nnf_cnf[OF assms(3)]"], ["proof (prove)\nusing this:\n  cnf_semantics \\<A> (cnf \\<Phi>')\n  is_nnf ?F \\<Longrightarrow>\n  cnf_semantics ?\\<A> (cnf ?F) = ?\\<A> \\<Turnstile> ?F\n  is_nnf \\<Phi>'\n\ngoal (1 subgoal):\n 1. \\<A> \\<Turnstile> \\<Phi>'", "by blast"], ["proof (state)\nthis:\n  \\<A> \\<Turnstile> \\<Phi>'\n\ngoal:\nNo subgoals!", "qed\n\n\\<comment> \\<open> NOTE Show that any clause \\<open>C\\<close> containing a subset \\<open>C\\<close> for which all literals\n  \\<open>L\\<close> evaluate to \\<open>False\\<close> for the given valuation \\<open>\\<A>\\<close>, then the clause\n  semantics evaluation can be reduced to the set \\<open>C - C'\\<close> where all literals of \n  \\<open>C'\\<close> have been removed. \\<close>"], ["", "lemma lit_semantics_reducible_to_subset_if:\n  assumes \"C' \\<subseteq> C\"\n    and \"\\<forall>L \\<in> C'. \\<not>lit_semantics \\<A> L\"\n  shows \"clause_semantics \\<A> C = clause_semantics \\<A> (C - C')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. clause_semantics \\<A> C = clause_semantics \\<A> (C - C')", "unfolding clause_semantics_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>L\\<in>C. lit_semantics \\<A> L) =\n    (\\<exists>L\\<in>C - C'. lit_semantics \\<A> L)", "using assms"], ["proof (prove)\nusing this:\n  C' \\<subseteq> C\n  \\<forall>L\\<in>C'. \\<not> lit_semantics \\<A> L\n\ngoal (1 subgoal):\n 1. (\\<exists>L\\<in>C. lit_semantics \\<A> L) =\n    (\\<exists>L\\<in>C - C'. lit_semantics \\<A> L)", "by fast"], ["", "end"]]}