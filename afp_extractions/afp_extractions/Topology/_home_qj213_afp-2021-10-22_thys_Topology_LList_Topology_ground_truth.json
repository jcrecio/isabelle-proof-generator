{"file_name": "/home/qj213/afp-2021-10-22/thys/Topology/LList_Topology.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Topology", "problem_names": ["lemma ttop_topology [iff]: \"topology (ttop A)\"", "lemma (in trace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<star>. {suff A s}))\"", "lemma (in trace_top) suff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> suff A r open\"", "lemma (in trace_top) ttop_carrier: \"A\\<^sup>\\<infinity> = carrier\"", "lemma (in trace_top) suff_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> finpref A t; suff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\"", "lemma (in trace_top) nhds_LNil [simp]: \"nhds LNil = {A\\<^sup>\\<infinity>}\"", "lemma (in trace_top) adh_lemma:\nassumes xpoint: \"x \\<in> A\\<^sup>\\<infinity>\"\n  and  PA: \"P \\<subseteq> A\\<^sup>\\<infinity>\"\nshows \"(x adh P) = (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\"", "lemma (in trace_top) topology [iff]:\n  \"topology T\"", "lemma (in trace_top) safety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<infinity> \\<Longrightarrow>  safety A P = (P closed)\"", "lemma (in trace_top) liveness_dense_iff:\n  assumes P: \"P \\<subseteq> A\\<^sup>\\<infinity>\"\n  shows \"liveness A P = (P dense)\"", "lemma (in trace_top) LNil_safety: \"safety A {LNil}\"", "lemma (in trace_top) LNil_closed: \"{LNil} closed\"", "theorem (in trace_top) alpern_schneider:\nassumes Psub:     \"P \\<subseteq> A\\<^sup>\\<infinity>\"\n  shows \"\\<exists> S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L\"", "lemma (in itrace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<star>. {infsuff A s}))\"", "lemma (in itrace_top) topology [iff]: \"topology T\"", "lemma (in itrace_top) infsuff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> infsuff A r open\"", "lemma (in itrace_top) itop_carrier: \"carrier = A\\<^sup>\\<omega>\"", "lemma itop_sub_ttop_base:\n  fixes A :: \"'a set\" \n    and B :: \"'a llist set set\" \n    and C :: \"'a llist set set\"\n  defines [simp]: \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and [simp]: \"C \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}\"\n  shows \"C = (\\<Union> t\\<in>B. {t \\<inter> \\<Union>C})\"", "lemma itop_sub_ttop [folded ttop_def itop_def]:\n  fixes A and C and S (structure)\n  defines \"C \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}\" and \"S \\<equiv> topo C\"\n  fixes B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  shows \"subtopology S T\"", "lemma (in itrace_top) infsuff_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> finpref A t; infsuff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\"", "lemma (in itrace_top) hausdorff [iff]: \"T2 T\"", "lemma (in itrace_top) adh_lemma:\nassumes xpoint: \"x \\<in> A\\<^sup>\\<omega>\"\n  and  PA: \"P \\<subseteq> A\\<^sup>\\<omega>\"\nshows \"x adh P = (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P)\"", "lemma (in itrace_top) infsafety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<omega> \\<Longrightarrow>  infsafety A P = (P closed)\"", "lemma (in itrace_top) empty:\n  \"A = {} \\<Longrightarrow> T = {{}}\"", "lemma itop_empty: \"itop {} = {{}}\"", "lemma infliveness_empty:\n  \"infliveness {} P \\<Longrightarrow> False\"", "lemma (in trivial) dense:\n  \"P dense\"", "lemma (in itrace_top) infliveness_dense_iff:\n  assumes notempty: \"A \\<noteq> {}\"\n  and P: \"P \\<subseteq> A\\<^sup>\\<omega>\"\n  shows \"infliveness A P = (P dense)\"", "theorem (in itrace_top) alpern_schneider:\nassumes notempty: \"A \\<noteq> {}\"\n  and   Psub:     \"P \\<subseteq> A\\<^sup>\\<omega>\"\n  shows \"\\<exists> S L. infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L\"", "lemma (in ptrace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<clubsuit>. {suff A s}))\"", "lemma (in ptrace_top) topology [iff]: \"topology T\"", "lemma (in ptrace_top) ptop_carrier: \"carrier = A\\<^sup>\\<spadesuit>\"", "lemma pptop_subtop_ttop:\n  fixes S (structure)\n  fixes A and B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  defines \"S \\<equiv> \\<Union> t \\<in> T. {t - {LNil}}\"\n  shows \"subtopology S T\"", "lemma pptop_top:\n  fixes S (structure)\n  fixes A and B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  defines \"S \\<equiv> \\<Union> t \\<in> T. {t - {LNil}}\"\n  shows  \"topology (\\<Union> t \\<in> T. {t - {LNil}})\"", "lemma (in ptrace_top) suff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<clubsuit> \\<Longrightarrow> suff A r open\"", "lemma (in ptrace_top) suff_ptop_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> pfinpref A t; suff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\"", "lemma pfinpref_LNil [simp]: \"pfinpref A LNil = {}\"", "lemma (in ptrace_top) adh_lemma:\n  assumes xpoint: \"x \\<in> A\\<^sup>\\<spadesuit>\"\n  and  P_subset_A: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"x adh P = (\\<forall> r \\<in> pfinpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\"", "lemma (in ptrace_top) possafety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<spadesuit> \\<Longrightarrow>  possafety A P = (P closed)\"", "lemma (in ptrace_top) posliveness_dense_iff:\n  assumes P: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"posliveness A P = (P dense)\"", "theorem (in ptrace_top) alpern_schneider:\nassumes Psub: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"\\<exists> S L. possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L\""], "translations": [["", "lemma ttop_topology [iff]: \"topology (ttop A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. topology (ttop A)", "by (auto simp: ttop_def)"], ["", "locale suffixes =\n  fixes A and B\n  defines [simp]: \"B \\<equiv> (\\<Union> s\\<in>A\\<^sup>\\<star>. {suff A s})\""], ["", "locale trace_top = suffixes + topobase"], ["", "lemma (in trace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<star>. {suff A s}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (m open) = (m \\<in> topo (\\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}))", "by (simp add: T_def is_open_def)"], ["", "lemma (in trace_top) suff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> suff A r open\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> suff A r open", "by auto"], ["", "lemma (in trace_top) ttop_carrier: \"A\\<^sup>\\<infinity> = carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sup>\\<infinity> = carrier", "by (auto simp: carrier_topo suff_def)"], ["", "lemma (in trace_top) suff_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> finpref A t; suff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. R", "from unhd"], ["proof (chain)\npicking this:\n  u \\<in> nhds t", "obtain m where\n    uA: \"u \\<subseteq> A\\<^sup>\\<infinity>\" and\n    mopen: \"m open\" and\n    tm: \"t \\<in> m\" and\n    mu: \"m \\<subseteq> u\""], ["proof (prove)\nusing this:\n  u \\<in> nhds t\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>u \\<subseteq> A\\<^sup>\\<infinity>; m open; t \\<in> m;\n         m \\<subseteq> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: ttop_carrier [THEN sym])"], ["proof (state)\nthis:\n  u \\<subseteq> A\\<^sup>\\<infinity>\n  m open\n  t \\<in> m\n  m \\<subseteq> u\n\ngoal (1 subgoal):\n 1. R", "from mopen tm"], ["proof (chain)\npicking this:\n  m open\n  t \\<in> m", "have\n    \"\\<exists>r \\<in> finpref A t. suff A r \\<subseteq> m\""], ["proof (prove)\nusing this:\n  m open\n  t \\<in> m\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> m", "proof (induct \"m\")"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (basic a)"], ["proof (state)\nthis:\n  a \\<in> B\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a \\<in> B\n  t \\<in> a", "obtain s where sA: \"s \\<in> A\\<^sup>\\<star>\" and as: \"a = suff A s\" and ta: \"t \\<in> a\""], ["proof (prove)\nusing this:\n  a \\<in> B\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<star>; a = suff A s; t \\<in> a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<star>\n  a = suff A s\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "from sA as ta"], ["proof (chain)\npicking this:\n  s \\<in> A\\<^sup>\\<star>\n  a = suff A s\n  t \\<in> a", "have \"s \\<in> finpref A t\""], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<star>\n  a = suff A s\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. s \\<in> finpref A t", "by (auto dest: suff_finpref)"], ["proof (state)\nthis:\n  s \\<in> finpref A t\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  s \\<in> finpref A t\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a", "using as"], ["proof (prove)\nusing this:\n  s \\<in> finpref A t\n  a = suff A s\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (inter a b)"], ["proof (state)\nthis:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b", "obtain r r' where\n      rt: \"r \\<in> finpref A t\" and ra: \"suff A r \\<subseteq> a\" and\n      r't: \"r' \\<in> finpref A t\" and r'b: \"suff A r' \\<subseteq> b\""], ["proof (prove)\nusing this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (1 subgoal):\n 1. (\\<And>r r'.\n        \\<lbrakk>r \\<in> finpref A t; suff A r \\<subseteq> a;\n         r' \\<in> finpref A t; suff A r' \\<subseteq> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> finpref A t\n  suff A r \\<subseteq> a\n  r' \\<in> finpref A t\n  suff A r' \\<subseteq> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "from rt r't"], ["proof (chain)\npicking this:\n  r \\<in> finpref A t\n  r' \\<in> finpref A t", "have \"r \\<le> r' \\<or> r' \\<le> r\""], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  r' \\<in> finpref A t\n\ngoal (1 subgoal):\n 1. r \\<le> r' \\<or> r' \\<le> r", "by (auto simp: finpref_def dest: pref_locally_linear)"], ["proof (state)\nthis:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "assume \"r \\<le> r'\""], ["proof (state)\nthis:\n  r \\<le> r'\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "hence \"suff A r' \\<subseteq> suff A r\""], ["proof (prove)\nusing this:\n  r \\<le> r'\n\ngoal (1 subgoal):\n 1. suff A r' \\<subseteq> suff A r", "by (rule suff_mono2)"], ["proof (state)\nthis:\n  suff A r' \\<subseteq> suff A r\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  suff A r' \\<subseteq> suff A r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "using r't ra r'b"], ["proof (prove)\nusing this:\n  suff A r' \\<subseteq> suff A r\n  r' \\<in> finpref A t\n  suff A r \\<subseteq> a\n  suff A r' \\<subseteq> b\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "assume \"r' \\<le> r\""], ["proof (state)\nthis:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "hence \"suff A r \\<subseteq> suff A r'\""], ["proof (prove)\nusing this:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. suff A r \\<subseteq> suff A r'", "by (rule suff_mono2)"], ["proof (state)\nthis:\n  suff A r \\<subseteq> suff A r'\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  suff A r \\<subseteq> suff A r'\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "using rt r'b ra"], ["proof (prove)\nusing this:\n  suff A r \\<subseteq> suff A r'\n  r \\<in> finpref A t\n  suff A r' \\<subseteq> b\n  suff A r \\<subseteq> a\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (union M)"], ["proof (state)\nthis:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M", "obtain v where\n      \"t \\<in> v\" and vM: \"v \\<in> M\""], ["proof (prove)\nusing this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>t \\<in> v; v \\<in> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  t \\<in> v\n  v \\<in> M", "obtain r where \"r\\<in>finpref A t\" \"suff A r \\<subseteq> v\""], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A t; suff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using union"], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A t; suff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> finpref A t\n  suff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  suff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> \\<Union> M", "using vM"], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  suff A r \\<subseteq> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> \\<Union> M", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> \\<Union> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "with mu"], ["proof (chain)\npicking this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> m", "show ?thesis"], ["proof (prove)\nusing this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>finpref A t. suff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "by (auto intro: H)"], ["proof (state)\nthis:\n  R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in trace_top) nhds_LNil [simp]: \"nhds LNil = {A\\<^sup>\\<infinity>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nhds LNil = {A\\<^sup>\\<infinity>}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. nhds LNil \\<subseteq> {A\\<^sup>\\<infinity>}\n 2. {A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil", "show \"nhds LNil \\<subseteq> {A\\<^sup>\\<infinity>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nhds LNil \\<subseteq> {A\\<^sup>\\<infinity>}", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "assume xnhd: \"x \\<in> nhds LNil\""], ["proof (state)\nthis:\n  x \\<in> nhds LNil\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "then"], ["proof (chain)\npicking this:\n  x \\<in> nhds LNil", "obtain r\n      where rfinpref: \"r \\<in> finpref A LNil\" and suffsub: \"suff A r \\<subseteq> x\""], ["proof (prove)\nusing this:\n  x \\<in> nhds LNil\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A LNil; suff A r \\<subseteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule suff_nhd_base)"], ["proof (state)\nthis:\n  r \\<in> finpref A LNil\n  suff A r \\<subseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "from rfinpref"], ["proof (chain)\npicking this:\n  r \\<in> finpref A LNil", "have \"r = LNil\""], ["proof (prove)\nusing this:\n  r \\<in> finpref A LNil\n\ngoal (1 subgoal):\n 1. r = LNil", "by auto"], ["proof (state)\nthis:\n  r = LNil\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "hence \"suff A r = A\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  r = LNil\n\ngoal (1 subgoal):\n 1. suff A r = A\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  suff A r = A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "with suffsub"], ["proof (chain)\npicking this:\n  suff A r \\<subseteq> x\n  suff A r = A\\<^sup>\\<infinity>", "have \"A\\<^sup>\\<infinity> \\<subseteq> x\""], ["proof (prove)\nusing this:\n  suff A r \\<subseteq> x\n  suff A r = A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. A\\<^sup>\\<infinity> \\<subseteq> x", "by auto"], ["proof (state)\nthis:\n  A\\<^sup>\\<infinity> \\<subseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "moreover"], ["proof (state)\nthis:\n  A\\<^sup>\\<infinity> \\<subseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "from xnhd"], ["proof (chain)\npicking this:\n  x \\<in> nhds LNil", "have \"x \\<subseteq> A\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  x \\<in> nhds LNil\n\ngoal (1 subgoal):\n 1. x \\<subseteq> A\\<^sup>\\<infinity>", "by(auto simp: ttop_carrier elim!: nhdE)"], ["proof (state)\nthis:\n  x \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> nhds LNil; x \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> x = A\\<^sup>\\<infinity>", "ultimately"], ["proof (chain)\npicking this:\n  A\\<^sup>\\<infinity> \\<subseteq> x\n  x \\<subseteq> A\\<^sup>\\<infinity>", "show \"x = A\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  A\\<^sup>\\<infinity> \\<subseteq> x\n  x \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. x = A\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  x = A\\<^sup>\\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  nhds LNil \\<subseteq> {A\\<^sup>\\<infinity>}\n\ngoal (1 subgoal):\n 1. {A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. {A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil", "show \"{A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil", "by (auto simp: ttop_carrier)"], ["proof (state)\nthis:\n  {A\\<^sup>\\<infinity>} \\<subseteq> nhds LNil\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in trace_top) adh_lemma:\nassumes xpoint: \"x \\<in> A\\<^sup>\\<infinity>\"\n  and  PA: \"P \\<subseteq> A\\<^sup>\\<infinity>\"\nshows \"(x adh P) = (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "from PA"], ["proof (chain)\npicking this:\n  P \\<subseteq> A\\<^sup>\\<infinity>", "have \"\\<And>r. r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> (\\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n        (\\<exists> s \\<in> P. r \\<le> s)\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n       (\\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n       (\\<exists>s\\<in>P. r \\<le> s)", "by (auto simp: llist_le_def iff: lapp_allT_iff)"], ["proof (state)\nthis:\n  ?r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n  (\\<exists>s\\<in>A\\<^sup>\\<infinity>. ?r @@ s \\<in> P) =\n  (\\<exists>s\\<in>P. ?r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "hence  \"(\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n        (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> P. r \\<le> s)\""], ["proof (prove)\nusing this:\n  ?r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n  (\\<exists>s\\<in>A\\<^sup>\\<infinity>. ?r @@ s \\<in> P) =\n  (\\<exists>s\\<in>P. ?r \\<le> s)\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)", "by (auto simp: finpref_def)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "have \"\\<dots> = (\\<forall> r \\<in> finpref A x. suff A r \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})", "have \"\\<And>r. (\\<exists>s\\<in>P. r \\<le> s) = ({ra. ra \\<in> A\\<^sup>\\<infinity> \\<and> r \\<le> ra} \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r.\n       (\\<exists>s\\<in>P. r \\<le> s) =\n       ({ra \\<in> A\\<^sup>\\<infinity>. r \\<le> ra} \\<inter> P \\<noteq> {})", "using PA"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       (\\<exists>s\\<in>P. r \\<le> s) =\n       ({ra \\<in> A\\<^sup>\\<infinity>. r \\<le> ra} \\<inter> P \\<noteq> {})", "by blast"], ["proof (state)\nthis:\n  (\\<exists>s\\<in>P. ?r \\<le> s) =\n  ({ra \\<in> A\\<^sup>\\<infinity>. ?r \\<le> ra} \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>s\\<in>P. ?r \\<le> s) =\n  ({ra \\<in> A\\<^sup>\\<infinity>. ?r \\<le> ra} \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})", "by (simp add: suff_def)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "have \"\\<dots> = (\\<forall> u \\<in> nhds x. u \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}) =\n    (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; suff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "fix r"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; suff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "assume uP: \"\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\" and\n      rfinpref: \"r \\<in> finpref A x\" and rP: \"suff A r \\<inter> P = {}\""], ["proof (state)\nthis:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  r \\<in> finpref A x\n  suff A r \\<inter> P = {}\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; suff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "from rfinpref"], ["proof (chain)\npicking this:\n  r \\<in> finpref A x", "have \"suff A r open\""], ["proof (prove)\nusing this:\n  r \\<in> finpref A x\n\ngoal (1 subgoal):\n 1. suff A r open", "by (auto dest!: finpref_fin)"], ["proof (state)\nthis:\n  suff A r open\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; suff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "hence \"suff A r \\<in> nhds x\""], ["proof (prove)\nusing this:\n  suff A r open\n\ngoal (1 subgoal):\n 1. suff A r \\<in> nhds x", "using xpoint rfinpref"], ["proof (prove)\nusing this:\n  suff A r open\n  x \\<in> A\\<^sup>\\<infinity>\n  r \\<in> finpref A x\n\ngoal (1 subgoal):\n 1. suff A r \\<in> nhds x", "by auto"], ["proof (state)\nthis:\n  suff A r \\<in> nhds x\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; suff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "with uP rP"], ["proof (chain)\npicking this:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  suff A r \\<inter> P = {}\n  suff A r \\<in> nhds x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  suff A r \\<inter> P = {}\n  suff A r \\<in> nhds x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "assume\n      inter:     \"\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}\" and\n      unhd:   \"u \\<in> nhds x\" and\n      uinter: \"u \\<inter> P = {}\""], ["proof (state)\nthis:\n  \\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}\n  u \\<in> nhds x\n  u \\<inter> P = {}\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "from unhd"], ["proof (chain)\npicking this:\n  u \\<in> nhds x", "obtain r where\n      \"r \\<in> finpref A x\" and \"suff A r \\<subseteq> u\""], ["proof (prove)\nusing this:\n  u \\<in> nhds x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A x; suff A r \\<subseteq> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule suff_nhd_base)"], ["proof (state)\nthis:\n  r \\<in> finpref A x\n  suff A r \\<subseteq> u\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "with inter uinter"], ["proof (chain)\npicking this:\n  \\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}\n  u \\<inter> P = {}\n  r \\<in> finpref A x\n  suff A r \\<subseteq> u", "show \"False\""], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}\n  u \\<inter> P = {}\n  r \\<in> finpref A x\n  suff A r \\<subseteq> u\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. suff A r \\<inter> P \\<noteq> {}) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "finally"], ["proof (chain)\npicking this:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "by (simp add: adhs_def)"], ["proof (state)\nthis:\n  (x adh P) =\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in trace_top) topology [iff]:\n  \"topology T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. topology T", "by (simp add: T_def)"], ["", "lemma (in trace_top) safety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<infinity> \\<Longrightarrow>  safety A P = (P closed)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A\\<^sup>\\<infinity> \\<Longrightarrow>\n    safety A P = (P closed)", "by (auto simp: safety_def topology.closed_adh adh_lemma ttop_carrier)"], ["", "lemma (in trace_top) liveness_dense_iff:\n  assumes P: \"P \\<subseteq> A\\<^sup>\\<infinity>\"\n  shows \"liveness A P = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "have \"liveness A P = (\\<forall>r\\<in>A\\<^sup>\\<star>. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liveness A P =\n    (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "by (simp add: liveness_def)"], ["proof (state)\nthis:\n  liveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  liveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<infinity>. \\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "by (auto simp: finpref_def dest: finsubsetall)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P)", "by (simp add: adh_lemma)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "have \"\\<dots> = (A\\<^sup>\\<infinity> \\<subseteq> closure P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P) =\n    (A\\<^sup>\\<infinity> \\<subseteq> closure P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P) =\n    (A\\<^sup>\\<infinity> \\<subseteq> closure P)", "by (auto simp: adh_closure_iff ttop_carrier)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P) =\n  (A\\<^sup>\\<infinity> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<infinity>. x adh P) =\n  (A\\<^sup>\\<infinity> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "have \"\\<dots> = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A\\<^sup>\\<infinity> \\<subseteq> closure P) = (P dense)", "by (simp add: liveness_def is_dense_def is_densein_def ttop_carrier)"], ["proof (state)\nthis:\n  (A\\<^sup>\\<infinity> \\<subseteq> closure P) = (P dense)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "finally"], ["proof (chain)\npicking this:\n  liveness A P = (P dense)", "show ?thesis"], ["proof (prove)\nusing this:\n  liveness A P = (P dense)\n\ngoal (1 subgoal):\n 1. liveness A P = (P dense)", "."], ["proof (state)\nthis:\n  liveness A P = (P dense)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in trace_top) LNil_safety: \"safety A {LNil}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. safety A {LNil}", "proof (unfold safety_def, clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> A\\<^sup>\\<infinity>;\n        \\<forall>r\\<in>finpref A t.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil};\n        t \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> t = LNil", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> A\\<^sup>\\<infinity>;\n        \\<forall>r\\<in>finpref A t.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil};\n        t \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> t = LNil", "assume adh: \"t \\<in> A\\<^sup>\\<infinity>\" \"\\<forall>r\\<in>finpref A t. \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil}\""], ["proof (state)\nthis:\n  t \\<in> A\\<^sup>\\<infinity>\n  \\<forall>r\\<in>finpref A t.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> A\\<^sup>\\<infinity>;\n        \\<forall>r\\<in>finpref A t.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil};\n        t \\<notin> {}\\<rbrakk>\n       \\<Longrightarrow> t = LNil", "thus \"t = LNil\""], ["proof (prove)\nusing this:\n  t \\<in> A\\<^sup>\\<infinity>\n  \\<forall>r\\<in>finpref A t.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> {LNil}\n\ngoal (1 subgoal):\n 1. t = LNil", "by (cases t)(auto simp: finpref_def)"], ["proof (state)\nthis:\n  t = LNil\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in trace_top) LNil_closed: \"{LNil} closed\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {LNil} closed", "by (auto intro: iffD1 [OF safety_closed_iff] LNil_safety)"], ["", "theorem (in trace_top) alpern_schneider:\nassumes Psub:     \"P \\<subseteq> A\\<^sup>\\<infinity>\"\n  shows \"\\<exists> S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "from Psub"], ["proof (chain)\npicking this:\n  P \\<subseteq> A\\<^sup>\\<infinity>", "have \"P \\<subseteq> carrier\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier", "by (simp add: ttop_carrier)"], ["proof (state)\nthis:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "then"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier", "obtain L S where\n    Lsub: \"L \\<subseteq> carrier\" and\n    Ssub: \"S \\<subseteq> carrier\" and\n    Sclosed: \"S closed\" and\n    Ldense: \"L dense\" and\n    Pinter: \"P = S \\<inter> L\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. (\\<And>L S.\n        \\<lbrakk>L \\<subseteq> carrier; S \\<subseteq> carrier; S closed;\n         L dense; P = S \\<inter> L\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast elim: topology.ex_dense_closure_interE [OF topology])"], ["proof (state)\nthis:\n  L \\<subseteq> carrier\n  S \\<subseteq> carrier\n  S closed\n  L dense\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "from Ssub Sclosed"], ["proof (chain)\npicking this:\n  S \\<subseteq> carrier\n  S closed", "have \"safety A S\""], ["proof (prove)\nusing this:\n  S \\<subseteq> carrier\n  S closed\n\ngoal (1 subgoal):\n 1. safety A S", "by (simp add: safety_closed_iff ttop_carrier)"], ["proof (state)\nthis:\n  safety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "moreover"], ["proof (state)\nthis:\n  safety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "from Lsub Ldense"], ["proof (chain)\npicking this:\n  L \\<subseteq> carrier\n  L dense", "have \"liveness A L\""], ["proof (prove)\nusing this:\n  L \\<subseteq> carrier\n  L dense\n\ngoal (1 subgoal):\n 1. liveness A L", "by (simp add: liveness_dense_iff ttop_carrier)"], ["proof (state)\nthis:\n  liveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "ultimately"], ["proof (chain)\npicking this:\n  safety A S\n  liveness A L", "show ?thesis"], ["proof (prove)\nusing this:\n  safety A S\n  liveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "using Pinter"], ["proof (prove)\nusing this:\n  safety A S\n  liveness A L\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L", "by auto"], ["proof (state)\nthis:\n  \\<exists>S L. safety A S \\<and> liveness A L \\<and> P = S \\<inter> L\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>The topology of infinite llists\\<close>"], ["", "definition\n  itop :: \"'a set \\<Rightarrow> 'a llist top\" where\n  \"itop A = topo (\\<Union> s\\<in>A\\<^sup>\\<star>. {infsuff A s})\""], ["", "locale infsuffixes =\n  fixes A and B\n  defines [simp]: \"B \\<equiv> (\\<Union> s\\<in>A\\<^sup>\\<star>. {infsuff A s})\""], ["", "locale itrace_top = infsuffixes + topobase"], ["", "lemma (in itrace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<star>. {infsuff A s}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (m open) = (m \\<in> topo (\\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}))", "by (simp add: T_def is_open_def)"], ["", "lemma (in itrace_top) topology [iff]: \"topology T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. topology T", "by (auto simp: T_def)"], ["", "lemma (in itrace_top) infsuff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> infsuff A r open\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> infsuff A r open", "by auto"], ["", "lemma (in itrace_top) itop_carrier: \"carrier = A\\<^sup>\\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. carrier = A\\<^sup>\\<omega>", "by (auto simp: carrier_topo infsuff_def)"], ["", "lemma itop_sub_ttop_base:\n  fixes A :: \"'a set\" \n    and B :: \"'a llist set set\" \n    and C :: \"'a llist set set\"\n  defines [simp]: \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and [simp]: \"C \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}\"\n  shows \"C = (\\<Union> t\\<in>B. {t \\<inter> \\<Union>C})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C = (\\<Union>t\\<in>B. {t \\<inter> \\<Union> C})", "by (auto simp: infsuff_def suff_def)"], ["", "lemma itop_sub_ttop [folded ttop_def itop_def]:\n  fixes A and C and S (structure)\n  defines \"C \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}\" and \"S \\<equiv> topo C\"\n  fixes B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  shows \"subtopology S T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subtopology S T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subtopology S T", "interpret itrace_top A C S"], ["proof (prove)\ngoal (1 subgoal):\n 1. (C \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {infsuff A s}) &&&\n    S \\<equiv> topo C", "by fact+"], ["proof (state)\ngoal (1 subgoal):\n 1. subtopology S T", "interpret trace_top A B T"], ["proof (prove)\ngoal (1 subgoal):\n 1. (B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}) &&&\n    T \\<equiv> topo B", "by fact+"], ["proof (state)\ngoal (1 subgoal):\n 1. subtopology S T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. subtopology S T", "by (auto intro: itop_sub_ttop_base [THEN subtop_lemma] simp: S_def T_def)"], ["proof (state)\nthis:\n  subtopology S T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in itrace_top) infsuff_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> finpref A t; infsuff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. R", "from unhd"], ["proof (chain)\npicking this:\n  u \\<in> nhds t", "obtain m where\n    uA: \"u \\<subseteq> A\\<^sup>\\<omega>\" and\n    mopen: \"m open\" and\n    tm: \"t \\<in> m\" and\n    mu: \"m \\<subseteq> u\""], ["proof (prove)\nusing this:\n  u \\<in> nhds t\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>u \\<subseteq> A\\<^sup>\\<omega>; m open; t \\<in> m;\n         m \\<subseteq> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: itop_carrier)"], ["proof (state)\nthis:\n  u \\<subseteq> A\\<^sup>\\<omega>\n  m open\n  t \\<in> m\n  m \\<subseteq> u\n\ngoal (1 subgoal):\n 1. R", "from mopen tm"], ["proof (chain)\npicking this:\n  m open\n  t \\<in> m", "have\n    \"\\<exists>r \\<in> finpref A t. infsuff A r \\<subseteq> m\""], ["proof (prove)\nusing this:\n  m open\n  t \\<in> m\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> m", "proof (induct \"m\")"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "case (basic a)"], ["proof (state)\nthis:\n  a \\<in> B\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a \\<in> B\n  t \\<in> a", "obtain s where sA: \"s \\<in> A\\<^sup>\\<star>\" and as: \"a = infsuff A s\" and ta: \"t \\<in> a\""], ["proof (prove)\nusing this:\n  a \\<in> B\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<star>; a = infsuff A s;\n         t \\<in> a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<star>\n  a = infsuff A s\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "from sA as ta"], ["proof (chain)\npicking this:\n  s \\<in> A\\<^sup>\\<star>\n  a = infsuff A s\n  t \\<in> a", "have \"s \\<in> finpref A t\""], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<star>\n  a = infsuff A s\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. s \\<in> finpref A t", "by (auto dest: infsuff_finpref)"], ["proof (state)\nthis:\n  s \\<in> finpref A t\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  s \\<in> finpref A t\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a", "using as"], ["proof (prove)\nusing this:\n  s \\<in> finpref A t\n  a = infsuff A s\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "case (inter a b)"], ["proof (state)\nthis:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> b\n  t \\<in> a \\<inter> b", "obtain r r' where\n      rt: \"r \\<in> finpref A t\" and ra: \"infsuff A r \\<subseteq> a\" and\n      r't: \"r' \\<in> finpref A t\" and r'b: \"infsuff A r' \\<subseteq> b\""], ["proof (prove)\nusing this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (1 subgoal):\n 1. (\\<And>r r'.\n        \\<lbrakk>r \\<in> finpref A t; infsuff A r \\<subseteq> a;\n         r' \\<in> finpref A t; infsuff A r' \\<subseteq> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> finpref A t\n  infsuff A r \\<subseteq> a\n  r' \\<in> finpref A t\n  infsuff A r' \\<subseteq> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "from rt r't"], ["proof (chain)\npicking this:\n  r \\<in> finpref A t\n  r' \\<in> finpref A t", "have \"r \\<le> r' \\<or> r' \\<le> r\""], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  r' \\<in> finpref A t\n\ngoal (1 subgoal):\n 1. r \\<le> r' \\<or> r' \\<le> r", "by (auto simp: finpref_def dest: pref_locally_linear)"], ["proof (state)\nthis:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "assume \"r \\<le> r'\""], ["proof (state)\nthis:\n  r \\<le> r'\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "hence \"infsuff A r' \\<subseteq> infsuff A r\""], ["proof (prove)\nusing this:\n  r \\<le> r'\n\ngoal (1 subgoal):\n 1. infsuff A r' \\<subseteq> infsuff A r", "by (rule infsuff_mono2)"], ["proof (state)\nthis:\n  infsuff A r' \\<subseteq> infsuff A r\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  infsuff A r' \\<subseteq> infsuff A r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "using r't ra r'b"], ["proof (prove)\nusing this:\n  infsuff A r' \\<subseteq> infsuff A r\n  r' \\<in> finpref A t\n  infsuff A r \\<subseteq> a\n  infsuff A r' \\<subseteq> b\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "assume \"r' \\<le> r\""], ["proof (state)\nthis:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "hence \"infsuff A r \\<subseteq> infsuff A r'\""], ["proof (prove)\nusing this:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. infsuff A r \\<subseteq> infsuff A r'", "by (rule infsuff_mono2)"], ["proof (state)\nthis:\n  infsuff A r \\<subseteq> infsuff A r'\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  infsuff A r \\<subseteq> infsuff A r'\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "using rt r'b ra"], ["proof (prove)\nusing this:\n  infsuff A r \\<subseteq> infsuff A r'\n  r \\<in> finpref A t\n  infsuff A r' \\<subseteq> b\n  infsuff A r \\<subseteq> a\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "case (union M)"], ["proof (state)\nthis:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M", "obtain v where\n      \"t \\<in> v\" and vM: \"v \\<in> M\""], ["proof (prove)\nusing this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>t \\<in> v; v \\<in> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  t \\<in> v\n  v \\<in> M", "obtain r where \"r\\<in>finpref A t\" \"infsuff A r \\<subseteq> v\""], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A t; infsuff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using union"], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A t; infsuff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> finpref A t\n  infsuff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>finpref A t.\n                        infsuff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>finpref A t.\n                            infsuff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  infsuff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> \\<Union> M", "using vM"], ["proof (prove)\nusing this:\n  r \\<in> finpref A t\n  infsuff A r \\<subseteq> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> \\<Union> M", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> \\<Union> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "with mu"], ["proof (chain)\npicking this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> m", "show ?thesis"], ["proof (prove)\nusing this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>finpref A t. infsuff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "by (auto intro: H)"], ["proof (state)\nthis:\n  R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in itrace_top) hausdorff [iff]: \"T2 T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T2 T", "proof(rule T2I, clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "assume xpoint: \"x \\<in> carrier\"\n    and ypoint: \"y \\<in> carrier\"\n    and neq: \"x \\<noteq> y\""], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "from xpoint ypoint"], ["proof (chain)\npicking this:\n  x \\<in> carrier\n  y \\<in> carrier", "have xA: \"x \\<in> A\\<^sup>\\<omega>\" and yA: \"y \\<in> A\\<^sup>\\<omega>\""], ["proof (prove)\nusing this:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<in> A\\<^sup>\\<omega> &&& y \\<in> A\\<^sup>\\<omega>", "by (auto simp: itop_carrier)"], ["proof (state)\nthis:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "then"], ["proof (chain)\npicking this:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>", "obtain s where\n    sA: \"s \\<in> A\\<^sup>\\<star>\" and sx: \"s \\<le> x\" and sy: \"\\<not> s \\<le> y\""], ["proof (prove)\nusing this:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<star>; s \\<le> x;\n         \\<not> s \\<le> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using neq"], ["proof (prove)\nusing this:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<star>; s \\<le> x;\n         \\<not> s \\<le> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule inf_neqE) auto"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<star>\n  s \\<le> x\n  \\<not> s \\<le> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "from neq"], ["proof (chain)\npicking this:\n  x \\<noteq> y", "have \"y \\<noteq> x\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. y \\<noteq> x", ".."], ["proof (state)\nthis:\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "with yA xA"], ["proof (chain)\npicking this:\n  y \\<in> A\\<^sup>\\<omega>\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<noteq> x", "obtain t where\n    tA: \"t \\<in> A\\<^sup>\\<star>\" and ty: \"t \\<le> y\" and tx: \"\\<not> t \\<le> x\""], ["proof (prove)\nusing this:\n  y \\<in> A\\<^sup>\\<omega>\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> A\\<^sup>\\<star>; t \\<le> y;\n         \\<not> t \\<le> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule inf_neqE) auto"], ["proof (state)\nthis:\n  t \\<in> A\\<^sup>\\<star>\n  t \\<le> y\n  \\<not> t \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "let ?u = \"infsuff A s\" and ?v = \"infsuff A t\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "have inter: \"?u \\<inter> ?v = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infsuff A s \\<inter> infsuff A t = {}", "proof (rule ccontr, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> infsuff A s; x \\<in> infsuff A t\\<rbrakk>\n       \\<Longrightarrow> False", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> infsuff A s; x \\<in> infsuff A t\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"z \\<in> ?u\" and \"z \\<in> ?v\""], ["proof (state)\nthis:\n  z \\<in> infsuff A s\n  z \\<in> infsuff A t\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> infsuff A s; x \\<in> infsuff A t\\<rbrakk>\n       \\<Longrightarrow> False", "hence \"s \\<le> z\" and  \"t \\<le> z\""], ["proof (prove)\nusing this:\n  z \\<in> infsuff A s\n  z \\<in> infsuff A t\n\ngoal (1 subgoal):\n 1. s \\<le> z &&& t \\<le> z", "by (unfold infsuff_def) auto"], ["proof (state)\nthis:\n  s \\<le> z\n  t \\<le> z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> infsuff A s; x \\<in> infsuff A t\\<rbrakk>\n       \\<Longrightarrow> False", "hence \"s \\<le> t \\<or> t \\<le> s\""], ["proof (prove)\nusing this:\n  s \\<le> z\n  t \\<le> z\n\ngoal (1 subgoal):\n 1. s \\<le> t \\<or> t \\<le> s", "by (rule pref_locally_linear)"], ["proof (state)\nthis:\n  s \\<le> t \\<or> t \\<le> s\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> infsuff A s; x \\<in> infsuff A t\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  s \\<le> t \\<or> t \\<le> s\n\ngoal (1 subgoal):\n 1. False", "using sx sy tx ty"], ["proof (prove)\nusing this:\n  s \\<le> t \\<or> t \\<le> s\n  s \\<le> x\n  \\<not> s \\<le> y\n  \\<not> t \\<le> x\n  t \\<le> y\n\ngoal (1 subgoal):\n 1. False", "by (auto dest: llist_le_trans)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  infsuff A s \\<inter> infsuff A t = {}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "moreover"], ["proof (state)\nthis:\n  infsuff A s \\<inter> infsuff A t = {}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "{"], ["proof (state)\nthis:\n  infsuff A s \\<inter> infsuff A t = {}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "from sA tA"], ["proof (chain)\npicking this:\n  s \\<in> A\\<^sup>\\<star>\n  t \\<in> A\\<^sup>\\<star>", "have \"?u open\" and \"?v open\""], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<star>\n  t \\<in> A\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. infsuff A s open &&& infsuff A t open", "by auto"], ["proof (state)\nthis:\n  infsuff A s open\n  infsuff A t open\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "moreover"], ["proof (state)\nthis:\n  infsuff A s open\n  infsuff A t open\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "from xA yA sx ty"], ["proof (chain)\npicking this:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>\n  s \\<le> x\n  t \\<le> y", "have \"x \\<in> ?u\" and \"y \\<in> ?v\""], ["proof (prove)\nusing this:\n  x \\<in> A\\<^sup>\\<omega>\n  y \\<in> A\\<^sup>\\<omega>\n  s \\<le> x\n  t \\<le> y\n\ngoal (1 subgoal):\n 1. x \\<in> infsuff A s &&& y \\<in> infsuff A t", "by (auto simp: infsuff_def)"], ["proof (state)\nthis:\n  x \\<in> infsuff A s\n  y \\<in> infsuff A t\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "ultimately"], ["proof (chain)\npicking this:\n  infsuff A s open\n  infsuff A t open\n  x \\<in> infsuff A s\n  y \\<in> infsuff A t", "have \"infsuff A s \\<in> nhds x\" and\n      \"infsuff A t \\<in> nhds y\""], ["proof (prove)\nusing this:\n  infsuff A s open\n  infsuff A t open\n  x \\<in> infsuff A s\n  y \\<in> infsuff A t\n\ngoal (1 subgoal):\n 1. infsuff A s \\<in> nhds x &&& infsuff A t \\<in> nhds y", "by auto"], ["proof (state)\nthis:\n  infsuff A s \\<in> nhds x\n  infsuff A t \\<in> nhds y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "}"], ["proof (state)\nthis:\n  infsuff A s \\<in> nhds x\n  infsuff A t \\<in> nhds y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u\\<in>nhds x.\n                            \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "ultimately"], ["proof (chain)\npicking this:\n  infsuff A s \\<inter> infsuff A t = {}\n  infsuff A s \\<in> nhds x\n  infsuff A t \\<in> nhds y", "show \"\\<exists> u \\<in> nhds x. \\<exists> v \\<in> nhds y. u \\<inter> v = {}\""], ["proof (prove)\nusing this:\n  infsuff A s \\<inter> infsuff A t = {}\n  infsuff A s \\<in> nhds x\n  infsuff A t \\<in> nhds y\n\ngoal (1 subgoal):\n 1. \\<exists>u\\<in>nhds x. \\<exists>v\\<in>nhds y. u \\<inter> v = {}", "by auto"], ["proof (state)\nthis:\n  \\<exists>u\\<in>nhds x. \\<exists>v\\<in>nhds y. u \\<inter> v = {}\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary (in itrace_top) unique_convergence:\n  \"\\<lbrakk> x \\<in> carrier;\n     y \\<in> carrier;\n     F \\<in> Filters ;\n     F \\<longlongrightarrow> x;\n     F \\<longlongrightarrow> y \\<rbrakk> \\<Longrightarrow> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> x = y", "apply (rule T2.unique_convergence)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> T2 ?T\n 2. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> Topology.filter ?F ?T\n 3. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> x \\<in> carrier\\<^bsub>?T\\<^esub>\n 4. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> y \\<in> carrier\\<^bsub>?T\\<^esub>\n 5. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> x\n 6. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> y", "prefer 2"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> Topology.filter ?F ?T\n 2. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> T2 ?T\n 3. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> x \\<in> carrier\\<^bsub>?T\\<^esub>\n 4. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> y \\<in> carrier\\<^bsub>?T\\<^esub>\n 5. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> x\n 6. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> y", "apply (rule filter.intro)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<in> Filters\\<^bsub>?T\\<^esub>\n 2. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> T2 ?T\n 3. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> x \\<in> carrier\\<^bsub>?T\\<^esub>\n 4. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> y \\<in> carrier\\<^bsub>?T\\<^esub>\n 5. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> x\n 6. \\<lbrakk>x \\<in> carrier; y \\<in> carrier; F \\<in> Filters;\n     F \\<longlongrightarrow> x; F \\<longlongrightarrow> y\\<rbrakk>\n    \\<Longrightarrow> ?F \\<longlongrightarrow>\\<^bsub>?T\\<^esub> y", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*\nlemma safty_closed:\n  fixes   A :: \"'a set\"\n  defines \"T \\<equiv> itop A\"\n  assumes P: \"P \\<subseteq> A\\<^sup>\\<omega>\"\n  and safety: \"safety A P\"\n  shows \"P iscl T\"\nproof-\n  have istopT [iff]: \"istop T\" by (simp add: T_def)\n  have carrT [simp]: \"carr T = A\\<^sup>\\<omega>\" by (simp add: T_def itop_carr)\n  show ?thesis\n  proof (rule closure_eq_closed, auto)\n    fix x assume xclos: \"x \\<in> clos T P\"\n    with P have \"x \\<in> carr T\"\n      by (intro subsetD [OF closure_subset]) auto\n    hence xA: \"x \\<in> A\\<^sup>\\<omega>\" by simp\n    moreover \n    from P xclos have adhx: \"adh T P x\" by (auto intro!: closure_imp_adh)\n    have \"\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P\"\n    proof\n      fix r assume \"r \\<in> finpref A x\"\n      hence \"x \\<in> infsuff A r\" and rA: \"r \\<in> A\\<^sup>\\<star>\" using xA\n        by (auto simp: finpref_def infsuff_def)\n      hence \"infsuff A r \\<in> nhds T x\" by (auto simp: T_def)\n      with adhx have  \"infsuff A r \\<inter> P \\<noteq> {}\" by (elim adhCE) auto\n      then obtain t where \"t \\<in> infsuff A r\" and tP: \"t \\<in> P\" by auto\n      then obtain s where \"s \\<in> A\\<^sup>\\<omega>\" and \"t = r @@ s\" using rA\n        by (auto elim!: infsuff_appE)\n      thus \"\\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P\" using tP by auto\n    qed\n    ultimately show \"x \\<in> P\" using safety\n      by (auto elim: safetyE)\n  qed\nqed\n*)"], ["", "lemma (in itrace_top) adh_lemma:\nassumes xpoint: \"x \\<in> A\\<^sup>\\<omega>\"\n  and  PA: \"P \\<subseteq> A\\<^sup>\\<omega>\"\nshows \"x adh P = (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "from PA"], ["proof (chain)\npicking this:\n  P \\<subseteq> A\\<^sup>\\<omega>", "have \"\\<And>r. r \\<in> A\\<^sup>\\<star> \\<Longrightarrow> (\\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n        (\\<exists> s \\<in> P. r \\<le> s)\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n       (\\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n       (\\<exists>s\\<in>P. r \\<le> s)", "by (auto simp: llist_le_def iff: lapp_infT)"], ["proof (state)\nthis:\n  ?r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n  (\\<exists>s\\<in>A\\<^sup>\\<omega>. ?r @@ s \\<in> P) =\n  (\\<exists>s\\<in>P. ?r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "hence  \"(\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n        (\\<forall> r \\<in> finpref A x. \\<exists> s \\<in> P. r \\<le> s)\""], ["proof (prove)\nusing this:\n  ?r \\<in> A\\<^sup>\\<star> \\<Longrightarrow>\n  (\\<exists>s\\<in>A\\<^sup>\\<omega>. ?r @@ s \\<in> P) =\n  (\\<exists>s\\<in>P. ?r \\<le> s)\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)", "by (auto simp: finpref_def)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s)\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "have \"\\<dots> = (\\<forall> r \\<in> finpref A x. infsuff A r \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})", "have \"\\<And>r. (\\<exists>s\\<in>P. r \\<le> s) = ({ra. ra \\<in> A\\<^sup>\\<omega> \\<and> r \\<le> ra} \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r.\n       (\\<exists>s\\<in>P. r \\<le> s) =\n       ({ra \\<in> A\\<^sup>\\<omega>. r \\<le> ra} \\<inter> P \\<noteq> {})", "using PA"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       (\\<exists>s\\<in>P. r \\<le> s) =\n       ({ra \\<in> A\\<^sup>\\<omega>. r \\<le> ra} \\<inter> P \\<noteq> {})", "by blast"], ["proof (state)\nthis:\n  (\\<exists>s\\<in>P. ?r \\<le> s) =\n  ({ra \\<in> A\\<^sup>\\<omega>. ?r \\<le> ra} \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>s\\<in>P. ?r \\<le> s) =\n  ({ra \\<in> A\\<^sup>\\<omega>. ?r \\<le> ra} \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n    (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})", "by (simp add: infsuff_def)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. \\<exists>s\\<in>P. r \\<le> s) =\n  (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "have \"\\<dots> = (\\<forall> u \\<in> nhds x. u \\<inter> P \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}) =\n    (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; infsuff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "fix r"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; infsuff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "assume uP: \"\\<forall> u \\<in> nhds x. u \\<inter> P \\<noteq> {}\" and\n      rfinpref: \"r \\<in> finpref A x\" and rP: \"infsuff A r \\<inter> P = {}\""], ["proof (state)\nthis:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  r \\<in> finpref A x\n  infsuff A r \\<inter> P = {}\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; infsuff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "from rfinpref"], ["proof (chain)\npicking this:\n  r \\<in> finpref A x", "have \"infsuff A r open\""], ["proof (prove)\nusing this:\n  r \\<in> finpref A x\n\ngoal (1 subgoal):\n 1. infsuff A r open", "by (auto dest!: finpref_fin)"], ["proof (state)\nthis:\n  infsuff A r open\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; infsuff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "hence \"infsuff A r \\<in> nhds x\""], ["proof (prove)\nusing this:\n  infsuff A r open\n\ngoal (1 subgoal):\n 1. infsuff A r \\<in> nhds x", "using xpoint rfinpref"], ["proof (prove)\nusing this:\n  infsuff A r open\n  x \\<in> A\\<^sup>\\<omega>\n  r \\<in> finpref A x\n\ngoal (1 subgoal):\n 1. infsuff A r \\<in> nhds x", "by auto"], ["proof (state)\nthis:\n  infsuff A r \\<in> nhds x\n\ngoal (2 subgoals):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r.\n       \\<lbrakk>\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {};\n        r \\<in> finpref A x; infsuff A r \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "with uP rP"], ["proof (chain)\npicking this:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  infsuff A r \\<inter> P = {}\n  infsuff A r \\<in> nhds x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {}\n  infsuff A r \\<inter> P = {}\n  infsuff A r \\<in> nhds x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "assume\n      inter:     \"\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}\" and\n      unhd:   \"u \\<in> nhds x\" and\n      uinter: \"u \\<inter> P = {}\""], ["proof (state)\nthis:\n  \\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}\n  u \\<in> nhds x\n  u \\<inter> P = {}\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "from unhd"], ["proof (chain)\npicking this:\n  u \\<in> nhds x", "obtain r where\n      \"r \\<in> finpref A x\" and \"infsuff A r \\<subseteq> u\""], ["proof (prove)\nusing this:\n  u \\<in> nhds x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> finpref A x; infsuff A r \\<subseteq> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule infsuff_nhd_base)"], ["proof (state)\nthis:\n  r \\<in> finpref A x\n  infsuff A r \\<subseteq> u\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>\\<forall>r\\<in>finpref A x.\n                   infsuff A r \\<inter> P \\<noteq> {};\n        u \\<in> nhds x; u \\<inter> P = {}\\<rbrakk>\n       \\<Longrightarrow> False", "with inter uinter"], ["proof (chain)\npicking this:\n  \\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}\n  u \\<inter> P = {}\n  r \\<in> finpref A x\n  infsuff A r \\<subseteq> u", "show \"False\""], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}\n  u \\<inter> P = {}\n  r \\<in> finpref A x\n  infsuff A r \\<subseteq> u\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>finpref A x. infsuff A r \\<inter> P \\<noteq> {}) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "finally"], ["proof (chain)\npicking this:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>u\\<in>nhds x. u \\<inter> P \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>finpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "by (simp add: adhs_def)"], ["proof (state)\nthis:\n  (x adh P) =\n  (\\<forall>r\\<in>finpref A x.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in itrace_top) infsafety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<omega> \\<Longrightarrow>  infsafety A P = (P closed)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A\\<^sup>\\<omega> \\<Longrightarrow>\n    infsafety A P = (P closed)", "by (auto simp: infsafety_def topology.closed_adh adh_lemma itop_carrier)"], ["", "lemma (in itrace_top) empty:\n  \"A = {} \\<Longrightarrow> T = {{}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = {} \\<Longrightarrow> T = {{}}", "proof (auto simp: T_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>A = {}; x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "fix m x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>A = {}; x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"m \\<in> topo {{}}\" and  xm: \"x \\<in> m\""], ["proof (state)\nthis:\n  m \\<in> topo {{}}\n  x \\<in> m\n\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>A = {}; x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  m \\<in> topo {{}}\n  x \\<in> m\n\ngoal (1 subgoal):\n 1. False", "by (induct m) auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma itop_empty: \"itop {} = {{}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. itop {} = {{}}", "proof (auto simp: itop_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "fix m x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"m \\<in> topo {{}}\" and  xm: \"x \\<in> m\""], ["proof (state)\nthis:\n  m \\<in> topo {{}}\n  x \\<in> m\n\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>x \\<in> topo {{}}; xa \\<in> x\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  m \\<in> topo {{}}\n  x \\<in> m\n\ngoal (1 subgoal):\n 1. False", "by (induct m) auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma infliveness_empty:\n  \"infliveness {} P \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infliveness {} P \\<Longrightarrow> False", "by (auto simp: infliveness_def)"], ["", "lemma (in trivial) dense:\n  \"P dense\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P dense", "by auto"], ["", "lemma (in itrace_top) infliveness_dense_iff:\n  assumes notempty: \"A \\<noteq> {}\"\n  and P: \"P \\<subseteq> A\\<^sup>\\<omega>\"\n  shows \"infliveness A P = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "have \"infliveness A P = (\\<forall>r\\<in>A\\<^sup>\\<star>. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infliveness A P =\n    (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "by (simp add: infliveness_def)"], ["proof (state)\nthis:\n  infliveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  infliveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall> r \\<in> finpref A x. \\<exists> s \\<in> A\\<^sup>\\<omega>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "from notempty"], ["proof (chain)\npicking this:\n  A \\<noteq> {}", "obtain a where \"a \\<in> A\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>a. a \\<in> A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "hence lc: \"lconst a \\<in> A\\<^sup>\\<omega>\""], ["proof (prove)\nusing this:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. lconst a \\<in> A\\<^sup>\\<omega>", "by (rule lconstT)"], ["proof (state)\nthis:\n  lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "hence \"\\<And>P. (\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r) = (\\<forall> r\\<in>A\\<^sup>\\<star>. P r)\""], ["proof (prove)\nusing this:\n  lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r) =\n       (\\<forall>r\\<in>A\\<^sup>\\<star>. P r)", "proof (auto dest: finpref_fin)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "fix P r"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "assume lc: \"lconst a \\<in> A\\<^sup>\\<omega>\"\n        and Pr: \"\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r\"\n        and rA: \"r \\<in> A\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  lconst a \\<in> A\\<^sup>\\<omega>\n  \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r\n  r \\<in> A\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "from rA lc"], ["proof (chain)\npicking this:\n  r \\<in> A\\<^sup>\\<star>\n  lconst a \\<in> A\\<^sup>\\<omega>", "have rlc: \"r @@ lconst a \\<in> A\\<^sup>\\<omega>\""], ["proof (prove)\nusing this:\n  r \\<in> A\\<^sup>\\<star>\n  lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. r @@ lconst a \\<in> A\\<^sup>\\<omega>", "by (rule lapp_fin_infT)"], ["proof (state)\nthis:\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "moreover"], ["proof (state)\nthis:\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "from rA rlc"], ["proof (chain)\npicking this:\n  r \\<in> A\\<^sup>\\<star>\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>", "have \"r \\<in> finpref A (r @@ lconst a)\""], ["proof (prove)\nusing this:\n  r \\<in> A\\<^sup>\\<star>\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. r \\<in> finpref A (r @@ lconst a)", "by (auto simp: finpref_def llist_le_def)"], ["proof (state)\nthis:\n  r \\<in> finpref A (r @@ lconst a)\n\ngoal (1 subgoal):\n 1. \\<And>P r.\n       \\<lbrakk>lconst a \\<in> A\\<^sup>\\<omega>;\n        \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r;\n        r \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> P r", "ultimately"], ["proof (chain)\npicking this:\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n  r \\<in> finpref A (r @@ lconst a)", "show \"P r\""], ["proof (prove)\nusing this:\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n  r \\<in> finpref A (r @@ lconst a)\n\ngoal (1 subgoal):\n 1. P r", "using Pr"], ["proof (prove)\nusing this:\n  r @@ lconst a \\<in> A\\<^sup>\\<omega>\n  r \\<in> finpref A (r @@ lconst a)\n  \\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. P r\n\ngoal (1 subgoal):\n 1. P r", "by auto"], ["proof (state)\nthis:\n  P r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. ?P r) =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>. ?P r)\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. \\<forall>r\\<in>finpref A x. ?P r) =\n  (\\<forall>r\\<in>A\\<^sup>\\<star>. ?P r)\n\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<star>.\n        \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)", "by simp"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<star>.\n      \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n        \\<forall>r\\<in>finpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P)", "by (simp add: adh_lemma)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>.\n      \\<forall>r\\<in>finpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<omega>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "have \"\\<dots> = (A\\<^sup>\\<omega> \\<subseteq> closure P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P) =\n    (A\\<^sup>\\<omega> \\<subseteq> closure P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P) =\n    (A\\<^sup>\\<omega> \\<subseteq> closure P)", "by (auto simp: adh_closure_iff itop_carrier)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P) =\n  (A\\<^sup>\\<omega> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<omega>. x adh P) =\n  (A\\<^sup>\\<omega> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "have \"\\<dots> = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A\\<^sup>\\<omega> \\<subseteq> closure P) = (P dense)", "by (simp add: infliveness_def is_dense_def is_densein_def itop_carrier)"], ["proof (state)\nthis:\n  (A\\<^sup>\\<omega> \\<subseteq> closure P) = (P dense)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "finally"], ["proof (chain)\npicking this:\n  infliveness A P = (P dense)", "show ?thesis"], ["proof (prove)\nusing this:\n  infliveness A P = (P dense)\n\ngoal (1 subgoal):\n 1. infliveness A P = (P dense)", "."], ["proof (state)\nthis:\n  infliveness A P = (P dense)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem (in itrace_top) alpern_schneider:\nassumes notempty: \"A \\<noteq> {}\"\n  and   Psub:     \"P \\<subseteq> A\\<^sup>\\<omega>\"\n  shows \"\\<exists> S L. infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "from Psub"], ["proof (chain)\npicking this:\n  P \\<subseteq> A\\<^sup>\\<omega>", "have \"P \\<subseteq> carrier\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<omega>\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier", "by (simp add: itop_carrier [THEN sym])"], ["proof (state)\nthis:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "then"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier", "obtain L S where\n    Lsub: \"L \\<subseteq> carrier\" and\n    Ssub: \"S \\<subseteq> carrier\" and\n    Sclosed: \"S closed\" and\n    Ldense: \"L dense\" and\n    Pinter: \"P = S \\<inter> L\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. (\\<And>L S.\n        \\<lbrakk>L \\<subseteq> carrier; S \\<subseteq> carrier; S closed;\n         L dense; P = S \\<inter> L\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule topology.ex_dense_closure_interE [OF topology]) auto"], ["proof (state)\nthis:\n  L \\<subseteq> carrier\n  S \\<subseteq> carrier\n  S closed\n  L dense\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "from Ssub Sclosed"], ["proof (chain)\npicking this:\n  S \\<subseteq> carrier\n  S closed", "have \"infsafety A S\""], ["proof (prove)\nusing this:\n  S \\<subseteq> carrier\n  S closed\n\ngoal (1 subgoal):\n 1. infsafety A S", "by (simp add: infsafety_closed_iff itop_carrier)"], ["proof (state)\nthis:\n  infsafety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "moreover"], ["proof (state)\nthis:\n  infsafety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "from notempty Lsub Ldense"], ["proof (chain)\npicking this:\n  A \\<noteq> {}\n  L \\<subseteq> carrier\n  L dense", "have \"infliveness A L\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  L \\<subseteq> carrier\n  L dense\n\ngoal (1 subgoal):\n 1. infliveness A L", "by (simp add: infliveness_dense_iff itop_carrier)"], ["proof (state)\nthis:\n  infliveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "ultimately"], ["proof (chain)\npicking this:\n  infsafety A S\n  infliveness A L", "show ?thesis"], ["proof (prove)\nusing this:\n  infsafety A S\n  infliveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "using Pinter"], ["proof (prove)\nusing this:\n  infsafety A S\n  infliveness A L\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L", "by auto"], ["proof (state)\nthis:\n  \\<exists>S L. infsafety A S \\<and> infliveness A L \\<and> P = S \\<inter> L\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>The topology of non-empty llists\\<close>"], ["", "definition\n  ptop :: \"'a set \\<Rightarrow> 'a llist top\" where\n  \"ptop A \\<equiv> topo (\\<Union> s\\<in>A\\<^sup>\\<clubsuit>. {suff A s})\""], ["", "locale possuffixes =\n  fixes A and B\n  defines [simp]: \"B \\<equiv> (\\<Union> s\\<in>A\\<^sup>\\<clubsuit>. {suff A s})\""], ["", "locale ptrace_top = possuffixes + topobase"], ["", "lemma (in ptrace_top) open_iff [iff]:\n  \"m open = (m \\<in> topo (\\<Union> s\\<in>A\\<^sup>\\<clubsuit>. {suff A s}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (m open) =\n    (m \\<in> topo (\\<Union>s\\<in>A\\<^sup>\\<clubsuit>. {suff A s}))", "by (simp add: T_def is_open_def)"], ["", "lemma (in ptrace_top) topology [iff]: \"topology T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. topology T", "by (simp add: T_def)"], ["", "lemma (in ptrace_top) ptop_carrier: \"carrier = A\\<^sup>\\<spadesuit>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. carrier = A\\<^sup>\\<spadesuit>", "by (auto simp add: carrier_topo suff_def)\n   (auto elim: alllsts.cases)"], ["", "lemma pptop_subtop_ttop:\n  fixes S (structure)\n  fixes A and B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  defines \"S \\<equiv> \\<Union> t \\<in> T. {t - {LNil}}\"\n  shows \"subtopology S T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subtopology S T", "by (rule subtopology.intro, auto simp add: is_open_def S_def carr_def)"], ["", "lemma pptop_top:\n  fixes S (structure)\n  fixes A and B and T (structure)\n  defines \"B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}\" and \"T \\<equiv> topo B\"\n  defines \"S \\<equiv> \\<Union> t \\<in> T. {t - {LNil}}\"\n  shows  \"topology (\\<Union> t \\<in> T. {t - {LNil}})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. topology (\\<Union>t\\<in>T. {t - {LNil}})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. topology (\\<Union>t\\<in>T. {t - {LNil}})", "interpret trace_top A B T"], ["proof (prove)\ngoal (1 subgoal):\n 1. (B \\<equiv> \\<Union>s\\<in>A\\<^sup>\\<star>. {suff A s}) &&&\n    T \\<equiv> topo B", "by fact+"], ["proof (state)\ngoal (1 subgoal):\n 1. topology (\\<Union>t\\<in>T. {t - {LNil}})", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. topology (\\<Union>t\\<in>T. {t - {LNil}})", "by (auto intro!: subtopology.subtop_topology [OF pptop_subtop_ttop]\n      trace_top.topology simp: T_def)"], ["proof (state)\nthis:\n  topology (\\<Union>t\\<in>T. {t - {LNil}})\n\ngoal:\nNo subgoals!", "qed"], ["", "(*\nlemma\n  includes ptrace_top A B S\n  includes trace_top  A C T\n  fixes S' (structure)\n  defines  \"S' \\<equiv> (\\<Union> t \\<in> T. {t - {LNil}})\" \n  shows \"S = S'\"\nproof-\n  have [iff]: \"\\<And> m. m open\\<^sub>3 = (\\<exists>t. t open\\<^sub>2 \\<and> m = t - {LNil})\"\n    by (auto simp add: S'_def is_open_def)\n  show ?thesis\n  proof\n    fix m assume \"m open\"\n    thus \"m open\\<^sub>3\"\n    proof (induct m)\n      case (basic m) thus ?case by auto\n    next case (inter u v) thus ?case\n        by (blast intro: topology.Int_open [OF pptop_top])\n    next case (union M) thus ?case\n        by (auto intro!: topology.union_open [OF pptop_top] simp: S'_def T_def)\n    qed\n  next\n    fix m assume \"m open\\<^sub>3\"\n    then obtain t where \"t open\\<^sub>2\" and mt: \"m = t - {LNil}\" by auto\n    hence \"t - {LNil} open\\<^sub>1\"\n    proof (induct t)\n      case (basic x)\n      then obtain s where sfin: \"s \\<in> A\\<^sup>\\<star>\" and\n        ms: \"x = suff A s\"\n        by auto\n      thus ?case\n      proof (cases s)\n        case LNil_fin with ms\n        have \"x - {LNil} = carrier\" by (auto simp: ptop_carrier)\n        thus ?thesis by (auto intro!: topology.carrier_open [OF pptop_top])\n      next\n        case (LCons_fin a l) with ms show ?thesis\n          by (auto simp: ptop_def)\n      qed\n    next case (inter u v)\n      hence \"(u - {LNil}) \\<inter> (v - {LNil}) \\<in> ptop A\" by auto\n      moreover have \"(u - {LNil}) \\<inter> (v - {LNil}) = (u \\<inter> v) - {LNil}\"\n        by auto\n      ultimately show ?case by auto\n    next case (union M)\n      hence \"\\<Union>{u. \\<exists>x\\<in>M. u = x - {LNil}} \\<in> ptop A\" by auto\n      moreover have \"\\<Union>{u. \\<exists>x\\<in>M. u = x - {LNil}} = \\<Union>M - {LNil}\" by auto\n      ultimately show ?case by auto\n    qed\n    thus \"x \\<in> ptop A\" using xt by auto\n  qed\nqed\n*)"], ["", "lemma (in ptrace_top) suff_open [intro!]:\n  \"r \\<in> A\\<^sup>\\<clubsuit> \\<Longrightarrow> suff A r open\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r \\<in> A\\<^sup>\\<clubsuit> \\<Longrightarrow> suff A r open", "by auto"], ["", "lemma (in ptrace_top) suff_ptop_nhd_base:\n  assumes unhd: \"u \\<in> nhds t\"\n  and H: \"\\<And>r. \\<lbrakk> r \\<in> pfinpref A t; suff A r \\<subseteq> u \\<rbrakk> \\<Longrightarrow> R\"\n  shows \"R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. R", "from unhd"], ["proof (chain)\npicking this:\n  u \\<in> nhds t", "obtain m where\n    uA: \"u \\<subseteq> A\\<^sup>\\<spadesuit>\" and\n    mopen: \"m open\" and\n    tm: \"t \\<in> m\" and\n    mu: \"m \\<subseteq> u\""], ["proof (prove)\nusing this:\n  u \\<in> nhds t\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>u \\<subseteq> A\\<^sup>\\<spadesuit>; m open; t \\<in> m;\n         m \\<subseteq> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: ptop_carrier)"], ["proof (state)\nthis:\n  u \\<subseteq> A\\<^sup>\\<spadesuit>\n  m open\n  t \\<in> m\n  m \\<subseteq> u\n\ngoal (1 subgoal):\n 1. R", "from mopen tm"], ["proof (chain)\npicking this:\n  m open\n  t \\<in> m", "have\n    \"\\<exists>r \\<in> pfinpref A t. suff A r \\<subseteq> m\""], ["proof (prove)\nusing this:\n  m open\n  t \\<in> m\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> m", "proof (induct \"m\")"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (basic a)"], ["proof (state)\nthis:\n  a \\<in> B\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a \\<in> B\n  t \\<in> a", "obtain s where sA: \"s \\<in> A\\<^sup>\\<clubsuit>\" and as: \"a = suff A s\" and ta: \"t \\<in> a\""], ["proof (prove)\nusing this:\n  a \\<in> B\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<clubsuit>; a = suff A s;\n         t \\<in> a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<clubsuit>\n  a = suff A s\n  t \\<in> a\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "from sA as ta"], ["proof (chain)\npicking this:\n  s \\<in> A\\<^sup>\\<clubsuit>\n  a = suff A s\n  t \\<in> a", "have \"s \\<in> pfinpref A t\""], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<clubsuit>\n  a = suff A s\n  t \\<in> a\n\ngoal (1 subgoal):\n 1. s \\<in> pfinpref A t", "by (auto simp: pfinpref_def dest: suff_finpref)"], ["proof (state)\nthis:\n  s \\<in> pfinpref A t\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> B; t \\<in> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x\n 2. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 3. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  s \\<in> pfinpref A t\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a", "using as"], ["proof (prove)\nusing this:\n  s \\<in> pfinpref A t\n  a = suff A s\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (inter a b)"], ["proof (state)\nthis:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b", "obtain r r' where\n      rt: \"r \\<in> pfinpref A t\" and ra: \"suff A r \\<subseteq> a\" and\n      r't: \"r' \\<in> pfinpref A t\" and r'b: \"suff A r' \\<subseteq> b\""], ["proof (prove)\nusing this:\n  a open\n  t \\<in> a \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a\n  b open\n  t \\<in> b \\<Longrightarrow>\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> b\n  t \\<in> a \\<inter> b\n\ngoal (1 subgoal):\n 1. (\\<And>r r'.\n        \\<lbrakk>r \\<in> pfinpref A t; suff A r \\<subseteq> a;\n         r' \\<in> pfinpref A t; suff A r' \\<subseteq> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> pfinpref A t\n  suff A r \\<subseteq> a\n  r' \\<in> pfinpref A t\n  suff A r' \\<subseteq> b\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "from rt r't"], ["proof (chain)\npicking this:\n  r \\<in> pfinpref A t\n  r' \\<in> pfinpref A t", "have \"r \\<le> r' \\<or> r' \\<le> r\""], ["proof (prove)\nusing this:\n  r \\<in> pfinpref A t\n  r' \\<in> pfinpref A t\n\ngoal (1 subgoal):\n 1. r \\<le> r' \\<or> r' \\<le> r", "by (auto simp: pfinpref_def finpref_def dest: pref_locally_linear)"], ["proof (state)\nthis:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x open;\n        t \\<in> x \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> x;\n        y open;\n        t \\<in> y \\<Longrightarrow>\n        \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> y;\n        t \\<in> x \\<inter> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> x \\<inter> y\n 2. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<le> r' \\<or> r' \\<le> r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "assume \"r \\<le> r'\""], ["proof (state)\nthis:\n  r \\<le> r'\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "hence \"suff A r' \\<subseteq> suff A r\""], ["proof (prove)\nusing this:\n  r \\<le> r'\n\ngoal (1 subgoal):\n 1. suff A r' \\<subseteq> suff A r", "by (rule suff_mono2)"], ["proof (state)\nthis:\n  suff A r' \\<subseteq> suff A r\n\ngoal (2 subgoals):\n 1. r \\<le> r' \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n 2. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  suff A r' \\<subseteq> suff A r\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "using r't ra r'b"], ["proof (prove)\nusing this:\n  suff A r' \\<subseteq> suff A r\n  r' \\<in> pfinpref A t\n  suff A r \\<subseteq> a\n  suff A r' \\<subseteq> b\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "assume \"r' \\<le> r\""], ["proof (state)\nthis:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "hence \"suff A r \\<subseteq> suff A r'\""], ["proof (prove)\nusing this:\n  r' \\<le> r\n\ngoal (1 subgoal):\n 1. suff A r \\<subseteq> suff A r'", "by (rule suff_mono2)"], ["proof (state)\nthis:\n  suff A r \\<subseteq> suff A r'\n\ngoal (1 subgoal):\n 1. r' \\<le> r \\<Longrightarrow>\n    \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "thus ?case"], ["proof (prove)\nusing this:\n  suff A r \\<subseteq> suff A r'\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "using rt r'b ra"], ["proof (prove)\nusing this:\n  suff A r \\<subseteq> suff A r'\n  r \\<in> pfinpref A t\n  suff A r' \\<subseteq> b\n  suff A r \\<subseteq> a\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> a \\<inter> b\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "case (union M)"], ["proof (state)\nthis:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M", "obtain v where\n      \"t \\<in> v\" and vM: \"v \\<in> M\""], ["proof (prove)\nusing this:\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>t \\<in> v; v \\<in> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "then"], ["proof (chain)\npicking this:\n  t \\<in> v\n  v \\<in> M", "obtain r where \"r\\<in>pfinpref A t\" \"suff A r \\<subseteq> v\""], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> pfinpref A t; suff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using union"], ["proof (prove)\nusing this:\n  t \\<in> v\n  v \\<in> M\n  \\<forall>ta\\<in>M.\n     ta open \\<and>\n     (t \\<in> ta \\<longrightarrow>\n      (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta))\n  t \\<in> \\<Union> M\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> pfinpref A t; suff A r \\<subseteq> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r \\<in> pfinpref A t\n  suff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<lbrakk>\\<forall>ta\\<in>M.\n                   ta open \\<and>\n                   (t \\<in> ta \\<longrightarrow>\n                    (\\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> ta));\n        t \\<in> \\<Union> M\\<rbrakk>\n       \\<Longrightarrow> \\<exists>r\\<in>pfinpref A t.\n                            suff A r \\<subseteq> \\<Union> M", "thus ?case"], ["proof (prove)\nusing this:\n  r \\<in> pfinpref A t\n  suff A r \\<subseteq> v\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> \\<Union> M", "using vM"], ["proof (prove)\nusing this:\n  r \\<in> pfinpref A t\n  suff A r \\<subseteq> v\n  v \\<in> M\n\ngoal (1 subgoal):\n 1. \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> \\<Union> M", "by auto"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> \\<Union> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "with mu"], ["proof (chain)\npicking this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> m", "show ?thesis"], ["proof (prove)\nusing this:\n  m \\<subseteq> u\n  \\<exists>r\\<in>pfinpref A t. suff A r \\<subseteq> m\n\ngoal (1 subgoal):\n 1. R", "by (auto intro: H)"], ["proof (state)\nthis:\n  R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pfinpref_LNil [simp]: \"pfinpref A LNil = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinpref A LNil = {}", "by (auto simp: pfinpref_def)"], ["", "lemma (in ptrace_top) adh_lemma:\n  assumes xpoint: \"x \\<in> A\\<^sup>\\<spadesuit>\"\n  and  P_subset_A: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"x adh P = (\\<forall> r \\<in> pfinpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x adh P) =\n    (\\<forall>r\\<in>pfinpref A x.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x adh P \\<Longrightarrow>\n    \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n 2. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P \\<Longrightarrow>\n    x adh P", "assume adh_x: \"x adh P\""], ["proof (state)\nthis:\n  x adh P\n\ngoal (2 subgoals):\n 1. x adh P \\<Longrightarrow>\n    \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n 2. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P \\<Longrightarrow>\n    x adh P", "show \"\\<forall>r\\<in>pfinpref A x. \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "fix r"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "let ?u = \"suff A r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "assume r_pfinpref_x: \"r \\<in> pfinpref A x\""], ["proof (state)\nthis:\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "hence r_pos: \"r \\<in> A\\<^sup>\\<clubsuit>\""], ["proof (prove)\nusing this:\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. r \\<in> A\\<^sup>\\<clubsuit>", "by (auto dest: finpref_fin)"], ["proof (state)\nthis:\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "hence \"?u open\""], ["proof (prove)\nusing this:\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. suff A r open", "by auto"], ["proof (state)\nthis:\n  suff A r open\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "hence \"?u \\<in> nhds x\""], ["proof (prove)\nusing this:\n  suff A r open\n\ngoal (1 subgoal):\n 1. suff A r \\<in> nhds x", "using xpoint r_pfinpref_x"], ["proof (prove)\nusing this:\n  suff A r open\n  x \\<in> A\\<^sup>\\<spadesuit>\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. suff A r \\<in> nhds x", "by auto"], ["proof (state)\nthis:\n  suff A r \\<in> nhds x\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "with adh_x"], ["proof (chain)\npicking this:\n  x adh P\n  suff A r \\<in> nhds x", "have  \"?u \\<inter> P \\<noteq> {}\""], ["proof (prove)\nusing this:\n  x adh P\n  suff A r \\<in> nhds x\n\ngoal (1 subgoal):\n 1. suff A r \\<inter> P \\<noteq> {}", "by (auto elim!:adhCE)"], ["proof (state)\nthis:\n  suff A r \\<inter> P \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "then"], ["proof (chain)\npicking this:\n  suff A r \\<inter> P \\<noteq> {}", "obtain t where tu: \"t \\<in> ?u\" and tP: \"t \\<in> P\""], ["proof (prove)\nusing this:\n  suff A r \\<inter> P \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> suff A r; t \\<in> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t \\<in> suff A r\n  t \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "from tu"], ["proof (chain)\npicking this:\n  t \\<in> suff A r", "obtain s where \"t = r @@ s\""], ["proof (prove)\nusing this:\n  t \\<in> suff A r\n\ngoal (1 subgoal):\n 1. (\\<And>s. t = r @@ s \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using r_pos"], ["proof (prove)\nusing this:\n  t \\<in> suff A r\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. (\\<And>s. t = r @@ s \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by (auto elim!: suff_appE)"], ["proof (state)\nthis:\n  t = r @@ s\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> pfinpref A x \\<Longrightarrow>\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "with tP"], ["proof (chain)\npicking this:\n  t \\<in> P\n  t = r @@ s", "show \"\\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\""], ["proof (prove)\nusing this:\n  t \\<in> P\n  t = r @@ s\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "using P_subset_A r_pos"], ["proof (prove)\nusing this:\n  t \\<in> P\n  t = r @@ s\n  P \\<subseteq> A\\<^sup>\\<spadesuit>\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P", "by (auto iff: lapp_allT_iff)"], ["proof (state)\nthis:\n  \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>r\\<in>pfinpref A x.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P \\<Longrightarrow>\n    x adh P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P \\<Longrightarrow>\n    x adh P", "assume H: \"\\<forall>r\\<in>pfinpref A x. \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\""], ["proof (state)\nthis:\n  \\<forall>r\\<in>pfinpref A x.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<forall>r\\<in>pfinpref A x.\n       \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P \\<Longrightarrow>\n    x adh P", "show \"x adh P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x adh P", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>U. U \\<in> nhds x \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "fix U"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>U. U \\<in> nhds x \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "assume unhd: \"U \\<in> nhds x\""], ["proof (state)\nthis:\n  U \\<in> nhds x\n\ngoal (1 subgoal):\n 1. \\<And>U. U \\<in> nhds x \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "then"], ["proof (chain)\npicking this:\n  U \\<in> nhds x", "obtain r where r_pfinpref_x: \"r \\<in> pfinpref A x\" and\n      suff_subset_U: \"suff A r \\<subseteq> U\""], ["proof (prove)\nusing this:\n  U \\<in> nhds x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>r \\<in> pfinpref A x; suff A r \\<subseteq> U\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (elim suff_ptop_nhd_base)"], ["proof (state)\nthis:\n  r \\<in> pfinpref A x\n  suff A r \\<subseteq> U\n\ngoal (1 subgoal):\n 1. \\<And>U. U \\<in> nhds x \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "from r_pfinpref_x"], ["proof (chain)\npicking this:\n  r \\<in> pfinpref A x", "have rpos: \"r \\<in> A\\<^sup>\\<clubsuit>\""], ["proof (prove)\nusing this:\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. r \\<in> A\\<^sup>\\<clubsuit>", "by (auto intro: finpref_fin)"], ["proof (state)\nthis:\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. \\<And>U. U \\<in> nhds x \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "show \"U \\<inter> P \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<inter> P \\<noteq> {}", "using rpos"], ["proof (prove)\nusing this:\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. U \\<inter> P \\<noteq> {}", "proof (cases r)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "case (LCons a l)"], ["proof (state)\nthis:\n  r = a ## l\n  a \\<in> A\n  l \\<in> A\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "hence r_pfinpref_x: \"r \\<in> pfinpref A x\""], ["proof (prove)\nusing this:\n  r = a ## l\n  a \\<in> A\n  l \\<in> A\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. r \\<in> pfinpref A x", "using r_pfinpref_x"], ["proof (prove)\nusing this:\n  r = a ## l\n  a \\<in> A\n  l \\<in> A\\<^sup>\\<star>\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. r \\<in> pfinpref A x", "by auto"], ["proof (state)\nthis:\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "with H"], ["proof (chain)\npicking this:\n  \\<forall>r\\<in>pfinpref A x.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n  r \\<in> pfinpref A x", "obtain s where sA: \"s \\<in> A\\<^sup>\\<infinity>\" and asP: \"r@@s \\<in> P\""], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>pfinpref A x.\n     \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P\n  r \\<in> pfinpref A x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A\\<^sup>\\<infinity>; r @@ s \\<in> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by  auto"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<infinity>\n  r @@ s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "moreover"], ["proof (state)\nthis:\n  s \\<in> A\\<^sup>\\<infinity>\n  r @@ s \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "have \"r @@ s \\<in> suff A r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r @@ s \\<in> suff A r", "using sA rpos"], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<infinity>\n  r \\<in> A\\<^sup>\\<clubsuit>\n\ngoal (1 subgoal):\n 1. r @@ s \\<in> suff A r", "by (auto simp: suff_def iff: lapp_allT_iff)"], ["proof (state)\nthis:\n  r @@ s \\<in> suff A r\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>r = a ## rs; a \\<in> A; rs \\<in> A\\<^sup>\\<star>\\<rbrakk>\n       \\<Longrightarrow> U \\<inter> P \\<noteq> {}", "ultimately"], ["proof (chain)\npicking this:\n  s \\<in> A\\<^sup>\\<infinity>\n  r @@ s \\<in> P\n  r @@ s \\<in> suff A r", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<infinity>\n  r @@ s \\<in> P\n  r @@ s \\<in> suff A r\n\ngoal (1 subgoal):\n 1. U \\<inter> P \\<noteq> {}", "using suff_subset_U"], ["proof (prove)\nusing this:\n  s \\<in> A\\<^sup>\\<infinity>\n  r @@ s \\<in> P\n  r @@ s \\<in> suff A r\n  suff A r \\<subseteq> U\n\ngoal (1 subgoal):\n 1. U \\<inter> P \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  U \\<inter> P \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<inter> P \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x adh P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in ptrace_top) possafety_closed_iff:\n  \"P \\<subseteq> A\\<^sup>\\<spadesuit> \\<Longrightarrow>  possafety A P = (P closed)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A\\<^sup>\\<spadesuit> \\<Longrightarrow>\n    possafety A P = (P closed)", "by (auto simp: possafety_def topology.closed_adh ptop_carrier adh_lemma)"], ["", "(*\nlemma ptop_empty: \"ptop {} = {{}}\"\nproof (auto simp: ptop_def intro!: topobase.basic)\n  fix m x assume \"m \\<in> topo {}\" and  xm: \"x \\<in> m\"\n  thus False\n    by (induct m) auto\nqed\n\nlemma posliveness_empty:\n  \"posliveness {} P\"\n  by (auto simp: posliveness_def)\n*)"], ["", "lemma (in ptrace_top) posliveness_dense_iff:\n  assumes P: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"posliveness A P = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "have \"posliveness A P = (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. posliveness A P =\n    (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "by (simp add: posliveness_def)"], ["proof (state)\nthis:\n  posliveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  posliveness A P =\n  (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. \\<forall> r \\<in> pfinpref A x. \\<exists> s \\<in> A\\<^sup>\\<infinity>. r @@ s \\<in> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n        \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n        \\<forall>r\\<in>pfinpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)", "by (auto simp: pfinpref_def finpref_def dest: finsubsetall)"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n      \\<forall>r\\<in>pfinpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>A\\<^sup>\\<clubsuit>.\n      \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n      \\<forall>r\\<in>pfinpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "have \"\\<dots> = (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n        \\<forall>r\\<in>pfinpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<spadesuit>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n        \\<forall>r\\<in>pfinpref A x.\n           \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n    (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P)", "by (auto simp: adh_lemma simp del: poslsts_iff)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n      \\<forall>r\\<in>pfinpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>.\n      \\<forall>r\\<in>pfinpref A x.\n         \\<exists>s\\<in>A\\<^sup>\\<infinity>. r @@ s \\<in> P) =\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "have \"\\<dots> = (A\\<^sup>\\<spadesuit> \\<subseteq> closure P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P) =\n    (A\\<^sup>\\<spadesuit> \\<subseteq> closure P)", "using P"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<spadesuit>\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P) =\n    (A\\<^sup>\\<spadesuit> \\<subseteq> closure P)", "by (auto simp: adh_closure_iff ptop_carrier simp del: poslsts_iff)"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P) =\n  (A\\<^sup>\\<spadesuit> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "also"], ["proof (state)\nthis:\n  (\\<forall>x\\<in>A\\<^sup>\\<spadesuit>. x adh P) =\n  (A\\<^sup>\\<spadesuit> \\<subseteq> closure P)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "have \"\\<dots> = (P dense)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A\\<^sup>\\<spadesuit> \\<subseteq> closure P) = (P dense)", "by (simp add: posliveness_def is_dense_def is_densein_def ptop_carrier)"], ["proof (state)\nthis:\n  (A\\<^sup>\\<spadesuit> \\<subseteq> closure P) = (P dense)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "finally"], ["proof (chain)\npicking this:\n  posliveness A P = (P dense)", "show ?thesis"], ["proof (prove)\nusing this:\n  posliveness A P = (P dense)\n\ngoal (1 subgoal):\n 1. posliveness A P = (P dense)", "."], ["proof (state)\nthis:\n  posliveness A P = (P dense)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem (in ptrace_top) alpern_schneider:\nassumes Psub: \"P \\<subseteq> A\\<^sup>\\<spadesuit>\"\n  shows \"\\<exists> S L. possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "from Psub"], ["proof (chain)\npicking this:\n  P \\<subseteq> A\\<^sup>\\<spadesuit>", "have \"P \\<subseteq> carrier\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\\<^sup>\\<spadesuit>\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier", "by (simp add: ptop_carrier)"], ["proof (state)\nthis:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "then"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier", "obtain L S where\n    Lsub: \"L \\<subseteq> carrier\" and\n    Ssub: \"S \\<subseteq> carrier\" and\n    Sclosed: \"S closed\" and\n    Ldense: \"L dense\" and\n    Pinter: \"P = S \\<inter> L\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier\n\ngoal (1 subgoal):\n 1. (\\<And>L S.\n        \\<lbrakk>L \\<subseteq> carrier; S \\<subseteq> carrier; S closed;\n         L dense; P = S \\<inter> L\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast elim: topology.ex_dense_closure_interE [OF topology])"], ["proof (state)\nthis:\n  L \\<subseteq> carrier\n  S \\<subseteq> carrier\n  S closed\n  L dense\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "from Ssub Sclosed"], ["proof (chain)\npicking this:\n  S \\<subseteq> carrier\n  S closed", "have \"possafety A S\""], ["proof (prove)\nusing this:\n  S \\<subseteq> carrier\n  S closed\n\ngoal (1 subgoal):\n 1. possafety A S", "by (simp add: possafety_closed_iff ptop_carrier)"], ["proof (state)\nthis:\n  possafety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "moreover"], ["proof (state)\nthis:\n  possafety A S\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "from Lsub Ldense"], ["proof (chain)\npicking this:\n  L \\<subseteq> carrier\n  L dense", "have \"posliveness A L\""], ["proof (prove)\nusing this:\n  L \\<subseteq> carrier\n  L dense\n\ngoal (1 subgoal):\n 1. posliveness A L", "by (simp add: posliveness_dense_iff ptop_carrier)"], ["proof (state)\nthis:\n  posliveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "ultimately"], ["proof (chain)\npicking this:\n  possafety A S\n  posliveness A L", "show ?thesis"], ["proof (prove)\nusing this:\n  possafety A S\n  posliveness A L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "using Pinter"], ["proof (prove)\nusing this:\n  possafety A S\n  posliveness A L\n  P = S \\<inter> L\n\ngoal (1 subgoal):\n 1. \\<exists>S L.\n       possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L", "by auto"], ["proof (state)\nthis:\n  \\<exists>S L. possafety A S \\<and> posliveness A L \\<and> P = S \\<inter> L\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}