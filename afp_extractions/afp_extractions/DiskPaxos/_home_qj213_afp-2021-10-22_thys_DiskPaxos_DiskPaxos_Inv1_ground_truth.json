{"file_name": "/home/qj213/afp-2021-10-22/thys/DiskPaxos/DiskPaxos_Inv1.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/DiskPaxos", "problem_names": ["lemma HNextPart_Inv1: \"\\<lbrakk> HInv1 s; HNextPart s s'; Inv1 s' \\<rbrakk> \\<Longrightarrow> HInv1 s'\"", "theorem HInit_HInv1: \"HInit s \\<longrightarrow> HInv1 s\"", "lemma allRdBlks_finite: \n  assumes inv: \"HInv1 s\" \n  and     asm: \"\\<forall>p. allRdBlks s' p \\<subseteq> insert bk (allRdBlks s p)\"\n  shows   \"\\<forall>p. finite (allRdBlks s' p)\"", "theorem HPhase1or2ReadThen_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HPhase1or2ReadThen s s' p d q\"\n  shows \"HInv1 s'\"", "theorem HEndPhase1_HInv1: \n  assumes inv1: \"HInv1 s\" \n  and act: \"HEndPhase1 s s' p\"\n  shows \"HInv1 s'\"", "theorem HStartBallot_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HStartBallot s s' p\"\n  shows \"HInv1 s'\"", "theorem HPhase1or2Write_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HPhase1or2Write s s' p d\"\n  shows \"HInv1 s'\"", "theorem HPhase1or2ReadElse_HInv1: \n  assumes act: \"HPhase1or2ReadElse s s' p d q\"\n  and inv1: \"HInv1 s\"\n  shows \"HInv1 s'\"", "theorem HEndPhase2_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and  act: \"HEndPhase2 s s' p\"\n  shows \"HInv1 s'\"", "theorem HFail_HInv1: \n  assumes inv1: \"HInv1 s\" \n  and     act: \"HFail s s' p\"\n  shows \"HInv1 s'\"", "theorem HPhase0Read_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and     act: \"HPhase0Read s s' p d\"\n  shows \"HInv1 s'\"", "theorem HEndPhase0_HInv1: \n  assumes inv1: \"HInv1 s\"\n  and act: \"HEndPhase0 s s' p\"\n  shows \"HInv1 s'\"", "lemma I2a:\n  assumes nxt: \"HNext s s'\"\n  and inv: \"HInv1 s\"\n  shows \"HInv1 s'\""], "translations": [["", "lemma HNextPart_Inv1: \"\\<lbrakk> HInv1 s; HNextPart s s'; Inv1 s' \\<rbrakk> \\<Longrightarrow> HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HInv1 s; HNextPart s s'; Inv1 s'\\<rbrakk>\n    \\<Longrightarrow> HInv1 s'", "by(auto simp add: HNextPart_def Inv1_def)"], ["", "theorem HInit_HInv1: \"HInit s \\<longrightarrow> HInv1 s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInit s \\<longrightarrow> HInv1 s", "by(auto simp add: HInit_def Inv1_def Init_def allRdBlks_def)"], ["", "lemma allRdBlks_finite: \n  assumes inv: \"HInv1 s\" \n  and     asm: \"\\<forall>p. allRdBlks s' p \\<subseteq> insert bk (allRdBlks s p)\"\n  shows   \"\\<forall>p. finite (allRdBlks s' p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p. finite (allRdBlks s' p)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p. finite (allRdBlks s' p)", "fix pp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p. finite (allRdBlks s' p)", "from inv"], ["proof (chain)\npicking this:\n  HInv1 s", "have \"\\<forall>p. finite (allRdBlks s p)\""], ["proof (prove)\nusing this:\n  HInv1 s\n\ngoal (1 subgoal):\n 1. \\<forall>p. finite (allRdBlks s p)", "by(simp add: Inv1_def)"], ["proof (state)\nthis:\n  \\<forall>p. finite (allRdBlks s p)\n\ngoal (1 subgoal):\n 1. \\<And>p. finite (allRdBlks s' p)", "hence \"finite (allRdBlks s pp)\""], ["proof (prove)\nusing this:\n  \\<forall>p. finite (allRdBlks s p)\n\ngoal (1 subgoal):\n 1. finite (allRdBlks s pp)", "by blast"], ["proof (state)\nthis:\n  finite (allRdBlks s pp)\n\ngoal (1 subgoal):\n 1. \\<And>p. finite (allRdBlks s' p)", "with asm"], ["proof (chain)\npicking this:\n  \\<forall>p. allRdBlks s' p \\<subseteq> insert bk (allRdBlks s p)\n  finite (allRdBlks s pp)", "show \"finite (allRdBlks s' pp)\""], ["proof (prove)\nusing this:\n  \\<forall>p. allRdBlks s' p \\<subseteq> insert bk (allRdBlks s p)\n  finite (allRdBlks s pp)\n\ngoal (1 subgoal):\n 1. finite (allRdBlks s' pp)", "by (auto intro: finite_subset)"], ["proof (state)\nthis:\n  finite (allRdBlks s' pp)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HPhase1or2ReadThen_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HPhase1or2ReadThen s s' p d q\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -\n  \\<comment> \\<open>we focus on the last conjunct of Inv1\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from act"], ["proof (chain)\npicking this:\n  HPhase1or2ReadThen s s' p d q", "have \"\\<forall>p. allRdBlks s' p \\<subseteq> allRdBlks s p \\<union> {\\<lparr>block = disk s d q, proc = q\\<rparr>}\""], ["proof (prove)\nusing this:\n  HPhase1or2ReadThen s s' p d q\n\ngoal (1 subgoal):\n 1. \\<forall>p.\n       allRdBlks s' p\n       \\<subseteq> allRdBlks s p \\<union>\n                   {\\<lparr>block = disk s d q, proc = q\\<rparr>}", "by(auto simp add: Phase1or2ReadThen_def allRdBlks_def\n               split: if_split_asm)"], ["proof (state)\nthis:\n  \\<forall>p.\n     allRdBlks s' p\n     \\<subseteq> allRdBlks s p \\<union>\n                 {\\<lparr>block = disk s d q, proc = q\\<rparr>}\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1"], ["proof (chain)\npicking this:\n  HInv1 s\n  \\<forall>p.\n     allRdBlks s' p\n     \\<subseteq> allRdBlks s p \\<union>\n                 {\\<lparr>block = disk s d q, proc = q\\<rparr>}", "have \"\\<forall>p. finite (allRdBlks s' p)\""], ["proof (prove)\nusing this:\n  HInv1 s\n  \\<forall>p.\n     allRdBlks s' p\n     \\<subseteq> allRdBlks s p \\<union>\n                 {\\<lparr>block = disk s d q, proc = q\\<rparr>}\n\ngoal (1 subgoal):\n 1. \\<forall>p. finite (allRdBlks s' p)", "by(blast dest: allRdBlks_finite)\n  \\<comment> \\<open>the others conjuncts are trivial\\<close>"], ["proof (state)\nthis:\n  \\<forall>p. finite (allRdBlks s' p)\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HPhase1or2ReadThen s s' p d q\n  \\<forall>p. finite (allRdBlks s' p)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HPhase1or2ReadThen s s' p d q\n  \\<forall>p. finite (allRdBlks s' p)\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp add: Inv1_def Phase1or2ReadThen_def HNextPart_def)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HEndPhase1_HInv1: \n  assumes inv1: \"HInv1 s\" \n  and act: \"HEndPhase1 s s' p\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase1 s s' p", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase1 s s' p\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add:  Inv1_def EndPhase1_def InitializePhase_def allRdBlks_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase1 s s' p\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase1 s s' p\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def dest: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HStartBallot_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HStartBallot s s' p\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HStartBallot s s' p", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HStartBallot s s' p\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def StartBallot_def InitializePhase_def allRdBlks_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HStartBallot s s' p\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HStartBallot s s' p\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HPhase1or2Write_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and act: \"HPhase1or2Write s s' p d\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HPhase1or2Write s s' p d", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HPhase1or2Write s s' p d\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def Phase1or2Write_def allRdBlks_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HPhase1or2Write s s' p d\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HPhase1or2Write s s' p d\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HPhase1or2ReadElse_HInv1: \n  assumes act: \"HPhase1or2ReadElse s s' p d q\"\n  and inv1: \"HInv1 s\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "using HStartBallot_HInv1[OF inv1] act"], ["proof (prove)\nusing this:\n  HStartBallot s ?s' ?p \\<Longrightarrow> HInv1 ?s'\n  HPhase1or2ReadElse s s' p d q\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp add: Phase1or2ReadElse_def)"], ["", "theorem HEndPhase2_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and  act: \"HEndPhase2 s s' p\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase2 s s' p", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase2 s s' p\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def EndPhase2_def InitializePhase_def allRdBlks_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase2 s s' p\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase2 s s' p\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HFail_HInv1: \n  assumes inv1: \"HInv1 s\" \n  and     act: \"HFail s s' p\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HFail s s' p", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HFail s s' p\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def Fail_def InitializePhase_def allRdBlks_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HFail s s' p\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HFail s s' p\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HPhase0Read_HInv1:\n  assumes inv1: \"HInv1 s\"\n  and     act: \"HPhase0Read s s' p d\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -\n \\<comment> \\<open>we focus on the last conjunct of Inv1\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from act"], ["proof (chain)\npicking this:\n  HPhase0Read s s' p d", "have \"\\<forall>pp. allRdBlks s' pp \\<subseteq> allRdBlks s pp \\<union> {\\<lparr>block = disk s d p, proc = p\\<rparr>}\""], ["proof (prove)\nusing this:\n  HPhase0Read s s' p d\n\ngoal (1 subgoal):\n 1. \\<forall>pp.\n       allRdBlks s' pp\n       \\<subseteq> allRdBlks s pp \\<union>\n                   {\\<lparr>block = disk s d p, proc = p\\<rparr>}", "by(auto simp add: Phase0Read_def allRdBlks_def\n               split: if_split_asm)"], ["proof (state)\nthis:\n  \\<forall>pp.\n     allRdBlks s' pp\n     \\<subseteq> allRdBlks s pp \\<union>\n                 {\\<lparr>block = disk s d p, proc = p\\<rparr>}\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1"], ["proof (chain)\npicking this:\n  HInv1 s\n  \\<forall>pp.\n     allRdBlks s' pp\n     \\<subseteq> allRdBlks s pp \\<union>\n                 {\\<lparr>block = disk s d p, proc = p\\<rparr>}", "have \"\\<forall>p. finite (allRdBlks s' p)\""], ["proof (prove)\nusing this:\n  HInv1 s\n  \\<forall>pp.\n     allRdBlks s' pp\n     \\<subseteq> allRdBlks s pp \\<union>\n                 {\\<lparr>block = disk s d p, proc = p\\<rparr>}\n\ngoal (1 subgoal):\n 1. \\<forall>p. finite (allRdBlks s' p)", "by(blast dest: allRdBlks_finite)\n  \\<comment> \\<open>the others conjuncts are trivial\\<close>"], ["proof (state)\nthis:\n  \\<forall>p. finite (allRdBlks s' p)\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HPhase0Read s s' p d\n  \\<forall>p. finite (allRdBlks s' p)", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HPhase0Read s s' p d\n  \\<forall>p. finite (allRdBlks s' p)\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def Phase0Read_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HPhase0Read s s' p d\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HPhase0Read s s' p d\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HEndPhase0_HInv1: \n  assumes inv1: \"HInv1 s\"\n  and act: \"HEndPhase0 s s' p\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv1 s'", "from inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase0 s s' p", "have \"Inv1 s'\""], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase0 s s' p\n\ngoal (1 subgoal):\n 1. Inv1 s'", "by(auto simp add: Inv1_def EndPhase0_def allRdBlks_def InitializePhase_def)"], ["proof (state)\nthis:\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "with inv1 act"], ["proof (chain)\npicking this:\n  HInv1 s\n  HEndPhase0 s s' p\n  Inv1 s'", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv1 s\n  HEndPhase0 s s' p\n  Inv1 s'\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto simp del: HInv1_def elim: HNextPart_Inv1)"], ["proof (state)\nthis:\n  HInv1 s'\n\ngoal:\nNo subgoals!", "qed"], ["", "declare HInv1_def [simp del]"], ["", "text \\<open>$HInv1$ is an invariant of $HNext$\\<close>"], ["", "lemma I2a:\n  assumes nxt: \"HNext s s'\"\n  and inv: \"HInv1 s\"\n  shows \"HInv1 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv1 s'", "using assms"], ["proof (prove)\nusing this:\n  HNext s s'\n  HInv1 s\n\ngoal (1 subgoal):\n 1. HInv1 s'", "by(auto\n    simp add: HNext_def Next_def,\n    auto intro: HStartBallot_HInv1,\n    auto intro: HPhase0Read_HInv1,\n    auto intro: HPhase1or2Write_HInv1,\n    auto simp add: Phase1or2Read_def\n         intro: HPhase1or2ReadThen_HInv1\n                HPhase1or2ReadElse_HInv1,\n    auto simp add: EndPhase1or2_def\n         intro: HEndPhase1_HInv1\n                HEndPhase2_HInv1,\n    auto intro: HFail_HInv1,\n    auto intro: HEndPhase0_HInv1)"], ["", "end"]]}