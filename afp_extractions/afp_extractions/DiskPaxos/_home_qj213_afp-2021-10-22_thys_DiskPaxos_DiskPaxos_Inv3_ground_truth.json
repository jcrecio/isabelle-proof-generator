{"file_name": "/home/qj213/afp-2021-10-22/thys/DiskPaxos/DiskPaxos_Inv3.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/DiskPaxos", "problem_names": ["theorem HInit_HInv3: \"HInit s \\<Longrightarrow> HInv3 s\"", "lemma InitPhase_HInv3_p: \n  \"\\<lbrakk> InitializePhase s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma InitPhase_HInv3_q: \n  \"\\<lbrakk> InitializePhase s s' q ; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma HInv3_L_sym: \"HInv3_L s p q d \\<Longrightarrow> HInv3_L s q p d\"", "lemma HInv3_R_sym: \"HInv3_R s p q d \\<Longrightarrow> HInv3_R s q p d\"", "lemma Phase1or2ReadThen_HInv3_pq: \n  assumes act:  \"Phase1or2ReadThen s s' p d q\"\n  and  inv_L':  \"HInv3_L s' p q d\"\n  and      pq:  \"p\\<noteq>q\"\n  and   inv2b:  \"Inv2b s\"\n  shows   \"HInv3_R s' p q d\"", "lemma Phase1or2ReadThen_HInv3_hasRead: \n  \"\\<lbrakk> \\<not>hasRead s pp dd qq; \n     Phase1or2ReadThen s s' p d q; \n     pp\\<noteq>p \\<or> qq\\<noteq>q \\<or> dd\\<noteq>d\\<rbrakk> \n  \\<Longrightarrow> \\<not>hasRead s' pp dd qq\"", "theorem HPhase1or2ReadThen_HInv3:\n  assumes act:  \"HPhase1or2ReadThen s s' p d q\"\n  and     inv:  \"HInv3 s\"\n  and      pq:  \"p\\<noteq>q\"\n  and   inv2b:  \"Inv2b s\"\n  shows   \"HInv3 s'\"", "lemma StartBallot_HInv3_p:   \n  \"\\<lbrakk> StartBallot s s' p; HInv3_L s' p q d \\<rbrakk> \n          \\<Longrightarrow> HInv3_R s' p q d\"", "lemma StartBallot_HInv3_q:   \n  \"\\<lbrakk> StartBallot s s' q; HInv3_L s' p q d \\<rbrakk>\n           \\<Longrightarrow> HInv3_R s' p q d\"", "lemma StartBallot_HInv3_nL:   \n  \"\\<lbrakk> StartBallot s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk> \n           \\<Longrightarrow> \\<not>HInv3_L s' p q d\"", "lemma StartBallot_HInv3_R:\n  \"\\<lbrakk> StartBallot s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n              \\<Longrightarrow> HInv3_R s' p q d\"", "lemma StartBallot_HInv3_t:\n  \"\\<lbrakk> StartBallot s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_inner s' p q d\"", "lemma StartBallot_HInv3:\n  assumes act: \"StartBallot s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\"", "theorem HStartBallot_HInv3:\n  \"\\<lbrakk> HStartBallot s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "theorem HPhase1or2ReadElse_HInv3:\n  \"\\<lbrakk> HPhase1or2ReadElse s s' p d q; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "theorem HPhase1or2Write_HInv3:\n  assumes act: \"HPhase1or2Write s s' p d\"\n  and inv: \"HInv3 s\"\n  shows \"HInv3 s'\"", "lemma EndPhase1_HInv3_p:   \n  \"\\<lbrakk> EndPhase1 s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase1_HInv3_q:   \n  \"\\<lbrakk> EndPhase1 s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase1_HInv3_nL:   \n  \"\\<lbrakk> EndPhase1 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                    \\<Longrightarrow> \\<not>HInv3_L s' p q d\"", "lemma EndPhase1_HInv3_R:\n  \"\\<lbrakk> EndPhase1 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                      \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase1_HInv3_t:\n  \"\\<lbrakk> EndPhase1 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_inner s' p q d\"", "lemma EndPhase1_HInv3:\n  assumes act: \"EndPhase1 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\"", "theorem HEndPhase1_HInv3:\n  \"\\<lbrakk> HEndPhase1 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "lemma EndPhase2_HInv3_p:   \n  \"\\<lbrakk> EndPhase2 s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase2_HInv3_q:   \n  \"\\<lbrakk> EndPhase2 s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase2_HInv3_nL:   \n  \"\\<lbrakk> EndPhase2 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                     \\<Longrightarrow> \\<not>HInv3_L s' p q d\"", "lemma EndPhase2_HInv3_R:\n  \"\\<lbrakk> EndPhase2 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                     \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase2_HInv3_t:\n  \"\\<lbrakk> EndPhase2 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                    \\<Longrightarrow> HInv3_inner s' p q d\"", "lemma EndPhase2_HInv3:\n  assumes act: \"EndPhase2 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\"", "theorem HEndPhase2_HInv3:\n  \"\\<lbrakk> HEndPhase2 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "lemma Fail_HInv3_p:   \n  \"\\<lbrakk> Fail s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma Fail_HInv3_q:   \n  \"\\<lbrakk> Fail s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\"", "lemma Fail_HInv3_nL:   \n  \"\\<lbrakk> Fail s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk> \n             \\<Longrightarrow> \\<not>HInv3_L s' p q d\"", "lemma Fail_HInv3_R:\n  \"\\<lbrakk> Fail s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n             \\<Longrightarrow> HInv3_R s' p q d\"", "lemma Fail_HInv3_t:\n  \"\\<lbrakk> Fail s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n              \\<Longrightarrow> HInv3_inner s' p q d\"", "lemma Fail_HInv3:\n  assumes act: \"Fail s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\"", "theorem HFail_HInv3:\n  \"\\<lbrakk> HFail s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "theorem HPhase0Read_HInv3:\n  assumes act: \"HPhase0Read s s' p d\"\n  and inv: \"HInv3 s\"\n  shows \"HInv3 s'\"", "lemma EndPhase0_HInv3_p:   \n  \"\\<lbrakk> EndPhase0 s s' p; HInv3_L s' p q d \\<rbrakk> \n              \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase0_HInv3_q:   \n  \"\\<lbrakk> EndPhase0 s s' q; HInv3_L s' p q d \\<rbrakk>\n              \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase0_HInv3_nL:   \n  \"\\<lbrakk> EndPhase0 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n               \\<Longrightarrow> \\<not>HInv3_L s' p q d\"", "lemma EndPhase0_HInv3_R:\n  \"\\<lbrakk> EndPhase0 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_R s' p q d\"", "lemma EndPhase0_HInv3_t:\n  \"\\<lbrakk> EndPhase0 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                 \\<Longrightarrow> HInv3_inner s' p q d\"", "lemma EndPhase0_HInv3:\n  assumes act: \"EndPhase0 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\"", "theorem HEndPhase0_HInv3:\n  \"\\<lbrakk> HEndPhase0 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\"", "lemma I2c:\n  assumes nxt: \"HNext s s'\"\n  and inv: \"HInv1 s \\<and> HInv2 s \\<and> HInv3 s\"\n  shows \"HInv3 s'\""], "translations": [["", "theorem HInit_HInv3: \"HInit s \\<Longrightarrow> HInv3 s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInit s \\<Longrightarrow> HInv3 s", "by(simp add: HInit_def Init_def HInv3_def \n               HInv3_inner_def HInv3_L_def HInv3_R_def)"], ["", "lemma InitPhase_HInv3_p: \n  \"\\<lbrakk> InitializePhase s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>InitializePhase s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: InitializePhase_def HInv3_inner_def \n                    hasRead_def HInv3_L_def HInv3_R_def)"], ["", "lemma InitPhase_HInv3_q: \n  \"\\<lbrakk> InitializePhase s s' q ; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>InitializePhase s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: InitializePhase_def HInv3_inner_def \n                    hasRead_def HInv3_L_def HInv3_R_def)"], ["", "lemma HInv3_L_sym: \"HInv3_L s p q d \\<Longrightarrow> HInv3_L s q p d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_L s p q d \\<Longrightarrow> HInv3_L s q p d", "by(auto simp add: HInv3_L_def)"], ["", "lemma HInv3_R_sym: \"HInv3_R s p q d \\<Longrightarrow> HInv3_R s q p d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_R s p q d \\<Longrightarrow> HInv3_R s q p d", "by(auto simp add: HInv3_R_def)"], ["", "lemma Phase1or2ReadThen_HInv3_pq: \n  assumes act:  \"Phase1or2ReadThen s s' p d q\"\n  and  inv_L':  \"HInv3_L s' p q d\"\n  and      pq:  \"p\\<noteq>q\"\n  and   inv2b:  \"Inv2b s\"\n  shows   \"HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_R s' p q d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. HInv3_R s' p q d", "from inv_L' act pq"], ["proof (chain)\npicking this:\n  HInv3_L s' p q d\n  Phase1or2ReadThen s s' p d q\n  p \\<noteq> q", "have \"phase s q \\<in> {1,2} \\<and> hasRead s q d p\""], ["proof (prove)\nusing this:\n  HInv3_L s' p q d\n  Phase1or2ReadThen s s' p d q\n  p \\<noteq> q\n\ngoal (1 subgoal):\n 1. phase s q \\<in> {1, 2} \\<and> hasRead s q d p", "by(auto simp add: Phase1or2ReadThen_def HInv3_L_def \n            hasRead_def split: if_split_asm)"], ["proof (state)\nthis:\n  phase s q \\<in> {1, 2} \\<and> hasRead s q d p\n\ngoal (1 subgoal):\n 1. HInv3_R s' p q d", "with inv2b"], ["proof (chain)\npicking this:\n  Inv2b s\n  phase s q \\<in> {1, 2} \\<and> hasRead s q d p", "have \"disk s d q = dblock s q\""], ["proof (prove)\nusing this:\n  Inv2b s\n  phase s q \\<in> {1, 2} \\<and> hasRead s q d p\n\ngoal (1 subgoal):\n 1. disk s d q = dblock s q", "by(auto simp add: Inv2b_def Inv2b_inner_def \n             hasRead_def)"], ["proof (state)\nthis:\n  disk s d q = dblock s q\n\ngoal (1 subgoal):\n 1. HInv3_R s' p q d", "with act"], ["proof (chain)\npicking this:\n  Phase1or2ReadThen s s' p d q\n  disk s d q = dblock s q", "show ?thesis"], ["proof (prove)\nusing this:\n  Phase1or2ReadThen s s' p d q\n  disk s d q = dblock s q\n\ngoal (1 subgoal):\n 1. HInv3_R s' p q d", "by(auto simp add: Phase1or2ReadThen_def HInv3_def \n                       HInv3_inner_def HInv3_R_def)"], ["proof (state)\nthis:\n  HInv3_R s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Phase1or2ReadThen_HInv3_hasRead: \n  \"\\<lbrakk> \\<not>hasRead s pp dd qq; \n     Phase1or2ReadThen s s' p d q; \n     pp\\<noteq>p \\<or> qq\\<noteq>q \\<or> dd\\<noteq>d\\<rbrakk> \n  \\<Longrightarrow> \\<not>hasRead s' pp dd qq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> hasRead s pp dd qq; Phase1or2ReadThen s s' p d q;\n     pp \\<noteq> p \\<or> qq \\<noteq> q \\<or> dd \\<noteq> d\\<rbrakk>\n    \\<Longrightarrow> \\<not> hasRead s' pp dd qq", "by(auto simp add: hasRead_def Phase1or2ReadThen_def)"], ["", "theorem HPhase1or2ReadThen_HInv3:\n  assumes act:  \"HPhase1or2ReadThen s s' p d q\"\n  and     inv:  \"HInv3 s\"\n  and      pq:  \"p\\<noteq>q\"\n  and   inv2b:  \"Inv2b s\"\n  shows   \"HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3 s'", "proof(clarsimp simp add: HInv3_def HInv3_inner_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_L s' p q d \\<Longrightarrow> HInv3_R s' p q d", "fix pp qq dd"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_L s' p q d \\<Longrightarrow> HInv3_R s' p q d", "assume h3l': \"HInv3_L s' pp qq dd\""], ["proof (state)\nthis:\n  HInv3_L s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_L s' p q d \\<Longrightarrow> HInv3_R s' p q d", "show  \"HInv3_R s' pp qq dd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_R s' pp qq dd", "proof(cases \"HInv3_L s pp qq dd\")"], ["proof (state)\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "case True"], ["proof (state)\nthis:\n  HInv3_L s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "with inv"], ["proof (chain)\npicking this:\n  HInv3 s\n  HInv3_L s pp qq dd", "have \"HInv3_R s pp qq dd\""], ["proof (prove)\nusing this:\n  HInv3 s\n  HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_R s pp qq dd", "by(auto simp add: HInv3_def HInv3_inner_def)"], ["proof (state)\nthis:\n  HInv3_R s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "with act h3l'"], ["proof (chain)\npicking this:\n  HPhase1or2ReadThen s s' p d q\n  HInv3_L s' pp qq dd\n  HInv3_R s pp qq dd", "show ?thesis"], ["proof (prove)\nusing this:\n  HPhase1or2ReadThen s s' p d q\n  HInv3_L s' pp qq dd\n  HInv3_R s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_R s' pp qq dd", "by(auto simp add: HInv3_R_def HInv3_L_def \n                          Phase1or2ReadThen_def)"], ["proof (state)\nthis:\n  HInv3_R s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "case False"], ["proof (state)\nthis:\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "assume nh3l: \"\\<not> HInv3_L s pp qq dd\""], ["proof (state)\nthis:\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_R s' pp qq dd", "show \" HInv3_R s' pp qq dd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_R s' pp qq dd", "proof(cases \"((pp=p \\<and> qq=q) \\<or> (pp=q \\<and> qq=p)) \\<and> dd=d\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n    dd = d \\<Longrightarrow>\n    HInv3_R s' pp qq dd\n 2. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "case True"], ["proof (state)\nthis:\n  (pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d\n\ngoal (2 subgoals):\n 1. (pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n    dd = d \\<Longrightarrow>\n    HInv3_R s' pp qq dd\n 2. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "with act pq inv2b h3l' HInv3_L_sym[OF h3l']"], ["proof (chain)\npicking this:\n  HPhase1or2ReadThen s s' p d q\n  p \\<noteq> q\n  Inv2b s\n  HInv3_L s' pp qq dd\n  HInv3_L s' qq pp dd\n  (pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d", "show ?thesis"], ["proof (prove)\nusing this:\n  HPhase1or2ReadThen s s' p d q\n  p \\<noteq> q\n  Inv2b s\n  HInv3_L s' pp qq dd\n  HInv3_L s' qq pp dd\n  (pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d\n\ngoal (1 subgoal):\n 1. HInv3_R s' pp qq dd", "by(auto dest: Phase1or2ReadThen_HInv3_pq HInv3_R_sym)"], ["proof (state)\nthis:\n  HInv3_R s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "case False"], ["proof (state)\nthis:\n  \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d)\n\ngoal (1 subgoal):\n 1. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "from nh3l h3l' act"], ["proof (chain)\npicking this:\n  \\<not> HInv3_L s pp qq dd\n  HInv3_L s' pp qq dd\n  HPhase1or2ReadThen s s' p d q", "have \"(\\<not>hasRead s pp dd qq \\<or> \\<not>hasRead s qq dd pp) \n            \\<and> hasRead s' pp dd qq \\<and> hasRead s' qq dd pp\""], ["proof (prove)\nusing this:\n  \\<not> HInv3_L s pp qq dd\n  HInv3_L s' pp qq dd\n  HPhase1or2ReadThen s s' p d q\n\ngoal (1 subgoal):\n 1. (\\<not> hasRead s pp dd qq \\<or> \\<not> hasRead s qq dd pp) \\<and>\n    hasRead s' pp dd qq \\<and> hasRead s' qq dd pp", "by(auto simp add: HInv3_L_def Phase1or2ReadThen_def)"], ["proof (state)\nthis:\n  (\\<not> hasRead s pp dd qq \\<or> \\<not> hasRead s qq dd pp) \\<and>\n  hasRead s' pp dd qq \\<and> hasRead s' qq dd pp\n\ngoal (1 subgoal):\n 1. \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and>\n            dd = d) \\<Longrightarrow>\n    HInv3_R s' pp qq dd", "with act False"], ["proof (chain)\npicking this:\n  HPhase1or2ReadThen s s' p d q\n  \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d)\n  (\\<not> hasRead s pp dd qq \\<or> \\<not> hasRead s qq dd pp) \\<and>\n  hasRead s' pp dd qq \\<and> hasRead s' qq dd pp", "show ?thesis"], ["proof (prove)\nusing this:\n  HPhase1or2ReadThen s s' p d q\n  \\<not> ((pp = p \\<and> qq = q \\<or> pp = q \\<and> qq = p) \\<and> dd = d)\n  (\\<not> hasRead s pp dd qq \\<or> \\<not> hasRead s qq dd pp) \\<and>\n  hasRead s' pp dd qq \\<and> hasRead s' qq dd pp\n\ngoal (1 subgoal):\n 1. HInv3_R s' pp qq dd", "by(auto dest: Phase1or2ReadThen_HInv3_hasRead)"], ["proof (state)\nthis:\n  HInv3_R s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  HInv3_R s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  HInv3_R s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma StartBallot_HInv3_p:   \n  \"\\<lbrakk> StartBallot s s' p; HInv3_L s' p q d \\<rbrakk> \n          \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>StartBallot s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: StartBallot_def dest: InitPhase_HInv3_p)"], ["", "lemma StartBallot_HInv3_q:   \n  \"\\<lbrakk> StartBallot s s' q; HInv3_L s' p q d \\<rbrakk>\n           \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>StartBallot s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: StartBallot_def dest: InitPhase_HInv3_q)"], ["", "lemma StartBallot_HInv3_nL:   \n  \"\\<lbrakk> StartBallot s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk> \n           \\<Longrightarrow> \\<not>HInv3_L s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>StartBallot s s' t; \\<not> HInv3_L s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> \\<not> HInv3_L s' p q d", "by(auto simp add: StartBallot_def InitializePhase_def \n                      HInv3_L_def hasRead_def)"], ["", "lemma StartBallot_HInv3_R:\n  \"\\<lbrakk> StartBallot s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n              \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>StartBallot s s' t; HInv3_R s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: StartBallot_def InitializePhase_def \n                    HInv3_R_def hasRead_def)"], ["", "lemma StartBallot_HInv3_t:\n  \"\\<lbrakk> StartBallot s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>StartBallot s s' t; HInv3_inner s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n        dest: StartBallot_HInv3_nL StartBallot_HInv3_R)"], ["", "lemma StartBallot_HInv3:\n  assumes act: \"StartBallot s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "proof(cases \"t=p \\<or> t=q\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case True"], ["proof (state)\nthis:\n  t = p \\<or> t = q\n\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with act inv"], ["proof (chain)\npicking this:\n  StartBallot s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q", "show ?thesis"], ["proof (prove)\nusing this:\n  StartBallot s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n         dest: StartBallot_HInv3_p StartBallot_HInv3_q)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case False"], ["proof (state)\nthis:\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with inv act"], ["proof (chain)\npicking this:\n  HInv3_inner s p q d\n  StartBallot s s' t\n  \\<not> (t = p \\<or> t = q)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv3_inner s p q d\n  StartBallot s s' t\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: StartBallot_HInv3_t)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HStartBallot_HInv3:\n  \"\\<lbrakk> HStartBallot s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HStartBallot s s' p; HInv3 s\\<rbrakk>\n    \\<Longrightarrow> HInv3 s'", "by(auto simp add: HInv3_def dest: StartBallot_HInv3)"], ["", "theorem HPhase1or2ReadElse_HInv3:\n  \"\\<lbrakk> HPhase1or2ReadElse s s' p d q; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HPhase1or2ReadElse s s' p d q; HInv3 s\\<rbrakk>\n    \\<Longrightarrow> HInv3 s'", "by(auto simp add: Phase1or2ReadElse_def HInv3_def \n              dest: StartBallot_HInv3)"], ["", "theorem HPhase1or2Write_HInv3:\n  assumes act: \"HPhase1or2Write s s' p d\"\n  and inv: \"HInv3 s\"\n  shows \"HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3 s'", "proof(auto simp add: HInv3_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_inner s' p q d", "fix pp qq dd"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_inner s' p q d", "show \" HInv3_inner s' pp qq dd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "proof(cases \"HInv3_L s pp qq dd\")"], ["proof (state)\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "case True"], ["proof (state)\nthis:\n  HInv3_L s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with inv"], ["proof (chain)\npicking this:\n  HInv3 s\n  HInv3_L s pp qq dd", "have \"HInv3_R s pp qq dd\""], ["proof (prove)\nusing this:\n  HInv3 s\n  HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_R s pp qq dd", "by(simp add: HInv3_def HInv3_inner_def)"], ["proof (state)\nthis:\n  HInv3_R s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with act"], ["proof (chain)\npicking this:\n  HPhase1or2Write s s' p d\n  HInv3_R s pp qq dd", "show ?thesis"], ["proof (prove)\nusing this:\n  HPhase1or2Write s s' p d\n  HInv3_R s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "by(auto simp add: HInv3_inner_def HInv3_R_def \n                      Phase1or2Write_def)"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "case False"], ["proof (state)\nthis:\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with act"], ["proof (chain)\npicking this:\n  HPhase1or2Write s s' p d\n  \\<not> HInv3_L s pp qq dd", "have \"\\<not>HInv3_L s' pp qq dd\""], ["proof (prove)\nusing this:\n  HPhase1or2Write s s' p d\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s' pp qq dd", "by(auto simp add: HInv3_L_def hasRead_def Phase1or2Write_def)"], ["proof (state)\nthis:\n  \\<not> HInv3_L s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> HInv3_L s' pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "by(simp add: HInv3_inner_def)"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma EndPhase1_HInv3_p:   \n  \"\\<lbrakk> EndPhase1 s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase1 s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase1_def dest: InitPhase_HInv3_p)"], ["", "lemma EndPhase1_HInv3_q:   \n  \"\\<lbrakk> EndPhase1 s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase1 s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase1_def dest: InitPhase_HInv3_q)"], ["", "lemma EndPhase1_HInv3_nL:   \n  \"\\<lbrakk> EndPhase1 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                    \\<Longrightarrow> \\<not>HInv3_L s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase1 s s' t; \\<not> HInv3_L s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> \\<not> HInv3_L s' p q d", "by(auto simp add: EndPhase1_def InitializePhase_def \n                    HInv3_L_def hasRead_def)"], ["", "lemma EndPhase1_HInv3_R:\n  \"\\<lbrakk> EndPhase1 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                      \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase1 s s' t; HInv3_R s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase1_def InitializePhase_def\n                    HInv3_R_def hasRead_def)"], ["", "lemma EndPhase1_HInv3_t:\n  \"\\<lbrakk> EndPhase1 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase1 s s' t; HInv3_inner s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: EndPhase1_HInv3_nL \n                   EndPhase1_HInv3_R)"], ["", "lemma EndPhase1_HInv3:\n  assumes act: \"EndPhase1 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "proof(cases \"t=p \\<or> t=q\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case True"], ["proof (state)\nthis:\n  t = p \\<or> t = q\n\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with act inv"], ["proof (chain)\npicking this:\n  EndPhase1 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q", "show ?thesis"], ["proof (prove)\nusing this:\n  EndPhase1 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n                dest: EndPhase1_HInv3_p EndPhase1_HInv3_q)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case False"], ["proof (state)\nthis:\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with inv act"], ["proof (chain)\npicking this:\n  HInv3_inner s p q d\n  EndPhase1 s s' t\n  \\<not> (t = p \\<or> t = q)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv3_inner s p q d\n  EndPhase1 s s' t\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: EndPhase1_HInv3_t)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HEndPhase1_HInv3:\n  \"\\<lbrakk> HEndPhase1 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HEndPhase1 s s' p; HInv3 s\\<rbrakk> \\<Longrightarrow> HInv3 s'", "by(auto simp add: HInv3_def dest: EndPhase1_HInv3)"], ["", "lemma EndPhase2_HInv3_p:   \n  \"\\<lbrakk> EndPhase2 s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase2 s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase2_def dest: InitPhase_HInv3_p)"], ["", "lemma EndPhase2_HInv3_q:   \n  \"\\<lbrakk> EndPhase2 s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase2 s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase2_def dest: InitPhase_HInv3_q)"], ["", "lemma EndPhase2_HInv3_nL:   \n  \"\\<lbrakk> EndPhase2 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                     \\<Longrightarrow> \\<not>HInv3_L s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase2 s s' t; \\<not> HInv3_L s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> \\<not> HInv3_L s' p q d", "by(auto simp add: EndPhase2_def InitializePhase_def\n                    HInv3_L_def hasRead_def)"], ["", "lemma EndPhase2_HInv3_R:\n  \"\\<lbrakk> EndPhase2 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                     \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase2 s s' t; HInv3_R s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase2_def InitializePhase_def\n                    HInv3_R_def hasRead_def)"], ["", "lemma EndPhase2_HInv3_t:\n  \"\\<lbrakk> EndPhase2 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                    \\<Longrightarrow> HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase2 s s' t; HInv3_inner s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n              dest: EndPhase2_HInv3_nL EndPhase2_HInv3_R)"], ["", "lemma EndPhase2_HInv3:\n  assumes act: \"EndPhase2 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "proof(cases \"t=p \\<or> t=q\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case True"], ["proof (state)\nthis:\n  t = p \\<or> t = q\n\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with act inv"], ["proof (chain)\npicking this:\n  EndPhase2 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q", "show ?thesis"], ["proof (prove)\nusing this:\n  EndPhase2 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n                dest: EndPhase2_HInv3_p EndPhase2_HInv3_q)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case False"], ["proof (state)\nthis:\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with inv act"], ["proof (chain)\npicking this:\n  HInv3_inner s p q d\n  EndPhase2 s s' t\n  \\<not> (t = p \\<or> t = q)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv3_inner s p q d\n  EndPhase2 s s' t\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: EndPhase2_HInv3_t)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HEndPhase2_HInv3:\n  \"\\<lbrakk> HEndPhase2 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HEndPhase2 s s' p; HInv3 s\\<rbrakk> \\<Longrightarrow> HInv3 s'", "by(auto simp add: HInv3_def dest: EndPhase2_HInv3)"], ["", "lemma Fail_HInv3_p:   \n  \"\\<lbrakk> Fail s s' p; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Fail s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: Fail_def dest: InitPhase_HInv3_p)"], ["", "lemma Fail_HInv3_q:   \n  \"\\<lbrakk> Fail s s' q; HInv3_L s' p q d \\<rbrakk> \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Fail s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: Fail_def dest: InitPhase_HInv3_q)"], ["", "lemma Fail_HInv3_nL:   \n  \"\\<lbrakk> Fail s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk> \n             \\<Longrightarrow> \\<not>HInv3_L s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Fail s s' t; \\<not> HInv3_L s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> \\<not> HInv3_L s' p q d", "by(auto simp add: Fail_def InitializePhase_def\n                    HInv3_L_def hasRead_def)"], ["", "lemma Fail_HInv3_R:\n  \"\\<lbrakk> Fail s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n             \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Fail s s' t; HInv3_R s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: Fail_def InitializePhase_def\n                    HInv3_R_def hasRead_def)"], ["", "lemma Fail_HInv3_t:\n  \"\\<lbrakk> Fail s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n              \\<Longrightarrow> HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Fail s s' t; HInv3_inner s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n              dest: Fail_HInv3_nL Fail_HInv3_R)"], ["", "lemma Fail_HInv3:\n  assumes act: \"Fail s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "proof(cases \"t=p \\<or> t=q\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case True"], ["proof (state)\nthis:\n  t = p \\<or> t = q\n\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with act inv"], ["proof (chain)\npicking this:\n  Fail s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q", "show ?thesis"], ["proof (prove)\nusing this:\n  Fail s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n                dest: Fail_HInv3_p Fail_HInv3_q)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case False"], ["proof (state)\nthis:\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with inv act"], ["proof (chain)\npicking this:\n  HInv3_inner s p q d\n  Fail s s' t\n  \\<not> (t = p \\<or> t = q)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv3_inner s p q d\n  Fail s s' t\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: Fail_HInv3_t)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HFail_HInv3:\n  \"\\<lbrakk> HFail s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HFail s s' p; HInv3 s\\<rbrakk> \\<Longrightarrow> HInv3 s'", "by(auto simp add: HInv3_def dest: Fail_HInv3)"], ["", "theorem HPhase0Read_HInv3:\n  assumes act: \"HPhase0Read s s' p d\"\n  and inv: \"HInv3 s\"\n  shows \"HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3 s'", "proof(auto simp add: HInv3_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_inner s' p q d", "fix pp qq dd"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p q d. HInv3_inner s' p q d", "show \" HInv3_inner s' pp qq dd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "proof(cases \"HInv3_L s pp qq dd\")"], ["proof (state)\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "case True"], ["proof (state)\nthis:\n  HInv3_L s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with inv"], ["proof (chain)\npicking this:\n  HInv3 s\n  HInv3_L s pp qq dd", "have \"HInv3_R s pp qq dd\""], ["proof (prove)\nusing this:\n  HInv3 s\n  HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_R s pp qq dd", "by(simp add: HInv3_def HInv3_inner_def)"], ["proof (state)\nthis:\n  HInv3_R s pp qq dd\n\ngoal (2 subgoals):\n 1. HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd\n 2. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with act"], ["proof (chain)\npicking this:\n  HPhase0Read s s' p d\n  HInv3_R s pp qq dd", "show ?thesis"], ["proof (prove)\nusing this:\n  HPhase0Read s s' p d\n  HInv3_R s pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "by(auto simp add: HInv3_inner_def HInv3_R_def Phase0Read_def)"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "case False"], ["proof (state)\nthis:\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "with act"], ["proof (chain)\npicking this:\n  HPhase0Read s s' p d\n  \\<not> HInv3_L s pp qq dd", "have \"\\<not>HInv3_L s' pp qq dd\""], ["proof (prove)\nusing this:\n  HPhase0Read s s' p d\n  \\<not> HInv3_L s pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s' pp qq dd", "by(auto simp add: HInv3_L_def hasRead_def Phase0Read_def)"], ["proof (state)\nthis:\n  \\<not> HInv3_L s' pp qq dd\n\ngoal (1 subgoal):\n 1. \\<not> HInv3_L s pp qq dd \\<Longrightarrow> HInv3_inner s' pp qq dd", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> HInv3_L s' pp qq dd\n\ngoal (1 subgoal):\n 1. HInv3_inner s' pp qq dd", "by(simp add: HInv3_inner_def)"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  HInv3_inner s' pp qq dd\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma EndPhase0_HInv3_p:   \n  \"\\<lbrakk> EndPhase0 s s' p; HInv3_L s' p q d \\<rbrakk> \n              \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase0 s s' p; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase0_def dest: InitPhase_HInv3_p)"], ["", "lemma EndPhase0_HInv3_q:   \n  \"\\<lbrakk> EndPhase0 s s' q; HInv3_L s' p q d \\<rbrakk>\n              \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase0 s s' q; HInv3_L s' p q d\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase0_def dest: InitPhase_HInv3_q)"], ["", "lemma EndPhase0_HInv3_nL:   \n  \"\\<lbrakk> EndPhase0 s s' t; \\<not>HInv3_L s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n               \\<Longrightarrow> \\<not>HInv3_L s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase0 s s' t; \\<not> HInv3_L s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> \\<not> HInv3_L s' p q d", "by(auto simp add: EndPhase0_def InitializePhase_def \n                    HInv3_L_def hasRead_def)"], ["", "lemma EndPhase0_HInv3_R:\n  \"\\<lbrakk> EndPhase0 s s' t; HInv3_R s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                \\<Longrightarrow> HInv3_R s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase0 s s' t; HInv3_R s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_R s' p q d", "by(auto simp add: EndPhase0_def InitializePhase_def \n                    HInv3_R_def hasRead_def)"], ["", "lemma EndPhase0_HInv3_t:\n  \"\\<lbrakk> EndPhase0 s s' t; HInv3_inner s p q d; t\\<noteq>p; t\\<noteq> q \\<rbrakk>\n                 \\<Longrightarrow> HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EndPhase0 s s' t; HInv3_inner s p q d; t \\<noteq> p;\n     t \\<noteq> q\\<rbrakk>\n    \\<Longrightarrow> HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n              dest: EndPhase0_HInv3_nL EndPhase0_HInv3_R)"], ["", "lemma EndPhase0_HInv3:\n  assumes act: \"EndPhase0 s s' t\"\n  and     inv: \"HInv3_inner s p q d\"\n  shows        \"HInv3_inner s' p q d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "proof(cases \"t=p \\<or> t=q\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case True"], ["proof (state)\nthis:\n  t = p \\<or> t = q\n\ngoal (2 subgoals):\n 1. t = p \\<or> t = q \\<Longrightarrow> HInv3_inner s' p q d\n 2. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with act inv"], ["proof (chain)\npicking this:\n  EndPhase0 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q", "show ?thesis"], ["proof (prove)\nusing this:\n  EndPhase0 s s' t\n  HInv3_inner s p q d\n  t = p \\<or> t = q\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def \n                dest: EndPhase0_HInv3_p EndPhase0_HInv3_q)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "case False"], ["proof (state)\nthis:\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. \\<not> (t = p \\<or> t = q) \\<Longrightarrow> HInv3_inner s' p q d", "with inv act"], ["proof (chain)\npicking this:\n  HInv3_inner s p q d\n  EndPhase0 s s' t\n  \\<not> (t = p \\<or> t = q)", "show ?thesis"], ["proof (prove)\nusing this:\n  HInv3_inner s p q d\n  EndPhase0 s s' t\n  \\<not> (t = p \\<or> t = q)\n\ngoal (1 subgoal):\n 1. HInv3_inner s' p q d", "by(auto simp add: HInv3_inner_def dest: EndPhase0_HInv3_t)"], ["proof (state)\nthis:\n  HInv3_inner s' p q d\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem HEndPhase0_HInv3:\n  \"\\<lbrakk> HEndPhase0 s s' p; HInv3 s \\<rbrakk> \\<Longrightarrow> HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>HEndPhase0 s s' p; HInv3 s\\<rbrakk> \\<Longrightarrow> HInv3 s'", "by(auto simp add: HInv3_def dest: EndPhase0_HInv3)"], ["", "text\\<open>$HInv1 \\wedge HInv2 \\wedge HInv3$ is an invariant of $HNext$.\\<close>"], ["", "lemma I2c:\n  assumes nxt: \"HNext s s'\"\n  and inv: \"HInv1 s \\<and> HInv2 s \\<and> HInv3 s\"\n  shows \"HInv3 s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HInv3 s'", "using assms"], ["proof (prove)\nusing this:\n  HNext s s'\n  HInv1 s \\<and> HInv2 s \\<and> HInv3 s\n\ngoal (1 subgoal):\n 1. HInv3 s'", "by(auto simp add: HNext_def Next_def,\n     auto intro: HStartBallot_HInv3,\n     auto intro: HPhase0Read_HInv3,\n     auto intro: HPhase1or2Write_HInv3,\n     auto simp add: Phase1or2Read_def HInv2_def\n          intro: HPhase1or2ReadThen_HInv3\n                 HPhase1or2ReadElse_HInv3,\n     auto simp add: EndPhase1or2_def\n          intro: HEndPhase1_HInv3\n                 HEndPhase2_HInv3,\n     auto intro: HFail_HInv3,\n     auto intro: HEndPhase0_HInv3)"], ["", "end"]]}