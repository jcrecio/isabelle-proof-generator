{"file_name": "/home/qj213/afp-2021-10-22/thys/Secondary_Sylow/SubgroupConjugation.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Secondary_Sylow", "problem_names": ["lemma (in subgroup) subgroup_of_subset:\n  assumes G:\"group G\"\n  assumes PH:\"H \\<subseteq> K\"\n  assumes KG:\"subgroup K G\"\n  shows \"subgroup H (G\\<lparr>carrier := K\\<rparr>)\"", "lemma lcosI: \"[| h \\<in> H; H \\<subseteq> carrier G; x \\<in> carrier G|] ==> x \\<otimes> h \\<in> x <# H\"", "lemma lcoset_join2:\n  assumes H:\"subgroup H G\"\n  assumes g:\"g \\<in> H\"\n  shows \"g <# H = H\"", "lemma cardeq_rcoset:\n  assumes \"finite (carrier G)\"\n  assumes \"M \\<subseteq> carrier G\"\n  assumes \"g \\<in> carrier G\"\n  shows \"card (M #> g) = card  M\"", "lemma cardeq_lcoset:\n  assumes \"finite (carrier G)\"\n  assumes M:\"M \\<subseteq> carrier G\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"card (g <# M) = card  M\"", "lemma conjugation_subgroup:\n  assumes HG:\"subgroup H G\"\n  assumes gG:\"g \\<in> carrier G\"\n  shows \"subgroup (g <# (H #> inv g)) G\"", "lemma conjugation_is_size_invariant:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"conjugation_action p g P \\<in> subgroups_of_size p\"", "lemma conjugation_is_Bij:\n  assumes fin:\"finite (carrier G)\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"conjugation_action p g \\<in> Bij (subgroups_of_size p)\"", "lemma lr_coset_assoc:\n  assumes g:\"g \\<in> carrier G\"\n  assumes h:\"h \\<in> carrier G\"\n  assumes P:\"P \\<subseteq> carrier G\"\n  shows \"g <# (P #> h) = (g <# P) #> h\"", "theorem acts_on_subsets:\n  assumes fin:\"finite (carrier G)\"\n  shows \"group_action G (conjugation_action p) (subgroups_of_size p)\"", "lemma stabilizer_contains_P:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  shows \"P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\"", "lemma (in group) P_fixed_point_of_P_conj:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  shows \"P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>) (conjugation_action p) (subgroups_of_size p)\"", "lemma conj_wo_inv:\n  assumes QG:\"subgroup Q G\"\n  assumes PG:\"subgroup P G\"\n  assumes g:\"g \\<in> carrier G\"\n  assumes conj:\"inv g <# (Q #> g) = P\"\n  shows \"Q #> g = g <# P\""], "translations": [["", "lemma (in subgroup) subgroup_of_subset:\n  assumes G:\"group G\"\n  assumes PH:\"H \\<subseteq> K\"\n  assumes KG:\"subgroup K G\"\n  shows \"subgroup H (G\\<lparr>carrier := K\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup H (G\\<lparr>carrier := K\\<rparr>)", "using assms subgroup_def group.m_inv_consistent m_inv_closed"], ["proof (prove)\nusing this:\n  Group.group G\n  H \\<subseteq> K\n  subgroup K G\n  subgroup ?H ?G \\<equiv>\n  (?H \\<subseteq> carrier ?G \\<and>\n   (\\<forall>x y.\n       x \\<in> ?H \\<longrightarrow>\n       y \\<in> ?H \\<longrightarrow>\n       x \\<otimes>\\<^bsub>?G\\<^esub> y \\<in> ?H)) \\<and>\n  \\<one>\\<^bsub>?G\\<^esub> \\<in> ?H \\<and>\n  (\\<forall>x.\n      x \\<in> ?H \\<longrightarrow> inv\\<^bsub>?G\\<^esub> x \\<in> ?H)\n  \\<lbrakk>Group.group ?G; subgroup ?H ?G; ?x \\<in> ?H\\<rbrakk>\n  \\<Longrightarrow> inv\\<^bsub>?G\\<lparr>carrier := ?H\\<rparr>\\<^esub> ?x =\n                    inv\\<^bsub>?G\\<^esub> ?x\n  ?x \\<in> H \\<Longrightarrow> inv ?x \\<in> H\n\ngoal (1 subgoal):\n 1. subgroup H (G\\<lparr>carrier := K\\<rparr>)", "by fastforce"], ["", "context group\nbegin"], ["", "definition subgroups_of_size ::\"nat \\<Rightarrow> _\"\n  where \"subgroups_of_size p = {H. subgroup H G \\<and> card H = p}\""], ["", "lemma lcosI: \"[| h \\<in> H; H \\<subseteq> carrier G; x \\<in> carrier G|] ==> x \\<otimes> h \\<in> x <# H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>h \\<in> H; H \\<subseteq> carrier G; x \\<in> carrier G\\<rbrakk>\n    \\<Longrightarrow> x \\<otimes> h \\<in> x <# H", "by (auto simp add: l_coset_def)"], ["", "lemma lcoset_join2:\n  assumes H:\"subgroup H G\"\n  assumes g:\"g \\<in> H\"\n  shows \"g <# H = H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g <# H = H", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# H \\<Longrightarrow> x \\<in> H\n 2. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# H \\<Longrightarrow> x \\<in> H\n 2. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "assume x:\"x \\<in> g <# H\""], ["proof (state)\nthis:\n  x \\<in> g <# H\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# H \\<Longrightarrow> x \\<in> H\n 2. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# H", "obtain h where h:\"h \\<in> H\" \"x = g \\<otimes> h\""], ["proof (prove)\nusing this:\n  x \\<in> g <# H\n\ngoal (1 subgoal):\n 1. (\\<And>h.\n        \\<lbrakk>h \\<in> H; x = g \\<otimes> h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>h\\<in>H. {g \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>h.\n        \\<lbrakk>h \\<in> H; x = g \\<otimes> h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  h \\<in> H\n  x = g \\<otimes> h\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# H \\<Longrightarrow> x \\<in> H\n 2. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "with g H"], ["proof (chain)\npicking this:\n  g \\<in> H\n  subgroup H G\n  h \\<in> H\n  x = g \\<otimes> h", "show \"x \\<in> H\""], ["proof (prove)\nusing this:\n  g \\<in> H\n  subgroup H G\n  h \\<in> H\n  x = g \\<otimes> h\n\ngoal (1 subgoal):\n 1. x \\<in> H", "by (metis subgroup.m_closed)"], ["proof (state)\nthis:\n  x \\<in> H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "assume x:\"x \\<in> H\""], ["proof (state)\nthis:\n  x \\<in> H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "with g H"], ["proof (chain)\npicking this:\n  g \\<in> H\n  subgroup H G\n  x \\<in> H", "have \"inv g \\<otimes> x \\<in> H\""], ["proof (prove)\nusing this:\n  g \\<in> H\n  subgroup H G\n  x \\<in> H\n\ngoal (1 subgoal):\n 1. inv g \\<otimes> x \\<in> H", "by (metis subgroup.m_closed subgroup.m_inv_closed)"], ["proof (state)\nthis:\n  inv g \\<otimes> x \\<in> H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> g <# H", "with x g H"], ["proof (chain)\npicking this:\n  x \\<in> H\n  g \\<in> H\n  subgroup H G\n  inv g \\<otimes> x \\<in> H", "show \"x \\<in> g <# H\""], ["proof (prove)\nusing this:\n  x \\<in> H\n  g \\<in> H\n  subgroup H G\n  inv g \\<otimes> x \\<in> H\n\ngoal (1 subgoal):\n 1. x \\<in> g <# H", "by (metis is_group subgroup.lcos_module_rev subgroup.mem_carrier)"], ["proof (state)\nthis:\n  x \\<in> g <# H\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cardeq_rcoset:\n  assumes \"finite (carrier G)\"\n  assumes \"M \\<subseteq> carrier G\"\n  assumes \"g \\<in> carrier G\"\n  shows \"card (M #> g) = card  M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (M #> g) = card M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (M #> g) = card M", "have \"M #> g \\<in> rcosets M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M #> g \\<in> rcosets M", "by (metis assms(2) assms(3) rcosetsI)"], ["proof (state)\nthis:\n  M #> g \\<in> rcosets M\n\ngoal (1 subgoal):\n 1. card (M #> g) = card M", "thus \"card (M #> g) = card M\""], ["proof (prove)\nusing this:\n  M #> g \\<in> rcosets M\n\ngoal (1 subgoal):\n 1. card (M #> g) = card M", "using assms(2) card_rcosets_equal"], ["proof (prove)\nusing this:\n  M #> g \\<in> rcosets M\n  M \\<subseteq> carrier G\n  \\<lbrakk>?R \\<in> rcosets ?H; ?H \\<subseteq> carrier G\\<rbrakk>\n  \\<Longrightarrow> card ?H = card ?R\n\ngoal (1 subgoal):\n 1. card (M #> g) = card M", "by auto"], ["proof (state)\nthis:\n  card (M #> g) = card M\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cardeq_lcoset:\n  assumes \"finite (carrier G)\"\n  assumes M:\"M \\<subseteq> carrier G\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"card (g <# M) = card  M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (g <# M) = card M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (g <# M) = card M", "have \"bij_betw (\\<lambda>m. g \\<otimes> m) M (g <# M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw ((\\<otimes>) g) M (g <# M)", "proof(auto simp add: bij_betw_def)"], ["proof (state)\ngoal (3 subgoals):\n 1. inj_on ((\\<otimes>) g) M\n 2. \\<And>xa. xa \\<in> M \\<Longrightarrow> g \\<otimes> xa \\<in> g <# M\n 3. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "show \"inj_on ((\\<otimes>) g) M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on ((\\<otimes>) g) M", "proof(rule inj_onI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "from g"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invg:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (rule inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume x:\"x \\<in> M\" and y:\"y \\<in> M\""], ["proof (state)\nthis:\n  x \\<in> M\n  y \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with M"], ["proof (chain)\npicking this:\n  M \\<subseteq> carrier G\n  x \\<in> M\n  y \\<in> M", "have xG:\"x \\<in> carrier G\" and yG:\"y \\<in> carrier G\""], ["proof (prove)\nusing this:\n  M \\<subseteq> carrier G\n  x \\<in> M\n  y \\<in> M\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G &&& y \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"g \\<otimes> x = g \\<otimes> y\""], ["proof (state)\nthis:\n  g \\<otimes> x = g \\<otimes> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"(inv g) \\<otimes> (g \\<otimes> x) = (inv g) \\<otimes> (g \\<otimes> y)\""], ["proof (prove)\nusing this:\n  g \\<otimes> x = g \\<otimes> y\n\ngoal (1 subgoal):\n 1. inv g \\<otimes> (g \\<otimes> x) = inv g \\<otimes> (g \\<otimes> y)", "by simp"], ["proof (state)\nthis:\n  inv g \\<otimes> (g \\<otimes> x) = inv g \\<otimes> (g \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with g invg xG yG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  inv g \\<otimes> (g \\<otimes> x) = inv g \\<otimes> (g \\<otimes> y)", "have \"(inv g \\<otimes> g) \\<otimes> x = (inv g \\<otimes> g) \\<otimes> y\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  inv g \\<otimes> (g \\<otimes> x) = inv g \\<otimes> (g \\<otimes> y)\n\ngoal (1 subgoal):\n 1. inv g \\<otimes> g \\<otimes> x = inv g \\<otimes> g \\<otimes> y", "by (metis m_assoc)"], ["proof (state)\nthis:\n  inv g \\<otimes> g \\<otimes> x = inv g \\<otimes> g \\<otimes> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> M; y \\<in> M; g \\<otimes> x = g \\<otimes> y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with g invg xG yG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  inv g \\<otimes> g \\<otimes> x = inv g \\<otimes> g \\<otimes> y", "show  \"x = y\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  inv g \\<otimes> g \\<otimes> x = inv g \\<otimes> g \\<otimes> y\n\ngoal (1 subgoal):\n 1. x = y", "by simp"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inj_on ((\\<otimes>) g) M\n\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> M \\<Longrightarrow> g \\<otimes> xa \\<in> g <# M\n 2. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> M \\<Longrightarrow> g \\<otimes> xa \\<in> g <# M\n 2. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> M \\<Longrightarrow> g \\<otimes> xa \\<in> g <# M\n 2. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "assume \"x \\<in> M\""], ["proof (state)\nthis:\n  x \\<in> M\n\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> M \\<Longrightarrow> g \\<otimes> xa \\<in> g <# M\n 2. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "thus \"g \\<otimes> x \\<in> g <# M\""], ["proof (prove)\nusing this:\n  x \\<in> M\n\ngoal (1 subgoal):\n 1. g \\<otimes> x \\<in> g <# M", "unfolding l_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> M\n\ngoal (1 subgoal):\n 1. g \\<otimes> x \\<in> (\\<Union>h\\<in>M. {g \\<otimes> h})", "by auto"], ["proof (state)\nthis:\n  g \\<otimes> x \\<in> g <# M\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "assume x:\"x \\<in> g <# M\""], ["proof (state)\nthis:\n  x \\<in> g <# M\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# M", "obtain m where \"x = g \\<otimes> m\" \"m \\<in> M\""], ["proof (prove)\nusing this:\n  x \\<in> g <# M\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>x = g \\<otimes> m; m \\<in> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>h\\<in>M. {g \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>x = g \\<otimes> m; m \\<in> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = g \\<otimes> m\n  m \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# M \\<Longrightarrow> x \\<in> (\\<otimes>) g ` M", "thus \"x \\<in> (\\<otimes>) g ` M\""], ["proof (prove)\nusing this:\n  x = g \\<otimes> m\n  m \\<in> M\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<otimes>) g ` M", "by simp"], ["proof (state)\nthis:\n  x \\<in> (\\<otimes>) g ` M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bij_betw ((\\<otimes>) g) M (g <# M)\n\ngoal (1 subgoal):\n 1. card (g <# M) = card M", "thus \"card (g <# M) = card M\""], ["proof (prove)\nusing this:\n  bij_betw ((\\<otimes>) g) M (g <# M)\n\ngoal (1 subgoal):\n 1. card (g <# M) = card M", "by (metis bij_betw_same_card)"], ["proof (state)\nthis:\n  card (g <# M) = card M\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Conjugation is a group action\\<close>"], ["", "text \\<open>We will now prove that conjugation acts on the subgroups\nof a certain group. A large part of this proof consists of showing that\nthe conjugation of a subgroup with a group element is, again, a subgroup.\\<close>"], ["", "lemma conjugation_subgroup:\n  assumes HG:\"subgroup H G\"\n  assumes gG:\"g \\<in> carrier G\"\n  shows \"subgroup (g <# (H #> inv g)) G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup (g <# (H #> inv g)) G", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. g <# (H #> inv g) \\<subseteq> carrier G\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 3. \\<one> \\<in> g <# (H #> inv g)\n 4. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have \"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (rule inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (4 subgoals):\n 1. g <# (H #> inv g) \\<subseteq> carrier G\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 3. \\<one> \\<in> g <# (H #> inv g)\n 4. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with HG"], ["proof (chain)\npicking this:\n  subgroup H G\n  inv g \\<in> carrier G", "have \"(H #> inv g) \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  subgroup H G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. H #> inv g \\<subseteq> carrier G", "by (metis r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  H #> inv g \\<subseteq> carrier G\n\ngoal (4 subgoals):\n 1. g <# (H #> inv g) \\<subseteq> carrier G\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 3. \\<one> \\<in> g <# (H #> inv g)\n 4. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G", "show \"g <# (H #> inv g) \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. g <# (H #> inv g) \\<subseteq> carrier G", "by (metis l_coset_subset_G)"], ["proof (state)\nthis:\n  g <# (H #> inv g) \\<subseteq> carrier G\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invgG:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (metis inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with HG"], ["proof (chain)\npicking this:\n  subgroup H G\n  inv g \\<in> carrier G", "have lcosSubset:\"(H #> inv g) \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  subgroup H G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. H #> inv g \\<subseteq> carrier G", "by (metis r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  H #> inv g \\<subseteq> carrier G\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "fix x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "assume x:\"x \\<in> g <# (H #> inv g)\" and y:\"y \\<in> g <# (H #> inv g)\""], ["proof (state)\nthis:\n  x \\<in> g <# (H #> inv g)\n  y \\<in> g <# (H #> inv g)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# (H #> inv g)\n  y \\<in> g <# (H #> inv g)", "obtain x' y' where x':\"x' \\<in> H #> inv g\" \"x = g \\<otimes> x'\" and y':\"y' \\<in> H #> inv g\" \"y = g \\<otimes> y'\""], ["proof (prove)\nusing this:\n  x \\<in> g <# (H #> inv g)\n  y \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. (\\<And>x' y'.\n        \\<lbrakk>x' \\<in> H #> inv g; x = g \\<otimes> x';\n         y' \\<in> H #> inv g; y = g \\<otimes> y'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>h\\<in>H #> inv g. {g \\<otimes> h})\n  y \\<in> (\\<Union>h\\<in>H #> inv g. {g \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>x' y'.\n        \\<lbrakk>x' \\<in> H #> inv g; x = g \\<otimes> x';\n         y' \\<in> H #> inv g; y = g \\<otimes> y'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  y' \\<in> H #> inv g\n  y = g \\<otimes> y'\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "then"], ["proof (chain)\npicking this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  y' \\<in> H #> inv g\n  y = g \\<otimes> y'", "obtain hx hy where hx:\"hx \\<in> H\" \"x' = hx \\<otimes> inv g\" and hy:\"hy \\<in> H\" \"y' = hy \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  y' \\<in> H #> inv g\n  y = g \\<otimes> y'\n\ngoal (1 subgoal):\n 1. (\\<And>hx hy.\n        \\<lbrakk>hx \\<in> H; x' = hx \\<otimes> inv g; hy \\<in> H;\n         y' = hy \\<otimes> inv g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding r_coset_def"], ["proof (prove)\nusing this:\n  x' \\<in> (\\<Union>h\\<in>H. {h \\<otimes> inv g})\n  x = g \\<otimes> x'\n  y' \\<in> (\\<Union>h\\<in>H. {h \\<otimes> inv g})\n  y = g \\<otimes> y'\n\ngoal (1 subgoal):\n 1. (\\<And>hx hy.\n        \\<lbrakk>hx \\<in> H; x' = hx \\<otimes> inv g; hy \\<in> H;\n         y' = hy \\<otimes> inv g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with x' y'"], ["proof (chain)\npicking this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  y' \\<in> H #> inv g\n  y = g \\<otimes> y'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g", "have x2:\"x = g \\<otimes> (hx \\<otimes> inv g)\" and y2:\"y = g \\<otimes> (hy \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  y' \\<in> H #> inv g\n  y = g \\<otimes> y'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. x = g \\<otimes> (hx \\<otimes> inv g) &&&\n    y = g \\<otimes> (hy \\<otimes> inv g)", "by auto"], ["proof (state)\nthis:\n  x = g \\<otimes> (hx \\<otimes> inv g)\n  y = g \\<otimes> (hy \\<otimes> inv g)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "hence \"x \\<otimes> y = (g \\<otimes> (hx \\<otimes> inv g)) \\<otimes> (g \\<otimes> (hy \\<otimes> inv g))\""], ["proof (prove)\nusing this:\n  x = g \\<otimes> (hx \\<otimes> inv g)\n  y = g \\<otimes> (hy \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y =\n    g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n    (g \\<otimes> (hy \\<otimes> inv g))", "by simp"], ["proof (state)\nthis:\n  x \\<otimes> y =\n  g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n  (g \\<otimes> (hy \\<otimes> inv g))\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  x \\<otimes> y =\n  g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n  (g \\<otimes> (hy \\<otimes> inv g))\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from hx hy HG"], ["proof (chain)\npicking this:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  subgroup H G", "have hxG:\"hx \\<in> carrier G\" and hyG:\"hy \\<in> carrier G\""], ["proof (prove)\nusing this:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  subgroup H G\n\ngoal (1 subgoal):\n 1. hx \\<in> carrier G &&& hy \\<in> carrier G", "by (metis subgroup.mem_carrier)+"], ["proof (state)\nthis:\n  hx \\<in> carrier G\n  hy \\<in> carrier G\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG hy x2 invgG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  x = g \\<otimes> (hx \\<otimes> inv g)\n  inv g \\<in> carrier G\n  hx \\<in> carrier G\n  hy \\<in> carrier G", "have \"(g \\<otimes> (hx \\<otimes> inv g)) \\<otimes> (g \\<otimes> (hy \\<otimes> inv g)) = g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  x = g \\<otimes> (hx \\<otimes> inv g)\n  inv g \\<in> carrier G\n  hx \\<in> carrier G\n  hy \\<in> carrier G\n\ngoal (1 subgoal):\n 1. g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n    (g \\<otimes> (hy \\<otimes> inv g)) =\n    g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes>\n    inv g", "by (metis m_assoc m_closed)"], ["proof (state)\nthis:\n  g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n  (g \\<otimes> (hy \\<otimes> inv g)) =\n  g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  g \\<otimes> (hx \\<otimes> inv g) \\<otimes>\n  (g \\<otimes> (hy \\<otimes> inv g)) =\n  g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from invgG gG"], ["proof (chain)\npicking this:\n  inv g \\<in> carrier G\n  g \\<in> carrier G", "have \"... = g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes>\n    inv g =\n    g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g", "by simp"], ["proof (state)\nthis:\n  g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes>\n  inv g =\n  g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  g \\<otimes> hx \\<otimes> (inv g \\<otimes> g) \\<otimes> hy \\<otimes>\n  inv g =\n  g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG hxG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  hx \\<in> carrier G", "have \"... = g \\<otimes> hx \\<otimes> hy \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  hx \\<in> carrier G\n\ngoal (1 subgoal):\n 1. g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g =\n    g \\<otimes> hx \\<otimes> hy \\<otimes> inv g", "by (metis m_closed r_one)"], ["proof (state)\nthis:\n  g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g =\n  g \\<otimes> hx \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  g \\<otimes> hx \\<otimes> \\<one> \\<otimes> hy \\<otimes> inv g =\n  g \\<otimes> hx \\<otimes> hy \\<otimes> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG hxG invgG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  hx \\<in> carrier G\n  inv g \\<in> carrier G", "have \"... = g \\<otimes> ((hx \\<otimes> hy) \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  hx \\<in> carrier G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. g \\<otimes> hx \\<otimes> hy \\<otimes> inv g =\n    g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)", "by (metis gG hxG hyG invgG m_assoc m_closed)"], ["proof (state)\nthis:\n  g \\<otimes> hx \\<otimes> hy \\<otimes> inv g =\n  g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "finally"], ["proof (chain)\npicking this:\n  x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)", "have xy:\"x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)", "."], ["proof (state)\nthis:\n  x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from hx hy HG"], ["proof (chain)\npicking this:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  subgroup H G", "have \"hx \\<otimes> hy \\<in> H\""], ["proof (prove)\nusing this:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  hy \\<in> H\n  y' = hy \\<otimes> inv g\n  subgroup H G\n\ngoal (1 subgoal):\n 1. hx \\<otimes> hy \\<in> H", "by (metis subgroup.m_closed)"], ["proof (state)\nthis:\n  hx \\<otimes> hy \\<in> H\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with invgG HG"], ["proof (chain)\npicking this:\n  inv g \\<in> carrier G\n  subgroup H G\n  hx \\<otimes> hy \\<in> H", "have \"(hx \\<otimes> hy) \\<otimes> inv g \\<in> H #> inv g\""], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  subgroup H G\n  hx \\<otimes> hy \\<in> H\n\ngoal (1 subgoal):\n 1. hx \\<otimes> hy \\<otimes> inv g \\<in> H #> inv g", "by (metis rcosI subgroup.subset)"], ["proof (state)\nthis:\n  hx \\<otimes> hy \\<otimes> inv g \\<in> H #> inv g\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG lcosSubset"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  hx \\<otimes> hy \\<otimes> inv g \\<in> H #> inv g", "have \"g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g) \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  hx \\<otimes> hy \\<otimes> inv g \\<in> H #> inv g\n\ngoal (1 subgoal):\n 1. g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g) \\<in> g <# (H #> inv g)", "by (metis lcosI)"], ["proof (state)\nthis:\n  g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> g <# (H #> inv g);\n        y \\<in> g <# (H #> inv g)\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y \\<in> g <# (H #> inv g)\n 2. \\<one> \\<in> g <# (H #> inv g)\n 3. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with xy"], ["proof (chain)\npicking this:\n  x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\n  g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g) \\<in> g <# (H #> inv g)", "show \"x \\<otimes> y \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  x \\<otimes> y = g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g)\n  g \\<otimes> (hx \\<otimes> hy \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> g <# (H #> inv g)", "by simp"], ["proof (state)\nthis:\n  x \\<otimes> y \\<in> g <# (H #> inv g)\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invgG:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (metis inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with HG"], ["proof (chain)\npicking this:\n  subgroup H G\n  inv g \\<in> carrier G", "have lcosSubset:\"(H #> inv g) \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  subgroup H G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. H #> inv g \\<subseteq> carrier G", "by (metis r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  H #> inv g \\<subseteq> carrier G\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from HG"], ["proof (chain)\npicking this:\n  subgroup H G", "have \"\\<one> \\<in> H\""], ["proof (prove)\nusing this:\n  subgroup H G\n\ngoal (1 subgoal):\n 1. \\<one> \\<in> H", "by (rule subgroup.one_closed)"], ["proof (state)\nthis:\n  \\<one> \\<in> H\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with invgG HG"], ["proof (chain)\npicking this:\n  inv g \\<in> carrier G\n  subgroup H G\n  \\<one> \\<in> H", "have  \"\\<one> \\<otimes> inv g \\<in> H #> inv g\""], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  subgroup H G\n  \\<one> \\<in> H\n\ngoal (1 subgoal):\n 1. \\<one> \\<otimes> inv g \\<in> H #> inv g", "by (metis rcosI subgroup.subset)"], ["proof (state)\nthis:\n  \\<one> \\<otimes> inv g \\<in> H #> inv g\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG lcosSubset"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  \\<one> \\<otimes> inv g \\<in> H #> inv g", "have \"g \\<otimes> (\\<one> \\<otimes> inv g) \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  \\<one> \\<otimes> inv g \\<in> H #> inv g\n\ngoal (1 subgoal):\n 1. g \\<otimes> (\\<one> \\<otimes> inv g) \\<in> g <# (H #> inv g)", "by (metis lcosI)"], ["proof (state)\nthis:\n  g \\<otimes> (\\<one> \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (2 subgoals):\n 1. \\<one> \\<in> g <# (H #> inv g)\n 2. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG invgG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<otimes> (\\<one> \\<otimes> inv g) \\<in> g <# (H #> inv g)", "show \"\\<one> \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<otimes> (\\<one> \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. \\<one> \\<in> g <# (H #> inv g)", "by simp"], ["proof (state)\nthis:\n  \\<one> \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invgG:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (metis inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with HG"], ["proof (chain)\npicking this:\n  subgroup H G\n  inv g \\<in> carrier G", "have lcosSubset:\"(H #> inv g) \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  subgroup H G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. H #> inv g \\<subseteq> carrier G", "by (metis r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  H #> inv g \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "assume \"x \\<in> g <# (H #> inv g)\""], ["proof (state)\nthis:\n  x \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# (H #> inv g)", "obtain x' where x':\"x' \\<in> H #> inv g\" \"x = g \\<otimes> x'\""], ["proof (prove)\nusing this:\n  x \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> H #> inv g; x = g \\<otimes> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>h\\<in>H #> inv g. {g \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<in> H #> inv g; x = g \\<otimes> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "then"], ["proof (chain)\npicking this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'", "obtain hx where hx:\"hx \\<in> H\" \"x' = hx \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n\ngoal (1 subgoal):\n 1. (\\<And>hx.\n        \\<lbrakk>hx \\<in> H; x' = hx \\<otimes> inv g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding r_coset_def"], ["proof (prove)\nusing this:\n  x' \\<in> (\\<Union>h\\<in>H. {h \\<otimes> inv g})\n  x = g \\<otimes> x'\n\ngoal (1 subgoal):\n 1. (\\<And>hx.\n        \\<lbrakk>hx \\<in> H; x' = hx \\<otimes> inv g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with HG"], ["proof (chain)\npicking this:\n  subgroup H G\n  hx \\<in> H\n  x' = hx \\<otimes> inv g", "have invhx:\"inv hx \\<in> H\""], ["proof (prove)\nusing this:\n  subgroup H G\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. inv hx \\<in> H", "by (metis subgroup.m_inv_closed)"], ["proof (state)\nthis:\n  inv hx \\<in> H\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from x' hx"], ["proof (chain)\npicking this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g", "have \"inv x = inv (g \\<otimes> (hx \\<otimes> inv g))\""], ["proof (prove)\nusing this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. inv x = inv (g \\<otimes> (hx \\<otimes> inv g))", "by simp"], ["proof (state)\nthis:\n  inv x = inv (g \\<otimes> (hx \\<otimes> inv g))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  inv x = inv (g \\<otimes> (hx \\<otimes> inv g))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from x' hx HG gG invgG"], ["proof (chain)\npicking this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  subgroup H G\n  g \\<in> carrier G\n  inv g \\<in> carrier G", "have \"... = inv (inv g) \\<otimes> inv hx \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  x' \\<in> H #> inv g\n  x = g \\<otimes> x'\n  hx \\<in> H\n  x' = hx \\<otimes> inv g\n  subgroup H G\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv (g \\<otimes> (hx \\<otimes> inv g)) =\n    inv (inv g) \\<otimes> inv hx \\<otimes> inv g", "by (metis calculation in_mono inv_mult_group lcosSubset subgroup.mem_carrier)"], ["proof (state)\nthis:\n  inv (g \\<otimes> (hx \\<otimes> inv g)) =\n  inv (inv g) \\<otimes> inv hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  inv (g \\<otimes> (hx \\<otimes> inv g)) =\n  inv (inv g) \\<otimes> inv hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have \"... = g \\<otimes> inv hx \\<otimes> inv g\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv (inv g) \\<otimes> inv hx \\<otimes> inv g =\n    g \\<otimes> inv hx \\<otimes> inv g", "by simp"], ["proof (state)\nthis:\n  inv (inv g) \\<otimes> inv hx \\<otimes> inv g =\n  g \\<otimes> inv hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "also"], ["proof (state)\nthis:\n  inv (inv g) \\<otimes> inv hx \\<otimes> inv g =\n  g \\<otimes> inv hx \\<otimes> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "from gG invgG invhx HG"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  inv hx \\<in> H\n  subgroup H G", "have \"... = g \\<otimes> (inv hx \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  inv hx \\<in> H\n  subgroup H G\n\ngoal (1 subgoal):\n 1. g \\<otimes> inv hx \\<otimes> inv g =\n    g \\<otimes> (inv hx \\<otimes> inv g)", "by (metis m_assoc subgroup.mem_carrier)"], ["proof (state)\nthis:\n  g \\<otimes> inv hx \\<otimes> inv g = g \\<otimes> (inv hx \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "finally"], ["proof (chain)\npicking this:\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)", "have invx:\"inv x = g \\<otimes> (inv hx \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. inv x = g \\<otimes> (inv hx \\<otimes> inv g)", "."], ["proof (state)\nthis:\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with invhx invgG HG"], ["proof (chain)\npicking this:\n  inv hx \\<in> H\n  inv g \\<in> carrier G\n  subgroup H G\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)", "have \"(inv hx) \\<otimes> inv g \\<in> H #> inv g\""], ["proof (prove)\nusing this:\n  inv hx \\<in> H\n  inv g \\<in> carrier G\n  subgroup H G\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. inv hx \\<otimes> inv g \\<in> H #> inv g", "by (metis rcosI subgroup.subset)"], ["proof (state)\nthis:\n  inv hx \\<otimes> inv g \\<in> H #> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with gG lcosSubset"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  inv hx \\<otimes> inv g \\<in> H #> inv g", "have \"g \\<otimes> (inv hx \\<otimes> inv g) \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  H #> inv g \\<subseteq> carrier G\n  inv hx \\<otimes> inv g \\<in> H #> inv g\n\ngoal (1 subgoal):\n 1. g \\<otimes> (inv hx \\<otimes> inv g) \\<in> g <# (H #> inv g)", "by (metis lcosI)"], ["proof (state)\nthis:\n  g \\<otimes> (inv hx \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> g <# (H #> inv g) \\<Longrightarrow>\n       inv x \\<in> g <# (H #> inv g)", "with invx"], ["proof (chain)\npicking this:\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)\n  g \\<otimes> (inv hx \\<otimes> inv g) \\<in> g <# (H #> inv g)", "show \"inv x \\<in> g <# (H #> inv g)\""], ["proof (prove)\nusing this:\n  inv x = g \\<otimes> (inv hx \\<otimes> inv g)\n  g \\<otimes> (inv hx \\<otimes> inv g) \\<in> g <# (H #> inv g)\n\ngoal (1 subgoal):\n 1. inv x \\<in> g <# (H #> inv g)", "by simp"], ["proof (state)\nthis:\n  inv x \\<in> g <# (H #> inv g)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition conjugation_action::\"nat \\<Rightarrow> _\"\n  where \"conjugation_action p = (\\<lambda>g\\<in>carrier G. \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\""], ["", "lemma conjugation_is_size_invariant:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"conjugation_action p g P \\<in> subgroups_of_size p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "from g"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invg:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (metis inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "from P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p", "have PG:\"subgroup P G\" and card:\"card P = p\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. subgroup P G &&& card P = p", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. subgroup P G &&& card P = p", "by simp+"], ["proof (state)\nthis:\n  subgroup P G\n  card P = p\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "hence PsubG:\"P \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  subgroup P G\n  card P = p\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier G", "by (metis subgroup.subset)"], ["proof (state)\nthis:\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "hence PinvgsubG:\"P #> inv g \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. P #> inv g \\<subseteq> carrier G", "by (metis invg r_coset_subset_G)"], ["proof (state)\nthis:\n  P #> inv g \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "have \" g <# (P #> inv g) \\<in> subgroups_of_size p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g <# (P #> inv g) \\<in> subgroups_of_size p", "proof(auto simp add:subgroups_of_size_def)"], ["proof (state)\ngoal (2 subgoals):\n 1. subgroup (g <# (P #> inv g)) G\n 2. card (g <# (P #> inv g)) = p", "show \"subgroup (g <# (P #> inv g)) G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup (g <# (P #> inv g)) G", "by (metis g PG conjugation_subgroup)"], ["proof (state)\nthis:\n  subgroup (g <# (P #> inv g)) G\n\ngoal (1 subgoal):\n 1. card (g <# (P #> inv g)) = p", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. card (g <# (P #> inv g)) = p", "from card PsubG fin invg"], ["proof (chain)\npicking this:\n  card P = p\n  P \\<subseteq> carrier G\n  finite (carrier G)\n  inv g \\<in> carrier G", "have \"card (P #> inv g) = p\""], ["proof (prove)\nusing this:\n  card P = p\n  P \\<subseteq> carrier G\n  finite (carrier G)\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. card (P #> inv g) = p", "by (metis cardeq_rcoset)"], ["proof (state)\nthis:\n  card (P #> inv g) = p\n\ngoal (1 subgoal):\n 1. card (g <# (P #> inv g)) = p", "with g PinvgsubG fin"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  P #> inv g \\<subseteq> carrier G\n  finite (carrier G)\n  card (P #> inv g) = p", "show \"card (g <# (P #> inv g)) = p\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  P #> inv g \\<subseteq> carrier G\n  finite (carrier G)\n  card (P #> inv g) = p\n\ngoal (1 subgoal):\n 1. card (g <# (P #> inv g)) = p", "by (metis cardeq_lcoset)"], ["proof (state)\nthis:\n  card (g <# (P #> inv g)) = p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  g <# (P #> inv g) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "with P g"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  g <# (P #> inv g) \\<in> subgroups_of_size p", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  g <# (P #> inv g) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  g <# (P #> inv g) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     g P\n    \\<in> subgroups_of_size p", "by simp"], ["proof (state)\nthis:\n  conjugation_action p g P \\<in> subgroups_of_size p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma conjugation_is_Bij:\n  assumes fin:\"finite (carrier G)\"\n  assumes g:\"g \\<in> carrier G\"\n  shows \"conjugation_action p g \\<in> Bij (subgroups_of_size p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "from g"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invg:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (rule inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "from g"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have \"conjugation_action p g \\<in> extensional (subgroups_of_size p)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> extensional (subgroups_of_size p)", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     g\n    \\<in> extensional (subgroups_of_size p)", "by simp"], ["proof (state)\nthis:\n  conjugation_action p g \\<in> extensional (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "moreover"], ["proof (state)\nthis:\n  conjugation_action p g \\<in> extensional (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "have \"bij_betw (conjugation_action p g) (subgroups_of_size p) (subgroups_of_size p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw (conjugation_action p g) (subgroups_of_size p)\n     (subgroups_of_size p)", "proof(auto simp add:bij_betw_def)"], ["proof (state)\ngoal (3 subgoals):\n 1. inj_on (conjugation_action p g) (subgroups_of_size p)\n 2. \\<And>xa.\n       xa \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjugation_action p g xa \\<in> subgroups_of_size p\n 3. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "show \"inj_on (conjugation_action p g) (subgroups_of_size p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (conjugation_action p g) (subgroups_of_size p)", "proof(rule inj_onI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix U V"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume U:\"U \\<in> subgroups_of_size p\" and V:\"V \\<in> subgroups_of_size p\""], ["proof (state)\nthis:\n  U \\<in> subgroups_of_size p\n  V \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence subsetG:\"U \\<subseteq> carrier G\" \"V \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  U \\<in> subgroups_of_size p\n  V \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. U \\<subseteq> carrier G &&& V \\<subseteq> carrier G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  U \\<in> {H. subgroup H G \\<and> card H = p}\n  V \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. U \\<subseteq> carrier G &&& V \\<subseteq> carrier G", "by (metis (lifting) mem_Collect_eq subgroup.subset)+"], ["proof (state)\nthis:\n  U \\<subseteq> carrier G\n  V \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence subsetL:\"U #> inv g \\<subseteq> carrier G\" \"V #> inv g \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  U \\<subseteq> carrier G\n  V \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. U #> inv g \\<subseteq> carrier G &&& V #> inv g \\<subseteq> carrier G", "by (metis invg r_coset_subset_G)+"], ["proof (state)\nthis:\n  U #> inv g \\<subseteq> carrier G\n  V #> inv g \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"conjugation_action p g U = conjugation_action p g V\""], ["proof (state)\nthis:\n  conjugation_action p g U = conjugation_action p g V\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with g U V"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  U \\<in> subgroups_of_size p\n  V \\<in> subgroups_of_size p\n  conjugation_action p g U = conjugation_action p g V", "have \"g <# (U #> inv g) = g <# (V #> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  U \\<in> subgroups_of_size p\n  V \\<in> subgroups_of_size p\n  conjugation_action p g U = conjugation_action p g V\n\ngoal (1 subgoal):\n 1. g <# (U #> inv g) = g <# (V #> inv g)", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  U \\<in> subgroups_of_size p\n  V \\<in> subgroups_of_size p\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   g U =\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   g V\n\ngoal (1 subgoal):\n 1. g <# (U #> inv g) = g <# (V #> inv g)", "by simp"], ["proof (state)\nthis:\n  g <# (U #> inv g) = g <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"(inv g) <# (g <# (U #> inv g)) = (inv g) <# (g <# (V #> inv g))\""], ["proof (prove)\nusing this:\n  g <# (U #> inv g) = g <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. inv g <# (g <# (U #> inv g)) = inv g <# (g <# (V #> inv g))", "by simp"], ["proof (state)\nthis:\n  inv g <# (g <# (U #> inv g)) = inv g <# (g <# (V #> inv g))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"(inv g \\<otimes> g) <# (U #> inv g) = (inv g \\<otimes> g) <# (V #> inv g)\""], ["proof (prove)\nusing this:\n  inv g <# (g <# (U #> inv g)) = inv g <# (g <# (V #> inv g))\n\ngoal (1 subgoal):\n 1. inv g \\<otimes> g <# (U #> inv g) = inv g \\<otimes> g <# (V #> inv g)", "by (metis g invg lcos_m_assoc r_coset_subset_G subsetG)"], ["proof (state)\nthis:\n  inv g \\<otimes> g <# (U #> inv g) = inv g \\<otimes> g <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"\\<one> <# (U #> inv g) = \\<one> <# (V #> inv g)\""], ["proof (prove)\nusing this:\n  inv g \\<otimes> g <# (U #> inv g) = inv g \\<otimes> g <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. \\<one> <# (U #> inv g) = \\<one> <# (V #> inv g)", "by (metis g l_inv)"], ["proof (state)\nthis:\n  \\<one> <# (U #> inv g) = \\<one> <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"U #> inv g = V #> inv g\""], ["proof (prove)\nusing this:\n  \\<one> <# (U #> inv g) = \\<one> <# (V #> inv g)\n\ngoal (1 subgoal):\n 1. U #> inv g = V #> inv g", "by (metis subsetL lcos_mult_one)"], ["proof (state)\nthis:\n  U #> inv g = V #> inv g\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"(U #> inv g) #> g = (V #> inv g) #> g\""], ["proof (prove)\nusing this:\n  U #> inv g = V #> inv g\n\ngoal (1 subgoal):\n 1. U #> inv g #> g = V #> inv g #> g", "by simp"], ["proof (state)\nthis:\n  U #> inv g #> g = V #> inv g #> g\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"U #> (inv g \\<otimes> g) = V #> (inv g \\<otimes> g)\""], ["proof (prove)\nusing this:\n  U #> inv g #> g = V #> inv g #> g\n\ngoal (1 subgoal):\n 1. U #> inv g \\<otimes> g = V #> inv g \\<otimes> g", "by (metis coset_mult_assoc g inv_closed subsetG)"], ["proof (state)\nthis:\n  U #> inv g \\<otimes> g = V #> inv g \\<otimes> g\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "hence \"U #> \\<one> = V #> \\<one>\""], ["proof (prove)\nusing this:\n  U #> inv g \\<otimes> g = V #> inv g \\<otimes> g\n\ngoal (1 subgoal):\n 1. U #> \\<one> = V #> \\<one>", "by (metis g l_inv)"], ["proof (state)\nthis:\n  U #> \\<one> = V #> \\<one>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> subgroups_of_size p; y \\<in> subgroups_of_size p;\n        conjugation_action p g x = conjugation_action p g y\\<rbrakk>\n       \\<Longrightarrow> x = y", "thus \"U = V\""], ["proof (prove)\nusing this:\n  U #> \\<one> = V #> \\<one>\n\ngoal (1 subgoal):\n 1. U = V", "by (metis coset_mult_one subsetG)"], ["proof (state)\nthis:\n  U = V\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inj_on (conjugation_action p g) (subgroups_of_size p)\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjugation_action p g xa \\<in> subgroups_of_size p\n 2. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjugation_action p g xa \\<in> subgroups_of_size p\n 2. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "fix P"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjugation_action p g xa \\<in> subgroups_of_size p\n 2. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "assume \"P \\<in> subgroups_of_size p\""], ["proof (state)\nthis:\n  P \\<in> subgroups_of_size p\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjugation_action p g xa \\<in> subgroups_of_size p\n 2. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "thus \"conjugation_action p g P \\<in> subgroups_of_size p\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjugation_action p g P \\<in> subgroups_of_size p", "by (metis fin g conjugation_is_size_invariant)"], ["proof (state)\nthis:\n  conjugation_action p g P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "assume P:\"P \\<in> subgroups_of_size p\""], ["proof (state)\nthis:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "with invg"], ["proof (chain)\npicking this:\n  inv g \\<in> carrier G\n  P \\<in> subgroups_of_size p", "have \"conjugation_action p (inv g) P \\<in> subgroups_of_size p\""], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjugation_action p (inv g) P \\<in> subgroups_of_size p", "by (metis fin invg conjugation_is_size_invariant)"], ["proof (state)\nthis:\n  conjugation_action p (inv g) P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "with invg P"], ["proof (chain)\npicking this:\n  inv g \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  conjugation_action p (inv g) P \\<in> subgroups_of_size p", "have \"(inv g) <# (P #> (inv (inv g))) \\<in> subgroups_of_size p\""], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  conjugation_action p (inv g) P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. inv g <# (P #> inv (inv g)) \\<in> subgroups_of_size p", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  inv g \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   (inv g) P\n  \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. inv g <# (P #> inv (inv g)) \\<in> subgroups_of_size p", "by simp"], ["proof (state)\nthis:\n  inv g <# (P #> inv (inv g)) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "hence 1:\"(inv g) <# (P #> g) \\<in> subgroups_of_size p\""], ["proof (prove)\nusing this:\n  inv g <# (P #> inv (inv g)) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. inv g <# (P #> g) \\<in> subgroups_of_size p", "by (metis g inv_inv)"], ["proof (state)\nthis:\n  inv g <# (P #> g) \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "have \"g <# (((inv g) <# (P #> g)) #> inv g) = (\\<Union>p \\<in> P. {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g <# (inv g <# (P #> g) #> inv g) =\n    (\\<Union>p\\<in>P.\n        {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)})", "unfolding r_coset_def l_coset_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>h\\<in>\\<Union>h\\<in>\\<Union>h\\<in>\\<Union>h\\<in>P.\n            {h \\<otimes> g}.\n                                    {inv g \\<otimes> h}.\n                      {h \\<otimes> inv g}.\n        {g \\<otimes> h}) =\n    (\\<Union>p\\<in>P.\n        {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)})", "by (simp add:m_assoc)"], ["proof (state)\nthis:\n  g <# (inv g <# (P #> g) #> inv g) =\n  (\\<Union>p\\<in>P.\n      {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)})\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "also"], ["proof (state)\nthis:\n  g <# (inv g <# (P #> g) #> inv g) =\n  (\\<Union>p\\<in>P.\n      {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)})\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "from P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p", "have PG:\"P \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier G", "by (auto simp add:subgroup.subset)"], ["proof (state)\nthis:\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "have \"\\<forall>p \\<in> P.  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>P.\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "proof(auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "fix p"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "assume \"p \\<in> P\""], ["proof (state)\nthis:\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "with PG"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier G\n  p \\<in> P", "have p:\"p \\<in> carrier G\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier G\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. p \\<in> carrier G", ".."], ["proof (state)\nthis:\n  p \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "with g invg"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  p \\<in> carrier G", "have \"g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = (g \\<otimes> inv g) \\<otimes> p \\<otimes> (g \\<otimes> inv g)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  p \\<in> carrier G\n\ngoal (1 subgoal):\n 1. g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) =\n    g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g)", "by (metis m_assoc m_closed)"], ["proof (state)\nthis:\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) =\n  g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "also"], ["proof (state)\nthis:\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) =\n  g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "with g invg g p"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<in> carrier G\n  p \\<in> carrier G\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) =\n  g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g)", "have \"... = p\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<in> carrier G\n  p \\<in> carrier G\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) =\n  g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g)\n\ngoal (1 subgoal):\n 1. g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g) = p", "by (metis l_one r_inv r_one)"], ["proof (state)\nthis:\n  g \\<otimes> inv g \\<otimes> p \\<otimes> (g \\<otimes> inv g) = p\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       p \\<in> P \\<Longrightarrow>\n       g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "finally"], ["proof (chain)\npicking this:\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "show \"g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\""], ["proof (prove)\nusing this:\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\n\ngoal (1 subgoal):\n 1. g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p", "."], ["proof (state)\nthis:\n  g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>p\\<in>P.\n     g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "hence \"(\\<Union>p \\<in> P. {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)}) = P\""], ["proof (prove)\nusing this:\n  \\<forall>p\\<in>P.\n     g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g) = p\n\ngoal (1 subgoal):\n 1. (\\<Union>p\\<in>P.\n        {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)}) =\n    P", "by simp"], ["proof (state)\nthis:\n  (\\<Union>p\\<in>P.\n      {g \\<otimes> (inv g \\<otimes> (p \\<otimes> g) \\<otimes> inv g)}) =\n  P\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "finally"], ["proof (chain)\npicking this:\n  g <# (inv g <# (P #> g) #> inv g) = P", "have \"g <# (((inv g) <# (P #> g)) #> inv g) = P\""], ["proof (prove)\nusing this:\n  g <# (inv g <# (P #> g) #> inv g) = P\n\ngoal (1 subgoal):\n 1. g <# (inv g <# (P #> g) #> inv g) = P", "."], ["proof (state)\nthis:\n  g <# (inv g <# (P #> g) #> inv g) = P\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "with 1"], ["proof (chain)\npicking this:\n  inv g <# (P #> g) \\<in> subgroups_of_size p\n  g <# (inv g <# (P #> g) #> inv g) = P", "have \"P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p\""], ["proof (prove)\nusing this:\n  inv g <# (P #> g) \\<in> subgroups_of_size p\n  g <# (inv g <# (P #> g) #> inv g) = P\n\ngoal (1 subgoal):\n 1. P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p", "by auto"], ["proof (state)\nthis:\n  P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> subgroups_of_size p \\<Longrightarrow>\n       x \\<in> conjugation_action p g ` subgroups_of_size p", "with P g"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p", "show \"P \\<in> conjugation_action p g ` subgroups_of_size p\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<in> conjugation_action p g ` subgroups_of_size p", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  g \\<in> carrier G\n  P \\<in> (\\<lambda>P. g <# (P #> inv g)) ` subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<in> (\\<lambda>g\\<in>carrier G.\n                \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n             g `\n            subgroups_of_size p", "by simp"], ["proof (state)\nthis:\n  P \\<in> conjugation_action p g ` subgroups_of_size p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bij_betw (conjugation_action p g) (subgroups_of_size p)\n   (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "ultimately"], ["proof (chain)\npicking this:\n  conjugation_action p g \\<in> extensional (subgroups_of_size p)\n  bij_betw (conjugation_action p g) (subgroups_of_size p)\n   (subgroups_of_size p)", "show ?thesis"], ["proof (prove)\nusing this:\n  conjugation_action p g \\<in> extensional (subgroups_of_size p)\n  bij_betw (conjugation_action p g) (subgroups_of_size p)\n   (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> Bij (subgroups_of_size p)", "unfolding BijGroup_def Bij_def"], ["proof (prove)\nusing this:\n  conjugation_action p g \\<in> extensional (subgroups_of_size p)\n  bij_betw (conjugation_action p g) (subgroups_of_size p)\n   (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjugation_action p g\n    \\<in> extensional (subgroups_of_size p) \\<inter>\n          {f. bij_betw f (subgroups_of_size p) (subgroups_of_size p)}", "by simp"], ["proof (state)\nthis:\n  conjugation_action p g \\<in> Bij (subgroups_of_size p)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lr_coset_assoc:\n  assumes g:\"g \\<in> carrier G\"\n  assumes h:\"h \\<in> carrier G\"\n  assumes P:\"P \\<subseteq> carrier G\"\n  shows \"g <# (P #> h) = (g <# P) #> h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g <# (P #> h) = g <# P #> h", "proof(auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "assume \"x \\<in> g <# (P #> h)\""], ["proof (state)\nthis:\n  x \\<in> g <# (P #> h)\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# (P #> h)", "obtain p where \"p \\<in> P\" and p:\"x = g \\<otimes> (p \\<otimes> h)\""], ["proof (prove)\nusing this:\n  x \\<in> g <# (P #> h)\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> P; x = g \\<otimes> (p \\<otimes> h)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def r_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>h\\<in>\\<Union>ha\\<in>P. {ha \\<otimes> h}.\n              {g \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> P; x = g \\<otimes> (p \\<otimes> h)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with P"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier G\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)", "have \"p \\<in> carrier G\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier G\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)\n\ngoal (1 subgoal):\n 1. p \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  p \\<in> carrier G\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with g h p"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  h \\<in> carrier G\n  x = g \\<otimes> (p \\<otimes> h)\n  p \\<in> carrier G", "have \"x = (g \\<otimes> p) \\<otimes> h\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  h \\<in> carrier G\n  x = g \\<otimes> (p \\<otimes> h)\n  p \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x = g \\<otimes> p \\<otimes> h", "by (metis m_assoc)"], ["proof (state)\nthis:\n  x = g \\<otimes> p \\<otimes> h\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> g <# (P #> h) \\<Longrightarrow> x \\<in> g <# P #> h\n 2. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with \\<open>p \\<in> P\\<close>"], ["proof (chain)\npicking this:\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h", "show \"x \\<in> (g <# P) #> h\""], ["proof (prove)\nusing this:\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h\n\ngoal (1 subgoal):\n 1. x \\<in> g <# P #> h", "unfolding l_coset_def r_coset_def"], ["proof (prove)\nusing this:\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>ha\\<in>\\<Union>h\\<in>P. {g \\<otimes> h}.\n                {ha \\<otimes> h})", "by auto"], ["proof (state)\nthis:\n  x \\<in> g <# P #> h\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "assume \"x \\<in> (g <# P) #> h\""], ["proof (state)\nthis:\n  x \\<in> g <# P #> h\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "then"], ["proof (chain)\npicking this:\n  x \\<in> g <# P #> h", "obtain p where \"p \\<in> P\" and p:\"x = (g \\<otimes> p) \\<otimes> h\""], ["proof (prove)\nusing this:\n  x \\<in> g <# P #> h\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> P; x = g \\<otimes> p \\<otimes> h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding l_coset_def r_coset_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>ha\\<in>\\<Union>h\\<in>P. {g \\<otimes> h}.\n              {ha \\<otimes> h})\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> P; x = g \\<otimes> p \\<otimes> h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with P"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier G\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h", "have \"p \\<in> carrier G\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier G\n  p \\<in> P\n  x = g \\<otimes> p \\<otimes> h\n\ngoal (1 subgoal):\n 1. p \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  p \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with g h p"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  h \\<in> carrier G\n  x = g \\<otimes> p \\<otimes> h\n  p \\<in> carrier G", "have \"x = g \\<otimes> (p \\<otimes> h)\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  h \\<in> carrier G\n  x = g \\<otimes> p \\<otimes> h\n  p \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x = g \\<otimes> (p \\<otimes> h)", "by (metis m_assoc)"], ["proof (state)\nthis:\n  x = g \\<otimes> (p \\<otimes> h)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> g <# P #> h \\<Longrightarrow> x \\<in> g <# (P #> h)", "with \\<open>p \\<in> P\\<close>"], ["proof (chain)\npicking this:\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)", "show \"x \\<in> g <# (P #> h)\""], ["proof (prove)\nusing this:\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)\n\ngoal (1 subgoal):\n 1. x \\<in> g <# (P #> h)", "unfolding l_coset_def r_coset_def"], ["proof (prove)\nusing this:\n  p \\<in> P\n  x = g \\<otimes> (p \\<otimes> h)\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>h\\<in>\\<Union>ha\\<in>P. {ha \\<otimes> h}.\n                {g \\<otimes> h})", "by auto"], ["proof (state)\nthis:\n  x \\<in> g <# (P #> h)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem acts_on_subsets:\n  assumes fin:\"finite (carrier G)\"\n  shows \"group_action G (conjugation_action p) (subgroups_of_size p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. group_action G (conjugation_action p) (subgroups_of_size p)", "unfolding group_action_def group_action_axioms_def group_hom_def group_hom_axioms_def hom_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group G \\<and>\n    Group.group G \\<and>\n    Group.group (BijGroup (subgroups_of_size p)) \\<and>\n    conjugation_action p\n    \\<in> {h \\<in> carrier G \\<rightarrow>\n                   carrier (BijGroup (subgroups_of_size p)).\n           \\<forall>x\\<in>carrier G.\n              \\<forall>y\\<in>carrier G.\n                 h (x \\<otimes> y) =\n                 h x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                 h y}", "apply(auto simp add:is_group group_BijGroup)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> carrier G \\<Longrightarrow>\n       conjugation_action p x \\<in> carrier (BijGroup (subgroups_of_size p))\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> carrier G \\<Longrightarrow>\n       conjugation_action p x \\<in> carrier (BijGroup (subgroups_of_size p))\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "fix g"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> carrier G \\<Longrightarrow>\n       conjugation_action p x \\<in> carrier (BijGroup (subgroups_of_size p))\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "assume g:\"g \\<in> carrier G\""], ["proof (state)\nthis:\n  g \\<in> carrier G\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> carrier G \\<Longrightarrow>\n       conjugation_action p x \\<in> carrier (BijGroup (subgroups_of_size p))\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "with fin"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  g \\<in> carrier G", "show \"conjugation_action p g \\<in> carrier (BijGroup (subgroups_of_size p))\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g \\<in> carrier (BijGroup (subgroups_of_size p))", "unfolding BijGroup_def"], ["proof (prove)\nusing this:\n  finite (carrier G)\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p g\n    \\<in> carrier\n           \\<lparr>carrier = Bij (subgroups_of_size p),\n              monoid.mult =\n                \\<lambda>g\\<in>Bij (subgroups_of_size p).\n                   restrict (compose (subgroups_of_size p) g)\n                    (Bij (subgroups_of_size p)),\n              one = \\<lambda>x\\<in>subgroups_of_size p. x\\<rparr>", "by (metis conjugation_is_Bij partial_object.select_convs(1))"], ["proof (state)\nthis:\n  conjugation_action p g \\<in> carrier (BijGroup (subgroups_of_size p))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "assume x:\"x \\<in> carrier G\" and y:\"y \\<in> carrier G\""], ["proof (state)\nthis:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "hence invx:\"inv x \\<in> carrier G\" and invy:\"inv y \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv x \\<in> carrier G &&& inv y \\<in> carrier G", "by (metis inv_closed)+"], ["proof (state)\nthis:\n  inv x \\<in> carrier G\n  inv y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  y \\<in> carrier G", "have xyG:\"x \\<otimes> y \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> carrier G", "by (metis m_closed)"], ["proof (state)\nthis:\n  x \\<otimes> y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "define conjx where \"conjx = conjugation_action p x\""], ["proof (state)\nthis:\n  conjx = conjugation_action p x\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "define conjy where \"conjy = conjugation_action p y\""], ["proof (state)\nthis:\n  conjy = conjugation_action p y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "from fin x"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  x \\<in> carrier G", "have xBij:\"conjx \\<in> Bij (subgroups_of_size p)\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjx \\<in> Bij (subgroups_of_size p)", "unfolding conjx_def"], ["proof (prove)\nusing this:\n  finite (carrier G)\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p x \\<in> Bij (subgroups_of_size p)", "by (metis conjugation_is_Bij)"], ["proof (state)\nthis:\n  conjx \\<in> Bij (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "from fin y"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  y \\<in> carrier G", "have yBij:\"conjy \\<in> Bij (subgroups_of_size p)\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjy \\<in> Bij (subgroups_of_size p)", "unfolding conjy_def"], ["proof (prove)\nusing this:\n  finite (carrier G)\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p y \\<in> Bij (subgroups_of_size p)", "by (metis conjugation_is_Bij)"], ["proof (state)\nthis:\n  conjy \\<in> Bij (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "have \"conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy\n    = (\\<lambda>g\\<in>Bij (subgroups_of_size p). restrict (compose (subgroups_of_size p) g) (Bij (subgroups_of_size p))) conjx conjy\""], ["proof (prove)\ngoal (1 subgoal):\n 1. conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n    (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n        restrict (compose (subgroups_of_size p) g)\n         (Bij (subgroups_of_size p)))\n     conjx conjy", "unfolding BijGroup_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. conjx \\<otimes>\\<^bsub>\\<lparr>carrier = Bij (subgroups_of_size p), monoid.mult = \\<lambda>g\\<in>Bij (subgroups_of_size p). restrict (compose (subgroups_of_size p) g) (Bij (subgroups_of_size p)), one = \\<lambda>x\\<in>subgroups_of_size p. x\\<rparr>\\<^esub>\n    conjy =\n    (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n        restrict (compose (subgroups_of_size p) g)\n         (Bij (subgroups_of_size p)))\n     conjx conjy", "by simp"], ["proof (state)\nthis:\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n      restrict (compose (subgroups_of_size p) g)\n       (Bij (subgroups_of_size p)))\n   conjx conjy\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "also"], ["proof (state)\nthis:\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n      restrict (compose (subgroups_of_size p) g)\n       (Bij (subgroups_of_size p)))\n   conjx conjy\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "from xBij yBij"], ["proof (chain)\npicking this:\n  conjx \\<in> Bij (subgroups_of_size p)\n  conjy \\<in> Bij (subgroups_of_size p)", "have \"... = compose (subgroups_of_size p) conjx conjy\""], ["proof (prove)\nusing this:\n  conjx \\<in> Bij (subgroups_of_size p)\n  conjy \\<in> Bij (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n        restrict (compose (subgroups_of_size p) g)\n         (Bij (subgroups_of_size p)))\n     conjx conjy =\n    compose (subgroups_of_size p) conjx conjy", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n      restrict (compose (subgroups_of_size p) g)\n       (Bij (subgroups_of_size p)))\n   conjx conjy =\n  compose (subgroups_of_size p) conjx conjy\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "also"], ["proof (state)\nthis:\n  (\\<lambda>g\\<in>Bij (subgroups_of_size p).\n      restrict (compose (subgroups_of_size p) g)\n       (Bij (subgroups_of_size p)))\n   conjx conjy =\n  compose (subgroups_of_size p) conjx conjy\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "have \"... = (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compose (subgroups_of_size p) conjx conjy =\n    (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P))", "by (metis compose_def)"], ["proof (state)\nthis:\n  compose (subgroups_of_size p) conjx conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "also"], ["proof (state)\nthis:\n  compose (subgroups_of_size p) conjx conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "have \"... = (\\<lambda>P\\<in>subgroups_of_size p. x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P)) =\n    (\\<lambda>P\\<in>subgroups_of_size p.\n        x \\<otimes> y <# (P #> inv (x \\<otimes> y)))", "proof(rule restrict_ext)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "assume P:\"P \\<in> subgroups_of_size p\""], ["proof (state)\nthis:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "hence PG:\"P \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. P \\<subseteq> carrier G", "by (auto simp:subgroup.subset)"], ["proof (state)\nthis:\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "with y"], ["proof (chain)\npicking this:\n  y \\<in> carrier G\n  P \\<subseteq> carrier G", "have yPG:\"y <# P \\<subseteq> carrier G\""], ["proof (prove)\nusing this:\n  y \\<in> carrier G\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. y <# P \\<subseteq> carrier G", "by (metis l_coset_subset_G)"], ["proof (state)\nthis:\n  y <# P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  y \\<in> carrier G", "have invxyG:\"inv (x \\<otimes> y) \\<in> carrier G\" and xyG:\"x \\<otimes> y \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv (x \\<otimes> y) \\<in> carrier G &&& x \\<otimes> y \\<in> carrier G", "using inv_closed m_closed"], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  ?x \\<in> carrier G \\<Longrightarrow> inv ?x \\<in> carrier G\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G\\<rbrakk>\n  \\<Longrightarrow> ?x \\<otimes> ?y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv (x \\<otimes> y) \\<in> carrier G &&& x \\<otimes> y \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  inv (x \\<otimes> y) \\<in> carrier G\n  x \\<otimes> y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from yBij"], ["proof (chain)\npicking this:\n  conjy \\<in> Bij (subgroups_of_size p)", "have \"conjy ` subgroups_of_size p = subgroups_of_size p\""], ["proof (prove)\nusing this:\n  conjy \\<in> Bij (subgroups_of_size p)\n\ngoal (1 subgoal):\n 1. conjy ` subgroups_of_size p = subgroups_of_size p", "unfolding Bij_def bij_betw_def"], ["proof (prove)\nusing this:\n  conjy\n  \\<in> extensional (subgroups_of_size p) \\<inter>\n        {f. inj_on f (subgroups_of_size p) \\<and>\n            f ` subgroups_of_size p = subgroups_of_size p}\n\ngoal (1 subgoal):\n 1. conjy ` subgroups_of_size p = subgroups_of_size p", "by simp"], ["proof (state)\nthis:\n  conjy ` subgroups_of_size p = subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "with P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  conjy ` subgroups_of_size p = subgroups_of_size p", "have conjyP:\"conjy P \\<in> subgroups_of_size p\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  conjy ` subgroups_of_size p = subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjy P \\<in> subgroups_of_size p", "unfolding Bij_def bij_betw_def"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  conjy ` subgroups_of_size p = subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjy P \\<in> subgroups_of_size p", "by (metis (full_types) imageI)"], ["proof (state)\nthis:\n  conjy P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "with x y P"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  conjy P \\<in> subgroups_of_size p", "have \"conjx (conjy P) = x <# ((y <# (P #> inv y)) #> inv x)\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  conjy P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. conjx (conjy P) = x <# (y <# (P #> inv y) #> inv x)", "unfolding conjy_def conjx_def conjugation_action_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  P \\<in> subgroups_of_size p\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   y P\n  \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     x ((\\<lambda>g\\<in>carrier G.\n            \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n         y P) =\n    x <# (y <# (P #> inv y) #> inv x)", "by simp"], ["proof (state)\nthis:\n  conjx (conjy P) = x <# (y <# (P #> inv y) #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  conjx (conjy P) = x <# (y <# (P #> inv y) #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from y invy PG"], ["proof (chain)\npicking this:\n  y \\<in> carrier G\n  inv y \\<in> carrier G\n  P \\<subseteq> carrier G", "have \"... = x <# (((y <# P) #> inv y) #> inv x)\""], ["proof (prove)\nusing this:\n  y \\<in> carrier G\n  inv y \\<in> carrier G\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. x <# (y <# (P #> inv y) #> inv x) = x <# (y <# P #> inv y #> inv x)", "by (metis lr_coset_assoc)"], ["proof (state)\nthis:\n  x <# (y <# (P #> inv y) #> inv x) = x <# (y <# P #> inv y #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  x <# (y <# (P #> inv y) #> inv x) = x <# (y <# P #> inv y #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from PG invx invy y"], ["proof (chain)\npicking this:\n  P \\<subseteq> carrier G\n  inv x \\<in> carrier G\n  inv y \\<in> carrier G\n  y \\<in> carrier G", "have \"... = x <# ((y <# P) #> (inv y \\<otimes> inv x))\""], ["proof (prove)\nusing this:\n  P \\<subseteq> carrier G\n  inv x \\<in> carrier G\n  inv y \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x <# (y <# P #> inv y #> inv x) = x <# (y <# P #> inv y \\<otimes> inv x)", "by (metis coset_mult_assoc yPG)"], ["proof (state)\nthis:\n  x <# (y <# P #> inv y #> inv x) = x <# (y <# P #> inv y \\<otimes> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  x <# (y <# P #> inv y #> inv x) = x <# (y <# P #> inv y \\<otimes> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  y \\<in> carrier G", "have \"... = x <# ((y <# P) #> inv (x \\<otimes> y))\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x <# (y <# P #> inv y \\<otimes> inv x) =\n    x <# (y <# P #> inv (x \\<otimes> y))", "by (metis inv_mult_group)"], ["proof (state)\nthis:\n  x <# (y <# P #> inv y \\<otimes> inv x) =\n  x <# (y <# P #> inv (x \\<otimes> y))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  x <# (y <# P #> inv y \\<otimes> inv x) =\n  x <# (y <# P #> inv (x \\<otimes> y))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from invxyG x yPG"], ["proof (chain)\npicking this:\n  inv (x \\<otimes> y) \\<in> carrier G\n  x \\<in> carrier G\n  y <# P \\<subseteq> carrier G", "have \"... = (x <# (y <# P)) #> inv (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  inv (x \\<otimes> y) \\<in> carrier G\n  x \\<in> carrier G\n  y <# P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. x <# (y <# P #> inv (x \\<otimes> y)) =\n    x <# (y <# P) #> inv (x \\<otimes> y)", "by (metis lr_coset_assoc)"], ["proof (state)\nthis:\n  x <# (y <# P #> inv (x \\<otimes> y)) =\n  x <# (y <# P) #> inv (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  x <# (y <# P #> inv (x \\<otimes> y)) =\n  x <# (y <# P) #> inv (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from x y PG"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  P \\<subseteq> carrier G", "have \"... = ((x \\<otimes> y) <# P) #> inv (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. x <# (y <# P) #> inv (x \\<otimes> y) =\n    x \\<otimes> y <# P #> inv (x \\<otimes> y)", "by (metis lcos_m_assoc)"], ["proof (state)\nthis:\n  x <# (y <# P) #> inv (x \\<otimes> y) =\n  x \\<otimes> y <# P #> inv (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "also"], ["proof (state)\nthis:\n  x <# (y <# P) #> inv (x \\<otimes> y) =\n  x \\<otimes> y <# P #> inv (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "from xyG invxyG PG"], ["proof (chain)\npicking this:\n  x \\<otimes> y \\<in> carrier G\n  inv (x \\<otimes> y) \\<in> carrier G\n  P \\<subseteq> carrier G", "have \"... = (x \\<otimes> y) <# (P #> inv (x \\<otimes> y))\""], ["proof (prove)\nusing this:\n  x \\<otimes> y \\<in> carrier G\n  inv (x \\<otimes> y) \\<in> carrier G\n  P \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. x \\<otimes> y <# P #> inv (x \\<otimes> y) =\n    x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "by (metis lr_coset_assoc)"], ["proof (state)\nthis:\n  x \\<otimes> y <# P #> inv (x \\<otimes> y) =\n  x \\<otimes> y <# (P #> inv (x \\<otimes> y))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       P \\<in> subgroups_of_size p \\<Longrightarrow>\n       conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "finally"], ["proof (chain)\npicking this:\n  conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "show \"conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))\""], ["proof (prove)\nusing this:\n  conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))\n\ngoal (1 subgoal):\n 1. conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))", "."], ["proof (state)\nthis:\n  conjx (conjy P) = x \\<otimes> y <# (P #> inv (x \\<otimes> y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>P\\<in>subgroups_of_size p. conjx (conjy P)) =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "finally"], ["proof (chain)\npicking this:\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))", "have \"conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy = (\\<lambda>P\\<in>subgroups_of_size p. x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\""], ["proof (prove)\nusing this:\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\n\ngoal (1 subgoal):\n 1. conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n    (\\<lambda>P\\<in>subgroups_of_size p.\n        x \\<otimes> y <# (P #> inv (x \\<otimes> y)))", "."], ["proof (state)\nthis:\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier G; y \\<in> carrier G\\<rbrakk>\n       \\<Longrightarrow> conjugation_action p (x \\<otimes> y) =\n                         conjugation_action p\n                          x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n                         conjugation_action p y", "with xyG"], ["proof (chain)\npicking this:\n  x \\<otimes> y \\<in> carrier G\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))", "show \"conjugation_action p (x \\<otimes> y)\n    = conjugation_action p x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjugation_action p y\""], ["proof (prove)\nusing this:\n  x \\<otimes> y \\<in> carrier G\n  conjx \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub> conjy =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\n\ngoal (1 subgoal):\n 1. conjugation_action p (x \\<otimes> y) =\n    conjugation_action p\n     x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n    conjugation_action p y", "unfolding conjx_def conjy_def conjugation_action_def"], ["proof (prove)\nusing this:\n  x \\<otimes> y \\<in> carrier G\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n  (\\<lambda>g\\<in>carrier G.\n      \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n   y =\n  (\\<lambda>P\\<in>subgroups_of_size p.\n      x \\<otimes> y <# (P #> inv (x \\<otimes> y)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     (x \\<otimes> y) =\n    (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n    (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     y", "by simp"], ["proof (state)\nthis:\n  conjugation_action p (x \\<otimes> y) =\n  conjugation_action p\n   x \\<otimes>\\<^bsub>BijGroup (subgroups_of_size p)\\<^esub>\n  conjugation_action p y\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Properties of the Conjugation Action\\<close>"], ["", "lemma stabilizer_contains_P:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  shows \"P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> group_action.stabilizer G (conjugation_action p) P", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> P \\<Longrightarrow>\n       x \\<in> group_action.stabilizer G (conjugation_action p) P", "from P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p", "have PG:\"subgroup P G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. subgroup P G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. subgroup P G", "by simp"], ["proof (state)\nthis:\n  subgroup P G\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> P \\<Longrightarrow>\n       x \\<in> group_action.stabilizer G (conjugation_action p) P", "from fin"], ["proof (chain)\npicking this:\n  finite (carrier G)", "interpret conj:group_action G \"(conjugation_action p)\" \"(subgroups_of_size p)\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n\ngoal (1 subgoal):\n 1. group_action G (conjugation_action p) (subgroups_of_size p)", "by (rule acts_on_subsets)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "assume x:\"x \\<in> P\""], ["proof (state)\nthis:\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "with PG"], ["proof (chain)\npicking this:\n  subgroup P G\n  x \\<in> P", "have \"inv x \\<in> P\""], ["proof (prove)\nusing this:\n  subgroup P G\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. inv x \\<in> P", "by (metis subgroup.m_inv_closed)"], ["proof (state)\nthis:\n  inv x \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "from x P"], ["proof (chain)\npicking this:\n  x \\<in> P\n  P \\<in> subgroups_of_size p", "have xG:\"x \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> P\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G", "unfolding subgroups_of_size_def subgroup_def"], ["proof (prove)\nusing this:\n  x \\<in> P\n  P \\<in> {H. ((H \\<subseteq> carrier G \\<and>\n                (\\<forall>x y.\n                    x \\<in> H \\<longrightarrow>\n                    y \\<in> H \\<longrightarrow>\n                    x \\<otimes> y \\<in> H)) \\<and>\n               \\<one> \\<in> H \\<and>\n               (\\<forall>x.\n                   x \\<in> H \\<longrightarrow> inv x \\<in> H)) \\<and>\n              card H = p}\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "with P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  x \\<in> carrier G", "have \"conjugation_action p x P = x <# (P #> inv x)\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. conjugation_action p x P = x <# (P #> inv x)", "unfolding conjugation_action_def"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. (\\<lambda>g\\<in>carrier G.\n        \\<lambda>P\\<in>subgroups_of_size p. g <# (P #> inv g))\n     x P =\n    x <# (P #> inv x)", "by simp"], ["proof (state)\nthis:\n  conjugation_action p x P = x <# (P #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "also"], ["proof (state)\nthis:\n  conjugation_action p x P = x <# (P #> inv x)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "from \\<open>inv x \\<in> P\\<close> PG"], ["proof (chain)\npicking this:\n  inv x \\<in> P\n  subgroup P G", "have \"... = x <# P\""], ["proof (prove)\nusing this:\n  inv x \\<in> P\n  subgroup P G\n\ngoal (1 subgoal):\n 1. x <# (P #> inv x) = x <# P", "by (metis coset_join2 subgroup.mem_carrier)"], ["proof (state)\nthis:\n  x <# (P #> inv x) = x <# P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "also"], ["proof (state)\nthis:\n  x <# (P #> inv x) = x <# P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "from PG x"], ["proof (chain)\npicking this:\n  subgroup P G\n  x \\<in> P", "have \"... = P\""], ["proof (prove)\nusing this:\n  subgroup P G\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. x <# P = P", "by (rule lcoset_join2)"], ["proof (state)\nthis:\n  x <# P = P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "finally"], ["proof (chain)\npicking this:\n  conjugation_action p x P = P", "have \"conjugation_action p x P = P\""], ["proof (prove)\nusing this:\n  conjugation_action p x P = P\n\ngoal (1 subgoal):\n 1. conjugation_action p x P = P", "."], ["proof (state)\nthis:\n  conjugation_action p x P = P\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> P \\<Longrightarrow> x \\<in> conj.stabilizer P", "with xG"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  conjugation_action p x P = P", "show \"x \\<in> group_action.stabilizer G (conjugation_action p) P\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  conjugation_action p x P = P\n\ngoal (1 subgoal):\n 1. x \\<in> conj.stabilizer P", "unfolding conj.stabilizer_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  conjugation_action p x P = P\n\ngoal (1 subgoal):\n 1. x \\<in> {g \\<in> carrier G. conjugation_action p g P = P}", "by simp"], ["proof (state)\nthis:\n  x \\<in> conj.stabilizer P\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary stabilizer_supergrp_P:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  shows \"subgroup P (G\\<lparr>carrier := group_action.stabilizer G (conjugation_action p) P\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "from assms"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  P \\<in> subgroups_of_size p", "have \"P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<subseteq> group_action.stabilizer G (conjugation_action p) P", "by (rule stabilizer_contains_P)"], ["proof (state)\nthis:\n  P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "moreover"], ["proof (state)\nthis:\n  P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "from P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p", "have \"subgroup P G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. subgroup P G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. subgroup P G", "by simp"], ["proof (state)\nthis:\n  subgroup P G\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "moreover"], ["proof (state)\nthis:\n  subgroup P G\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "from P fin"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  finite (carrier G)", "have \"subgroup (group_action.stabilizer G (conjugation_action p) P) G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  finite (carrier G)\n\ngoal (1 subgoal):\n 1. subgroup (group_action.stabilizer G (conjugation_action p) P) G", "by (metis acts_on_subsets group_action.stabilizer_is_subgroup)"], ["proof (state)\nthis:\n  subgroup (group_action.stabilizer G (conjugation_action p) P) G\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "ultimately"], ["proof (chain)\npicking this:\n  P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\n  subgroup P G\n  subgroup (group_action.stabilizer G (conjugation_action p) P) G", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<subseteq> group_action.stabilizer G (conjugation_action p) P\n  subgroup P G\n  subgroup (group_action.stabilizer G (conjugation_action p) P) G\n\ngoal (1 subgoal):\n 1. subgroup P\n     (G\\<lparr>carrier :=\n                 group_action.stabilizer G (conjugation_action p) P\\<rparr>)", "by (metis is_group subgroup.subgroup_of_subset)"], ["proof (state)\nthis:\n  subgroup P\n   (G\\<lparr>carrier :=\n               group_action.stabilizer G (conjugation_action p) P\\<rparr>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in group) P_fixed_point_of_P_conj:\n  assumes fin:\"finite (carrier G)\"\n  assumes P:\"P \\<in> subgroups_of_size p\"\n  shows \"P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>) (conjugation_action p) (subgroups_of_size p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>)\n             (conjugation_action p) (subgroups_of_size p)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>)\n             (conjugation_action p) (subgroups_of_size p)", "from fin"], ["proof (chain)\npicking this:\n  finite (carrier G)", "interpret conjG: group_action G \"conjugation_action p\" \"subgroups_of_size p\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n\ngoal (1 subgoal):\n 1. group_action G (conjugation_action p) (subgroups_of_size p)", "by (rule acts_on_subsets)"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>)\n             (conjugation_action p) (subgroups_of_size p)", "from P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p", "have \"subgroup P G\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. subgroup P G", "unfolding subgroups_of_size_def"], ["proof (prove)\nusing this:\n  P \\<in> {H. subgroup H G \\<and> card H = p}\n\ngoal (1 subgoal):\n 1. subgroup P G", "by simp"], ["proof (state)\nthis:\n  subgroup P G\n\ngoal (1 subgoal):\n 1. P \\<in> group_action.fixed_points (G\\<lparr>carrier := P\\<rparr>)\n             (conjugation_action p) (subgroups_of_size p)", "with fin"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  subgroup P G", "interpret conjP: group_action \"G\\<lparr>carrier := P\\<rparr>\" \"(conjugation_action p)\" \"(subgroups_of_size p)\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  subgroup P G\n\ngoal (1 subgoal):\n 1. group_action (G\\<lparr>carrier := P\\<rparr>) (conjugation_action p)\n     (subgroups_of_size p)", "by (metis acts_on_subsets group_action.subgroup_action)"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<in> conjP.fixed_points", "from fin P"], ["proof (chain)\npicking this:\n  finite (carrier G)\n  P \\<in> subgroups_of_size p", "have \"P \\<subseteq> conjG.stabilizer P\""], ["proof (prove)\nusing this:\n  finite (carrier G)\n  P \\<in> subgroups_of_size p\n\ngoal (1 subgoal):\n 1. P \\<subseteq> conjG.stabilizer P", "by (rule stabilizer_contains_P)"], ["proof (state)\nthis:\n  P \\<subseteq> conjG.stabilizer P\n\ngoal (1 subgoal):\n 1. P \\<in> conjP.fixed_points", "hence \"P \\<subseteq> conjP.stabilizer P\""], ["proof (prove)\nusing this:\n  P \\<subseteq> conjG.stabilizer P\n\ngoal (1 subgoal):\n 1. P \\<subseteq> conjP.stabilizer P", "using conjG.stabilizer_def conjP.stabilizer_def"], ["proof (prove)\nusing this:\n  P \\<subseteq> conjG.stabilizer P\n  conjG.stabilizer ?m = {g \\<in> carrier G. conjugation_action p g ?m = ?m}\n  conjP.stabilizer ?m =\n  {g \\<in> carrier (G\\<lparr>carrier := P\\<rparr>).\n   conjugation_action p g ?m = ?m}\n\ngoal (1 subgoal):\n 1. P \\<subseteq> conjP.stabilizer P", "by auto"], ["proof (state)\nthis:\n  P \\<subseteq> conjP.stabilizer P\n\ngoal (1 subgoal):\n 1. P \\<in> conjP.fixed_points", "with P"], ["proof (chain)\npicking this:\n  P \\<in> subgroups_of_size p\n  P \\<subseteq> conjP.stabilizer P", "show \"P \\<in> conjP.fixed_points\""], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  P \\<subseteq> conjP.stabilizer P\n\ngoal (1 subgoal):\n 1. P \\<in> conjP.fixed_points", "unfolding conjP.fixed_points_def"], ["proof (prove)\nusing this:\n  P \\<in> subgroups_of_size p\n  P \\<subseteq> conjP.stabilizer P\n\ngoal (1 subgoal):\n 1. P \\<in> {m \\<in> subgroups_of_size p.\n             carrier (G\\<lparr>carrier := P\\<rparr>)\n             \\<subseteq> conjP.stabilizer m}", "by auto"], ["proof (state)\nthis:\n  P \\<in> conjP.fixed_points\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma conj_wo_inv:\n  assumes QG:\"subgroup Q G\"\n  assumes PG:\"subgroup P G\"\n  assumes g:\"g \\<in> carrier G\"\n  assumes conj:\"inv g <# (Q #> g) = P\"\n  shows \"Q #> g = g <# P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "from g"], ["proof (chain)\npicking this:\n  g \\<in> carrier G", "have invg:\"inv g \\<in> carrier G\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv g \\<in> carrier G", "by (metis inv_closed)"], ["proof (state)\nthis:\n  inv g \\<in> carrier G\n\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "from conj"], ["proof (chain)\npicking this:\n  inv g <# (Q #> g) = P", "have \"g <# (inv g <# (Q #> g)) = g <# P\""], ["proof (prove)\nusing this:\n  inv g <# (Q #> g) = P\n\ngoal (1 subgoal):\n 1. g <# (inv g <# (Q #> g)) = g <# P", "by simp"], ["proof (state)\nthis:\n  g <# (inv g <# (Q #> g)) = g <# P\n\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "with QG g invg"], ["proof (chain)\npicking this:\n  subgroup Q G\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g <# (inv g <# (Q #> g)) = g <# P", "have \"(g \\<otimes> inv g) <# (Q #> g) = g <# P\""], ["proof (prove)\nusing this:\n  subgroup Q G\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g <# (inv g <# (Q #> g)) = g <# P\n\ngoal (1 subgoal):\n 1. g \\<otimes> inv g <# (Q #> g) = g <# P", "by (metis lcos_m_assoc r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  g \\<otimes> inv g <# (Q #> g) = g <# P\n\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "with g invg"], ["proof (chain)\npicking this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<otimes> inv g <# (Q #> g) = g <# P", "have \"\\<one> <# (Q #> g) = g <# P\""], ["proof (prove)\nusing this:\n  g \\<in> carrier G\n  inv g \\<in> carrier G\n  g \\<otimes> inv g <# (Q #> g) = g <# P\n\ngoal (1 subgoal):\n 1. \\<one> <# (Q #> g) = g <# P", "by (metis r_inv)"], ["proof (state)\nthis:\n  \\<one> <# (Q #> g) = g <# P\n\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "with QG g"], ["proof (chain)\npicking this:\n  subgroup Q G\n  g \\<in> carrier G\n  \\<one> <# (Q #> g) = g <# P", "show \"Q #> g = g <# P\""], ["proof (prove)\nusing this:\n  subgroup Q G\n  g \\<in> carrier G\n  \\<one> <# (Q #> g) = g <# P\n\ngoal (1 subgoal):\n 1. Q #> g = g <# P", "by (metis lcos_mult_one r_coset_subset_G subgroup.subset)"], ["proof (state)\nthis:\n  Q #> g = g <# P\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}