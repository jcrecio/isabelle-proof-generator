{"file_name": "/home/qj213/afp-2021-10-22/thys/Poincare_Disc/Poincare_Perpendicular.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Poincare_Disc", "problem_names": ["lemma perpendicular_to_x_axis:\n  assumes \"is_poincare_line H\"\n  shows \"perpendicular_to_x_axis H \\<longleftrightarrow> perpendicular x_axis H\"", "lemma perpendicular_to_x_axis_y_axis:\n  assumes \"perpendicular_to_x_axis (poincare_line 0\\<^sub>h (of_complex z))\" \"z \\<noteq> 0\"\n  shows \"is_imag z\"", "lemma wlog_perpendicular_axes:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"z \\<in> unit_disc\"\n  assumes perpendicular: \"is_poincare_line H1\" \"is_poincare_line H2\" \"perpendicular H1 H2\"\n  assumes \"z \\<in> circline_set H1 \\<inter> circline_set H2\" \"u \\<in> circline_set H1\" \"v \\<in> circline_set H2\"\n  assumes axes: \"\\<And> x y. \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y; Im y < 1\\<rbrakk> \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex y)\"\n  assumes moebius: \"\\<And> M u v w. \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<rbrakk> \\<Longrightarrow> P u v w\"\n  assumes conjugate: \"\\<And> u v w. \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (conjugate u) (conjugate v) (conjugate w) \\<rbrakk> \\<Longrightarrow> P u v w\"\n  shows \"P z u v\"", "lemma wlog_perpendicular_foot:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\" \"z \\<in> unit_disc\"\n  assumes perpendicular: \"u \\<noteq> v\" \"is_poincare_line H\" \"perpendicular (poincare_line u v) H\"\n  assumes \"z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\" \"w \\<in> circline_set H\"\n  assumes axes: \"\\<And> u v w. \\<lbrakk>is_real u; 0 < Re u; Re u < 1; is_real v; -1 < Re v; Re v < 1; Re u \\<noteq> Re v; is_imag w; 0 \\<le> Im w; Im w < 1\\<rbrakk> \\<Longrightarrow> P 0\\<^sub>h (of_complex u) (of_complex v) (of_complex w)\"\n  assumes moebius: \"\\<And> M z u v w. \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; z \\<in> unit_disc; P (moebius_pt M z) (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<rbrakk> \\<Longrightarrow> P z u v w\"\n  assumes conjugate: \"\\<And> z u v w. \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (conjugate z) (conjugate u) (conjugate v) (conjugate w) \\<rbrakk> \\<Longrightarrow> P z u v w\"\n  assumes perm: \"P z v u w \\<Longrightarrow> P z u v w\"\n  shows \"P z u v w\"", "lemma perpendicular_to_x_axis_intersects_x_axis:\n  assumes \"is_poincare_line H\" \"perpendicular_to_x_axis H\"\n  shows \"intersects_x_axis H\"", "lemma perpendicular_intersects:\n  assumes \"is_poincare_line H1\" \"is_poincare_line H2\"\n  assumes \"perpendicular H1 H2\"\n  shows \"\\<exists> z. z \\<in> unit_disc \\<and> z \\<in> circline_set H1 \\<inter> circline_set H2\" (is \"?P' H1 H2\")", "lemma calc_perpendicular_to_x_axis:\n  assumes \"z \\<noteq> of_complex 1\" \"z \\<noteq> of_complex (-1)\"\n  shows \"z \\<in> circline_set (calc_perpendicular_to_x_axis z) \\<and>\n         is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n         perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)\"", "lemma ex_perpendicular:\n  assumes \"is_poincare_line H\" \"z \\<in> unit_disc\"\n  shows \"\\<exists> H'. is_poincare_line H' \\<and> perpendicular H H' \\<and> z \\<in> circline_set H'\" (is \"?P' H z\")", "lemma ex_perpendicular_foot:\n  assumes \"is_poincare_line H\" \"z \\<in> unit_disc\"\n  shows \"\\<exists> H'. is_poincare_line H' \\<and> z \\<in> circline_set H' \\<and> perpendicular H H' \\<and>\n              (\\<exists> z' \\<in> unit_disc. z' \\<in> circline_set H' \\<inter> circline_set H)\"", "lemma Pythagoras:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\" \"v \\<noteq> w\"\n  assumes \"distinct[u, v, w] \\<longrightarrow> perpendicular (poincare_line u v) (poincare_line u w)\"\n  shows \"cosh (poincare_distance v w) = cosh (poincare_distance u v) * cosh (poincare_distance u w)\" (is \"?P' u v w\")"], "translations": [["", "lemma perpendicular_to_x_axis:\n  assumes \"is_poincare_line H\"\n  shows \"perpendicular_to_x_axis H \\<longleftrightarrow> perpendicular x_axis H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perpendicular_to_x_axis H = perpendicular x_axis H", "using assms"], ["proof (prove)\nusing this:\n  is_poincare_line H\n\ngoal (1 subgoal):\n 1. perpendicular_to_x_axis H = perpendicular x_axis H", "unfolding perpendicular_def"], ["proof (prove)\nusing this:\n  is_poincare_line H\n\ngoal (1 subgoal):\n 1. perpendicular_to_x_axis H =\n    (cos_angle (of_circline x_axis) (of_circline H) = 0)", "proof (transfer, transfer)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H Ha.\n       \\<lbrakk>hermitean H \\<and> H \\<noteq> mat_zero;\n        is_poincare_line_cmat H; is_poincare_line_clmat Ha\\<rbrakk>\n       \\<Longrightarrow> perpendicular_to_x_axis_cmat H =\n                         (cos_angle_cmat (of_circline_cmat x_axis_cmat)\n                           (of_circline_cmat H) =\n                          0)", "fix H"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H Ha.\n       \\<lbrakk>hermitean H \\<and> H \\<noteq> mat_zero;\n        is_poincare_line_cmat H; is_poincare_line_clmat Ha\\<rbrakk>\n       \\<Longrightarrow> perpendicular_to_x_axis_cmat H =\n                         (cos_angle_cmat (of_circline_cmat x_axis_cmat)\n                           (of_circline_cmat H) =\n                          0)", "assume hh: \"hermitean H \\<and> H \\<noteq> mat_zero\" \"is_poincare_line_cmat H\""], ["proof (state)\nthis:\n  hermitean H \\<and> H \\<noteq> mat_zero\n  is_poincare_line_cmat H\n\ngoal (1 subgoal):\n 1. \\<And>H Ha.\n       \\<lbrakk>hermitean H \\<and> H \\<noteq> mat_zero;\n        is_poincare_line_cmat H; is_poincare_line_clmat Ha\\<rbrakk>\n       \\<Longrightarrow> perpendicular_to_x_axis_cmat H =\n                         (cos_angle_cmat (of_circline_cmat x_axis_cmat)\n                           (of_circline_cmat H) =\n                          0)", "obtain A B C D where *: \"H = (A, B, C, D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A B C D.\n        H = (A, B, C, D) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases H, auto)"], ["proof (state)\nthis:\n  H = (A, B, C, D)\n\ngoal (1 subgoal):\n 1. \\<And>H Ha.\n       \\<lbrakk>hermitean H \\<and> H \\<noteq> mat_zero;\n        is_poincare_line_cmat H; is_poincare_line_clmat Ha\\<rbrakk>\n       \\<Longrightarrow> perpendicular_to_x_axis_cmat H =\n                         (cos_angle_cmat (of_circline_cmat x_axis_cmat)\n                           (of_circline_cmat H) =\n                          0)", "hence \"is_real A\" \"(cmod B)\\<^sup>2 > (cmod A)\\<^sup>2\" \"H = (A, B, cnj B, A)\""], ["proof (prove)\nusing this:\n  H = (A, B, C, D)\n\ngoal (1 subgoal):\n 1. is_real A &&&\n    (cmod A)\\<^sup>2 < (cmod B)\\<^sup>2 &&& H = (A, B, cnj B, A)", "using hermitean_elems[of A B C D] hh"], ["proof (prove)\nusing this:\n  H = (A, B, C, D)\n  hermitean (A, B, C, D) \\<Longrightarrow> is_real A\n  hermitean (A, B, C, D) \\<Longrightarrow> is_real D\n  hermitean (A, B, C, D) \\<Longrightarrow> B = cnj C\n  hermitean (A, B, C, D) \\<Longrightarrow> cnj B = C\n  hermitean H \\<and> H \\<noteq> mat_zero\n  is_poincare_line_cmat H\n\ngoal (1 subgoal):\n 1. is_real A &&&\n    (cmod A)\\<^sup>2 < (cmod B)\\<^sup>2 &&& H = (A, B, cnj B, A)", "by auto"], ["proof (state)\nthis:\n  is_real A\n  (cmod A)\\<^sup>2 < (cmod B)\\<^sup>2\n  H = (A, B, cnj B, A)\n\ngoal (1 subgoal):\n 1. \\<And>H Ha.\n       \\<lbrakk>hermitean H \\<and> H \\<noteq> mat_zero;\n        is_poincare_line_cmat H; is_poincare_line_clmat Ha\\<rbrakk>\n       \\<Longrightarrow> perpendicular_to_x_axis_cmat H =\n                         (cos_angle_cmat (of_circline_cmat x_axis_cmat)\n                           (of_circline_cmat H) =\n                          0)", "thus \"perpendicular_to_x_axis_cmat H =\n        (cos_angle_cmat (of_circline_cmat x_axis_cmat) (of_circline_cmat H) = 0)\""], ["proof (prove)\nusing this:\n  is_real A\n  (cmod A)\\<^sup>2 < (cmod B)\\<^sup>2\n  H = (A, B, cnj B, A)\n\ngoal (1 subgoal):\n 1. perpendicular_to_x_axis_cmat H =\n    (cos_angle_cmat (of_circline_cmat x_axis_cmat) (of_circline_cmat H) = 0)", "using cmod_square[of B] cmod_square[of A]"], ["proof (prove)\nusing this:\n  is_real A\n  (cmod A)\\<^sup>2 < (cmod B)\\<^sup>2\n  H = (A, B, cnj B, A)\n  (cmod B)\\<^sup>2 = Re (B * cnj B)\n  (cmod A)\\<^sup>2 = Re (A * cnj A)\n\ngoal (1 subgoal):\n 1. perpendicular_to_x_axis_cmat H =\n    (cos_angle_cmat (of_circline_cmat x_axis_cmat) (of_circline_cmat H) = 0)", "by simp"], ["proof (state)\nthis:\n  perpendicular_to_x_axis_cmat H =\n  (cos_angle_cmat (of_circline_cmat x_axis_cmat) (of_circline_cmat H) = 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma perpendicular_to_x_axis_y_axis:\n  assumes \"perpendicular_to_x_axis (poincare_line 0\\<^sub>h (of_complex z))\" \"z \\<noteq> 0\"\n  shows \"is_imag z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_imag z", "using assms"], ["proof (prove)\nusing this:\n  perpendicular_to_x_axis (poincare_line 0\\<^sub>h (of_complex z))\n  z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. is_imag z", "by (transfer, transfer, simp)"], ["", "lemma wlog_perpendicular_axes:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"z \\<in> unit_disc\"\n  assumes perpendicular: \"is_poincare_line H1\" \"is_poincare_line H2\" \"perpendicular H1 H2\"\n  assumes \"z \\<in> circline_set H1 \\<inter> circline_set H2\" \"u \\<in> circline_set H1\" \"v \\<in> circline_set H2\"\n  assumes axes: \"\\<And> x y. \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y; Im y < 1\\<rbrakk> \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex y)\"\n  assumes moebius: \"\\<And> M u v w. \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<rbrakk> \\<Longrightarrow> P u v w\"\n  assumes conjugate: \"\\<And> u v w. \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (conjugate u) (conjugate v) (conjugate w) \\<rbrakk> \\<Longrightarrow> P u v w\"\n  shows \"P z u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P z u v", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. P z u v", "have \"\\<forall> v H1 H2. is_poincare_line H1 \\<and> is_poincare_line H2 \\<and> perpendicular H1 H2 \\<and>\n                   z \\<in> circline_set H1 \\<inter> circline_set H2 \\<and> u \\<in> circline_set H1 \\<and> v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow> P z u v\" (is \"?P z u\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v H1 H2.\n       is_poincare_line H1 \\<and>\n       is_poincare_line H2 \\<and>\n       perpendicular H1 H2 \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n       u \\<in> circline_set H1 \\<and>\n       v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n       P z u v", "proof (rule wlog_x_axis[where P=\"?P\"])"], ["proof (state)\ngoal (4 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            0\\<^sub>h\n                            \\<in> circline_set H1 \\<inter>\n                                  circline_set H2 \\<and>\n                            of_complex x \\<in> circline_set H1 \\<and>\n                            v \\<in> circline_set H2 \\<and>\n                            v \\<in> unit_disc \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) v", "fix x"], ["proof (state)\ngoal (4 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            0\\<^sub>h\n                            \\<in> circline_set H1 \\<inter>\n                                  circline_set H2 \\<and>\n                            of_complex x \\<in> circline_set H1 \\<and>\n                            v \\<in> circline_set H2 \\<and>\n                            v \\<in> unit_disc \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) v", "assume x: \"is_real x\" \"Re x \\<ge> 0\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n\ngoal (4 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            0\\<^sub>h\n                            \\<in> circline_set H1 \\<inter>\n                                  circline_set H2 \\<and>\n                            of_complex x \\<in> circline_set H1 \\<and>\n                            v \\<in> circline_set H2 \\<and>\n                            v \\<in> unit_disc \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) v", "have \"of_complex x \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "using x"], ["proof (prove)\nusing this:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "by (simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n\ngoal (4 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            0\\<^sub>h\n                            \\<in> circline_set H1 \\<inter>\n                                  circline_set H2 \\<and>\n                            of_complex x \\<in> circline_set H1 \\<and>\n                            v \\<in> circline_set H2 \\<and>\n                            v \\<in> unit_disc \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) v", "show \"?P 0\\<^sub>h (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v H1 H2.\n       is_poincare_line H1 \\<and>\n       is_poincare_line H2 \\<and>\n       perpendicular H1 H2 \\<and>\n       0\\<^sub>h \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n       of_complex x \\<in> circline_set H1 \\<and>\n       v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n       P 0\\<^sub>h (of_complex x) v", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "fix v H1 H2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "assume \"v \\<in> unit_disc\""], ["proof (state)\nthis:\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "then"], ["proof (chain)\npicking this:\n  v \\<in> unit_disc", "obtain y where y: \"v = of_complex y\""], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>y. v = of_complex y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>y. v = of_complex y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = of_complex y\n\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "assume 1: \"is_poincare_line H1\" \"is_poincare_line H2\" \"perpendicular H1 H2\""], ["proof (state)\nthis:\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "assume 2: \"0\\<^sub>h \\<in> circline_set H1\" \"0\\<^sub>h \\<in> circline_set H2\" \"of_complex x \\<in> circline_set H1\" \"v \\<in> circline_set H2\""], ["proof (state)\nthis:\n  0\\<^sub>h \\<in> circline_set H1\n  0\\<^sub>h \\<in> circline_set H2\n  of_complex x \\<in> circline_set H1\n  v \\<in> circline_set H2\n\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; 0\\<^sub>h \\<in> circline_set H1;\n        0\\<^sub>h \\<in> circline_set H2; of_complex x \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "show \"P 0\\<^sub>h (of_complex x) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "proof (cases \"of_complex x = 0\\<^sub>h\")"], ["proof (state)\ngoal (2 subgoals):\n 1. of_complex x = 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "case True"], ["proof (state)\nthis:\n  of_complex x = 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. of_complex x = 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "show \"P 0\\<^sub>h (of_complex x) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "proof (cases \"v = 0\\<^sub>h\")"], ["proof (state)\ngoal (2 subgoals):\n 1. v = 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. v \\<noteq> 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "case True"], ["proof (state)\nthis:\n  v = 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. v = 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. v \\<noteq> 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "thus ?thesis"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "using \\<open>of_complex x = 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>h\n  of_complex x = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "using axes[of 0 0]"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>h\n  of_complex x = 0\\<^sub>h\n  \\<lbrakk>is_real 0; 0 \\<le> Re 0; Re 0 < 1; is_imag 0; 0 \\<le> Im 0;\n   Im 0 < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex 0) (of_complex 0)\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "by simp"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal (1 subgoal):\n 1. v \\<noteq> 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v \\<noteq> 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "case False"], ["proof (state)\nthis:\n  v \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. v \\<noteq> 0\\<^sub>h \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "proof (rule wlog_rotation_to_positive_y_axis)"], ["proof (state)\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u\n 4. \\<And>xa.\n       \\<lbrakk>is_imag xa; 0 < Im xa; Im xa < 1\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex xa)", "show \"v \\<in> unit_disc\" \"v \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> unit_disc &&& v \\<noteq> 0\\<^sub>h", "by fact+"], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u\n 2. \\<And>xa.\n       \\<lbrakk>is_imag xa; 0 < Im xa; Im xa < 1\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex xa)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u\n 2. \\<And>xa.\n       \\<lbrakk>is_imag xa; 0 < Im xa; Im xa < 1\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex xa)", "fix y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u\n 2. \\<And>xa.\n       \\<lbrakk>is_imag xa; 0 < Im xa; Im xa < 1\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex xa)", "assume \"is_imag y\" \"0 < Im y\" \"Im y < 1\""], ["proof (state)\nthis:\n  is_imag y\n  0 < Im y\n  Im y < 1\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u\n 2. \\<And>xa.\n       \\<lbrakk>is_imag xa; 0 < Im xa; Im xa < 1\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex xa)", "thus \"P 0\\<^sub>h (of_complex x) (of_complex y)\""], ["proof (prove)\nusing this:\n  is_imag y\n  0 < Im y\n  Im y < 1\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) (of_complex y)", "using x axes[of x y]"], ["proof (prove)\nusing this:\n  is_imag y\n  0 < Im y\n  Im y < 1\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n   Im y < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex y)\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) (of_complex y)", "by simp"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) (of_complex y)\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u", "fix \\<phi> u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u", "assume \"u \\<in> unit_disc\" \"u \\<noteq> 0\\<^sub>h\"\n                   \"P 0\\<^sub>h (of_complex x) (moebius_pt (moebius_rotation \\<phi>) u)\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  P 0\\<^sub>h (of_complex x) (moebius_pt (moebius_rotation \\<phi>) u)\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        P 0\\<^sub>h (of_complex x)\n         (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) u", "thus \"P 0\\<^sub>h (of_complex x) u\""], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  P 0\\<^sub>h (of_complex x) (moebius_pt (moebius_rotation \\<phi>) u)\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) u", "using \\<open>of_complex x = 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  P 0\\<^sub>h (of_complex x) (moebius_pt (moebius_rotation \\<phi>) u)\n  of_complex x = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) u", "using moebius[of \"moebius_rotation \\<phi>\"  \"0\\<^sub>h\" \"0\\<^sub>h\" u]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  P 0\\<^sub>h (of_complex x) (moebius_pt (moebius_rotation \\<phi>) u)\n  of_complex x = 0\\<^sub>h\n  \\<lbrakk>unit_disc_fix (moebius_rotation \\<phi>);\n   0\\<^sub>h \\<in> unit_disc; 0\\<^sub>h \\<in> unit_disc; u \\<in> unit_disc;\n   P (moebius_pt (moebius_rotation \\<phi>) 0\\<^sub>h)\n    (moebius_pt (moebius_rotation \\<phi>) 0\\<^sub>h)\n    (moebius_pt (moebius_rotation \\<phi>) u)\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h 0\\<^sub>h u\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) u", "by simp"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) u\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "case False"], ["proof (state)\nthis:\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "hence *: \"poincare_line 0\\<^sub>h (of_complex x) = x_axis\""], ["proof (prove)\nusing this:\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "using x poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  of_complex x \\<noteq> 0\\<^sub>h\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  of_complex x \\<noteq> 0\\<^sub>h\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  \\<lbrakk>of_complex x\n           \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h};\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "by auto"], ["proof (state)\nthis:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "hence \"H1 = x_axis\""], ["proof (prove)\nusing this:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. H1 = x_axis", "using unique_poincare_line[of \"0\\<^sub>h\" \"of_complex x\" H1] 1 2"], ["proof (prove)\nusing this:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; 0\\<^sub>h \\<in> circline_set H1;\n   of_complex x \\<in> circline_set H1; is_poincare_line H1\\<rbrakk>\n  \\<Longrightarrow> H1 = poincare_line 0\\<^sub>h (of_complex x)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  0\\<^sub>h \\<in> circline_set H1\n  0\\<^sub>h \\<in> circline_set H2\n  of_complex x \\<in> circline_set H1\n  v \\<in> circline_set H2\n\ngoal (1 subgoal):\n 1. H1 = x_axis", "using \\<open>of_complex x \\<in> unit_disc\\<close> False"], ["proof (prove)\nusing this:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; 0\\<^sub>h \\<in> circline_set H1;\n   of_complex x \\<in> circline_set H1; is_poincare_line H1\\<rbrakk>\n  \\<Longrightarrow> H1 = poincare_line 0\\<^sub>h (of_complex x)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  0\\<^sub>h \\<in> circline_set H1\n  0\\<^sub>h \\<in> circline_set H2\n  of_complex x \\<in> circline_set H1\n  v \\<in> circline_set H2\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. H1 = x_axis", "by simp"], ["proof (state)\nthis:\n  H1 = x_axis\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "have \"is_imag y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_imag y", "proof (cases \"y = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. y = 0 \\<Longrightarrow> is_imag y\n 2. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "case True"], ["proof (state)\nthis:\n  y = 0\n\ngoal (2 subgoals):\n 1. y = 0 \\<Longrightarrow> is_imag y\n 2. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "thus ?thesis"], ["proof (prove)\nusing this:\n  y = 0\n\ngoal (1 subgoal):\n 1. is_imag y", "by simp"], ["proof (state)\nthis:\n  is_imag y\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "case False"], ["proof (state)\nthis:\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "hence \"0\\<^sub>h \\<noteq> of_complex y\""], ["proof (prove)\nusing this:\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0\\<^sub>h \\<noteq> of_complex y", "using of_complex_zero_iff[of y]"], ["proof (prove)\nusing this:\n  y \\<noteq> 0\n  (of_complex y = 0\\<^sub>h) = (y = 0)\n\ngoal (1 subgoal):\n 1. 0\\<^sub>h \\<noteq> of_complex y", "by metis"], ["proof (state)\nthis:\n  0\\<^sub>h \\<noteq> of_complex y\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "hence \"H2 = poincare_line 0\\<^sub>h (of_complex y)\""], ["proof (prove)\nusing this:\n  0\\<^sub>h \\<noteq> of_complex y\n\ngoal (1 subgoal):\n 1. H2 = poincare_line 0\\<^sub>h (of_complex y)", "using 1 2 \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  0\\<^sub>h \\<noteq> of_complex y\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  0\\<^sub>h \\<in> circline_set H1\n  0\\<^sub>h \\<in> circline_set H2\n  of_complex x \\<in> circline_set H1\n  v \\<in> circline_set H2\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. H2 = poincare_line 0\\<^sub>h (of_complex y)", "using unique_poincare_line[of \"0\\<^sub>h\" \"of_complex y\" H2] y"], ["proof (prove)\nusing this:\n  0\\<^sub>h \\<noteq> of_complex y\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  0\\<^sub>h \\<in> circline_set H1\n  0\\<^sub>h \\<in> circline_set H2\n  of_complex x \\<in> circline_set H1\n  v \\<in> circline_set H2\n  v \\<in> unit_disc\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex y; 0\\<^sub>h \\<in> unit_disc;\n   of_complex y \\<in> unit_disc; 0\\<^sub>h \\<in> circline_set H2;\n   of_complex y \\<in> circline_set H2; is_poincare_line H2\\<rbrakk>\n  \\<Longrightarrow> H2 = poincare_line 0\\<^sub>h (of_complex y)\n  v = of_complex y\n\ngoal (1 subgoal):\n 1. H2 = poincare_line 0\\<^sub>h (of_complex y)", "by simp"], ["proof (state)\nthis:\n  H2 = poincare_line 0\\<^sub>h (of_complex y)\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0 \\<Longrightarrow> is_imag y", "thus ?thesis"], ["proof (prove)\nusing this:\n  H2 = poincare_line 0\\<^sub>h (of_complex y)\n\ngoal (1 subgoal):\n 1. is_imag y", "using 1 \\<open>H1 = x_axis\\<close>"], ["proof (prove)\nusing this:\n  H2 = poincare_line 0\\<^sub>h (of_complex y)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  H1 = x_axis\n\ngoal (1 subgoal):\n 1. is_imag y", "using perpendicular_to_x_axis_y_axis[of y] False"], ["proof (prove)\nusing this:\n  H2 = poincare_line 0\\<^sub>h (of_complex y)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  H1 = x_axis\n  \\<lbrakk>perpendicular_to_x_axis (poincare_line 0\\<^sub>h (of_complex y));\n   y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_imag y\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. is_imag y", "using perpendicular_to_x_axis[of H2]"], ["proof (prove)\nusing this:\n  H2 = poincare_line 0\\<^sub>h (of_complex y)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  H1 = x_axis\n  \\<lbrakk>perpendicular_to_x_axis (poincare_line 0\\<^sub>h (of_complex y));\n   y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_imag y\n  y \\<noteq> 0\n  is_poincare_line H2 \\<Longrightarrow>\n  perpendicular_to_x_axis H2 = perpendicular x_axis H2\n\ngoal (1 subgoal):\n 1. is_imag y", "by simp"], ["proof (state)\nthis:\n  is_imag y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  is_imag y\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    P 0\\<^sub>h (of_complex x) v", "show \"P 0\\<^sub>h (of_complex x) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "proof (cases \"Im y \\<ge> 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. \\<not> 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "case True"], ["proof (state)\nthis:\n  0 \\<le> Im y\n\ngoal (2 subgoals):\n 1. 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v\n 2. \\<not> 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> Im y\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "using axes[of x y] x y \\<open>is_imag y\\<close> \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> Im y\n  \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n   Im y < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex y)\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  v = of_complex y\n  is_imag y\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "by (simp add: cmod_eq_Im)"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "case False"], ["proof (state)\nthis:\n  \\<not> 0 \\<le> Im y\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> Im y \\<Longrightarrow> P 0\\<^sub>h (of_complex x) v", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) v", "proof (rule conjugate)"], ["proof (state)\ngoal (4 subgoals):\n 1. 0\\<^sub>h \\<in> unit_disc\n 2. of_complex x \\<in> unit_disc\n 3. v \\<in> unit_disc\n 4. P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)", "have \"Im (cnj y) < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Im (cnj y) < 1", "using \\<open>v \\<in> unit_disc\\<close> y \\<open>is_imag y\\<close> eq_minus_cnj_iff_imag[of y]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v = of_complex y\n  is_imag y\n  (cnj y = - y) = is_imag y\n\ngoal (1 subgoal):\n 1. Im (cnj y) < 1", "by (simp add: cmod_eq_Im)"], ["proof (state)\nthis:\n  Im (cnj y) < 1\n\ngoal (4 subgoals):\n 1. 0\\<^sub>h \\<in> unit_disc\n 2. of_complex x \\<in> unit_disc\n 3. v \\<in> unit_disc\n 4. P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)", "thus \"P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)\""], ["proof (prove)\nusing this:\n  Im (cnj y) < 1\n\ngoal (1 subgoal):\n 1. P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)", "using \\<open>is_real x\\<close> eq_cnj_iff_real[of x] y \\<open>is_imag y\\<close>"], ["proof (prove)\nusing this:\n  Im (cnj y) < 1\n  is_real x\n  (cnj x = x) = is_real x\n  v = of_complex y\n  is_imag y\n\ngoal (1 subgoal):\n 1. P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)", "using axes[OF x, of \"cnj y\"] False"], ["proof (prove)\nusing this:\n  Im (cnj y) < 1\n  is_real x\n  (cnj x = x) = is_real x\n  v = of_complex y\n  is_imag y\n  \\<lbrakk>is_imag (cnj y); 0 \\<le> Im (cnj y); Im (cnj y) < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex (cnj y))\n  \\<not> 0 \\<le> Im y\n\ngoal (1 subgoal):\n 1. P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)", "by simp"], ["proof (state)\nthis:\n  P (conjugate 0\\<^sub>h) (conjugate (of_complex x)) (conjugate v)\n\ngoal (3 subgoals):\n 1. 0\\<^sub>h \\<in> unit_disc\n 2. of_complex x \\<in> unit_disc\n 3. v \\<in> unit_disc", "show \"0\\<^sub>h \\<in> unit_disc\" \"of_complex x \\<in> unit_disc\" \"v \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>h \\<in> unit_disc &&&\n    of_complex x \\<in> unit_disc &&& v \\<in> unit_disc", "by (simp, fact+)"], ["proof (state)\nthis:\n  0\\<^sub>h \\<in> unit_disc\n  of_complex x \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     0\\<^sub>h \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     of_complex x \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P 0\\<^sub>h (of_complex x) v\n\ngoal (3 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. z \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "show \"z \\<in> unit_disc\" \"u \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> unit_disc &&& u \\<in> unit_disc", "by fact+"], ["proof (state)\nthis:\n  z \\<in> unit_disc\n  u \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "fix M u v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "assume *: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "assume **: \"?P (moebius_pt M u) (moebius_pt M v)\""], ["proof (state)\nthis:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     moebius_pt M u \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     moebius_pt M v \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P (moebius_pt M u) (moebius_pt M v) v\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        \\<forall>va H1 H2.\n           is_poincare_line H1 \\<and>\n           is_poincare_line H2 \\<and>\n           perpendicular H1 H2 \\<and>\n           moebius_pt M u\n           \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n           moebius_pt M v \\<in> circline_set H1 \\<and>\n           va \\<in> circline_set H2 \\<and>\n           va \\<in> unit_disc \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) va\\<rbrakk>\n       \\<Longrightarrow> \\<forall>va H1 H2.\n                            is_poincare_line H1 \\<and>\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<and>\n                            u \\<in> circline_set H1 \\<inter>\n                                    circline_set H2 \\<and>\n                            v \\<in> circline_set H1 \\<and>\n                            va \\<in> circline_set H2 \\<and>\n                            va \\<in> unit_disc \\<longrightarrow>\n                            P u v va", "show \"?P u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v H1 H2.\n       is_poincare_line H1 \\<and>\n       is_poincare_line H2 \\<and>\n       perpendicular H1 H2 \\<and>\n       u \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n       v \\<in> circline_set H1 \\<and>\n       v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n       P u v v", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; u \\<in> circline_set H1;\n        u \\<in> circline_set H2; v \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P u v v", "fix w H1 H2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; u \\<in> circline_set H1;\n        u \\<in> circline_set H2; v \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P u v v", "assume ***: \"is_poincare_line H1\" \"is_poincare_line H2\" \"perpendicular H1 H2\"\n                  \"u \\<in> circline_set H1\" \"u \\<in> circline_set H2\"\n                  \"v \\<in> circline_set H1\" \"w \\<in> circline_set H2\" \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  u \\<in> circline_set H1\n  u \\<in> circline_set H2\n  v \\<in> circline_set H1\n  w \\<in> circline_set H2\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>v H1 H2.\n       \\<lbrakk>is_poincare_line H1; is_poincare_line H2;\n        perpendicular H1 H2; u \\<in> circline_set H1;\n        u \\<in> circline_set H2; v \\<in> circline_set H1;\n        v \\<in> circline_set H2; v \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> P u v v", "thus \"P u v w\""], ["proof (prove)\nusing this:\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  u \\<in> circline_set H1\n  u \\<in> circline_set H2\n  v \\<in> circline_set H1\n  w \\<in> circline_set H2\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. P u v w", "using moebius[of M u v w] *"], ["proof (prove)\nusing this:\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  u \\<in> circline_set H1\n  u \\<in> circline_set H2\n  v \\<in> circline_set H1\n  w \\<in> circline_set H2\n  w \\<in> unit_disc\n  \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n   w \\<in> unit_disc;\n   P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w)\\<rbrakk>\n  \\<Longrightarrow> P u v w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. P u v w", "using **[rule_format, of \"moebius_circline M H1\" \"moebius_circline M H2\" \"moebius_pt M w\"]"], ["proof (prove)\nusing this:\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  u \\<in> circline_set H1\n  u \\<in> circline_set H2\n  v \\<in> circline_set H1\n  w \\<in> circline_set H2\n  w \\<in> unit_disc\n  \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n   w \\<in> unit_disc;\n   P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w)\\<rbrakk>\n  \\<Longrightarrow> P u v w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  is_poincare_line (moebius_circline M H1) \\<and>\n  is_poincare_line (moebius_circline M H2) \\<and>\n  perpendicular (moebius_circline M H1) (moebius_circline M H2) \\<and>\n  moebius_pt M u\n  \\<in> circline_set (moebius_circline M H1) \\<inter>\n        circline_set (moebius_circline M H2) \\<and>\n  moebius_pt M v \\<in> circline_set (moebius_circline M H1) \\<and>\n  moebius_pt M w \\<in> circline_set (moebius_circline M H2) \\<and>\n  moebius_pt M w \\<in> unit_disc \\<Longrightarrow>\n  P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w)\n\ngoal (1 subgoal):\n 1. P u v w", "by simp"], ["proof (state)\nthis:\n  P u v w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     u \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     v \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P u v v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     z \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     u \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P z u v\n\ngoal (1 subgoal):\n 1. P z u v", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     z \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     u \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P z u v\n\ngoal (1 subgoal):\n 1. P z u v", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>v H1 H2.\n     is_poincare_line H1 \\<and>\n     is_poincare_line H2 \\<and>\n     perpendicular H1 H2 \\<and>\n     z \\<in> circline_set H1 \\<inter> circline_set H2 \\<and>\n     u \\<in> circline_set H1 \\<and>\n     v \\<in> circline_set H2 \\<and> v \\<in> unit_disc \\<longrightarrow>\n     P z u v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n  z \\<in> circline_set H1 \\<inter> circline_set H2\n  u \\<in> circline_set H1\n  v \\<in> circline_set H2\n  \\<lbrakk>is_real ?x; 0 \\<le> Re ?x; Re ?x < 1; is_imag ?y; 0 \\<le> Im ?y;\n   Im ?y < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex ?x) (of_complex ?y)\n  \\<lbrakk>unit_disc_fix ?M; ?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   ?w \\<in> unit_disc;\n   P (moebius_pt ?M ?u) (moebius_pt ?M ?v) (moebius_pt ?M ?w)\\<rbrakk>\n  \\<Longrightarrow> P ?u ?v ?w\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc; ?w \\<in> unit_disc;\n   P (conjugate ?u) (conjugate ?v) (conjugate ?w)\\<rbrakk>\n  \\<Longrightarrow> P ?u ?v ?w\n\ngoal (1 subgoal):\n 1. P z u v", "by blast"], ["proof (state)\nthis:\n  P z u v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma wlog_perpendicular_foot:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\" \"z \\<in> unit_disc\"\n  assumes perpendicular: \"u \\<noteq> v\" \"is_poincare_line H\" \"perpendicular (poincare_line u v) H\"\n  assumes \"z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\" \"w \\<in> circline_set H\"\n  assumes axes: \"\\<And> u v w. \\<lbrakk>is_real u; 0 < Re u; Re u < 1; is_real v; -1 < Re v; Re v < 1; Re u \\<noteq> Re v; is_imag w; 0 \\<le> Im w; Im w < 1\\<rbrakk> \\<Longrightarrow> P 0\\<^sub>h (of_complex u) (of_complex v) (of_complex w)\"\n  assumes moebius: \"\\<And> M z u v w. \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; z \\<in> unit_disc; P (moebius_pt M z) (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<rbrakk> \\<Longrightarrow> P z u v w\"\n  assumes conjugate: \"\\<And> z u v w. \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc; P (conjugate z) (conjugate u) (conjugate v) (conjugate w) \\<rbrakk> \\<Longrightarrow> P z u v w\"\n  assumes perm: \"P z v u w \\<Longrightarrow> P z u v w\"\n  shows \"P z u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P z u v w", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. P z u v w", "obtain m n where mn: \"m = u \\<or> m = v\" \"n = u \\<or> n = v\" \"m \\<noteq> n\" \"m \\<noteq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>m = u \\<or> m = v; n = u \\<or> n = v; m \\<noteq> n;\n         m \\<noteq> z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>u \\<noteq> v\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>m = u \\<or> m = v; n = u \\<or> n = v; m \\<noteq> n;\n         m \\<noteq> z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  m = u \\<or> m = v\n  n = u \\<or> n = v\n  m \\<noteq> n\n  m \\<noteq> z\n\ngoal (1 subgoal):\n 1. P z u v w", "have \"n \\<in> circline_set (poincare_line z m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in> circline_set (poincare_line z m)", "using \\<open>z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\\<close>"], ["proof (prove)\nusing this:\n  z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set (poincare_line z m)", "using mn"], ["proof (prove)\nusing this:\n  z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n  m = u \\<or> m = v\n  n = u \\<or> n = v\n  m \\<noteq> n\n  m \\<noteq> z\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set (poincare_line z m)", "using unique_poincare_line[of z m \"poincare_line u v\", symmetric] in_disc"], ["proof (prove)\nusing this:\n  z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n  m = u \\<or> m = v\n  n = u \\<or> n = v\n  m \\<noteq> n\n  m \\<noteq> z\n  \\<lbrakk>z \\<noteq> m; z \\<in> unit_disc; m \\<in> unit_disc;\n   z \\<in> circline_set (poincare_line u v);\n   m \\<in> circline_set (poincare_line u v);\n   is_poincare_line (poincare_line u v)\\<rbrakk>\n  \\<Longrightarrow> poincare_line z m = poincare_line u v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set (poincare_line z m)", "by auto"], ["proof (state)\nthis:\n  n \\<in> circline_set (poincare_line z m)\n\ngoal (1 subgoal):\n 1. P z u v w", "have \"\\<forall> n. n \\<in> unit_disc \\<and> m \\<noteq> n \\<and> n \\<in> circline_set (poincare_line z m) \\<and> m \\<noteq> z \\<longrightarrow> P z m n w\" (is \"?Q z m w\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       n \\<in> unit_disc \\<and>\n       m \\<noteq> n \\<and>\n       n \\<in> circline_set (poincare_line z m) \\<and>\n       m \\<noteq> z \\<longrightarrow>\n       P z m n w", "proof (rule wlog_perpendicular_axes[where P=\"?Q\"])"], ["proof (state)\ngoal (12 subgoals):\n 1. m \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. z \\<in> unit_disc\n 4. is_poincare_line ?H1.0\n 5. is_poincare_line ?H2.0\n 6. perpendicular ?H1.0 ?H2.0\n 7. z \\<in> circline_set ?H1.0 \\<inter> circline_set ?H2.0\n 8. m \\<in> circline_set ?H1.0\n 9. w \\<in> circline_set ?H2.0\n 10. \\<And>x y.\n        \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n         Im y < 1\\<rbrakk>\n        \\<Longrightarrow> \\<forall>n.\n                             n \\<in> unit_disc \\<and>\n                             of_complex x \\<noteq> n \\<and>\n                             n \\<in> circline_set\n(poincare_line 0\\<^sub>h (of_complex x)) \\<and>\n                             of_complex x \\<noteq>\n                             0\\<^sub>h \\<longrightarrow>\n                             P 0\\<^sub>h (of_complex x) n (of_complex y)\nA total of 12 subgoals...", "show \"is_poincare_line (poincare_line u v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_poincare_line (poincare_line u v)", "using \\<open>u \\<noteq> v\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. is_poincare_line (poincare_line u v)", "by auto"], ["proof (state)\nthis:\n  is_poincare_line (poincare_line u v)\n\ngoal (11 subgoals):\n 1. m \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. z \\<in> unit_disc\n 4. is_poincare_line ?H2.0\n 5. perpendicular (poincare_line u v) ?H2.0\n 6. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set ?H2.0\n 7. m \\<in> circline_set (poincare_line u v)\n 8. w \\<in> circline_set ?H2.0\n 9. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 10. \\<And>M u v w.\n        \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n         w \\<in> unit_disc;\n         \\<forall>n.\n            n \\<in> unit_disc \\<and>\n            moebius_pt M v \\<noteq> n \\<and>\n            n \\<in> circline_set\n                     (poincare_line (moebius_pt M u)\n                       (moebius_pt M v)) \\<and>\n            moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n            P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>n.\n                             n \\<in> unit_disc \\<and>\n                             v \\<noteq> n \\<and>\n                             n \\<in> circline_set (poincare_line u v) \\<and>\n                             v \\<noteq> u \\<longrightarrow>\n                             P u v n w\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. m \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. z \\<in> unit_disc\n 4. is_poincare_line ?H2.0\n 5. perpendicular (poincare_line u v) ?H2.0\n 6. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set ?H2.0\n 7. m \\<in> circline_set (poincare_line u v)\n 8. w \\<in> circline_set ?H2.0\n 9. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 10. \\<And>M u v w.\n        \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n         w \\<in> unit_disc;\n         \\<forall>n.\n            n \\<in> unit_disc \\<and>\n            moebius_pt M v \\<noteq> n \\<and>\n            n \\<in> circline_set\n                     (poincare_line (moebius_pt M u)\n                       (moebius_pt M v)) \\<and>\n            moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n            P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>n.\n                             n \\<in> unit_disc \\<and>\n                             v \\<noteq> n \\<and>\n                             n \\<in> circline_set (poincare_line u v) \\<and>\n                             v \\<noteq> u \\<longrightarrow>\n                             P u v n w\nA total of 11 subgoals...", "show \"is_poincare_line H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_poincare_line H", "by fact"], ["proof (state)\nthis:\n  is_poincare_line H\n\ngoal (10 subgoals):\n 1. m \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. z \\<in> unit_disc\n 4. perpendicular (poincare_line u v) H\n 5. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 6. m \\<in> circline_set (poincare_line u v)\n 7. w \\<in> circline_set H\n 8. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 9. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 10. \\<And>u v w.\n        \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n         \\<forall>n.\n            n \\<in> unit_disc \\<and>\n            conjugate v \\<noteq> n \\<and>\n            n \\<in> circline_set\n                     (poincare_line (conjugate u) (conjugate v)) \\<and>\n            conjugate v \\<noteq> conjugate u \\<longrightarrow>\n            P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>n.\n                             n \\<in> unit_disc \\<and>\n                             v \\<noteq> n \\<and>\n                             n \\<in> circline_set (poincare_line u v) \\<and>\n                             v \\<noteq> u \\<longrightarrow>\n                             P u v n w", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. m \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. z \\<in> unit_disc\n 4. perpendicular (poincare_line u v) H\n 5. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 6. m \\<in> circline_set (poincare_line u v)\n 7. w \\<in> circline_set H\n 8. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 9. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 10. \\<And>u v w.\n        \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n         \\<forall>n.\n            n \\<in> unit_disc \\<and>\n            conjugate v \\<noteq> n \\<and>\n            n \\<in> circline_set\n                     (poincare_line (conjugate u) (conjugate v)) \\<and>\n            conjugate v \\<noteq> conjugate u \\<longrightarrow>\n            P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>n.\n                             n \\<in> unit_disc \\<and>\n                             v \\<noteq> n \\<and>\n                             n \\<in> circline_set (poincare_line u v) \\<and>\n                             v \\<noteq> u \\<longrightarrow>\n                             P u v n w", "show \"m \\<in> unit_disc\" \"m \\<in> circline_set (poincare_line u v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. m \\<in> unit_disc &&& m \\<in> circline_set (poincare_line u v)", "using mn in_disc"], ["proof (prove)\nusing this:\n  m = u \\<or> m = v\n  n = u \\<or> n = v\n  m \\<noteq> n\n  m \\<noteq> z\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. m \\<in> unit_disc &&& m \\<in> circline_set (poincare_line u v)", "by auto"], ["proof (state)\nthis:\n  m \\<in> unit_disc\n  m \\<in> circline_set (poincare_line u v)\n\ngoal (8 subgoals):\n 1. w \\<in> unit_disc\n 2. z \\<in> unit_disc\n 3. perpendicular (poincare_line u v) H\n 4. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 5. w \\<in> circline_set H\n 6. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 7. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 8. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. w \\<in> unit_disc\n 2. z \\<in> unit_disc\n 3. perpendicular (poincare_line u v) H\n 4. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 5. w \\<in> circline_set H\n 6. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 7. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 8. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"w \\<in> unit_disc\" \"z \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<in> unit_disc &&& z \\<in> unit_disc", "by fact+"], ["proof (state)\nthis:\n  w \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (6 subgoals):\n 1. perpendicular (poincare_line u v) H\n 2. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 3. w \\<in> circline_set H\n 4. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 5. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 6. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. perpendicular (poincare_line u v) H\n 2. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n 3. w \\<in> circline_set H\n 4. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 5. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 6. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H", "by fact"], ["proof (state)\nthis:\n  z \\<in> circline_set (poincare_line u v) \\<inter> circline_set H\n\ngoal (5 subgoals):\n 1. perpendicular (poincare_line u v) H\n 2. w \\<in> circline_set H\n 3. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 4. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 5. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. perpendicular (poincare_line u v) H\n 2. w \\<in> circline_set H\n 3. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 4. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 5. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"perpendicular (poincare_line u v) H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perpendicular (poincare_line u v) H", "by fact"], ["proof (state)\nthis:\n  perpendicular (poincare_line u v) H\n\ngoal (4 subgoals):\n 1. w \\<in> circline_set H\n 2. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 3. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 4. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. w \\<in> circline_set H\n 2. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 3. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 4. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"w \\<in> circline_set H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<in> circline_set H", "by fact"], ["proof (state)\nthis:\n  w \\<in> circline_set H\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "fix x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "assume xy: \"is_real x\" \"0 \\<le> Re x\" \"Re x < 1\" \"is_imag y\" \"0 \\<le> Im y\" \"Im y < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            of_complex x \\<noteq> n \\<and>\n                            n \\<in> circline_set\n                                     (poincare_line 0\\<^sub>h\n (of_complex x)) \\<and>\n                            of_complex x \\<noteq>\n                            0\\<^sub>h \\<longrightarrow>\n                            P 0\\<^sub>h (of_complex x) n (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"?Q 0\\<^sub>h (of_complex x) (of_complex y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       n \\<in> unit_disc \\<and>\n       of_complex x \\<noteq> n \\<and>\n       n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x)) \\<and>\n       of_complex x \\<noteq> 0\\<^sub>h \\<longrightarrow>\n       P 0\\<^sub>h (of_complex x) n (of_complex y)", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "assume \"n \\<in> unit_disc\" \"of_complex x \\<noteq> n\""], ["proof (state)\nthis:\n  n \\<in> unit_disc\n  of_complex x \\<noteq> n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "assume \"n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x))\" \"of_complex x \\<noteq> 0\\<^sub>h\""], ["proof (state)\nthis:\n  n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x))\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "hence \"n \\<in> circline_set x_axis\""], ["proof (prove)\nusing this:\n  n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x))\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "using poincare_line_0_real_is_x_axis[of \"of_complex x\"] xy"], ["proof (prove)\nusing this:\n  n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x))\n  of_complex x \\<noteq> 0\\<^sub>h\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "by (auto simp add: circline_set_x_axis)"], ["proof (state)\nthis:\n  n \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "then"], ["proof (chain)\npicking this:\n  n \\<in> circline_set x_axis", "obtain n' where n': \"n = of_complex n'\""], ["proof (prove)\nusing this:\n  n \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. (\\<And>n'. n = of_complex n' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of n] \\<open>n \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  n \\<in> circline_set x_axis\n  n = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. n = of_complex x)\n  n \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>n'. n = of_complex n' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  n = of_complex n'\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "hence \"is_real n'\""], ["proof (prove)\nusing this:\n  n = of_complex n'\n\ngoal (1 subgoal):\n 1. is_real n'", "using \\<open>n \\<in> circline_set x_axis\\<close>"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  n \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. is_real n'", "using of_complex_inj"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  n \\<in> circline_set x_axis\n  of_complex ?x = of_complex ?y \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. is_real n'", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  n \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}\n  of_complex ?x = of_complex ?y \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. is_real n'", "by auto"], ["proof (state)\nthis:\n  is_real n'\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "hence \"-1 < Re n'\" \"Re n' < 1\""], ["proof (prove)\nusing this:\n  is_real n'\n\ngoal (1 subgoal):\n 1. - 1 < Re n' &&& Re n' < 1", "using \\<open>n \\<in> unit_disc\\<close> n'"], ["proof (prove)\nusing this:\n  is_real n'\n  n \\<in> unit_disc\n  n = of_complex n'\n\ngoal (1 subgoal):\n 1. - 1 < Re n' &&& Re n' < 1", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  - 1 < Re n'\n  Re n' < 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "have \"Re n' \\<noteq> Re x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re n' \\<noteq> Re x", "using complex.expand[of n' x] \\<open>is_real n'\\<close> \\<open>is_real x\\<close> \\<open>of_complex x \\<noteq> n\\<close> n'"], ["proof (prove)\nusing this:\n  Re n' = Re x \\<and> Im n' = Im x \\<Longrightarrow> n' = x\n  is_real n'\n  is_real x\n  of_complex x \\<noteq> n\n  n = of_complex n'\n\ngoal (1 subgoal):\n 1. Re n' \\<noteq> Re x", "by auto"], ["proof (state)\nthis:\n  Re n' \\<noteq> Re x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "have \"Re x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Re x", "using xy \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. 0 < Re x", "by (cases \"Re x = 0\", auto simp add: complex.expand)"], ["proof (state)\nthis:\n  0 < Re x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; of_complex x \\<noteq> n;\n        n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x));\n        of_complex x \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> P 0\\<^sub>h (of_complex x) n (of_complex y)", "show \"P 0\\<^sub>h (of_complex x) n (of_complex y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) n (of_complex y)", "using axes[of x n' y] xy n' \\<open>Re x > 0\\<close> \\<open>is_real n'\\<close> \\<open>-1 < Re n'\\<close> \\<open>Re n' < 1\\<close> \\<open>Re n' \\<noteq> Re x\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>is_real x; 0 < Re x; Re x < 1; is_real n'; - 1 < Re n';\n   Re n' < 1; Re x \\<noteq> Re n'; is_imag y; 0 \\<le> Im y;\n   Im y < 1\\<rbrakk>\n  \\<Longrightarrow> P 0\\<^sub>h (of_complex x) (of_complex n')\n                     (of_complex y)\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n  n = of_complex n'\n  0 < Re x\n  is_real n'\n  - 1 < Re n'\n  Re n' < 1\n  Re n' \\<noteq> Re x\n\ngoal (1 subgoal):\n 1. P 0\\<^sub>h (of_complex x) n (of_complex y)", "by simp"], ["proof (state)\nthis:\n  P 0\\<^sub>h (of_complex x) n (of_complex y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     of_complex x \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line 0\\<^sub>h (of_complex x)) \\<and>\n     of_complex x \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     P 0\\<^sub>h (of_complex x) n (of_complex y)\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "fix M u v w"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "assume 1: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "assume 2: \"?Q (moebius_pt M u) (moebius_pt M v) (moebius_pt M w)\""], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     moebius_pt M v \\<noteq> n \\<and>\n     n \\<in> circline_set\n              (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n     moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n     P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           moebius_pt M v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n           moebius_pt M v \\<noteq> moebius_pt M u \\<longrightarrow>\n           P (moebius_pt M u) (moebius_pt M v) n (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"?Q u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       n \\<in> unit_disc \\<and>\n       v \\<noteq> n \\<and>\n       n \\<in> circline_set (poincare_line u v) \\<and>\n       v \\<noteq> u \\<longrightarrow>\n       P u v n w", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "assume \"n \\<in> unit_disc\" \"v \\<noteq> n\" \"n \\<in> circline_set (poincare_line u v)\" \"v \\<noteq> u\""], ["proof (state)\nthis:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "thus \"P u v n w\""], ["proof (prove)\nusing this:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. P u v n w", "using moebius[of M v n w u] 1 2[rule_format, of \"moebius_pt M n\"]"], ["proof (prove)\nusing this:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n  \\<lbrakk>unit_disc_fix M; v \\<in> unit_disc; n \\<in> unit_disc;\n   w \\<in> unit_disc; u \\<in> unit_disc;\n   P (moebius_pt M u) (moebius_pt M v) (moebius_pt M n)\n    (moebius_pt M w)\\<rbrakk>\n  \\<Longrightarrow> P u v n w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  moebius_pt M n \\<in> unit_disc \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M n \\<and>\n  moebius_pt M n\n  \\<in> circline_set\n         (poincare_line (moebius_pt M u) (moebius_pt M v)) \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M u \\<Longrightarrow>\n  P (moebius_pt M u) (moebius_pt M v) (moebius_pt M n) (moebius_pt M w)\n\ngoal (1 subgoal):\n 1. P u v n w", "by fastforce"], ["proof (state)\nthis:\n  P u v n w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     v \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line u v) \\<and>\n     v \\<noteq> u \\<longrightarrow>\n     P u v n w\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "fix u v w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "assume 1: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "assume 2: \"?Q (conjugate u) (conjugate v) (conjugate w)\""], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     conjugate v \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line (conjugate u) (conjugate v)) \\<and>\n     conjugate v \\<noteq> conjugate u \\<longrightarrow>\n     P (conjugate u) (conjugate v) n (conjugate w)\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        \\<forall>n.\n           n \\<in> unit_disc \\<and>\n           conjugate v \\<noteq> n \\<and>\n           n \\<in> circline_set\n                    (poincare_line (conjugate u) (conjugate v)) \\<and>\n           conjugate v \\<noteq> conjugate u \\<longrightarrow>\n           P (conjugate u) (conjugate v) n (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>n.\n                            n \\<in> unit_disc \\<and>\n                            v \\<noteq> n \\<and>\n                            n \\<in> circline_set (poincare_line u v) \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            P u v n w", "show \"?Q u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       n \\<in> unit_disc \\<and>\n       v \\<noteq> n \\<and>\n       n \\<in> circline_set (poincare_line u v) \\<and>\n       v \\<noteq> u \\<longrightarrow>\n       P u v n w", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "assume \"n \\<in> unit_disc\" \"v \\<noteq> n\" \"n \\<in> circline_set (poincare_line u v)\" \"v \\<noteq> u\""], ["proof (state)\nthis:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>n \\<in> unit_disc; v \\<noteq> n;\n        n \\<in> circline_set (poincare_line u v); v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> P u v n w", "thus \"P u v n w\""], ["proof (prove)\nusing this:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. P u v n w", "using conjugate[of v n w u] 1 2[rule_format, of \"conjugate n\"]"], ["proof (prove)\nusing this:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n  \\<lbrakk>v \\<in> unit_disc; n \\<in> unit_disc; w \\<in> unit_disc;\n   P (conjugate u) (conjugate v) (conjugate n) (conjugate w)\\<rbrakk>\n  \\<Longrightarrow> P u v n w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  conjugate n \\<in> unit_disc \\<and>\n  conjugate v \\<noteq> conjugate n \\<and>\n  conjugate n\n  \\<in> circline_set (poincare_line (conjugate u) (conjugate v)) \\<and>\n  conjugate v \\<noteq> conjugate u \\<Longrightarrow>\n  P (conjugate u) (conjugate v) (conjugate n) (conjugate w)\n\ngoal (1 subgoal):\n 1. P u v n w", "using conjugate_inj"], ["proof (prove)\nusing this:\n  n \\<in> unit_disc\n  v \\<noteq> n\n  n \\<in> circline_set (poincare_line u v)\n  v \\<noteq> u\n  \\<lbrakk>v \\<in> unit_disc; n \\<in> unit_disc; w \\<in> unit_disc;\n   P (conjugate u) (conjugate v) (conjugate n) (conjugate w)\\<rbrakk>\n  \\<Longrightarrow> P u v n w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  conjugate n \\<in> unit_disc \\<and>\n  conjugate v \\<noteq> conjugate n \\<and>\n  conjugate n\n  \\<in> circline_set (poincare_line (conjugate u) (conjugate v)) \\<and>\n  conjugate v \\<noteq> conjugate u \\<Longrightarrow>\n  P (conjugate u) (conjugate v) (conjugate n) (conjugate w)\n  conjugate ?x = conjugate ?y \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. P u v n w", "by auto"], ["proof (state)\nthis:\n  P u v n w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     v \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line u v) \\<and>\n     v \\<noteq> u \\<longrightarrow>\n     P u v n w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     m \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line z m) \\<and>\n     m \\<noteq> z \\<longrightarrow>\n     P z m n w\n\ngoal (1 subgoal):\n 1. P z u v w", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     m \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line z m) \\<and>\n     m \\<noteq> z \\<longrightarrow>\n     P z m n w\n\ngoal (1 subgoal):\n 1. P z u v w", "using mn in_disc \\<open>n \\<in> circline_set (poincare_line z m)\\<close> perm"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     n \\<in> unit_disc \\<and>\n     m \\<noteq> n \\<and>\n     n \\<in> circline_set (poincare_line z m) \\<and>\n     m \\<noteq> z \\<longrightarrow>\n     P z m n w\n  m = u \\<or> m = v\n  n = u \\<or> n = v\n  m \\<noteq> n\n  m \\<noteq> z\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  z \\<in> unit_disc\n  n \\<in> circline_set (poincare_line z m)\n  P z v u w \\<Longrightarrow> P z u v w\n\ngoal (1 subgoal):\n 1. P z u v w", "by auto"], ["proof (state)\nthis:\n  P z u v w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma perpendicular_to_x_axis_intersects_x_axis:\n  assumes \"is_poincare_line H\" \"perpendicular_to_x_axis H\"\n  shows \"intersects_x_axis H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. intersects_x_axis H", "using assms hermitean_elems"], ["proof (prove)\nusing this:\n  is_poincare_line H\n  perpendicular_to_x_axis H\n  hermitean (?A, ?B, ?C, ?D) \\<Longrightarrow> is_real ?A\n  hermitean (?A, ?B, ?C, ?D) \\<Longrightarrow> is_real ?D\n  hermitean (?A, ?B, ?C, ?D) \\<Longrightarrow> ?B = cnj ?C\n  hermitean (?A, ?B, ?C, ?D) \\<Longrightarrow> cnj ?B = ?C\n\ngoal (1 subgoal):\n 1. intersects_x_axis H", "by (transfer, transfer, auto simp add: cmod_eq_Re)"], ["", "lemma perpendicular_intersects:\n  assumes \"is_poincare_line H1\" \"is_poincare_line H2\"\n  assumes \"perpendicular H1 H2\"\n  shows \"\\<exists> z. z \\<in> unit_disc \\<and> z \\<in> circline_set H1 \\<inter> circline_set H2\" (is \"?P' H1 H2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "have \"\\<forall> H2. is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow> ?P' H1 H2\" (is \"?P H1\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>H2.\n       is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n       (\\<exists>z.\n           z \\<in> unit_disc \\<and>\n           z \\<in> circline_set H1 \\<inter> circline_set H2)", "proof (rule wlog_line_x_axis)"], ["proof (state)\ngoal (3 subgoals):\n 1. is_poincare_line H1\n 2. \\<forall>H2.\n       is_poincare_line H2 \\<and> perpendicular x_axis H2 \\<longrightarrow>\n       (\\<exists>z.\n           z \\<in> unit_disc \\<and>\n           z \\<in> circline_set x_axis \\<inter> circline_set H2)\n 3. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "show \"?P x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>H2.\n       is_poincare_line H2 \\<and> perpendicular x_axis H2 \\<longrightarrow>\n       (\\<exists>z.\n           z \\<in> unit_disc \\<and>\n           z \\<in> circline_set x_axis \\<inter> circline_set H2)", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular x_axis H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set x_axis \\<inter>\n                                    circline_set H2", "fix H2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular x_axis H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set x_axis \\<inter>\n                                    circline_set H2", "assume \"is_poincare_line H2\" \"perpendicular x_axis H2\""], ["proof (state)\nthis:\n  is_poincare_line H2\n  perpendicular x_axis H2\n\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular x_axis H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set x_axis \\<inter>\n                                    circline_set H2", "thus \"\\<exists>z. z \\<in> unit_disc \\<and> z \\<in> circline_set x_axis \\<inter> circline_set H2\""], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular x_axis H2\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set x_axis \\<inter> circline_set H2", "using perpendicular_to_x_axis[of H2]"], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular x_axis H2\n  is_poincare_line H2 \\<Longrightarrow>\n  perpendicular_to_x_axis H2 = perpendicular x_axis H2\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set x_axis \\<inter> circline_set H2", "using perpendicular_to_x_axis_intersects_x_axis[of H2]"], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular x_axis H2\n  is_poincare_line H2 \\<Longrightarrow>\n  perpendicular_to_x_axis H2 = perpendicular x_axis H2\n  \\<lbrakk>is_poincare_line H2; perpendicular_to_x_axis H2\\<rbrakk>\n  \\<Longrightarrow> intersects_x_axis H2\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set x_axis \\<inter> circline_set H2", "using intersects_x_axis_iff[of H2]"], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular x_axis H2\n  is_poincare_line H2 \\<Longrightarrow>\n  perpendicular_to_x_axis H2 = perpendicular x_axis H2\n  \\<lbrakk>is_poincare_line H2; perpendicular_to_x_axis H2\\<rbrakk>\n  \\<Longrightarrow> intersects_x_axis H2\n  is_poincare_line H2 \\<Longrightarrow>\n  (\\<exists>x\\<in>unit_disc.\n      x \\<in> circline_set H2 \\<inter> circline_set x_axis) =\n  intersects_x_axis H2\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set x_axis \\<inter> circline_set H2", "by auto"], ["proof (state)\nthis:\n  \\<exists>z.\n     z \\<in> unit_disc \\<and>\n     z \\<in> circline_set x_axis \\<inter> circline_set H2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and> perpendicular x_axis H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set x_axis \\<inter> circline_set H2)\n\ngoal (2 subgoals):\n 1. is_poincare_line H1\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. is_poincare_line H1\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "fix M"], ["proof (state)\ngoal (2 subgoals):\n 1. is_poincare_line H1\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "assume \"unit_disc_fix M\""], ["proof (state)\nthis:\n  unit_disc_fix M\n\ngoal (2 subgoals):\n 1. is_poincare_line H1\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "assume *: \"?P (moebius_circline M H1)\""], ["proof (state)\nthis:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and>\n     perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                 circline_set H2)\n\ngoal (2 subgoals):\n 1. is_poincare_line H1\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>H2.\n           is_poincare_line H2 \\<and>\n           perpendicular (moebius_circline M H1) H2 \\<longrightarrow>\n           (\\<exists>z.\n               z \\<in> unit_disc \\<and>\n               z \\<in> circline_set (moebius_circline M H1) \\<inter>\n                       circline_set H2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>H2.\n                            is_poincare_line H2 \\<and>\n                            perpendicular H1 H2 \\<longrightarrow>\n                            (\\<exists>z.\n                                z \\<in> unit_disc \\<and>\n                                z \\<in> circline_set H1 \\<inter>\n  circline_set H2)", "show \"?P H1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>H2.\n       is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n       (\\<exists>z.\n           z \\<in> unit_disc \\<and>\n           z \\<in> circline_set H1 \\<inter> circline_set H2)", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular H1 H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set H1 \\<inter> circline_set H2", "fix H2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular H1 H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set H1 \\<inter> circline_set H2", "assume \"is_poincare_line H2\" \"perpendicular H1 H2\""], ["proof (state)\nthis:\n  is_poincare_line H2\n  perpendicular H1 H2\n\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular H1 H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set H1 \\<inter> circline_set H2", "then"], ["proof (chain)\npicking this:\n  is_poincare_line H2\n  perpendicular H1 H2", "obtain z where \"z \\<in> unit_disc\" \"z \\<in> circline_set (moebius_circline M H1) \\<and> z \\<in> circline_set (moebius_circline M H2)\""], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular H1 H2\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> unit_disc;\n         z \\<in> circline_set (moebius_circline M H1) \\<and>\n         z \\<in> circline_set (moebius_circline M H2)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *[rule_format, of \"moebius_circline M H2\"] \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  is_poincare_line H2\n  perpendicular H1 H2\n  is_poincare_line (moebius_circline M H2) \\<and>\n  perpendicular (moebius_circline M H1)\n   (moebius_circline M H2) \\<Longrightarrow>\n  \\<exists>z.\n     z \\<in> unit_disc \\<and>\n     z \\<in> circline_set (moebius_circline M H1) \\<inter>\n             circline_set (moebius_circline M H2)\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> unit_disc;\n         z \\<in> circline_set (moebius_circline M H1) \\<and>\n         z \\<in> circline_set (moebius_circline M H2)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z \\<in> unit_disc\n  z \\<in> circline_set (moebius_circline M H1) \\<and>\n  z \\<in> circline_set (moebius_circline M H2)\n\ngoal (1 subgoal):\n 1. \\<And>H2.\n       \\<lbrakk>is_poincare_line H2; perpendicular H1 H2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z.\n                            z \\<in> unit_disc \\<and>\n                            z \\<in> circline_set H1 \\<inter> circline_set H2", "thus \"\\<exists>z. z \\<in> unit_disc \\<and> z \\<in> circline_set H1 \\<inter> circline_set H2\""], ["proof (prove)\nusing this:\n  z \\<in> unit_disc\n  z \\<in> circline_set (moebius_circline M H1) \\<and>\n  z \\<in> circline_set (moebius_circline M H2)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "using \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  z \\<in> unit_disc\n  z \\<in> circline_set (moebius_circline M H1) \\<and>\n  z \\<in> circline_set (moebius_circline M H2)\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "by (rule_tac x=\"moebius_pt (-M) z\" in exI)\n           (metis IntI add.inverse_inverse circline_set_moebius_circline_iff moebius_pt_comp_inv_left uminus_moebius_def unit_disc_fix_discI unit_disc_fix_moebius_uminus)"], ["proof (state)\nthis:\n  \\<exists>z.\n     z \\<in> unit_disc \\<and>\n     z \\<in> circline_set H1 \\<inter> circline_set H2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set H1 \\<inter> circline_set H2)\n\ngoal (1 subgoal):\n 1. is_poincare_line H1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. is_poincare_line H1", "show \"is_poincare_line H1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_poincare_line H1", "by fact"], ["proof (state)\nthis:\n  is_poincare_line H1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set H1 \\<inter> circline_set H2)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set H1 \\<inter> circline_set H2)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>H2.\n     is_poincare_line H2 \\<and> perpendicular H1 H2 \\<longrightarrow>\n     (\\<exists>z.\n         z \\<in> unit_disc \\<and>\n         z \\<in> circline_set H1 \\<inter> circline_set H2)\n  is_poincare_line H1\n  is_poincare_line H2\n  perpendicular H1 H2\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       z \\<in> unit_disc \\<and>\n       z \\<in> circline_set H1 \\<inter> circline_set H2", "by auto"], ["proof (state)\nthis:\n  \\<exists>z.\n     z \\<in> unit_disc \\<and>\n     z \\<in> circline_set H1 \\<inter> circline_set H2\n\ngoal:\nNo subgoals!", "qed"], ["", "definition calc_perpendicular_to_x_axis_cmat :: \"complex_vec \\<Rightarrow> complex_mat\" where\n [simp]: \"calc_perpendicular_to_x_axis_cmat z =\n     (let (z1, z2) = z\n       in if z1*cnj z2 + z2*cnj z1 = 0 then\n          (0, 1, 1, 0)\n       else\n          let A = z1*cnj z2 + z2*cnj z1;\n              B = -(z1*cnj z1 + z2*cnj z2)\n           in (A, B, B, A)\n     )\""], ["", "lift_definition calc_perpendicular_to_x_axis_clmat :: \"complex_homo_coords \\<Rightarrow> circline_mat\" is calc_perpendicular_to_x_axis_cmat"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>prod.\n       prod \\<noteq> vec_zero \\<Longrightarrow>\n       hermitean (calc_perpendicular_to_x_axis_cmat prod) \\<and>\n       calc_perpendicular_to_x_axis_cmat prod \\<noteq> mat_zero", "by (auto simp add: hermitean_def mat_adj_def mat_cnj_def Let_def split: if_split_asm)"], ["", "lift_definition calc_perpendicular_to_x_axis :: \"complex_homo \\<Rightarrow> circline\" is calc_perpendicular_to_x_axis_clmat"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       complex_homo_coords1 \\<approx> complex_homo_coords2 \\<Longrightarrow>\n       circline_eq_clmat\n        (calc_perpendicular_to_x_axis_clmat complex_homo_coords1)\n        (calc_perpendicular_to_x_axis_clmat complex_homo_coords2)", "proof (transfer)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "fix z w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "assume \"z \\<noteq> vec_zero\" \"w \\<noteq> vec_zero\""], ["proof (state)\nthis:\n  z \\<noteq> vec_zero\n  w \\<noteq> vec_zero\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "obtain z1 z2 w1 w2 where zw: \"z = (z1, z2)\" \"w = (w1, w2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z1 z2 w1 w2.\n        \\<lbrakk>z = (z1, z2); w = (w1, w2)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases z, cases w, auto)"], ["proof (state)\nthis:\n  z = (z1, z2)\n  w = (w1, w2)\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "assume \"z \\<approx>\\<^sub>v w\""], ["proof (state)\nthis:\n  z \\<approx>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "then"], ["proof (chain)\npicking this:\n  z \\<approx>\\<^sub>v w", "obtain k where *: \"k \\<noteq> 0\" \"w1 = k*z1\" \"w2 = k*z2\""], ["proof (prove)\nusing this:\n  z \\<approx>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>k \\<noteq> 0; w1 = k * z1; w2 = k * z2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using zw"], ["proof (prove)\nusing this:\n  z \\<approx>\\<^sub>v w\n  z = (z1, z2)\n  w = (w1, w2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>k \\<noteq> 0; w1 = k * z1; w2 = k * z2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  k \\<noteq> 0\n  w1 = k * z1\n  w2 = k * z2\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "have \"w1 * cnj w2 + w2 * cnj w1 = (k * cnj k) * (z1 * cnj z2 + z2 * cnj z1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)", "using *"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n  w1 = k * z1\n  w2 = k * z2\n\ngoal (1 subgoal):\n 1. w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)", "by (auto simp add: field_simps)"], ["proof (state)\nthis:\n  w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "moreover"], ["proof (state)\nthis:\n  w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "have \"w1 * cnj w1 + w2 * cnj w2 = (k * cnj k) * (z1 * cnj z1 + z2 * cnj z2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)", "using *"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n  w1 = k * z1\n  w2 = k * z2\n\ngoal (1 subgoal):\n 1. w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)", "by (auto simp add: field_simps)"], ["proof (state)\nthis:\n  w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)\n\ngoal (1 subgoal):\n 1. \\<And>complex_homo_coords1 complex_homo_coords2.\n       \\<lbrakk>complex_homo_coords1 \\<noteq> vec_zero;\n        complex_homo_coords2 \\<noteq> vec_zero;\n        complex_homo_coords1 \\<approx>\\<^sub>v complex_homo_coords2\\<rbrakk>\n       \\<Longrightarrow> circline_eq_cmat\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords1)\n                          (calc_perpendicular_to_x_axis_cmat\n                            complex_homo_coords2)", "ultimately"], ["proof (chain)\npicking this:\n  w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)\n  w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)", "show \"circline_eq_cmat (calc_perpendicular_to_x_axis_cmat z) (calc_perpendicular_to_x_axis_cmat w)\""], ["proof (prove)\nusing this:\n  w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)\n  w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)\n\ngoal (1 subgoal):\n 1. circline_eq_cmat (calc_perpendicular_to_x_axis_cmat z)\n     (calc_perpendicular_to_x_axis_cmat w)", "using zw *"], ["proof (prove)\nusing this:\n  w1 * cnj w2 + w2 * cnj w1 = k * cnj k * (z1 * cnj z2 + z2 * cnj z1)\n  w1 * cnj w1 + w2 * cnj w2 = k * cnj k * (z1 * cnj z1 + z2 * cnj z2)\n  z = (z1, z2)\n  w = (w1, w2)\n  k \\<noteq> 0\n  w1 = k * z1\n  w2 = k * z2\n\ngoal (1 subgoal):\n 1. circline_eq_cmat (calc_perpendicular_to_x_axis_cmat z)\n     (calc_perpendicular_to_x_axis_cmat w)", "apply (auto simp add: Let_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>k * z1 * (cnj k * cnj z2) + k * z2 * (cnj k * cnj z1) =\n             k * cnj k * (z1 * cnj z2 + z2 * cnj z1);\n     k * z1 * (cnj k * cnj z1) + k * z2 * (cnj k * cnj z2) =\n     k * cnj k * (z1 * cnj z1 + z2 * cnj z2);\n     z = (z1, z2); w = (k * z1, k * z2); k \\<noteq> 0; w1 = k * z1;\n     w2 = k * z2; z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> \\<exists>ka.\n                         ka \\<noteq> 0 \\<and>\n                         k * cnj k = cor ka \\<and>\n                         - (k * cnj k * (z1 * cnj z1 + z2 * cnj z2)) =\n                         cor ka * (- (z1 * cnj z1) - z2 * cnj z2) \\<and>\n                         k * cnj k = cor ka", "apply (rule_tac x=\"Re (k * cnj k)\" in exI, auto simp add: complex.expand field_simps)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  circline_eq_cmat (calc_perpendicular_to_x_axis_cmat z)\n   (calc_perpendicular_to_x_axis_cmat w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma calc_perpendicular_to_x_axis:\n  assumes \"z \\<noteq> of_complex 1\" \"z \\<noteq> of_complex (-1)\"\n  shows \"z \\<in> circline_set (calc_perpendicular_to_x_axis z) \\<and>\n         is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n         perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> circline_set (calc_perpendicular_to_x_axis z) \\<and>\n    is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n    perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)", "using assms"], ["proof (prove)\nusing this:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (calc_perpendicular_to_x_axis z) \\<and>\n    is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n    perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)", "unfolding circline_set_def perpendicular_def"], ["proof (prove)\nusing this:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n\ngoal (1 subgoal):\n 1. z \\<in> Collect (on_circline (calc_perpendicular_to_x_axis z)) \\<and>\n    is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n    perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)", "proof (simp, transfer, transfer)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z za.\n       \\<lbrakk>z \\<noteq> vec_zero; \\<not> z \\<approx>\\<^sub>v 1\\<^sub>v;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> za \\<approx> of_complex_hcoords 1;\n        \\<not> za \\<approx> of_complex_hcoords (- 1)\\<rbrakk>\n       \\<Longrightarrow> on_circline_cmat_cvec\n                          (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n                         is_poincare_line_cmat\n                          (calc_perpendicular_to_x_axis_cmat z) \\<and>\n                         perpendicular_to_x_axis_cmat\n                          (calc_perpendicular_to_x_axis_cmat z)", "fix z :: complex_vec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z za.\n       \\<lbrakk>z \\<noteq> vec_zero; \\<not> z \\<approx>\\<^sub>v 1\\<^sub>v;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> za \\<approx> of_complex_hcoords 1;\n        \\<not> za \\<approx> of_complex_hcoords (- 1)\\<rbrakk>\n       \\<Longrightarrow> on_circline_cmat_cvec\n                          (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n                         is_poincare_line_cmat\n                          (calc_perpendicular_to_x_axis_cmat z) \\<and>\n                         perpendicular_to_x_axis_cmat\n                          (calc_perpendicular_to_x_axis_cmat z)", "obtain z1 z2 where z: \"z = (z1, z2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z1 z2. z = (z1, z2) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases z, auto)"], ["proof (state)\nthis:\n  z = (z1, z2)\n\ngoal (1 subgoal):\n 1. \\<And>z za.\n       \\<lbrakk>z \\<noteq> vec_zero; \\<not> z \\<approx>\\<^sub>v 1\\<^sub>v;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> za \\<approx> of_complex_hcoords 1;\n        \\<not> za \\<approx> of_complex_hcoords (- 1)\\<rbrakk>\n       \\<Longrightarrow> on_circline_cmat_cvec\n                          (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n                         is_poincare_line_cmat\n                          (calc_perpendicular_to_x_axis_cmat z) \\<and>\n                         perpendicular_to_x_axis_cmat\n                          (calc_perpendicular_to_x_axis_cmat z)", "assume **: \"\\<not> z \\<approx>\\<^sub>v of_complex_cvec 1\" \"\\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1)\""], ["proof (state)\nthis:\n  \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1\n  \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1)\n\ngoal (1 subgoal):\n 1. \\<And>z za.\n       \\<lbrakk>z \\<noteq> vec_zero; \\<not> z \\<approx>\\<^sub>v 1\\<^sub>v;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1;\n        \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1);\n        \\<not> za \\<approx> of_complex_hcoords 1;\n        \\<not> za \\<approx> of_complex_hcoords (- 1)\\<rbrakk>\n       \\<Longrightarrow> on_circline_cmat_cvec\n                          (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n                         is_poincare_line_cmat\n                          (calc_perpendicular_to_x_axis_cmat z) \\<and>\n                         perpendicular_to_x_axis_cmat\n                          (calc_perpendicular_to_x_axis_cmat z)", "show \"on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n        is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n        perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "proof (cases \"z1*cnj z2 + z2*cnj z1 = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. z1 * cnj z2 + z2 * cnj z1 = 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\n 2. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "case True"], ["proof (state)\nthis:\n  z1 * cnj z2 + z2 * cnj z1 = 0\n\ngoal (2 subgoals):\n 1. z1 * cnj z2 + z2 * cnj z1 = 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\n 2. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  z1 * cnj z2 + z2 * cnj z1 = 0\n\ngoal (1 subgoal):\n 1. on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "using z"], ["proof (prove)\nusing this:\n  z1 * cnj z2 + z2 * cnj z1 = 0\n  z = (z1, z2)\n\ngoal (1 subgoal):\n 1. on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "by (simp add: vec_cnj_def hermitean_def mat_adj_def mat_cnj_def mult.commute)"], ["proof (state)\nthis:\n  on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n  is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n  perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "case False"], ["proof (state)\nthis:\n  z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "hence \"z2 \\<noteq> 0\""], ["proof (prove)\nusing this:\n  z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z2 \\<noteq> 0", "using z"], ["proof (prove)\nusing this:\n  z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0\n  z = (z1, z2)\n\ngoal (1 subgoal):\n 1. z2 \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  z2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "hence \"Re (z2 * cnj z2) \\<noteq> 0\""], ["proof (prove)\nusing this:\n  z2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re (z2 * cnj z2) \\<noteq> 0", "using \\<open>z2 \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  z2 \\<noteq> 0\n  z2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re (z2 * cnj z2) \\<noteq> 0", "by (auto simp add: complex.expand)"], ["proof (state)\nthis:\n  Re (z2 * cnj z2) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "have \"z1 \\<noteq> -z2 \\<and> z1 \\<noteq> z2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2) \\<Longrightarrow> False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2)\n\ngoal (1 subgoal):\n 1. \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2) \\<Longrightarrow> False", "hence \"z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or> z \\<approx>\\<^sub>v of_complex_cvec (-1)\""], ["proof (prove)\nusing this:\n  \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2)\n\ngoal (1 subgoal):\n 1. z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or>\n    z \\<approx>\\<^sub>v of_complex_cvec (- 1)", "using z \\<open>z2 \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2)\n  z = (z1, z2)\n  z2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or>\n    z \\<approx>\\<^sub>v of_complex_cvec (- 1)", "by auto"], ["proof (state)\nthis:\n  z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or>\n  z \\<approx>\\<^sub>v of_complex_cvec (- 1)\n\ngoal (1 subgoal):\n 1. \\<not> (z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2) \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or>\n  z \\<approx>\\<^sub>v of_complex_cvec (- 1)\n\ngoal (1 subgoal):\n 1. False", "using **"], ["proof (prove)\nusing this:\n  z \\<approx>\\<^sub>v of_complex_cvec 1 \\<or>\n  z \\<approx>\\<^sub>v of_complex_cvec (- 1)\n  \\<not> z \\<approx>\\<^sub>v of_complex_cvec 1\n  \\<not> z \\<approx>\\<^sub>v of_complex_cvec (- 1)\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "let ?A = \"z1*cnj z2 + z2*cnj z1\" and ?B = \"-(z1*cnj z1 + z2*cnj z2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "have \"Re(z1*cnj z1 + z2*cnj z2) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> Re (z1 * cnj z1 + z2 * cnj z2)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> Re (z1 * cnj z1 + z2 * cnj z2)\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "hence \"Re ?B \\<le> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> Re (z1 * cnj z1 + z2 * cnj z2)\n\ngoal (1 subgoal):\n 1. Re (- (z1 * cnj z1 + z2 * cnj z2)) \\<le> 0", "by (smt uminus_complex.simps(1))"], ["proof (state)\nthis:\n  Re (- (z1 * cnj z1 + z2 * cnj z2)) \\<le> 0\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "hence \"abs (Re ?B) = - Re ?B\""], ["proof (prove)\nusing this:\n  Re (- (z1 * cnj z1 + z2 * cnj z2)) \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar> =\n    - Re (- (z1 * cnj z1 + z2 * cnj z2))", "by auto"], ["proof (state)\nthis:\n  \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar> =\n  - Re (- (z1 * cnj z1 + z2 * cnj z2))\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "also"], ["proof (state)\nthis:\n  \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar> =\n  - Re (- (z1 * cnj z1 + z2 * cnj z2))\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "have \"... = (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - Re (- (z1 * cnj z1 + z2 * cnj z2)) =\n    (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "by (simp add: power2_eq_square[symmetric])"], ["proof (state)\nthis:\n  - Re (- (z1 * cnj z1 + z2 * cnj z2)) =\n  (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "also"], ["proof (state)\nthis:\n  - Re (- (z1 * cnj z1 + z2 * cnj z2)) =\n  (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "have \"... > abs (Re ?A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "proof (cases \"Re ?A \\<ge> 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n 2. \\<not> 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "case False"], ["proof (state)\nthis:\n  \\<not> 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (2 subgoals):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n 2. \\<not> 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "have \"(Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2", "using \\<open>z1 \\<noteq> -z2 \\<and> z1 \\<noteq> z2\\<close>"], ["proof (prove)\nusing this:\n  z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2\n\ngoal (1 subgoal):\n 1. 0 < (Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2", "by (metis add.commute add.inverse_unique complex_neq_0 plus_complex.code plus_complex.simps)"], ["proof (state)\nthis:\n  0 < (Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2\n\ngoal (2 subgoals):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n 2. \\<not> 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 < (Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "using False"], ["proof (prove)\nusing this:\n  0 < (Re z1 + Re z2)\\<^sup>2 + (Im z1 + Im z2)\\<^sup>2\n  \\<not> 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "by (simp add: power2_sum power2_eq_square field_simps)"], ["proof (state)\nthis:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "case True"], ["proof (state)\nthis:\n  0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "have \"(Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2", "using \\<open>z1 \\<noteq> -z2 \\<and> z1 \\<noteq> z2\\<close>"], ["proof (prove)\nusing this:\n  z1 \\<noteq> - z2 \\<and> z1 \\<noteq> z2\n\ngoal (1 subgoal):\n 1. 0 < (Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2", "by (meson complex_eq_iff right_minus_eq sum_power2_gt_zero_iff)"], ["proof (state)\nthis:\n  0 < (Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1) \\<Longrightarrow>\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 < (Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "using True"], ["proof (prove)\nusing this:\n  0 < (Re z1 - Re z2)\\<^sup>2 + (Im z1 - Im z2)\\<^sup>2\n  0 \\<le> Re (z1 * cnj z2 + z2 * cnj z1)\n\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2", "by (simp add: power2_sum power2_eq_square field_simps)"], ["proof (state)\nthis:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < (Re z1)\\<^sup>2 + (Im z1)\\<^sup>2 + (Re z2)\\<^sup>2 + (Im z2)\\<^sup>2\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "finally"], ["proof (chain)\npicking this:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>", "have \"abs (Re ?B) > abs (Re ?A)\""], ["proof (prove)\nusing this:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n    < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>", "."], ["proof (state)\nthis:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "moreover"], ["proof (state)\nthis:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "have \"cmod ?B = abs (Re ?B)\" \"cmod ?A = abs (Re ?A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (- (z1 * cnj z1 + z2 * cnj z2)) =\n    \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar> &&&\n    cmod (z1 * cnj z2 + z2 * cnj z1) =\n    \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>", "by (simp_all add: cmod_eq_Re)"], ["proof (state)\nthis:\n  cmod (- (z1 * cnj z1 + z2 * cnj z2)) =\n  \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n  cmod (z1 * cnj z2 + z2 * cnj z1) =\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n  cmod (- (z1 * cnj z1 + z2 * cnj z2)) =\n  \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n  cmod (z1 * cnj z2 + z2 * cnj z1) =\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>", "have \"(cmod ?B)\\<^sup>2 > (cmod ?A)\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n  < \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n  cmod (- (z1 * cnj z1 + z2 * cnj z2)) =\n  \\<bar>Re (- (z1 * cnj z1 + z2 * cnj z2))\\<bar>\n  cmod (z1 * cnj z2 + z2 * cnj z1) =\n  \\<bar>Re (z1 * cnj z2 + z2 * cnj z1)\\<bar>\n\ngoal (1 subgoal):\n 1. (cmod (z1 * cnj z2 + z2 * cnj z1))\\<^sup>2\n    < (cmod (- (z1 * cnj z1 + z2 * cnj z2)))\\<^sup>2", "by (smt power2_le_imp_le)"], ["proof (state)\nthis:\n  (cmod (z1 * cnj z2 + z2 * cnj z1))\\<^sup>2\n  < (cmod (- (z1 * cnj z1 + z2 * cnj z2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0 \\<Longrightarrow>\n    on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (cmod (z1 * cnj z2 + z2 * cnj z1))\\<^sup>2\n  < (cmod (- (z1 * cnj z1 + z2 * cnj z2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "using z False"], ["proof (prove)\nusing this:\n  (cmod (z1 * cnj z2 + z2 * cnj z1))\\<^sup>2\n  < (cmod (- (z1 * cnj z1 + z2 * cnj z2)))\\<^sup>2\n  z = (z1, z2)\n  z1 * cnj z2 + z2 * cnj z1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n    is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n    perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)", "by (simp_all add: Let_def hermitean_def mat_adj_def mat_cnj_def cmod_eq_Re vec_cnj_def field_simps)"], ["proof (state)\nthis:\n  on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n  is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n  perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  on_circline_cmat_cvec (calc_perpendicular_to_x_axis_cmat z) z \\<and>\n  is_poincare_line_cmat (calc_perpendicular_to_x_axis_cmat z) \\<and>\n  perpendicular_to_x_axis_cmat (calc_perpendicular_to_x_axis_cmat z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ex_perpendicular:\n  assumes \"is_poincare_line H\" \"z \\<in> unit_disc\"\n  shows \"\\<exists> H'. is_poincare_line H' \\<and> perpendicular H H' \\<and> z \\<in> circline_set H'\" (is \"?P' H z\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "have \"\\<forall> z. z \\<in> unit_disc \\<longrightarrow> ?P' H z\" (is \"?P H\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z.\n       z \\<in> unit_disc \\<longrightarrow>\n       (\\<exists>H'.\n           is_poincare_line H' \\<and>\n           perpendicular H H' \\<and> z \\<in> circline_set H')", "proof (rule wlog_line_x_axis)"], ["proof (state)\ngoal (3 subgoals):\n 1. is_poincare_line H\n 2. \\<forall>z.\n       z \\<in> unit_disc \\<longrightarrow>\n       (\\<exists>H'.\n           is_poincare_line H' \\<and>\n           perpendicular x_axis H' \\<and> z \\<in> circline_set H')\n 3. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "show \"?P x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z.\n       z \\<in> unit_disc \\<longrightarrow>\n       (\\<exists>H'.\n           is_poincare_line H' \\<and>\n           perpendicular x_axis H' \\<and> z \\<in> circline_set H')", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "assume \"z \\<in> unit_disc\""], ["proof (state)\nthis:\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "then"], ["proof (chain)\npicking this:\n  z \\<in> unit_disc", "have \"z \\<noteq> of_complex 1\" \"z \\<noteq> of_complex (-1)\""], ["proof (prove)\nusing this:\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. z \\<noteq> of_complex 1 &&& z \\<noteq> of_complex (- 1)", "by auto"], ["proof (state)\nthis:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "thus \"?P' x_axis z\""], ["proof (prove)\nusing this:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "using \\<open>z \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "using calc_perpendicular_to_x_axis[of z] perpendicular_to_x_axis"], ["proof (prove)\nusing this:\n  z \\<noteq> of_complex 1\n  z \\<noteq> of_complex (- 1)\n  z \\<in> unit_disc\n  \\<lbrakk>z \\<noteq> of_complex 1; z \\<noteq> of_complex (- 1)\\<rbrakk>\n  \\<Longrightarrow> z \\<in> circline_set\n                             (calc_perpendicular_to_x_axis z) \\<and>\n                    is_poincare_line (calc_perpendicular_to_x_axis z) \\<and>\n                    perpendicular_to_x_axis (calc_perpendicular_to_x_axis z)\n  is_poincare_line ?H \\<Longrightarrow>\n  perpendicular_to_x_axis ?H = perpendicular x_axis ?H\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular x_axis H' \\<and> z \\<in> circline_set H'", "by (rule_tac x = \"calc_perpendicular_to_x_axis z\" in exI, auto)"], ["proof (state)\nthis:\n  \\<exists>H'.\n     is_poincare_line H' \\<and>\n     perpendicular x_axis H' \\<and> z \\<in> circline_set H'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular x_axis H' \\<and> z \\<in> circline_set H')\n\ngoal (2 subgoals):\n 1. is_poincare_line H\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. is_poincare_line H\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "fix M"], ["proof (state)\ngoal (2 subgoals):\n 1. is_poincare_line H\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "assume \"unit_disc_fix M\""], ["proof (state)\nthis:\n  unit_disc_fix M\n\ngoal (2 subgoals):\n 1. is_poincare_line H\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "assume *: \"?P (moebius_circline M H)\""], ["proof (state)\nthis:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular (moebius_circline M H) H' \\<and>\n         z \\<in> circline_set H')\n\ngoal (2 subgoals):\n 1. is_poincare_line H\n 2. \\<And>M.\n       \\<lbrakk>unit_disc_fix M;\n        \\<forall>z.\n           z \\<in> unit_disc \\<longrightarrow>\n           (\\<exists>H'.\n               is_poincare_line H' \\<and>\n               perpendicular (moebius_circline M H) H' \\<and>\n               z \\<in> circline_set H')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>z.\n                            z \\<in> unit_disc \\<longrightarrow>\n                            (\\<exists>H'.\n                                is_poincare_line H' \\<and>\n                                perpendicular H H' \\<and>\n                                z \\<in> circline_set H')", "show \"?P H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z.\n       z \\<in> unit_disc \\<longrightarrow>\n       (\\<exists>H'.\n           is_poincare_line H' \\<and>\n           perpendicular H H' \\<and> z \\<in> circline_set H')", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "assume \"z \\<in> unit_disc\""], ["proof (state)\nthis:\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "hence \"moebius_pt M z \\<in> unit_disc\""], ["proof (prove)\nusing this:\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. moebius_pt M z \\<in> unit_disc", "using \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  z \\<in> unit_disc\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. moebius_pt M z \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  moebius_pt M z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "then"], ["proof (chain)\npicking this:\n  moebius_pt M z \\<in> unit_disc", "obtain H' where *: \"is_poincare_line H'\" \"perpendicular (moebius_circline M H) H'\" \"moebius_pt M z \\<in> circline_set H'\""], ["proof (prove)\nusing this:\n  moebius_pt M z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>H'.\n        \\<lbrakk>is_poincare_line H';\n         perpendicular (moebius_circline M H) H';\n         moebius_pt M z \\<in> circline_set H'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *"], ["proof (prove)\nusing this:\n  moebius_pt M z \\<in> unit_disc\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular (moebius_circline M H) H' \\<and>\n         z \\<in> circline_set H')\n\ngoal (1 subgoal):\n 1. (\\<And>H'.\n        \\<lbrakk>is_poincare_line H';\n         perpendicular (moebius_circline M H) H';\n         moebius_pt M z \\<in> circline_set H'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  is_poincare_line H'\n  perpendicular (moebius_circline M H) H'\n  moebius_pt M z \\<in> circline_set H'\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "have h: \"H = moebius_circline (-M) (moebius_circline M H)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H = moebius_circline (- M) (moebius_circline M H)", "by auto"], ["proof (state)\nthis:\n  H = moebius_circline (- M) (moebius_circline M H)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> unit_disc \\<Longrightarrow>\n       \\<exists>H'.\n          is_poincare_line H' \\<and>\n          perpendicular H H' \\<and> z \\<in> circline_set H'", "show \"?P' H z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "using * \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  is_poincare_line H'\n  perpendicular (moebius_circline M H) H'\n  moebius_pt M z \\<in> circline_set H'\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "apply (subst h)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_poincare_line H'; perpendicular (moebius_circline M H) H';\n     moebius_pt M z \\<in> circline_set H'; unit_disc_fix M\\<rbrakk>\n    \\<Longrightarrow> \\<exists>H'.\n                         is_poincare_line H' \\<and>\n                         perpendicular\n                          (moebius_circline (- M) (moebius_circline M H))\n                          H' \\<and>\n                         z \\<in> circline_set H'", "apply (rule_tac x=\"moebius_circline (-M) H'\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_poincare_line H'; perpendicular (moebius_circline M H) H';\n     moebius_pt M z \\<in> circline_set H'; unit_disc_fix M\\<rbrakk>\n    \\<Longrightarrow> is_poincare_line (moebius_circline (- M) H') \\<and>\n                      perpendicular\n                       (moebius_circline (- M) (moebius_circline M H))\n                       (moebius_circline (- M) H') \\<and>\n                      z \\<in> circline_set (moebius_circline (- M) H')", "apply (simp del: moebius_circline_comp_inv_left)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>H'.\n     is_poincare_line H' \\<and>\n     perpendicular H H' \\<and> z \\<in> circline_set H'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular H H' \\<and> z \\<in> circline_set H')\n\ngoal (1 subgoal):\n 1. is_poincare_line H", "qed fact"], ["proof (state)\nthis:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular H H' \\<and> z \\<in> circline_set H')\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular H H' \\<and> z \\<in> circline_set H')\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>z.\n     z \\<in> unit_disc \\<longrightarrow>\n     (\\<exists>H'.\n         is_poincare_line H' \\<and>\n         perpendicular H H' \\<and> z \\<in> circline_set H')\n  is_poincare_line H\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       perpendicular H H' \\<and> z \\<in> circline_set H'", "by simp"], ["proof (state)\nthis:\n  \\<exists>H'.\n     is_poincare_line H' \\<and>\n     perpendicular H H' \\<and> z \\<in> circline_set H'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ex_perpendicular_foot:\n  assumes \"is_poincare_line H\" \"z \\<in> unit_disc\"\n  shows \"\\<exists> H'. is_poincare_line H' \\<and> z \\<in> circline_set H' \\<and> perpendicular H H' \\<and>\n              (\\<exists> z' \\<in> unit_disc. z' \\<in> circline_set H' \\<inter> circline_set H)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       z \\<in> circline_set H' \\<and>\n       perpendicular H H' \\<and>\n       (\\<exists>z'\\<in>unit_disc.\n           z' \\<in> circline_set H' \\<inter> circline_set H)", "using assms"], ["proof (prove)\nusing this:\n  is_poincare_line H\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       z \\<in> circline_set H' \\<and>\n       perpendicular H H' \\<and>\n       (\\<exists>z'\\<in>unit_disc.\n           z' \\<in> circline_set H' \\<inter> circline_set H)", "using ex_perpendicular[OF assms]"], ["proof (prove)\nusing this:\n  is_poincare_line H\n  z \\<in> unit_disc\n  \\<exists>H'.\n     is_poincare_line H' \\<and>\n     perpendicular H H' \\<and> z \\<in> circline_set H'\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       z \\<in> circline_set H' \\<and>\n       perpendicular H H' \\<and>\n       (\\<exists>z'\\<in>unit_disc.\n           z' \\<in> circline_set H' \\<inter> circline_set H)", "using perpendicular_intersects[of H]"], ["proof (prove)\nusing this:\n  is_poincare_line H\n  z \\<in> unit_disc\n  \\<exists>H'.\n     is_poincare_line H' \\<and>\n     perpendicular H H' \\<and> z \\<in> circline_set H'\n  \\<lbrakk>is_poincare_line H; is_poincare_line ?H2.0;\n   perpendicular H ?H2.0\\<rbrakk>\n  \\<Longrightarrow> \\<exists>z.\n                       z \\<in> unit_disc \\<and>\n                       z \\<in> circline_set H \\<inter> circline_set ?H2.0\n\ngoal (1 subgoal):\n 1. \\<exists>H'.\n       is_poincare_line H' \\<and>\n       z \\<in> circline_set H' \\<and>\n       perpendicular H H' \\<and>\n       (\\<exists>z'\\<in>unit_disc.\n           z' \\<in> circline_set H' \\<inter> circline_set H)", "by blast"], ["", "lemma Pythagoras:\n  assumes in_disc: \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\" \"v \\<noteq> w\"\n  assumes \"distinct[u, v, w] \\<longrightarrow> perpendicular (poincare_line u v) (poincare_line u w)\"\n  shows \"cosh (poincare_distance v w) = cosh (poincare_distance u v) * cosh (poincare_distance u w)\" (is \"?P' u v w\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. cosh_dist v w = cosh_dist u v * cosh_dist u w", "proof (cases \"distinct [u, v, w]\")"], ["proof (state)\ngoal (2 subgoals):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<not> distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "case False"], ["proof (state)\nthis:\n  \\<not> distinct [u, v, w]\n\ngoal (2 subgoals):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<not> distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "thus \"?thesis\""], ["proof (prove)\nusing this:\n  \\<not> distinct [u, v, w]\n\ngoal (1 subgoal):\n 1. cosh_dist v w = cosh_dist u v * cosh_dist u w", "using in_disc"], ["proof (prove)\nusing this:\n  \\<not> distinct [u, v, w]\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  v \\<noteq> w\n\ngoal (1 subgoal):\n 1. cosh_dist v w = cosh_dist u v * cosh_dist u w", "by (auto simp add: poincare_distance_sym)"], ["proof (state)\nthis:\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "case True"], ["proof (state)\nthis:\n  distinct [u, v, w]\n\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "have \"distinct [u, v, w] \\<longrightarrow> ?P' u v w\" (is \"?P u v w\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "proof (rule wlog_perpendicular_axes[where P=\"?P\"])"], ["proof (state)\ngoal (12 subgoals):\n 1. v \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. u \\<in> unit_disc\n 4. is_poincare_line ?H1.0\n 5. is_poincare_line ?H2.0\n 6. perpendicular ?H1.0 ?H2.0\n 7. u \\<in> circline_set ?H1.0 \\<inter> circline_set ?H2.0\n 8. v \\<in> circline_set ?H1.0\n 9. w \\<in> circline_set ?H2.0\n 10. \\<And>x y.\n        \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n         Im y < 1\\<rbrakk>\n        \\<Longrightarrow> distinct\n                           [0\\<^sub>h, of_complex x,\n                            of_complex y] \\<longrightarrow>\n                          cosh_dist (of_complex x) (of_complex y) =\n                          cosh_dist 0\\<^sub>h (of_complex x) *\n                          cosh_dist 0\\<^sub>h (of_complex y)\nA total of 12 subgoals...", "show \"is_poincare_line (poincare_line u v)\" \"is_poincare_line (poincare_line u w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_poincare_line (poincare_line u v) &&&\n    is_poincare_line (poincare_line u w)", "using \\<open>distinct [u, v, w]\\<close>"], ["proof (prove)\nusing this:\n  distinct [u, v, w]\n\ngoal (1 subgoal):\n 1. is_poincare_line (poincare_line u v) &&&\n    is_poincare_line (poincare_line u w)", "by simp_all"], ["proof (state)\nthis:\n  is_poincare_line (poincare_line u v)\n  is_poincare_line (poincare_line u w)\n\ngoal (10 subgoals):\n 1. v \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. u \\<in> unit_disc\n 4. perpendicular (poincare_line u v) (poincare_line u w)\n 5. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 6. v \\<in> circline_set (poincare_line u v)\n 7. w \\<in> circline_set (poincare_line u w)\n 8. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 9. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 10. \\<And>u v w.\n        \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n         distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n         cosh_dist (conjugate v) (conjugate w) =\n         cosh_dist (conjugate u) (conjugate v) *\n         cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n        \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                          cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. v \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. u \\<in> unit_disc\n 4. perpendicular (poincare_line u v) (poincare_line u w)\n 5. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 6. v \\<in> circline_set (poincare_line u v)\n 7. w \\<in> circline_set (poincare_line u w)\n 8. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 9. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 10. \\<And>u v w.\n        \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n         distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n         cosh_dist (conjugate v) (conjugate w) =\n         cosh_dist (conjugate u) (conjugate v) *\n         cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n        \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                          cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"perpendicular (poincare_line u v) (poincare_line u w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perpendicular (poincare_line u v) (poincare_line u w)", "using True assms"], ["proof (prove)\nusing this:\n  distinct [u, v, w]\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  v \\<noteq> w\n  distinct [u, v, w] \\<longrightarrow>\n  perpendicular (poincare_line u v) (poincare_line u w)\n\ngoal (1 subgoal):\n 1. perpendicular (poincare_line u v) (poincare_line u w)", "by simp"], ["proof (state)\nthis:\n  perpendicular (poincare_line u v) (poincare_line u w)\n\ngoal (9 subgoals):\n 1. v \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. u \\<in> unit_disc\n 4. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 5. v \\<in> circline_set (poincare_line u v)\n 6. w \\<in> circline_set (poincare_line u w)\n 7. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 8. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 9. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. v \\<in> unit_disc\n 2. w \\<in> unit_disc\n 3. u \\<in> unit_disc\n 4. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 5. v \\<in> circline_set (poincare_line u v)\n 6. w \\<in> circline_set (poincare_line u w)\n 7. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 8. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 9. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<in> unit_disc &&& v \\<in> unit_disc &&& w \\<in> unit_disc", "by fact+"], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (6 subgoals):\n 1. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 2. v \\<in> circline_set (poincare_line u v)\n 3. w \\<in> circline_set (poincare_line u w)\n 4. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 5. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 6. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)\n 2. v \\<in> circline_set (poincare_line u v)\n 3. w \\<in> circline_set (poincare_line u w)\n 4. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 5. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 6. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"v \\<in> circline_set (poincare_line u v)\" \"w \\<in> circline_set (poincare_line u w)\"\n         \"u \\<in> circline_set (poincare_line u v) \\<inter> circline_set (poincare_line u w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> circline_set (poincare_line u v) &&&\n    w \\<in> circline_set (poincare_line u w) &&&\n    u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)", "using \\<open>distinct [u, v, w]\\<close>"], ["proof (prove)\nusing this:\n  distinct [u, v, w]\n\ngoal (1 subgoal):\n 1. v \\<in> circline_set (poincare_line u v) &&&\n    w \\<in> circline_set (poincare_line u w) &&&\n    u \\<in> circline_set (poincare_line u v) \\<inter>\n            circline_set (poincare_line u w)", "by auto"], ["proof (state)\nthis:\n  v \\<in> circline_set (poincare_line u v)\n  w \\<in> circline_set (poincare_line u w)\n  u \\<in> circline_set (poincare_line u v) \\<inter>\n          circline_set (poincare_line u w)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "fix x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume x: \"is_real x\" \"0 \\<le> Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume y: \"is_imag y\" \"0 \\<le> Im y\" \"Im y < 1\""], ["proof (state)\nthis:\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "have \"of_complex x \\<in> unit_disc\" \"of_complex y \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc &&& of_complex y \\<in> unit_disc", "using x y"], ["proof (prove)\nusing this:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc &&& of_complex y \\<in> unit_disc", "by (simp_all add: cmod_eq_Re cmod_eq_Im)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n  of_complex y \\<in> unit_disc\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>is_real x; 0 \\<le> Re x; Re x < 1; is_imag y; 0 \\<le> Im y;\n        Im y < 1\\<rbrakk>\n       \\<Longrightarrow> distinct\n                          [0\\<^sub>h, of_complex x,\n                           of_complex y] \\<longrightarrow>\n                         cosh_dist (of_complex x) (of_complex y) =\n                         cosh_dist 0\\<^sub>h (of_complex x) *\n                         cosh_dist 0\\<^sub>h (of_complex y)\n 2. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 3. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"?P 0\\<^sub>h (of_complex x) (of_complex y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "assume \"distinct [0\\<^sub>h, of_complex x, of_complex y]\""], ["proof (state)\nthis:\n  distinct [0\\<^sub>h, of_complex x, of_complex y]\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "hence \"x \\<noteq> 0\" \"y \\<noteq> 0\""], ["proof (prove)\nusing this:\n  distinct [0\\<^sub>h, of_complex x, of_complex y]\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0 &&& y \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> 0\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "let ?den1 = \"1 - (cmod x)\\<^sup>2\" and ?den2 = \"1 - (cmod y)\\<^sup>2\""], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "have \"?den1 > 0\" \"?den2 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < 1 - (cmod x)\\<^sup>2 &&& 0 < 1 - (cmod y)\\<^sup>2", "using x y"], ["proof (prove)\nusing this:\n  is_real x\n  0 \\<le> Re x\n  Re x < 1\n  is_imag y\n  0 \\<le> Im y\n  Im y < 1\n\ngoal (1 subgoal):\n 1. 0 < 1 - (cmod x)\\<^sup>2 &&& 0 < 1 - (cmod y)\\<^sup>2", "by (simp_all add: cmod_eq_Re cmod_eq_Im abs_square_less_1)"], ["proof (state)\nthis:\n  0 < 1 - (cmod x)\\<^sup>2\n  0 < 1 - (cmod y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "let ?d1 = \"1 + 2 * (cmod x)\\<^sup>2 / ?den1\""], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "have \"cosh (poincare_distance 0\\<^sub>h (of_complex x)) = ?d1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex x) =\n    1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)", "using \\<open>?den1 > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 - (cmod x)\\<^sup>2\n\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex x) =\n    1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)", "using poincare_distance_formula[of \"0\\<^sub>h\" \"of_complex x\"] \\<open>of_complex x \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 - (cmod x)\\<^sup>2\n  \\<lbrakk>0\\<^sub>h \\<in> unit_disc; of_complex x \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_distance 0\\<^sub>h (of_complex x) =\n                    poincare_distance_formula (to_complex 0\\<^sub>h)\n                     (to_complex (of_complex x))\n  of_complex x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex x) =\n    1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  cosh_dist 0\\<^sub>h (of_complex x) =\n  1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "moreover"], ["proof (state)\nthis:\n  cosh_dist 0\\<^sub>h (of_complex x) =\n  1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "let ?d2 = \"1 + 2 * (cmod y)\\<^sup>2 / ?den2\""], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "have \"cosh (poincare_distance 0\\<^sub>h (of_complex y)) = ?d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex y) =\n    1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)", "using \\<open>?den2 > 0\\<close> \\<open>of_complex y \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 - (cmod y)\\<^sup>2\n  of_complex y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex y) =\n    1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)", "using poincare_distance_formula[of \"0\\<^sub>h\" \"of_complex y\"]"], ["proof (prove)\nusing this:\n  0 < 1 - (cmod y)\\<^sup>2\n  of_complex y \\<in> unit_disc\n  \\<lbrakk>0\\<^sub>h \\<in> unit_disc; of_complex y \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_distance 0\\<^sub>h (of_complex y) =\n                    poincare_distance_formula (to_complex 0\\<^sub>h)\n                     (to_complex (of_complex y))\n\ngoal (1 subgoal):\n 1. cosh_dist 0\\<^sub>h (of_complex y) =\n    1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  cosh_dist 0\\<^sub>h (of_complex y) =\n  1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "moreover"], ["proof (state)\nthis:\n  cosh_dist 0\\<^sub>h (of_complex y) =\n  1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "let ?den = \"?den1 * ?den2\""], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "let ?d3 = \"1 + 2 * (cmod (x - y))\\<^sup>2 / ?den\""], ["proof (state)\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "have \"cosh (poincare_distance (of_complex x) (of_complex y)) = ?d3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cosh_dist (of_complex x) (of_complex y) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>of_complex y \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  of_complex x \\<in> unit_disc\n  of_complex y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. cosh_dist (of_complex x) (of_complex y) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>?den1 > 0\\<close> \\<open>?den2 > 0\\<close>"], ["proof (prove)\nusing this:\n  of_complex x \\<in> unit_disc\n  of_complex y \\<in> unit_disc\n  0 < 1 - (cmod x)\\<^sup>2\n  0 < 1 - (cmod y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. cosh_dist (of_complex x) (of_complex y) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using poincare_distance_formula[of \"of_complex x\" \"of_complex y\"]"], ["proof (prove)\nusing this:\n  of_complex x \\<in> unit_disc\n  of_complex y \\<in> unit_disc\n  0 < 1 - (cmod x)\\<^sup>2\n  0 < 1 - (cmod y)\\<^sup>2\n  \\<lbrakk>of_complex x \\<in> unit_disc;\n   of_complex y \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_distance (of_complex x) (of_complex y) =\n                    poincare_distance_formula (to_complex (of_complex x))\n                     (to_complex (of_complex y))\n\ngoal (1 subgoal):\n 1. cosh_dist (of_complex x) (of_complex y) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "by simp"], ["proof (state)\nthis:\n  cosh_dist (of_complex x) (of_complex y) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "moreover"], ["proof (state)\nthis:\n  cosh_dist (of_complex x) (of_complex y) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "have \"?d1 * ?d2 = ?d3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "have \"?d3 = ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) + 2 * (cmod (x - y))\\<^sup>2) / ?den\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n     2 * (cmod (x - y))\\<^sup>2) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>?den1 > 0\\<close> \\<open>?den2 > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 - (cmod x)\\<^sup>2\n  0 < 1 - (cmod y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n     2 * (cmod (x - y))\\<^sup>2) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "by (subst add_num_frac, simp, simp)"], ["proof (state)\nthis:\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n   2 * (cmod (x - y))\\<^sup>2) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "also"], ["proof (state)\nthis:\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n   2 * (cmod (x - y))\\<^sup>2) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "have \"... = (Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y)*cnj (x - y)) / ?den)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n     2 * (cmod (x - y))\\<^sup>2) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>is_real x\\<close> \\<open>is_imag y\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  is_imag y\n\ngoal (1 subgoal):\n 1. ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n     2 * (cmod (x - y))\\<^sup>2) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "by ((subst cmod_square)+, simp)"], ["proof (state)\nthis:\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n   2 * (cmod (x - y))\\<^sup>2) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "also"], ["proof (state)\nthis:\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2) +\n   2 * (cmod (x - y))\\<^sup>2) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "have \"... = Re (1 + x * cnj x * y * cnj y\n                               + x * cnj x - 2 * y * cnj x - 2 * x * cnj y + y * cnj y) / ?den\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n        2 * x * cnj y +\n        y * cnj y) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n      2 * x * cnj y +\n      y * cnj y) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "also"], ["proof (state)\nthis:\n  Re ((1 - x * cnj x) * (1 - y * cnj y) + 2 * (x - y) * cnj (x - y)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n      2 * x * cnj y +\n      y * cnj y) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "have \"... = Re ((1 + y * cnj y) * (1 + x * cnj x)) / ?den\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n        2 * x * cnj y +\n        y * cnj y) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>is_real x\\<close> \\<open>is_imag y\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  is_imag y\n\ngoal (1 subgoal):\n 1. Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n        2 * x * cnj y +\n        y * cnj y) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n    Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  Re (1 + x * cnj x * y * cnj y + x * cnj x - 2 * y * cnj x -\n      2 * x * cnj y +\n      y * cnj y) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "finally"], ["proof (chain)\npicking this:\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "show ?thesis"], ["proof (prove)\nusing this:\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "using \\<open>?den1 > 0\\<close> \\<open>?den2 > 0\\<close>"], ["proof (prove)\nusing this:\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n  Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n  0 < 1 - (cmod x)\\<^sup>2\n  0 < 1 - (cmod y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n    (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n    1 +\n    2 * (cmod (x - y))\\<^sup>2 /\n    ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "apply (subst add_num_frac, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 +\n             2 * (cmod (x - y))\\<^sup>2 /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n             Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2));\n     0 < 1 - (cmod x)\\<^sup>2; 0 < 1 - (cmod y)\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> (2 * (cmod x)\\<^sup>2 + 1 * (1 - (cmod x)\\<^sup>2)) /\n                      (1 - (cmod x)\\<^sup>2) *\n                      (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n                      1 +\n                      2 * (cmod (x - y))\\<^sup>2 /\n                      ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "apply (subst add_num_frac, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 +\n             2 * (cmod (x - y))\\<^sup>2 /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n             Re ((1 + y * cnj y) * (1 + x * cnj x)) /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2));\n     0 < 1 - (cmod x)\\<^sup>2; 0 < 1 - (cmod y)\\<^sup>2\\<rbrakk>\n    \\<Longrightarrow> (2 * (cmod x)\\<^sup>2 + 1 * (1 - (cmod x)\\<^sup>2)) /\n                      (1 - (cmod x)\\<^sup>2) *\n                      ((2 * (cmod y)\\<^sup>2 + 1 * (1 - (cmod y)\\<^sup>2)) /\n                       (1 - (cmod y)\\<^sup>2)) =\n                      1 +\n                      2 * (cmod (x - y))\\<^sup>2 /\n                      ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 +\n             2 * (cmod (x - y))\\<^sup>2 /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n             (1 + (Re y * Re y + Im y * Im y)) *\n             (1 + (Re x * Re x + Im x * Im x)) /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2));\n     (cmod x)\\<^sup>2 < 1; (cmod y)\\<^sup>2 < 1\\<rbrakk>\n    \\<Longrightarrow> ((cmod x)\\<^sup>2 + 1) * ((cmod y)\\<^sup>2 + 1) =\n                      (1 + (Re y * Re y + Im y * Im y)) *\n                      (1 + (Re x * Re x + Im x * Im x))", "apply (subst cmod_square)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 +\n             2 * (cmod (x - y))\\<^sup>2 /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2)) =\n             (1 + (Re y * Re y + Im y * Im y)) *\n             (1 + (Re x * Re x + Im x * Im x)) /\n             ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2));\n     (cmod x)\\<^sup>2 < 1; (cmod y)\\<^sup>2 < 1\\<rbrakk>\n    \\<Longrightarrow> (Re (x * cnj x) + 1) * (Re (y * cnj y) + 1) =\n                      (1 + (Re y * Re y + Im y * Im y)) *\n                      (1 + (Re x * Re x + Im x * Im x))", "apply (simp add: field_simps)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n  (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n  (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. distinct [0\\<^sub>h, of_complex x, of_complex y] \\<Longrightarrow>\n    cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "ultimately"], ["proof (chain)\npicking this:\n  cosh_dist 0\\<^sub>h (of_complex x) =\n  1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)\n  cosh_dist 0\\<^sub>h (of_complex y) =\n  1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)\n  cosh_dist (of_complex x) (of_complex y) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n  (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n  (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))", "show \"?P' 0\\<^sub>h (of_complex x) (of_complex y)\""], ["proof (prove)\nusing this:\n  cosh_dist 0\\<^sub>h (of_complex x) =\n  1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)\n  cosh_dist 0\\<^sub>h (of_complex y) =\n  1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)\n  cosh_dist (of_complex x) (of_complex y) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n  (1 + 2 * (cmod x)\\<^sup>2 / (1 - (cmod x)\\<^sup>2)) *\n  (1 + 2 * (cmod y)\\<^sup>2 / (1 - (cmod y)\\<^sup>2)) =\n  1 +\n  2 * (cmod (x - y))\\<^sup>2 /\n  ((1 - (cmod x)\\<^sup>2) * (1 - (cmod y)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. cosh_dist (of_complex x) (of_complex y) =\n    cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)", "by simp"], ["proof (state)\nthis:\n  cosh_dist (of_complex x) (of_complex y) =\n  cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct [0\\<^sub>h, of_complex x, of_complex y] \\<longrightarrow>\n  cosh_dist (of_complex x) (of_complex y) =\n  cosh_dist 0\\<^sub>h (of_complex x) * cosh_dist 0\\<^sub>h (of_complex y)\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "fix M u v w"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume 1: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume 2: \"?P (moebius_pt M u) (moebius_pt M v) (moebius_pt M w)\""], ["proof (state)\nthis:\n  distinct\n   [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n  cosh_dist (moebius_pt M v) (moebius_pt M w) =\n  cosh_dist (moebius_pt M u) (moebius_pt M v) *\n  cosh_dist (moebius_pt M u) (moebius_pt M w)\n\ngoal (2 subgoals):\n 1. \\<And>M u v w.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        w \\<in> unit_disc;\n        distinct\n         [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n        cosh_dist (moebius_pt M v) (moebius_pt M w) =\n        cosh_dist (moebius_pt M u) (moebius_pt M v) *\n        cosh_dist (moebius_pt M u) (moebius_pt M w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w\n 2. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"?P u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "using 1 2"], ["proof (prove)\nusing this:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  distinct\n   [moebius_pt M u, moebius_pt M v, moebius_pt M w] \\<longrightarrow>\n  cosh_dist (moebius_pt M v) (moebius_pt M w) =\n  cosh_dist (moebius_pt M u) (moebius_pt M v) *\n  cosh_dist (moebius_pt M u) (moebius_pt M w)\n\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "by auto"], ["proof (state)\nthis:\n  distinct [u, v, w] \\<longrightarrow>\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "fix u v w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume 1:  \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "assume 2: \"?P (conjugate u) (conjugate v) (conjugate w)\""], ["proof (state)\nthis:\n  distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n  cosh_dist (conjugate v) (conjugate w) =\n  cosh_dist (conjugate u) (conjugate v) *\n  cosh_dist (conjugate u) (conjugate w)\n\ngoal (1 subgoal):\n 1. \\<And>u v w.\n       \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; w \\<in> unit_disc;\n        distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n        cosh_dist (conjugate v) (conjugate w) =\n        cosh_dist (conjugate u) (conjugate v) *\n        cosh_dist (conjugate u) (conjugate w)\\<rbrakk>\n       \\<Longrightarrow> distinct [u, v, w] \\<longrightarrow>\n                         cosh_dist v w = cosh_dist u v * cosh_dist u w", "show \"?P u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "using 1 2"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  distinct [conjugate u, conjugate v, conjugate w] \\<longrightarrow>\n  cosh_dist (conjugate v) (conjugate w) =\n  cosh_dist (conjugate u) (conjugate v) *\n  cosh_dist (conjugate u) (conjugate w)\n\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "by (auto simp add: conjugate_inj)"], ["proof (state)\nthis:\n  distinct [u, v, w] \\<longrightarrow>\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct [u, v, w] \\<longrightarrow>\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal (1 subgoal):\n 1. distinct [u, v, w] \\<Longrightarrow>\n    cosh_dist v w = cosh_dist u v * cosh_dist u w", "thus ?thesis"], ["proof (prove)\nusing this:\n  distinct [u, v, w] \\<longrightarrow>\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal (1 subgoal):\n 1. cosh_dist v w = cosh_dist u v * cosh_dist u w", "using True"], ["proof (prove)\nusing this:\n  distinct [u, v, w] \\<longrightarrow>\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n  distinct [u, v, w]\n\ngoal (1 subgoal):\n 1. cosh_dist v w = cosh_dist u v * cosh_dist u w", "by simp"], ["proof (state)\nthis:\n  cosh_dist v w = cosh_dist u v * cosh_dist u w\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}