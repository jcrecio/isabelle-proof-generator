{"file_name": "/home/qj213/afp-2021-10-22/thys/Poincare_Disc/Poincare_Between.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Poincare_Disc", "problem_names": ["lemma unit_disc_fix_moebius_preserve_poincare_between [simp]:\n  assumes \"unit_disc_fix M\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<longleftrightarrow>\n         poincare_between u v w\"", "lemma conjugate_preserve_poincare_between [simp]:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (conjugate u) (conjugate v) (conjugate w) \\<longleftrightarrow>\n         poincare_between u v w\"", "lemma poincare_between_nonstrict [simp]:\n  shows \"poincare_between u u v\" and \"poincare_between u v v\"", "lemma poincare_between_sandwich:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\"\n  assumes \"poincare_between u v u\"\n  shows \"u = v\"", "lemma poincare_between_rev:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between u v w \\<longleftrightarrow> poincare_between w v u\"", "lemma poincare_between_poincare_collinear [simp]:       \n  assumes in_disc: \"u \\<in> unit_disc\"  \"v \\<in> unit_disc\"  \"w \\<in> unit_disc\"\n  assumes betw: \"poincare_between u v w\"\n  shows \"poincare_collinear {u, v, w}\"", "lemma poincare_between_poincare_line_uvz:\n  assumes \"u \\<noteq> v\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and\n          \"z \\<in> unit_disc\" and \"poincare_between u v z\"\n  shows \"z \\<in> circline_set (poincare_line u v)\"", "lemma poincare_between_poincare_line_uzv:\n  assumes \"u \\<noteq> v\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and\n          \"z \\<in> unit_disc\" \"poincare_between u z v\"\n  shows \"z \\<in> circline_set (poincare_line u v)\"", "lemma poincare_between_x_axis_u0v:\n  assumes \"is_real u'\" and \"u' \\<noteq> 0\" and \"v' \\<noteq> 0\"\n  shows \"poincare_between (of_complex u') 0\\<^sub>h (of_complex v') \\<longleftrightarrow> is_real v' \\<and> Re u' * Re v' < 0\"", "lemma poincare_between_u0v:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"u \\<noteq> 0\\<^sub>h\" and \"v \\<noteq> 0\\<^sub>h\"\n  shows \"poincare_between u 0\\<^sub>h v \\<longleftrightarrow> (\\<exists> k < 0. to_complex u = cor k * to_complex v)\" (is \"?P u v\")", "lemma poincare_between_u0v_polar_form:\n  assumes \"x \\<in> unit_disc\" and \"y \\<in> unit_disc\" and \"x \\<noteq> 0\\<^sub>h\" and \"y \\<noteq> 0\\<^sub>h\" and \n          \"to_complex x = cor rx * cis \\<phi>\" \"to_complex y = cor ry * cis \\<phi>\"\n  shows \"poincare_between x 0\\<^sub>h y \\<longleftrightarrow> rx * ry < 0\" (is \"?P x y rx ry\")", "lemma poincare_between_x_axis_0uv:\n  fixes x y :: real\n  assumes \"-1 < x\" and \"x < 1\" and \"x \\<noteq> 0\"\n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> 0\"\n  shows \"poincare_between 0\\<^sub>h (of_complex x) (of_complex y) \\<longleftrightarrow>\n        (x < 0 \\<and> y < 0 \\<and> y \\<le> x) \\<or> (x > 0 \\<and> y > 0 \\<and> x \\<le> y)\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma poincare_between_0uv:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"u \\<noteq> 0\\<^sub>h\" and \"v \\<noteq> 0\\<^sub>h\"\n  shows \"poincare_between 0\\<^sub>h u v \\<longleftrightarrow>\n         (let u' = to_complex u; v' = to_complex v in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\" (is \"?P u v\")", "lemma poincare_between_y_axis_0uv:\n  fixes x y :: real\n  assumes \"-1 < x\" and \"x < 1\" and \"x \\<noteq> 0\"\n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> 0\"\n  shows \"poincare_between 0\\<^sub>h (of_complex (\\<i> * x)) (of_complex (\\<i> * y)) \\<longleftrightarrow>\n        (x < 0 \\<and> y < 0 \\<and> y \\<le> x) \\<or> (x > 0 \\<and> y > 0 \\<and> x \\<le> y)\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma poincare_between_x_axis_uvw:\n  fixes x y z :: real\n  assumes \"-1 < x\" and \"x < 1\" \n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> x\"\n  assumes \"-1 < z\" and \"z < 1\" and \"z \\<noteq> x\"\n  shows \"poincare_between (of_complex x) (of_complex y) (of_complex z) \\<longleftrightarrow>\n        (y < x \\<and> z < x \\<and> z \\<le> y) \\<or> (y > x \\<and> z > x \\<and> y \\<le> z)\"  (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma poincare_collinear3_between:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  assumes \"poincare_collinear {u, v, w}\"\n  shows \"poincare_between u v w \\<or> poincare_between u w v \\<or> poincare_between v u w\" (is \"?P' u v w\")", "lemma poincare_collinear3_iff:\n  assumes \"u \\<in> unit_disc\" \"v \\<in> unit_disc\"  \"w \\<in> unit_disc\"\n  shows \"poincare_collinear {u, v, w} \\<longleftrightarrow> poincare_between u v w \\<or> poincare_between v u w \\<or> poincare_between v w u\"", "lemma poincare_between_transitivity:\n  assumes \"a \\<in> unit_disc\" and \"x \\<in> unit_disc\" and \"b \\<in> unit_disc\" and \"y \\<in> unit_disc\" and\n          \"poincare_between a x b\" and \"poincare_between a b y\"\n  shows \"poincare_between x b y\"", "lemma poincare_between_sum_distances_x_axis_u0v:\n  assumes \"of_complex u' \\<in> unit_disc\" \"of_complex v' \\<in> unit_disc\"\n  assumes \"is_real u'\" \"u' \\<noteq> 0\" \"v' \\<noteq> 0\"\n  shows  \"poincare_distance (of_complex u') 0\\<^sub>h + poincare_distance 0\\<^sub>h (of_complex v') = poincare_distance (of_complex u') (of_complex v') \\<longleftrightarrow>\n          is_real v' \\<and> Re u' * Re v' < 0\" (is \"?P u' v' \\<longleftrightarrow> ?Q u' v'\")", "lemma poincare_between_sum_distances_x_axis_u0v_different_proof:\n  assumes \"of_complex u' \\<in> unit_disc\" \"of_complex v' \\<in> unit_disc\"\n  assumes \"is_real u'\" \"u' \\<noteq> 0\" \"v' \\<noteq> 0\" (* additional condition *) \"is_real v'\"\n  shows  \"poincare_distance (of_complex u') 0\\<^sub>h + poincare_distance 0\\<^sub>h (of_complex v') = poincare_distance (of_complex u') (of_complex v') \\<longleftrightarrow>\n          Re u' * Re v' < 0\" (is \"?P u' v' \\<longleftrightarrow> ?Q u' v'\")", "lemma poincare_between_sum_distances:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between u v w \\<longleftrightarrow> \n         poincare_distance u v + poincare_distance v w = poincare_distance u w\" (is \"?P' u v w\")", "lemma unit_disc_fix_moebius_preserve_poincare_between':\n  assumes \"unit_disc_fix M\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<longleftrightarrow>\n         poincare_between u v w\"", "lemma conjugate_preserve_poincare_between':\n  assumes \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\"\n  shows \"poincare_between (conjugate u) (conjugate v) (conjugate w) \\<longleftrightarrow> poincare_between u v w\"", "lemma unique_poincare_distance_on_ray:\n  assumes \"d \\<ge> 0\" \"u \\<noteq> v\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\"\n  assumes \"y \\<in> unit_disc\" \"poincare_distance u y = d\" \"poincare_between u v y\"\n  assumes \"z \\<in> unit_disc\" \"poincare_distance u z = d\" \"poincare_between u v z\"\n  shows \"y = z\""], "translations": [["", "lemma unit_disc_fix_moebius_preserve_poincare_between [simp]:\n  assumes \"unit_disc_fix M\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<longleftrightarrow>\n         poincare_between u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "proof (cases \"u = v \\<or> v = w\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "case True"], ["proof (state)\nthis:\n  u = v \\<or> v = w\n\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (moebius_pt M u = moebius_pt M v \\<or>\n     moebius_pt M v = moebius_pt M w \\<or>\n     (let cr = cross_ratio (moebius_pt M u) (moebius_pt M v)\n                (moebius_pt M w) (inversion (moebius_pt M v))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (u = v \\<or>\n     v = w \\<or>\n     (let cr = cross_ratio u v w (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))", "by auto"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n  poincare_between u v w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "case False"], ["proof (state)\nthis:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "moreover"], ["proof (state)\nthis:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "hence \"moebius_pt M u \\<noteq> moebius_pt M v \\<and> moebius_pt M v \\<noteq> moebius_pt M w\""], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n    moebius_pt M v \\<noteq> moebius_pt M w", "by auto"], ["proof (state)\nthis:\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "moreover"], ["proof (state)\nthis:\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "have \"v \\<noteq> inversion v\" \"w \\<noteq> inversion v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using inversion_noteq_unit_disc[of v w]"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using inversion_noteq_unit_disc[of v v]"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using \\<open>v \\<in> unit_disc\\<close> \\<open>w \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "by auto"], ["proof (state)\nthis:\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> (u = v \\<or> v = w)\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "using unit_circle_fix_moebius_pt_inversion[of M v, symmetric]"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  unit_circle_fix M \\<Longrightarrow>\n  inversion (moebius_pt M v) = moebius_pt M (inversion v)\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  moebius_pt M u \\<noteq> moebius_pt M v \\<and>\n  moebius_pt M v \\<noteq> moebius_pt M w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  unit_circle_fix M \\<Longrightarrow>\n  inversion (moebius_pt M v) = moebius_pt M (inversion v)\n\ngoal (1 subgoal):\n 1. (moebius_pt M u = moebius_pt M v \\<or>\n     moebius_pt M v = moebius_pt M w \\<or>\n     (let cr = cross_ratio (moebius_pt M u) (moebius_pt M v)\n                (moebius_pt M w) (inversion (moebius_pt M v))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (u = v \\<or>\n     v = w \\<or>\n     (let cr = cross_ratio u v w (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))", "by (simp del: unit_circle_fix_moebius_pt_inversion)"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n  poincare_between u v w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma conjugate_preserve_poincare_between [simp]:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (conjugate u) (conjugate v) (conjugate w) \\<longleftrightarrow>\n         poincare_between u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "proof (cases \"u = v \\<or> v = w\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "case True"], ["proof (state)\nthis:\n  u = v \\<or> v = w\n\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (conjugate u = conjugate v \\<or>\n     conjugate v = conjugate w \\<or>\n     (let cr = cross_ratio (conjugate u) (conjugate v) (conjugate w)\n                (inversion (conjugate v))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (u = v \\<or>\n     v = w \\<or>\n     (let cr = cross_ratio u v w (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))", "by auto"], ["proof (state)\nthis:\n  poincare_between (conjugate u) (conjugate v) (conjugate w) =\n  poincare_between u v w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "case False"], ["proof (state)\nthis:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "moreover"], ["proof (state)\nthis:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "hence \"conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\""], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w", "using conjugate_inj"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate ?x = conjugate ?y \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w", "by blast"], ["proof (state)\nthis:\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "moreover"], ["proof (state)\nthis:\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "have \"v \\<noteq> inversion v\" \"w \\<noteq> inversion v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using inversion_noteq_unit_disc[of v w]"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using inversion_noteq_unit_disc[of v v]"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "using \\<open>v \\<in> unit_disc\\<close> \\<open>w \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. v \\<noteq> inversion v &&& w \\<noteq> inversion v", "by auto"], ["proof (state)\nthis:\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "using conjugate_cross_ratio[of v w \"inversion v\" u]"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<noteq> w; v \\<noteq> inversion v;\n   w \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio (conjugate u) (conjugate v) (conjugate w)\n                     (conjugate (inversion v)) =\n                    conjugate (cross_ratio u v w (inversion v))\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  conjugate u \\<noteq> conjugate v \\<and> conjugate v \\<noteq> conjugate w\n  v \\<noteq> inversion v\n  w \\<noteq> inversion v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<noteq> w; v \\<noteq> inversion v;\n   w \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio (conjugate u) (conjugate v) (conjugate w)\n                     (conjugate (inversion v)) =\n                    conjugate (cross_ratio u v w (inversion v))\n\ngoal (1 subgoal):\n 1. (conjugate u = conjugate v \\<or>\n     conjugate v = conjugate w \\<or>\n     (let cr = cross_ratio (conjugate u) (conjugate v) (conjugate w)\n                (inversion (conjugate v))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (u = v \\<or>\n     v = w \\<or>\n     (let cr = cross_ratio u v w (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))", "by (metis conjugate_id_iff conjugate_involution inversion_def inversion_sym o_apply)"], ["proof (state)\nthis:\n  poincare_between (conjugate u) (conjugate v) (conjugate w) =\n  poincare_between u v w\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection \\<open>Some elementary properties of h-betwenness\\<close>"], ["", "lemma poincare_between_nonstrict [simp]:\n  shows \"poincare_between u u v\" and \"poincare_between u v v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u u v &&& poincare_between u v v", "by (simp_all add: poincare_between_def)"], ["", "lemma poincare_between_sandwich:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\"\n  assumes \"poincare_between u v u\"\n  shows \"u = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = v", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow> False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. False", "using assms"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  poincare_between u v u\n\ngoal (1 subgoal):\n 1. False", "using inversion_noteq_unit_disc[of v u]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  poincare_between u v u\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n\ngoal (1 subgoal):\n 1. False", "using cross_ratio_1[of v u \"inversion v\"]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  poincare_between u v u\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  \\<lbrakk>v \\<noteq> u; u \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio u v u (inversion v) = 1\\<^sub>h\n\ngoal (1 subgoal):\n 1. False", "unfolding poincare_between_def Let_def"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u = v \\<or>\n  v = u \\<or>\n  is_real (to_complex (cross_ratio u v u (inversion v))) \\<and>\n  Re_cross_ratio u v u (inversion v) < 0\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  \\<lbrakk>v \\<noteq> u; u \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio u v u (inversion v) = 1\\<^sub>h\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_rev:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between u v w \\<longleftrightarrow> poincare_between w v u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using assms"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using inversion_noteq_unit_disc[of v w]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using inversion_noteq_unit_disc[of v u]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using cross_ratio_commute_13[of u v w \"inversion v\"]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  cross_ratio u v w (inversion v) =\n  reciprocal (cross_ratio w v u (inversion v))\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using cross_ratio_not_inf[of w \"inversion v\" v u]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  cross_ratio u v w (inversion v) =\n  reciprocal (cross_ratio w v u (inversion v))\n  \\<lbrakk>w \\<noteq> inversion v; v \\<noteq> u\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq>\n                    \\<infinity>\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using cross_ratio_not_zero[of w v u \"inversion v\"]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  cross_ratio u v w (inversion v) =\n  reciprocal (cross_ratio w v u (inversion v))\n  \\<lbrakk>w \\<noteq> inversion v; v \\<noteq> u\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq>\n                    \\<infinity>\\<^sub>h\n  \\<lbrakk>w \\<noteq> v; u \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "using inf_or_of_complex[of \"cross_ratio w v u (inversion v)\"]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  cross_ratio u v w (inversion v) =\n  reciprocal (cross_ratio w v u (inversion v))\n  \\<lbrakk>w \\<noteq> inversion v; v \\<noteq> u\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq>\n                    \\<infinity>\\<^sub>h\n  \\<lbrakk>w \\<noteq> v; u \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq> 0\\<^sub>h\n  cross_ratio w v u (inversion v) = \\<infinity>\\<^sub>h \\<or>\n  (\\<exists>x. cross_ratio w v u (inversion v) = of_complex x)\n\ngoal (1 subgoal):\n 1. poincare_between u v w = poincare_between w v u", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  cross_ratio u v w (inversion v) =\n  reciprocal (cross_ratio w v u (inversion v))\n  \\<lbrakk>w \\<noteq> inversion v; v \\<noteq> u\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq>\n                    \\<infinity>\\<^sub>h\n  \\<lbrakk>w \\<noteq> v; u \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> cross_ratio w v u (inversion v) \\<noteq> 0\\<^sub>h\n  cross_ratio w v u (inversion v) = \\<infinity>\\<^sub>h \\<or>\n  (\\<exists>x. cross_ratio w v u (inversion v) = of_complex x)\n\ngoal (1 subgoal):\n 1. (u = v \\<or>\n     v = w \\<or>\n     (let cr = cross_ratio u v w (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (w = v \\<or>\n     v = u \\<or>\n     (let cr = cross_ratio w v u (inversion v)\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))", "by (auto simp add: Let_def Im_complex_div_eq_0 Re_divide divide_less_0_iff)"], ["", "subsubsection \\<open>H-betwenness and h-collinearity\\<close>"], ["", "text\\<open>Three points can be in an h-between relation only when they are h-collinear.\\<close>"], ["", "lemma poincare_between_poincare_collinear [simp]:       \n  assumes in_disc: \"u \\<in> unit_disc\"  \"v \\<in> unit_disc\"  \"w \\<in> unit_disc\"\n  assumes betw: \"poincare_between u v w\"\n  shows \"poincare_collinear {u, v, w}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w}", "proof (cases \"u = v \\<or> v = w\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow> poincare_collinear {u, v, w}\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "case True"], ["proof (state)\nthis:\n  u = v \\<or> v = w\n\ngoal (2 subgoals):\n 1. u = v \\<or> v = w \\<Longrightarrow> poincare_collinear {u, v, w}\n 2. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w}", "using assms"], ["proof (prove)\nusing this:\n  u = v \\<or> v = w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w}", "by auto"], ["proof (state)\nthis:\n  poincare_collinear {u, v, w}\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "case False"], ["proof (state)\nthis:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "hence distinct: \"distinct [u, v, w, inversion v]\""], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. distinct [u, v, w, inversion v]", "using in_disc inversion_noteq_unit_disc[of v v] inversion_noteq_unit_disc[of v u] inversion_noteq_unit_disc[of v w]"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n\ngoal (1 subgoal):\n 1. distinct [u, v, w, inversion v]", "using betw poincare_between_sandwich[of w v]"], ["proof (prove)\nusing this:\n  \\<not> (u = v \\<or> v = w)\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>v \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> v\n  \\<lbrakk>v \\<in> unit_disc; u \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> u\n  \\<lbrakk>v \\<in> unit_disc; w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion v \\<noteq> w\n  poincare_between u v w\n  \\<lbrakk>w \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between w v w\\<rbrakk>\n  \\<Longrightarrow> w = v\n\ngoal (1 subgoal):\n 1. distinct [u, v, w, inversion v]", "by (auto simp add: poincare_between_def Let_def)"], ["proof (state)\nthis:\n  distinct [u, v, w, inversion v]\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "then"], ["proof (chain)\npicking this:\n  distinct [u, v, w, inversion v]", "obtain H where *: \"{u, v, w, inversion v} \\<subseteq> circline_set H\""], ["proof (prove)\nusing this:\n  distinct [u, v, w, inversion v]\n\ngoal (1 subgoal):\n 1. (\\<And>H.\n        {u, v, w, inversion v} \\<subseteq> circline_set H \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  distinct [u, v, w, inversion v]\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n\ngoal (1 subgoal):\n 1. (\\<And>H.\n        {u, v, w, inversion v} \\<subseteq> circline_set H \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  distinct [u, v, w, inversion v]\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  u = v \\<or>\n  v = w \\<or>\n  (let cr = cross_ratio u v w (inversion v)\n   in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)\n\ngoal (1 subgoal):\n 1. (\\<And>H.\n        {u, v, w, inversion v} \\<subseteq> circline_set H \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using four_points_on_circline_iff_cross_ratio_real[of u v w \"inversion v\"]"], ["proof (prove)\nusing this:\n  distinct [u, v, w, inversion v]\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  u = v \\<or>\n  v = w \\<or>\n  (let cr = cross_ratio u v w (inversion v)\n   in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)\n  distinct [u, v, w, inversion v] \\<Longrightarrow>\n  is_real (to_complex (cross_ratio u v w (inversion v))) =\n  (\\<exists>H. {u, v, w, inversion v} \\<subseteq> circline_set H)\n\ngoal (1 subgoal):\n 1. (\\<And>H.\n        {u, v, w, inversion v} \\<subseteq> circline_set H \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "hence \"H = poincare_line u v\""], ["proof (prove)\nusing this:\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n\ngoal (1 subgoal):\n 1. H = poincare_line u v", "using assms distinct"], ["proof (prove)\nusing this:\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  distinct [u, v, w, inversion v]\n\ngoal (1 subgoal):\n 1. H = poincare_line u v", "using unique_circline_set[of u v \"inversion v\"]"], ["proof (prove)\nusing this:\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  distinct [u, v, w, inversion v]\n  \\<lbrakk>u \\<noteq> v; u \\<noteq> inversion v;\n   v \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> \\<exists>!H.\n                       u \\<in> circline_set H \\<and>\n                       v \\<in> circline_set H \\<and>\n                       inversion v \\<in> circline_set H\n\ngoal (1 subgoal):\n 1. H = poincare_line u v", "using poincare_line[of u v] poincare_line_inversion[of u v]"], ["proof (prove)\nusing this:\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  distinct [u, v, w, inversion v]\n  \\<lbrakk>u \\<noteq> v; u \\<noteq> inversion v;\n   v \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> \\<exists>!H.\n                       u \\<in> circline_set H \\<and>\n                       v \\<in> circline_set H \\<and>\n                       inversion v \\<in> circline_set H\n  u \\<noteq> v \\<Longrightarrow> on_circline (poincare_line u v) u\n  u \\<noteq> v \\<Longrightarrow> on_circline (poincare_line u v) v\n  u \\<noteq> v \\<Longrightarrow>\n  on_circline (poincare_line u v) (inversion u)\n  u \\<noteq> v \\<Longrightarrow>\n  on_circline (poincare_line u v) (inversion v)\n\ngoal (1 subgoal):\n 1. H = poincare_line u v", "unfolding circline_set_def"], ["proof (prove)\nusing this:\n  {u, v, w, inversion v} \\<subseteq> Collect (on_circline H)\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  distinct [u, v, w, inversion v]\n  \\<lbrakk>u \\<noteq> v; u \\<noteq> inversion v;\n   v \\<noteq> inversion v\\<rbrakk>\n  \\<Longrightarrow> \\<exists>!H.\n                       u \\<in> Collect (on_circline H) \\<and>\n                       v \\<in> Collect (on_circline H) \\<and>\n                       inversion v \\<in> Collect (on_circline H)\n  u \\<noteq> v \\<Longrightarrow> on_circline (poincare_line u v) u\n  u \\<noteq> v \\<Longrightarrow> on_circline (poincare_line u v) v\n  u \\<noteq> v \\<Longrightarrow>\n  on_circline (poincare_line u v) (inversion u)\n  u \\<noteq> v \\<Longrightarrow>\n  on_circline (poincare_line u v) (inversion v)\n\ngoal (1 subgoal):\n 1. H = poincare_line u v", "by auto"], ["proof (state)\nthis:\n  H = poincare_line u v\n\ngoal (1 subgoal):\n 1. \\<not> (u = v \\<or> v = w) \\<Longrightarrow>\n    poincare_collinear {u, v, w}", "thus ?thesis"], ["proof (prove)\nusing this:\n  H = poincare_line u v\n\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w}", "using * assms False"], ["proof (prove)\nusing this:\n  H = poincare_line u v\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w}", "unfolding poincare_collinear_def"], ["proof (prove)\nusing this:\n  H = poincare_line u v\n  {u, v, w, inversion v} \\<subseteq> circline_set H\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_between u v w\n  \\<not> (u = v \\<or> v = w)\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       is_poincare_line p \\<and> {u, v, w} \\<subseteq> circline_set p", "by (rule_tac x=\"poincare_line u v\" in exI) simp"], ["proof (state)\nthis:\n  poincare_collinear {u, v, w}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_poincare_line_uvz:\n  assumes \"u \\<noteq> v\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and\n          \"z \\<in> unit_disc\" and \"poincare_between u v z\"\n  shows \"z \\<in> circline_set (poincare_line u v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using assms"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u v z\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using poincare_between_poincare_collinear[of u v z]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u v z\n  \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; z \\<in> unit_disc;\n   poincare_between u v z\\<rbrakk>\n  \\<Longrightarrow> poincare_collinear {u, v, z}\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using unique_poincare_line[OF assms(1-3)]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u v z\n  \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; z \\<in> unit_disc;\n   poincare_between u v z\\<rbrakk>\n  \\<Longrightarrow> poincare_collinear {u, v, z}\n  \\<lbrakk>u \\<in> circline_set ?l; v \\<in> circline_set ?l;\n   is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line u v\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "unfolding poincare_collinear_def"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u v z\n  \\<lbrakk>u \\<in> unit_disc; v \\<in> unit_disc; z \\<in> unit_disc;\n   poincare_between u v z\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p.\n                       is_poincare_line p \\<and>\n                       {u, v, z} \\<subseteq> circline_set p\n  \\<lbrakk>u \\<in> circline_set ?l; v \\<in> circline_set ?l;\n   is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line u v\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "by auto"], ["", "lemma poincare_between_poincare_line_uzv:\n  assumes \"u \\<noteq> v\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and\n          \"z \\<in> unit_disc\" \"poincare_between u z v\"\n  shows \"z \\<in> circline_set (poincare_line u v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using assms"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u z v\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using poincare_between_poincare_collinear[of u z v]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u z v\n  \\<lbrakk>u \\<in> unit_disc; z \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between u z v\\<rbrakk>\n  \\<Longrightarrow> poincare_collinear {u, z, v}\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "using unique_poincare_line[OF assms(1-3)]"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u z v\n  \\<lbrakk>u \\<in> unit_disc; z \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between u z v\\<rbrakk>\n  \\<Longrightarrow> poincare_collinear {u, z, v}\n  \\<lbrakk>u \\<in> circline_set ?l; v \\<in> circline_set ?l;\n   is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line u v\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "unfolding poincare_collinear_def"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between u z v\n  \\<lbrakk>u \\<in> unit_disc; z \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between u z v\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p.\n                       is_poincare_line p \\<and>\n                       {u, z, v} \\<subseteq> circline_set p\n  \\<lbrakk>u \\<in> circline_set ?l; v \\<in> circline_set ?l;\n   is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line u v\n\ngoal (1 subgoal):\n 1. z \\<in> circline_set (poincare_line u v)", "by auto"], ["", "subsubsection \\<open>H-betweeness on Euclidean segments\\<close>"], ["", "text\\<open>If the three points lie on an h-line that is a Euclidean line (e.g., if it contains zero),\nh-betweenness can be characterized much simpler than in the definition.\\<close>"], ["", "lemma poincare_between_x_axis_u0v:\n  assumes \"is_real u'\" and \"u' \\<noteq> 0\" and \"v' \\<noteq> 0\"\n  shows \"poincare_between (of_complex u') 0\\<^sub>h (of_complex v') \\<longleftrightarrow> is_real v' \\<and> Re u' * Re v' < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"Re u' \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "using \\<open>is_real u'\\<close> \\<open>u' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  is_real u'\n  u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "using complex_eq_if_Re_eq"], ["proof (prove)\nusing this:\n  is_real u'\n  u' \\<noteq> 0\n  \\<lbrakk>is_real ?z1.0; is_real ?z2.0\\<rbrakk>\n  \\<Longrightarrow> (?z1.0 = ?z2.0) = (Re ?z1.0 = Re ?z2.0)\n\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  Re u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have nz: \"of_complex u' \\<noteq> 0\\<^sub>h\" \"of_complex v' \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex u' \\<noteq> 0\\<^sub>h &&& of_complex v' \\<noteq> 0\\<^sub>h", "by (simp_all add: \\<open>u' \\<noteq> 0\\<close> \\<open>v' \\<noteq> 0\\<close>)"], ["proof (state)\nthis:\n  of_complex u' \\<noteq> 0\\<^sub>h\n  of_complex v' \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "hence \"0\\<^sub>h \\<noteq> of_complex v'\""], ["proof (prove)\nusing this:\n  of_complex u' \\<noteq> 0\\<^sub>h\n  of_complex v' \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. 0\\<^sub>h \\<noteq> of_complex v'", "by metis"], ["proof (state)\nthis:\n  0\\<^sub>h \\<noteq> of_complex v'\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "let ?cr = \"cross_ratio (of_complex u') 0\\<^sub>h (of_complex v') \\<infinity>\\<^sub>h\""], ["proof (state)\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"is_real (to_complex ?cr) \\<and> Re (to_complex ?cr) < 0 \\<longleftrightarrow> is_real v' \\<and> Re u' * Re v' < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (is_real\n      (to_complex\n        (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n          \\<infinity>\\<^sub>h)) \\<and>\n     Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n      \\<infinity>\\<^sub>h\n     < 0) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "using cross_ratio_0inf[of v' u'] \\<open>v' \\<noteq> 0\\<close> \\<open>u' \\<noteq> 0\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  v' \\<noteq> 0 \\<Longrightarrow>\n  cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n   \\<infinity>\\<^sub>h =\n  of_complex (u' / v')\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  is_real u'\n\ngoal (1 subgoal):\n 1. (is_real\n      (to_complex\n        (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n          \\<infinity>\\<^sub>h)) \\<and>\n     Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n      \\<infinity>\\<^sub>h\n     < 0) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "by (metis Re_complex_div_lt_0 Re_mult_real complex_cnj_divide divide_cancel_left eq_cnj_iff_real to_complex_of_complex)"], ["proof (state)\nthis:\n  (is_real\n    (to_complex\n      (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n        \\<infinity>\\<^sub>h)) \\<and>\n   Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n    \\<infinity>\\<^sub>h\n   < 0) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (is_real\n    (to_complex\n      (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n        \\<infinity>\\<^sub>h)) \\<and>\n   Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n    \\<infinity>\\<^sub>h\n   < 0) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "unfolding poincare_between_def inversion_zero"], ["proof (prove)\nusing this:\n  (is_real\n    (to_complex\n      (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n        \\<infinity>\\<^sub>h)) \\<and>\n   Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n    \\<infinity>\\<^sub>h\n   < 0) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. (of_complex u' = 0\\<^sub>h \\<or>\n     0\\<^sub>h = of_complex v' \\<or>\n     (let cr = cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n                \\<infinity>\\<^sub>h\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "using \\<open>of_complex u' \\<noteq> 0\\<^sub>h\\<close> \\<open>0\\<^sub>h \\<noteq> of_complex v'\\<close>"], ["proof (prove)\nusing this:\n  (is_real\n    (to_complex\n      (cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n        \\<infinity>\\<^sub>h)) \\<and>\n   Re_cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n    \\<infinity>\\<^sub>h\n   < 0) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n  of_complex u' \\<noteq> 0\\<^sub>h\n  0\\<^sub>h \\<noteq> of_complex v'\n\ngoal (1 subgoal):\n 1. (of_complex u' = 0\\<^sub>h \\<or>\n     0\\<^sub>h = of_complex v' \\<or>\n     (let cr = cross_ratio (of_complex u') 0\\<^sub>h (of_complex v')\n                \\<infinity>\\<^sub>h\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "by simp"], ["proof (state)\nthis:\n  poincare_between (of_complex u') 0\\<^sub>h (of_complex v') =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_u0v:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"u \\<noteq> 0\\<^sub>h\" and \"v \\<noteq> 0\\<^sub>h\"\n  shows \"poincare_between u 0\\<^sub>h v \\<longleftrightarrow> (\\<exists> k < 0. to_complex u = cor k * to_complex v)\" (is \"?P u v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "proof (cases \"u = v\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "case True"], ["proof (state)\nthis:\n  u = v\n\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using assms"], ["proof (prove)\nusing this:\n  u = v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  u = v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using poincare_between_sandwich[of u \"0\\<^sub>h\"]"], ["proof (prove)\nusing this:\n  u = v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n  \\<lbrakk>u \\<in> unit_disc; 0\\<^sub>h \\<in> unit_disc;\n   poincare_between u 0\\<^sub>h u\\<rbrakk>\n  \\<Longrightarrow> u = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "by auto"], ["proof (state)\nthis:\n  poincare_between u 0\\<^sub>h v =\n  (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "case False"], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "have \"\\<forall> u. u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow> ?P u v\" (is \"?P' v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>u.\n       u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n       poincare_between u 0\\<^sub>h v =\n       (\\<exists>k<0. to_complex u = cor k * to_complex v)", "proof (rule wlog_rotation_to_positive_x_axis)"], ["proof (state)\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>ua.\n           ua \\<in> unit_disc \\<and> ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n           poincare_between ua 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) =\n           (\\<exists>k<0.\n               to_complex ua =\n               cor k *\n               to_complex (moebius_pt (moebius_rotation \\<phi>) u))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ua.\n                            ua \\<in> unit_disc \\<and>\n                            ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between ua 0\\<^sub>h u =\n                            (\\<exists>k<0.\n                                to_complex ua = cor k * to_complex u)\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "fix \\<phi> v"], ["proof (state)\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>ua.\n           ua \\<in> unit_disc \\<and> ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n           poincare_between ua 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) =\n           (\\<exists>k<0.\n               to_complex ua =\n               cor k *\n               to_complex (moebius_pt (moebius_rotation \\<phi>) u))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ua.\n                            ua \\<in> unit_disc \\<and>\n                            ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between ua 0\\<^sub>h u =\n                            (\\<exists>k<0.\n                                to_complex ua = cor k * to_complex u)\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "let ?M = \"moebius_pt (moebius_rotation \\<phi>)\""], ["proof (state)\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>ua.\n           ua \\<in> unit_disc \\<and> ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n           poincare_between ua 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) =\n           (\\<exists>k<0.\n               to_complex ua =\n               cor k *\n               to_complex (moebius_pt (moebius_rotation \\<phi>) u))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ua.\n                            ua \\<in> unit_disc \\<and>\n                            ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between ua 0\\<^sub>h u =\n                            (\\<exists>k<0.\n                                to_complex ua = cor k * to_complex u)\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "assume 1: \"v \\<in> unit_disc\" \"v \\<noteq> 0\\<^sub>h\""], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>ua.\n           ua \\<in> unit_disc \\<and> ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n           poincare_between ua 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) =\n           (\\<exists>k<0.\n               to_complex ua =\n               cor k *\n               to_complex (moebius_pt (moebius_rotation \\<phi>) u))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ua.\n                            ua \\<in> unit_disc \\<and>\n                            ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between ua 0\\<^sub>h u =\n                            (\\<exists>k<0.\n                                to_complex ua = cor k * to_complex u)\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "assume 2: \"?P' (?M v)\""], ["proof (state)\nthis:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) v) =\n     (\\<exists>k<0.\n         to_complex u =\n         cor k * to_complex (moebius_pt (moebius_rotation \\<phi>) v))\n\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>ua.\n           ua \\<in> unit_disc \\<and> ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n           poincare_between ua 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) =\n           (\\<exists>k<0.\n               to_complex ua =\n               cor k *\n               to_complex (moebius_pt (moebius_rotation \\<phi>) u))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ua.\n                            ua \\<in> unit_disc \\<and>\n                            ua \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between ua 0\\<^sub>h u =\n                            (\\<exists>k<0.\n                                to_complex ua = cor k * to_complex u)\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "show \"?P' v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>u.\n       u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n       poincare_between u 0\\<^sub>h v =\n       (\\<exists>k<0. to_complex u = cor k * to_complex v)", "proof (rule allI, rule impI, (erule conjE)+)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h v =\n                         (\\<exists>k<0. to_complex u = cor k * to_complex v)", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h v =\n                         (\\<exists>k<0. to_complex u = cor k * to_complex v)", "assume 3: \"u \\<in> unit_disc\" \"u \\<noteq> 0\\<^sub>h\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h v =\n                         (\\<exists>k<0. to_complex u = cor k * to_complex v)", "have \"poincare_between (?M u) 0\\<^sub>h (?M v) \\<longleftrightarrow> poincare_between u 0\\<^sub>h v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n     (moebius_pt (moebius_rotation \\<phi>) v) =\n    poincare_between u 0\\<^sub>h v", "using \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n     (moebius_pt (moebius_rotation \\<phi>) v) =\n    poincare_between u 0\\<^sub>h v", "using unit_disc_fix_moebius_preserve_poincare_between unit_disc_fix_rotation zero_in_unit_disc"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  \\<lbrakk>unit_disc_fix ?M; ?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   ?w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between (moebius_pt ?M ?u) (moebius_pt ?M ?v)\n                     (moebius_pt ?M ?w) =\n                    poincare_between ?u ?v ?w\n  unit_disc_fix (moebius_rotation ?\\<phi>)\n  0\\<^sub>h \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n     (moebius_pt (moebius_rotation \\<phi>) v) =\n    poincare_between u 0\\<^sub>h v", "by fastforce"], ["proof (state)\nthis:\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  poincare_between u 0\\<^sub>h v\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h v =\n                         (\\<exists>k<0. to_complex u = cor k * to_complex v)", "thus \"?P u v\""], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  poincare_between u 0\\<^sub>h v\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using 1 2[rule_format, of \"?M u\"] 3"], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  poincare_between u 0\\<^sub>h v\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  moebius_pt (moebius_rotation \\<phi>) u \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) u \\<noteq>\n  0\\<^sub>h \\<Longrightarrow>\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (\\<exists>k<0.\n      to_complex (moebius_pt (moebius_rotation \\<phi>) u) =\n      cor k * to_complex (moebius_pt (moebius_rotation \\<phi>) v))\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using inf_or_of_complex[of u] inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  poincare_between u 0\\<^sub>h v\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  moebius_pt (moebius_rotation \\<phi>) u \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) u \\<noteq>\n  0\\<^sub>h \\<Longrightarrow>\n  poincare_between (moebius_pt (moebius_rotation \\<phi>) u) 0\\<^sub>h\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (\\<exists>k<0.\n      to_complex (moebius_pt (moebius_rotation \\<phi>) u) =\n      cor k * to_complex (moebius_pt (moebius_rotation \\<phi>) v))\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  u = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. u = of_complex x)\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "by auto"], ["proof (state)\nthis:\n  poincare_between u 0\\<^sub>h v =\n  (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h v =\n     (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal (3 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "assume 1: \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (3 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "hence \"x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> 0\n\ngoal (3 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>u.\n                            u \\<in> unit_disc \\<and>\n                            u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n                            poincare_between u 0\\<^sub>h (of_complex x) =\n                            (\\<exists>k<0.\n                                to_complex u =\n                                cor k * to_complex (of_complex x))", "show \"?P' (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>u.\n       u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n       poincare_between u 0\\<^sub>h (of_complex x) =\n       (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))", "proof (rule allI, rule impI, (erule conjE)+)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                         (\\<exists>k<0.\n                             to_complex u =\n                             cor k * to_complex (of_complex x))", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                         (\\<exists>k<0.\n                             to_complex u =\n                             cor k * to_complex (of_complex x))", "assume 2: \"u \\<in> unit_disc\" \"u \\<noteq> 0\\<^sub>h\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                         (\\<exists>k<0.\n                             to_complex u =\n                             cor k * to_complex (of_complex x))", "then"], ["proof (chain)\npicking this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h", "obtain u' where \"u = of_complex u'\""], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. (\\<And>u'. u = of_complex u' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of u]"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  u = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. u = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>u'. u = of_complex u' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = of_complex u'\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h\\<rbrakk>\n       \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                         (\\<exists>k<0.\n                             to_complex u =\n                             cor k * to_complex (of_complex x))", "show \"?P u (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h (of_complex x) =\n    (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))", "using 1 2 \\<open>x \\<noteq> 0\\<close> \\<open>u = of_complex u'\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  x \\<noteq> 0\n  u = of_complex u'\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h (of_complex x) =\n    (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))", "using poincare_between_rev[of u \"0\\<^sub>h\" \"of_complex x\"]"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  x \\<noteq> 0\n  u = of_complex u'\n  \\<lbrakk>u \\<in> unit_disc; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                    poincare_between (of_complex x) 0\\<^sub>h u\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h (of_complex x) =\n    (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))", "using poincare_between_x_axis_u0v[of x u'] \\<open>is_real x\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  x \\<noteq> 0\n  u = of_complex u'\n  \\<lbrakk>u \\<in> unit_disc; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between u 0\\<^sub>h (of_complex x) =\n                    poincare_between (of_complex x) 0\\<^sub>h u\n  \\<lbrakk>is_real x; x \\<noteq> 0; u' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex x) 0\\<^sub>h\n                     (of_complex u') =\n                    (is_real u' \\<and> Re x * Re u' < 0)\n  is_real x\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h (of_complex x) =\n    (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))", "apply (auto simp add: cmod_eq_Re)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < Re x; Re x < 1; \\<bar>Re u'\\<bar> < 1; u' \\<noteq> 0;\n     x \\<noteq> 0; u = of_complex u'; is_real x;\n     poincare_between (of_complex u') 0\\<^sub>h (of_complex x);\n     poincare_between (of_complex x) 0\\<^sub>h (of_complex u'); is_real u';\n     Re x * Re u' < 0\\<rbrakk>\n    \\<Longrightarrow> \\<exists>k<0. u' = cor k * x\n 2. \\<And>k.\n       \\<lbrakk>0 < Re x; Re x < 1; - 1 < k * Re x; x \\<noteq> 0;\n        u = of_complex (cor k * x); is_real x;\n        \\<not> poincare_between (of_complex (cor k * x)) 0\\<^sub>h\n                (of_complex x);\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h\n                (of_complex (cor k * x));\n        \\<not> Re x * (k * Re x) < 0; k < 0; u' = cor k * x\\<rbrakk>\n       \\<Longrightarrow> False", "apply (rule_tac x=\"Re u' / Re x\" in exI, simp add: divide_neg_pos algebra_split_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>0 < Re x; Re x < 1; - 1 < k * Re x; x \\<noteq> 0;\n        u = of_complex (cor k * x); is_real x;\n        \\<not> poincare_between (of_complex (cor k * x)) 0\\<^sub>h\n                (of_complex x);\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h\n                (of_complex (cor k * x));\n        \\<not> Re x * (k * Re x) < 0; k < 0; u' = cor k * x\\<rbrakk>\n       \\<Longrightarrow> False", "using mult_neg_pos mult_pos_neg"], ["proof (prove)\nusing this:\n  \\<lbrakk>?a < (0::?'a); (0::?'a) < ?b\\<rbrakk>\n  \\<Longrightarrow> ?a * ?b < (0::?'a)\n  \\<lbrakk>(0::?'a) < ?a; ?b < (0::?'a)\\<rbrakk>\n  \\<Longrightarrow> ?a * ?b < (0::?'a)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>0 < Re x; Re x < 1; - 1 < k * Re x; x \\<noteq> 0;\n        u = of_complex (cor k * x); is_real x;\n        \\<not> poincare_between (of_complex (cor k * x)) 0\\<^sub>h\n                (of_complex x);\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h\n                (of_complex (cor k * x));\n        \\<not> Re x * (k * Re x) < 0; k < 0; u' = cor k * x\\<rbrakk>\n       \\<Longrightarrow> False", "by blast"], ["proof (state)\nthis:\n  poincare_between u 0\\<^sub>h (of_complex x) =\n  (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h (of_complex x) =\n     (\\<exists>k<0. to_complex u = cor k * to_complex (of_complex x))\n\ngoal (2 subgoals):\n 1. v \\<in> unit_disc\n 2. v \\<noteq> 0\\<^sub>h", "qed fact+"], ["proof (state)\nthis:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h v =\n     (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h v =\n     (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>u.\n     u \\<in> unit_disc \\<and> u \\<noteq> 0\\<^sub>h \\<longrightarrow>\n     poincare_between u 0\\<^sub>h v =\n     (\\<exists>k<0. to_complex u = cor k * to_complex v)\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between u 0\\<^sub>h v =\n    (\\<exists>k<0. to_complex u = cor k * to_complex v)", "by auto"], ["proof (state)\nthis:\n  poincare_between u 0\\<^sub>h v =\n  (\\<exists>k<0. to_complex u = cor k * to_complex v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_u0v_polar_form:\n  assumes \"x \\<in> unit_disc\" and \"y \\<in> unit_disc\" and \"x \\<noteq> 0\\<^sub>h\" and \"y \\<noteq> 0\\<^sub>h\" and \n          \"to_complex x = cor rx * cis \\<phi>\" \"to_complex y = cor ry * cis \\<phi>\"\n  shows \"poincare_between x 0\\<^sub>h y \\<longleftrightarrow> rx * ry < 0\" (is \"?P x y rx ry\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "from assms"], ["proof (chain)\npicking this:\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n  x \\<noteq> 0\\<^sub>h\n  y \\<noteq> 0\\<^sub>h\n  to_complex x = cor rx * cis \\<phi>\n  to_complex y = cor ry * cis \\<phi>", "have \"rx \\<noteq> 0\" \"ry \\<noteq> 0\""], ["proof (prove)\nusing this:\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n  x \\<noteq> 0\\<^sub>h\n  y \\<noteq> 0\\<^sub>h\n  to_complex x = cor rx * cis \\<phi>\n  to_complex y = cor ry * cis \\<phi>\n\ngoal (1 subgoal):\n 1. rx \\<noteq> 0 &&& ry \\<noteq> 0", "using inf_or_of_complex[of x] inf_or_of_complex[of y]"], ["proof (prove)\nusing this:\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n  x \\<noteq> 0\\<^sub>h\n  y \\<noteq> 0\\<^sub>h\n  to_complex x = cor rx * cis \\<phi>\n  to_complex y = cor ry * cis \\<phi>\n  x = \\<infinity>\\<^sub>h \\<or> (\\<exists>xa. x = of_complex xa)\n  y = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. y = of_complex x)\n\ngoal (1 subgoal):\n 1. rx \\<noteq> 0 &&& ry \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  rx \\<noteq> 0\n  ry \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "have \"(\\<exists>k<0. cor rx = cor k * cor ry ) = (rx * ry < 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>k<0. cor rx = cor k * cor ry) = (rx * ry < 0)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>k<0. cor rx = cor k * cor ry \\<Longrightarrow> rx * ry < 0\n 2. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "assume \"\\<exists>k<0. cor rx = cor k * cor ry\""], ["proof (state)\nthis:\n  \\<exists>k<0. cor rx = cor k * cor ry\n\ngoal (2 subgoals):\n 1. \\<exists>k<0. cor rx = cor k * cor ry \\<Longrightarrow> rx * ry < 0\n 2. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "then"], ["proof (chain)\npicking this:\n  \\<exists>k<0. cor rx = cor k * cor ry", "obtain k where \"k < 0\" \"cor rx = cor k * cor ry\""], ["proof (prove)\nusing this:\n  \\<exists>k<0. cor rx = cor k * cor ry\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>k < 0; cor rx = cor k * cor ry\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  k < 0\n  cor rx = cor k * cor ry\n\ngoal (2 subgoals):\n 1. \\<exists>k<0. cor rx = cor k * cor ry \\<Longrightarrow> rx * ry < 0\n 2. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "hence \"rx = k * ry\""], ["proof (prove)\nusing this:\n  k < 0\n  cor rx = cor k * cor ry\n\ngoal (1 subgoal):\n 1. rx = k * ry", "using of_real_eq_iff"], ["proof (prove)\nusing this:\n  k < 0\n  cor rx = cor k * cor ry\n  (of_real ?x = of_real ?y) = (?x = ?y)\n\ngoal (1 subgoal):\n 1. rx = k * ry", "by fastforce"], ["proof (state)\nthis:\n  rx = k * ry\n\ngoal (2 subgoals):\n 1. \\<exists>k<0. cor rx = cor k * cor ry \\<Longrightarrow> rx * ry < 0\n 2. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "thus \"rx * ry < 0\""], ["proof (prove)\nusing this:\n  rx = k * ry\n\ngoal (1 subgoal):\n 1. rx * ry < 0", "using \\<open>k < 0\\<close> \\<open>rx \\<noteq> 0\\<close> \\<open>ry \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  rx = k * ry\n  k < 0\n  rx \\<noteq> 0\n  ry \\<noteq> 0\n\ngoal (1 subgoal):\n 1. rx * ry < 0", "by (smt divisors_zero mult_nonneg_nonpos mult_nonpos_nonpos zero_less_mult_pos2)"], ["proof (state)\nthis:\n  rx * ry < 0\n\ngoal (1 subgoal):\n 1. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "assume \"rx * ry < 0\""], ["proof (state)\nthis:\n  rx * ry < 0\n\ngoal (1 subgoal):\n 1. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "hence \"rx = (rx/ry)*ry\" \"rx / ry < 0\""], ["proof (prove)\nusing this:\n  rx * ry < 0\n\ngoal (1 subgoal):\n 1. rx = rx / ry * ry &&& rx / ry < 0", "using \\<open>rx \\<noteq> 0\\<close> \\<open>ry \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  rx * ry < 0\n  rx \\<noteq> 0\n  ry \\<noteq> 0\n\ngoal (1 subgoal):\n 1. rx = rx / ry * ry &&& rx / ry < 0", "by (auto simp add: divide_less_0_iff algebra_split_simps)"], ["proof (state)\nthis:\n  rx = rx / ry * ry\n  rx / ry < 0\n\ngoal (1 subgoal):\n 1. rx * ry < 0 \\<Longrightarrow> \\<exists>k<0. cor rx = cor k * cor ry", "thus \"\\<exists>k<0. cor rx = cor k * cor ry\""], ["proof (prove)\nusing this:\n  rx = rx / ry * ry\n  rx / ry < 0\n\ngoal (1 subgoal):\n 1. \\<exists>k<0. cor rx = cor k * cor ry", "using \\<open>rx \\<noteq> 0\\<close> \\<open>ry \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  rx = rx / ry * ry\n  rx / ry < 0\n  rx \\<noteq> 0\n  ry \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>k<0. cor rx = cor k * cor ry", "by (rule_tac x=\"rx / ry\" in exI, simp)"], ["proof (state)\nthis:\n  \\<exists>k<0. cor rx = cor k * cor ry\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>k<0. cor rx = cor k * cor ry) = (rx * ry < 0)\n\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>k<0. cor rx = cor k * cor ry) = (rx * ry < 0)\n\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "using assms"], ["proof (prove)\nusing this:\n  (\\<exists>k<0. cor rx = cor k * cor ry) = (rx * ry < 0)\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n  x \\<noteq> 0\\<^sub>h\n  y \\<noteq> 0\\<^sub>h\n  to_complex x = cor rx * cis \\<phi>\n  to_complex y = cor ry * cis \\<phi>\n\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "using poincare_between_u0v[OF assms(1-4)]"], ["proof (prove)\nusing this:\n  (\\<exists>k<0. cor rx = cor k * cor ry) = (rx * ry < 0)\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n  x \\<noteq> 0\\<^sub>h\n  y \\<noteq> 0\\<^sub>h\n  to_complex x = cor rx * cis \\<phi>\n  to_complex y = cor ry * cis \\<phi>\n  poincare_between x 0\\<^sub>h y =\n  (\\<exists>k<0. to_complex x = cor k * to_complex y)\n\ngoal (1 subgoal):\n 1. poincare_between x 0\\<^sub>h y = (rx * ry < 0)", "by auto"], ["proof (state)\nthis:\n  poincare_between x 0\\<^sub>h y = (rx * ry < 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_x_axis_0uv:\n  fixes x y :: real\n  assumes \"-1 < x\" and \"x < 1\" and \"x \\<noteq> 0\"\n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> 0\"\n  shows \"poincare_between 0\\<^sub>h (of_complex x) (of_complex y) \\<longleftrightarrow>\n        (x < 0 \\<and> y < 0 \\<and> y \\<le> x) \\<or> (x > 0 \\<and> y > 0 \\<and> x \\<le> y)\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "proof (cases \"x = y\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)\n 2. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "case True"], ["proof (state)\nthis:\n  x = y\n\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)\n 2. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = y\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using assms"], ["proof (prove)\nusing this:\n  x = y\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  x = y\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (0\\<^sub>h = of_complex (cor x) \\<or>\n     of_complex (cor x) = of_complex (cor y) \\<or>\n     (let cr = cross_ratio 0\\<^sub>h (of_complex (cor x))\n                (of_complex (cor y)) (inversion (of_complex (cor x)))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "by auto"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "case False"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "let ?x = \"of_complex x\" and ?y = \"of_complex y\""], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "have \"?x \\<in> unit_disc\" \"?y \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex (cor x) \\<in> unit_disc &&&\n    of_complex (cor y) \\<in> unit_disc", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. of_complex (cor x) \\<in> unit_disc &&&\n    of_complex (cor y) \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "have distinct: \"distinct [0\\<^sub>h, ?x, ?y, inversion ?x]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "using \\<open>x \\<noteq> 0\\<close> \\<open>y \\<noteq> 0\\<close> \\<open>x \\<noteq> y\\<close> \\<open>?x \\<in> unit_disc\\<close> \\<open>?y \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "using inversion_noteq_unit_disc[of ?x ?y]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor y)\n\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "using inversion_noteq_unit_disc[of ?x ?x]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor x)\n\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "using inversion_noteq_unit_disc[of ?x \"0\\<^sub>h\"]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor x)\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   0\\<^sub>h \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "using of_complex_inj[of x y]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq>\n                    of_complex (cor x)\n  \\<lbrakk>of_complex (cor x) \\<in> unit_disc;\n   0\\<^sub>h \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor x)) \\<noteq> 0\\<^sub>h\n  of_complex (cor x) = of_complex (cor y) \\<Longrightarrow> cor x = cor y\n\ngoal (1 subgoal):\n 1. distinct\n     [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n      inversion (of_complex (cor x))]", "by (metis distinct_length_2_or_more distinct_singleton of_complex_zero_iff of_real_eq_0_iff of_real_eq_iff zero_in_unit_disc)"], ["proof (state)\nthis:\n  distinct\n   [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n    inversion (of_complex (cor x))]\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "let ?cr = \"cross_ratio 0\\<^sub>h ?x ?y (inversion ?x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "have \"Re (to_complex ?cr) = x\\<^sup>2 * (x*y - 1) / (x * (y - x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x))) =\n    x\\<^sup>2 * (x * y - 1) / (x * (y - x))", "using \\<open>x \\<noteq> 0\\<close> \\<open>x \\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x))) =\n    x\\<^sup>2 * (x * y - 1) / (x * (y - x))", "unfolding inversion_def"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     ((conjugate \\<circ> reciprocal) (of_complex (cor x))) =\n    x\\<^sup>2 * (x * y - 1) / (x * (y - x))", "by simp (transfer, transfer, auto simp add: vec_cnj_def power2_eq_square field_simps split: if_split_asm)"], ["proof (state)\nthis:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x))) =\n  x\\<^sup>2 * (x * y - 1) / (x * (y - x))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "moreover"], ["proof (state)\nthis:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x))) =\n  x\\<^sup>2 * (x * y - 1) / (x * (y - x))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "{"], ["proof (state)\nthis:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x))) =\n  x\\<^sup>2 * (x * y - 1) / (x * (y - x))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "fix a b :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "assume \"b \\<noteq> 0\""], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "hence \"a < 0 \\<longleftrightarrow> b\\<^sup>2 * a < (0::real)\""], ["proof (prove)\nusing this:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (a < 0) = (b\\<^sup>2 * a < 0)", "by (metis mult.commute mult_eq_0_iff mult_neg_pos mult_pos_pos not_less_iff_gr_or_eq not_real_square_gt_zero power2_eq_square)"], ["proof (state)\nthis:\n  (a < 0) = (b\\<^sup>2 * a < 0)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "}"], ["proof (state)\nthis:\n  ?b2 \\<noteq> 0 \\<Longrightarrow> (?a2 < 0) = (?b2\\<^sup>2 * ?a2 < 0)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "hence \"x\\<^sup>2 * (x*y - 1) < 0\""], ["proof (prove)\nusing this:\n  ?b2 \\<noteq> 0 \\<Longrightarrow> (?a2 < 0) = (?b2\\<^sup>2 * ?a2 < 0)\n\ngoal (1 subgoal):\n 1. x\\<^sup>2 * (x * y - 1) < 0", "using assms"], ["proof (prove)\nusing this:\n  ?b2 \\<noteq> 0 \\<Longrightarrow> (?a2 < 0) = (?b2\\<^sup>2 * ?a2 < 0)\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x\\<^sup>2 * (x * y - 1) < 0", "by (smt minus_mult_minus mult_le_cancel_left1)"], ["proof (state)\nthis:\n  x\\<^sup>2 * (x * y - 1) < 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "moreover"], ["proof (state)\nthis:\n  x\\<^sup>2 * (x * y - 1) < 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "have \"x * (y - x) > 0 \\<longleftrightarrow> ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < x * (y - x)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using \\<open>x \\<noteq> 0\\<close> \\<open>y \\<noteq> 0\\<close> \\<open>x \\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  y \\<noteq> 0\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. (0 < x * (y - x)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "by (smt mult_le_0_iff)"], ["proof (state)\nthis:\n  (0 < x * (y - x)) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "ultimately"], ["proof (chain)\npicking this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x))) =\n  x\\<^sup>2 * (x * y - 1) / (x * (y - x))\n  x\\<^sup>2 * (x * y - 1) < 0\n  (0 < x * (y - x)) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)", "have *: \"Re (to_complex ?cr) < 0 \\<longleftrightarrow> ?rhs\""], ["proof (prove)\nusing this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x))) =\n  x\\<^sup>2 * (x * y - 1) / (x * (y - x))\n  x\\<^sup>2 * (x * y - 1) < 0\n  (0 < x * (y - x)) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. (Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n      (inversion (of_complex (cor x)))\n     < 0) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "by (simp add: divide_less_0_iff)"], ["proof (state)\nthis:\n  (Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n    (inversion (of_complex (cor x)))\n   < 0) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x))\n     (of_complex (cor y)) \\<Longrightarrow>\n    x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y\n 2. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "assume ?lhs"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n\ngoal (2 subgoals):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x))\n     (of_complex (cor y)) \\<Longrightarrow>\n    x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y\n 2. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "have \"is_real (to_complex ?cr)\" \"Re (to_complex ?cr) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x))))) &&&\n    Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "using \\<open>?lhs\\<close> distinct"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n  distinct\n   [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n    inversion (of_complex (cor x))]\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x))))) &&&\n    Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "unfolding poincare_between_def Let_def"], ["proof (prove)\nusing this:\n  0\\<^sub>h = of_complex (cor x) \\<or>\n  of_complex (cor x) = of_complex (cor y) \\<or>\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x))))) \\<and>\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  distinct\n   [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n    inversion (of_complex (cor x))]\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x))))) &&&\n    Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "by auto"], ["proof (state)\nthis:\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n\ngoal (2 subgoals):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x))\n     (of_complex (cor y)) \\<Longrightarrow>\n    x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y\n 2. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "thus ?rhs"], ["proof (prove)\nusing this:\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y", "using *"], ["proof (prove)\nusing this:\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  (Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n    (inversion (of_complex (cor x)))\n   < 0) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y", "by simp"], ["proof (state)\nthis:\n  x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n  0 < x \\<and> 0 < y \\<and> x \\<le> y\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "assume ?rhs"], ["proof (state)\nthis:\n  x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n  0 < x \\<and> 0 < y \\<and> x \\<le> y\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "hence \"Re (to_complex ?cr) < 0\""], ["proof (prove)\nusing this:\n  x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n  0 < x \\<and> 0 < y \\<and> x \\<le> y\n\ngoal (1 subgoal):\n 1. Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "using *"], ["proof (prove)\nusing this:\n  x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n  0 < x \\<and> 0 < y \\<and> x \\<le> y\n  (Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n    (inversion (of_complex (cor x)))\n   < 0) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal (1 subgoal):\n 1. Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "by simp"], ["proof (state)\nthis:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "moreover"], ["proof (state)\nthis:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "have \"{0\\<^sub>h, of_complex (cor x), of_complex (cor y), inversion (of_complex (cor x))} \\<subseteq> circline_set x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n     inversion (of_complex (cor x))}\n    \\<subseteq> circline_set x_axis", "using \\<open>x \\<noteq> 0\\<close> is_real_inversion[of \"cor x\"]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  \\<lbrakk>is_real (cor x); cor x \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_real (to_complex (inversion (of_complex (cor x))))\n\ngoal (1 subgoal):\n 1. {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n     inversion (of_complex (cor x))}\n    \\<subseteq> circline_set x_axis", "using inf_or_of_complex[of \"inversion ?x\"]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  \\<lbrakk>is_real (cor x); cor x \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_real (to_complex (inversion (of_complex (cor x))))\n  inversion (of_complex (cor x)) = \\<infinity>\\<^sub>h \\<or>\n  (\\<exists>xa. inversion (of_complex (cor x)) = of_complex xa)\n\ngoal (1 subgoal):\n 1. {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n     inversion (of_complex (cor x))}\n    \\<subseteq> circline_set x_axis", "by (auto simp del: inversion_of_complex)"], ["proof (state)\nthis:\n  {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n   inversion (of_complex (cor x))}\n  \\<subseteq> circline_set x_axis\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "hence \"is_real (to_complex ?cr)\""], ["proof (prove)\nusing this:\n  {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n   inversion (of_complex (cor x))}\n  \\<subseteq> circline_set x_axis\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x)))))", "using four_points_on_circline_iff_cross_ratio_real[OF distinct]"], ["proof (prove)\nusing this:\n  {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n   inversion (of_complex (cor x))}\n  \\<subseteq> circline_set x_axis\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x))))) =\n  (\\<exists>H.\n      {0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n       inversion (of_complex (cor x))}\n      \\<subseteq> circline_set H)\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x)))))", "by auto"], ["proof (state)\nthis:\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n\ngoal (1 subgoal):\n 1. x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n    0 < x \\<and> 0 < y \\<and> x \\<le> y \\<Longrightarrow>\n    poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "ultimately"], ["proof (chain)\npicking this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))", "show ?lhs"], ["proof (prove)\nusing this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "using distinct"], ["proof (prove)\nusing this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n  distinct\n   [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n    inversion (of_complex (cor x))]\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))", "unfolding poincare_between_def Let_def"], ["proof (prove)\nusing this:\n  Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n   (inversion (of_complex (cor x)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n       (inversion (of_complex (cor x)))))\n  distinct\n   [0\\<^sub>h, of_complex (cor x), of_complex (cor y),\n    inversion (of_complex (cor x))]\n\ngoal (1 subgoal):\n 1. 0\\<^sub>h = of_complex (cor x) \\<or>\n    of_complex (cor x) = of_complex (cor y) \\<or>\n    is_real\n     (to_complex\n       (cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n         (inversion (of_complex (cor x))))) \\<and>\n    Re_cross_ratio 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n     (inversion (of_complex (cor x)))\n    < 0", "by auto"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex (cor x)) (of_complex (cor y)) =\n  (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n   0 < x \\<and> 0 < y \\<and> x \\<le> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_0uv:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"u \\<noteq> 0\\<^sub>h\" and \"v \\<noteq> 0\\<^sub>h\"\n  shows \"poincare_between 0\\<^sub>h u v \\<longleftrightarrow>\n         (let u' = to_complex u; v' = to_complex v in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\" (is \"?P u v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "proof (cases \"u = v\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "case True"], ["proof (state)\nthis:\n  u = v\n\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "by simp"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h u v =\n  (let u' = to_complex u; v' = to_complex v\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "case False"], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "have \"\\<forall> v. v \\<in> unit_disc \\<and> v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow> (poincare_between 0\\<^sub>h u v \\<longleftrightarrow> (let u' = to_complex u; v' = to_complex v in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'))\" (is \"?P' u\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       v \\<in> unit_disc \\<and>\n       v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n       poincare_between 0\\<^sub>h u v =\n       (let u' = to_complex u; v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "proof (rule wlog_rotation_to_positive_x_axis)"], ["proof (state)\ngoal (4 subgoals):\n 1. u \\<in> unit_disc\n 2. u \\<noteq> 0\\<^sub>h\n 3. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "show \"u \\<in> unit_disc\" \"u \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<in> unit_disc &&& u \\<noteq> 0\\<^sub>h", "by fact+"], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "assume *: \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "hence \"of_complex x \\<in> unit_disc\" \"of_complex x \\<noteq> 0\\<^sub>h\" \"of_complex x \\<in> circline_set x_axis\""], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc &&&\n    of_complex x \\<noteq> 0\\<^sub>h &&&\n    of_complex x \\<in> circline_set x_axis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc &&&\n    of_complex x \\<noteq> 0\\<^sub>h &&&\n    of_complex x\n    \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> 0\\<^sub>h\n  of_complex x \\<in> circline_set x_axis\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> of_complex x \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x) v =\n                            (let u' = to_complex (of_complex x);\n                                 v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "show \"?P' (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       v \\<in> unit_disc \\<and>\n       v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> of_complex x \\<longrightarrow>\n       poincare_between 0\\<^sub>h (of_complex x) v =\n       (let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "assume \"v \\<in> unit_disc\" \"v \\<noteq> 0\\<^sub>h\" \"v \\<noteq> of_complex x\" \"poincare_between 0\\<^sub>h (of_complex x) v\""], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  poincare_between 0\\<^sub>h (of_complex x) v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "hence \"v \\<in> circline_set x_axis\""], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  poincare_between 0\\<^sub>h (of_complex x) v\n\ngoal (1 subgoal):\n 1. v \\<in> circline_set x_axis", "using poincare_between_poincare_line_uvz[of \"0\\<^sub>h\" \"of_complex x\" v]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  poincare_between 0\\<^sub>h (of_complex x) v\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n  \\<Longrightarrow> v \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n\ngoal (1 subgoal):\n 1. v \\<in> circline_set x_axis", "using poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  poincare_between 0\\<^sub>h (of_complex x) v\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n  \\<Longrightarrow> v \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. v \\<in> circline_set x_axis", "using \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close> \\<open>v \\<noteq> 0\\<^sub>h\\<close> \\<open>v \\<noteq> of_complex x\\<close> \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>of_complex x \\<in> circline_set x_axis\\<close>"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  poincare_between 0\\<^sub>h (of_complex x) v\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; v \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n  \\<Longrightarrow> v \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  of_complex x \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  of_complex x \\<in> unit_disc\n  of_complex x \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. v \\<in> circline_set x_axis", "by auto"], ["proof (state)\nthis:\n  v \\<in> circline_set x_axis\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "obtain v' where \"v = of_complex v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v'. v = of_complex v' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>v'. v = of_complex v' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>v'. v = of_complex v' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = of_complex v'\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "hence **: \"v = of_complex v'\" \"-1 < Re v'\" \"Re v' < 1\" \"Re v' \\<noteq> 0\" \"is_real v'\""], ["proof (prove)\nusing this:\n  v = of_complex v'\n\ngoal (1 subgoal):\n 1. (v = of_complex v' &&& - 1 < Re v') &&&\n    Re v' < 1 &&& Re v' \\<noteq> 0 &&& is_real v'", "using \\<open>v \\<in> unit_disc\\<close> \\<open>v \\<noteq> 0\\<^sub>h\\<close> \\<open>v \\<in> circline_set x_axis\\<close> of_complex_inj[of v']"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<in> circline_set x_axis\n  of_complex v' = of_complex ?y \\<Longrightarrow> v' = ?y\n\ngoal (1 subgoal):\n 1. (v = of_complex v' &&& - 1 < Re v') &&&\n    Re v' < 1 &&& Re v' \\<noteq> 0 &&& is_real v'", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}\n  of_complex v' = of_complex ?y \\<Longrightarrow> v' = ?y\n\ngoal (1 subgoal):\n 1. (v = of_complex v' &&& - 1 < Re v') &&&\n    Re v' < 1 &&& Re v' \\<noteq> 0 &&& is_real v'", "by (auto simp add: cmod_eq_Re real_imag_0)"], ["proof (state)\nthis:\n  v = of_complex v'\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        poincare_between 0\\<^sub>h (of_complex x) v\\<rbrakk>\n       \\<Longrightarrow> let u' = to_complex (of_complex x);\n                             v' = to_complex v\n                         in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n 2. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "show \"let u' = to_complex (of_complex x); v' = to_complex v in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. let u' = to_complex (of_complex x); v' = to_complex v\n    in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'", "using poincare_between_x_axis_0uv[of \"Re x\" \"Re v'\"] * **"], ["proof (prove)\nusing this:\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re v'; Re v' < 1;\n   Re v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re v'))) =\n                    (Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. let u' = to_complex (of_complex x); v' = to_complex v\n    in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'", "using \\<open>poincare_between 0\\<^sub>h (of_complex x) v\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re v'; Re v' < 1;\n   Re v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re v'))) =\n                    (Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n  poincare_between 0\\<^sub>h (of_complex x) v\n\ngoal (1 subgoal):\n 1. let u' = to_complex (of_complex x); v' = to_complex v\n    in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'", "using arg_complex_of_real_positive[of \"Re x\"] arg_complex_of_real_negative[of \"Re x\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re v'; Re v' < 1;\n   Re v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re v'))) =\n                    (Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n  poincare_between 0\\<^sub>h (of_complex x) v\n  0 < Re x \\<Longrightarrow> arg (cor (Re x)) = 0\n  Re x < 0 \\<Longrightarrow> arg (cor (Re x)) = pi\n\ngoal (1 subgoal):\n 1. let u' = to_complex (of_complex x); v' = to_complex v\n    in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'", "using arg_complex_of_real_positive[of \"Re v'\"] arg_complex_of_real_negative[of \"Re v'\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re v'; Re v' < 1;\n   Re v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re v'))) =\n                    (Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n  poincare_between 0\\<^sub>h (of_complex x) v\n  0 < Re x \\<Longrightarrow> arg (cor (Re x)) = 0\n  Re x < 0 \\<Longrightarrow> arg (cor (Re x)) = pi\n  0 < Re v' \\<Longrightarrow> arg (cor (Re v')) = 0\n  Re v' < 0 \\<Longrightarrow> arg (cor (Re v')) = pi\n\ngoal (1 subgoal):\n 1. let u' = to_complex (of_complex x); v' = to_complex v\n    in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "assume \"v \\<in> unit_disc\" \"v \\<noteq> 0\\<^sub>h\" \"v \\<noteq> of_complex x\""], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "then"], ["proof (chain)\npicking this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x", "obtain v' where **: \"v = of_complex v'\" \"v' \\<noteq> 0\" \"v' \\<noteq> x\""], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        \\<lbrakk>v = of_complex v'; v' \\<noteq> 0; v' \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> of_complex x\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        \\<lbrakk>v = of_complex v'; v' \\<noteq> 0; v' \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto blast"], ["proof (state)\nthis:\n  v = of_complex v'\n  v' \\<noteq> 0\n  v' \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "assume \"let u' = to_complex (of_complex x); v' = to_complex v in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\""], ["proof (state)\nthis:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "hence ***: \"Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or> 0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v'\" \"is_real v'\""], ["proof (prove)\nusing this:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n\ngoal (1 subgoal):\n 1. Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n    0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v' &&&\n    is_real v'", "using arg_pi_iff[of x] arg_pi_iff[of v']"], ["proof (prove)\nusing this:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n  (arg x = pi) = (is_real x \\<and> Re x < 0)\n  (arg v' = pi) = (is_real v' \\<and> Re v' < 0)\n\ngoal (1 subgoal):\n 1. Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n    0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v' &&&\n    is_real v'", "using arg_0_iff[of x] arg_0_iff[of v']"], ["proof (prove)\nusing this:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n  (arg x = pi) = (is_real x \\<and> Re x < 0)\n  (arg v' = pi) = (is_real v' \\<and> Re v' < 0)\n  (x \\<noteq> 0 \\<and> arg x = 0) = (is_real x \\<and> 0 < Re x)\n  (v' \\<noteq> 0 \\<and> arg v' = 0) = (is_real v' \\<and> 0 < Re v')\n\ngoal (1 subgoal):\n 1. Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n    0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v' &&&\n    is_real v'", "using * **"], ["proof (prove)\nusing this:\n  let u' = to_complex (of_complex x); v' = to_complex v\n  in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\n  (arg x = pi) = (is_real x \\<and> Re x < 0)\n  (arg v' = pi) = (is_real v' \\<and> Re v' < 0)\n  (x \\<noteq> 0 \\<and> arg x = 0) = (is_real x \\<and> 0 < Re x)\n  (v' \\<noteq> 0 \\<and> arg v' = 0) = (is_real v' \\<and> 0 < Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  v' \\<noteq> 0\n  v' \\<noteq> x\n\ngoal (1 subgoal):\n 1. Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n    0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v' &&&\n    is_real v'", "by (smt cmod_Re_le_iff to_complex_of_complex)+"], ["proof (state)\nthis:\n  Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n  0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "have \"-1 < Re v'\" \"Re v' < 1\" \"Re v' \\<noteq> 0\" \"is_real v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1 < Re v' &&& Re v' < 1) &&& Re v' \\<noteq> 0 &&& is_real v'", "using \\<open>v \\<in> unit_disc\\<close> ** \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  v \\<in> unit_disc\n  v = of_complex v'\n  v' \\<noteq> 0\n  v' \\<noteq> x\n  is_real v'\n\ngoal (1 subgoal):\n 1. (- 1 < Re v' &&& Re v' < 1) &&& Re v' \\<noteq> 0 &&& is_real v'", "by (auto simp add: cmod_eq_Re complex_eq_if_Re_eq)"], ["proof (state)\nthis:\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> of_complex x;\n        let u' = to_complex (of_complex x); v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v'\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) v", "thus \"poincare_between 0\\<^sub>h (of_complex x) v\""], ["proof (prove)\nusing this:\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex x) v", "using poincare_between_x_axis_0uv[of \"Re x\" \"Re v'\"] * ** ***"], ["proof (prove)\nusing this:\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n  is_real v'\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re v'; Re v' < 1;\n   Re v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re v'))) =\n                    (Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v')\n  is_real x\n  0 < Re x\n  Re x < 1\n  v = of_complex v'\n  v' \\<noteq> 0\n  v' \\<noteq> x\n  Re x < 0 \\<and> Re v' < 0 \\<and> Re v' \\<le> Re x \\<or>\n  0 < Re x \\<and> 0 < Re v' \\<and> Re x \\<le> Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex x) v", "by simp"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex x) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> of_complex x \\<longrightarrow>\n     poincare_between 0\\<^sub>h (of_complex x) v =\n     (let u' = to_complex (of_complex x); v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "fix \\<phi> u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "assume \"u \\<in> unit_disc\" \"u \\<noteq> 0\\<^sub>h\""], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "let ?M = \"moebius_rotation \\<phi>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "assume *: \"?P' (moebius_pt ?M u)\""], ["proof (state)\nthis:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and>\n     v \\<noteq> moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n     poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u) v =\n     (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n          v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> u.\n       \\<lbrakk>u \\<in> unit_disc; u \\<noteq> 0\\<^sub>h;\n        \\<forall>v.\n           v \\<in> unit_disc \\<and>\n           v \\<noteq> 0\\<^sub>h \\<and>\n           v \\<noteq>\n           moebius_pt (moebius_rotation \\<phi>) u \\<longrightarrow>\n           poincare_between 0\\<^sub>h\n            (moebius_pt (moebius_rotation \\<phi>) u) v =\n           (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n                v' = to_complex v\n            in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v.\n                            v \\<in> unit_disc \\<and>\n                            v \\<noteq> 0\\<^sub>h \\<and>\n                            v \\<noteq> u \\<longrightarrow>\n                            poincare_between 0\\<^sub>h u v =\n                            (let u' = to_complex u; v' = to_complex v\n                             in arg u' = arg v' \\<and>\n                                cmod u' \\<le> cmod v')", "show \"?P' u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       v \\<in> unit_disc \\<and>\n       v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n       poincare_between 0\\<^sub>h u v =\n       (let u' = to_complex u; v' = to_complex v\n        in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "proof (rule allI, rule impI, (erule conjE)+)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h u v =\n                         (let u' = to_complex u; v' = to_complex v\n                          in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h u v =\n                         (let u' = to_complex u; v' = to_complex v\n                          in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "assume \"v \\<in> unit_disc\" \"v \\<noteq> 0\\<^sub>h\" \"v \\<noteq> u\""], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h u v =\n                         (let u' = to_complex u; v' = to_complex v\n                          in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "have \"moebius_pt ?M v \\<noteq> moebius_pt ?M u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n    moebius_pt (moebius_rotation \\<phi>) u", "using \\<open>v \\<noteq> u\\<close>"], ["proof (prove)\nusing this:\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n    moebius_pt (moebius_rotation \\<phi>) u", "by auto"], ["proof (state)\nthis:\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h u v =\n                         (let u' = to_complex u; v' = to_complex v\n                          in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "obtain u' v' where \"v = of_complex v'\" \"u = of_complex u'\" \"v' \\<noteq> 0\" \"u' \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v' u'.\n        \\<lbrakk>v = of_complex v'; u = of_complex u'; v' \\<noteq> 0;\n         u' \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of u] inf_or_of_complex[of v]"], ["proof (prove)\nusing this:\n  u = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. u = of_complex x)\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>v' u'.\n        \\<lbrakk>v = of_complex v'; u = of_complex u'; v' \\<noteq> 0;\n         u' \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>v \\<in> unit_disc\\<close> \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<noteq> 0\\<^sub>h\\<close> \\<open>u \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  u = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. u = of_complex x)\n  v = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. v = of_complex x)\n  v \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. (\\<And>v' u'.\n        \\<lbrakk>v = of_complex v'; u = of_complex u'; v' \\<noteq> 0;\n         u' \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<lbrakk>v \\<in> unit_disc; v \\<noteq> 0\\<^sub>h;\n        v \\<noteq> u\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h u v =\n                         (let u' = to_complex u; v' = to_complex v\n                          in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "thus \"?P u v\""], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using *[rule_format, of \"moebius_pt ?M v\"]"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  moebius_pt (moebius_rotation \\<phi>) v \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq> 0\\<^sub>h \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u \\<Longrightarrow>\n  poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u)\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n       v' = to_complex (moebius_pt (moebius_rotation \\<phi>) v)\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using \\<open>moebius_pt ?M v \\<noteq> moebius_pt ?M u\\<close>"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  moebius_pt (moebius_rotation \\<phi>) v \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq> 0\\<^sub>h \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u \\<Longrightarrow>\n  poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u)\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n       v' = to_complex (moebius_pt (moebius_rotation \\<phi>) v)\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using unit_disc_fix_moebius_preserve_poincare_between[of ?M \"0\\<^sub>h\" u v]"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  moebius_pt (moebius_rotation \\<phi>) v \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq> 0\\<^sub>h \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u \\<Longrightarrow>\n  poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u)\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n       v' = to_complex (moebius_pt (moebius_rotation \\<phi>) v)\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u\n  \\<lbrakk>unit_disc_fix (moebius_rotation \\<phi>);\n   0\\<^sub>h \\<in> unit_disc; u \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between\n                     (moebius_pt (moebius_rotation \\<phi>) 0\\<^sub>h)\n                     (moebius_pt (moebius_rotation \\<phi>) u)\n                     (moebius_pt (moebius_rotation \\<phi>) v) =\n                    poincare_between 0\\<^sub>h u v\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using \\<open>v \\<in> unit_disc\\<close> \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<noteq> 0\\<^sub>h\\<close> \\<open>u \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  moebius_pt (moebius_rotation \\<phi>) v \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq> 0\\<^sub>h \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u \\<Longrightarrow>\n  poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u)\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n       v' = to_complex (moebius_pt (moebius_rotation \\<phi>) v)\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u\n  \\<lbrakk>unit_disc_fix (moebius_rotation \\<phi>);\n   0\\<^sub>h \\<in> unit_disc; u \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between\n                     (moebius_pt (moebius_rotation \\<phi>) 0\\<^sub>h)\n                     (moebius_pt (moebius_rotation \\<phi>) u)\n                     (moebius_pt (moebius_rotation \\<phi>) v) =\n                    poincare_between 0\\<^sub>h u v\n  v \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  u \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using arg_mult_eq[of \"cis \\<phi>\" u' v']"], ["proof (prove)\nusing this:\n  v = of_complex v'\n  u = of_complex u'\n  v' \\<noteq> 0\n  u' \\<noteq> 0\n  moebius_pt (moebius_rotation \\<phi>) v \\<in> unit_disc \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq> 0\\<^sub>h \\<and>\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u \\<Longrightarrow>\n  poincare_between 0\\<^sub>h (moebius_pt (moebius_rotation \\<phi>) u)\n   (moebius_pt (moebius_rotation \\<phi>) v) =\n  (let u' = to_complex (moebius_pt (moebius_rotation \\<phi>) u);\n       v' = to_complex (moebius_pt (moebius_rotation \\<phi>) v)\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  moebius_pt (moebius_rotation \\<phi>) v \\<noteq>\n  moebius_pt (moebius_rotation \\<phi>) u\n  \\<lbrakk>unit_disc_fix (moebius_rotation \\<phi>);\n   0\\<^sub>h \\<in> unit_disc; u \\<in> unit_disc; v \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between\n                     (moebius_pt (moebius_rotation \\<phi>) 0\\<^sub>h)\n                     (moebius_pt (moebius_rotation \\<phi>) u)\n                     (moebius_pt (moebius_rotation \\<phi>) v) =\n                    poincare_between 0\\<^sub>h u v\n  v \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<noteq> 0\\<^sub>h\n  u \\<noteq> 0\\<^sub>h\n  \\<lbrakk>cis \\<phi> * u' \\<noteq> 0; cis \\<phi> * v' \\<noteq> 0;\n   arg (cis \\<phi> * u') = arg (cis \\<phi> * v')\\<rbrakk>\n  \\<Longrightarrow> arg u' = arg v'\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "by simp (auto simp add: arg_mult)"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h u v =\n  (let u' = to_complex u; v' = to_complex v\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n     poincare_between 0\\<^sub>h u v =\n     (let u' = to_complex u; v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n     poincare_between 0\\<^sub>h u v =\n     (let u' = to_complex u; v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n     poincare_between 0\\<^sub>h u v =\n     (let u' = to_complex u; v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "using assms False"], ["proof (prove)\nusing this:\n  \\<forall>v.\n     v \\<in> unit_disc \\<and>\n     v \\<noteq> 0\\<^sub>h \\<and> v \\<noteq> u \\<longrightarrow>\n     poincare_between 0\\<^sub>h u v =\n     (let u' = to_complex u; v' = to_complex v\n      in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> 0\\<^sub>h\n  v \\<noteq> 0\\<^sub>h\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h u v =\n    (let u' = to_complex u; v' = to_complex v\n     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')", "by auto"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h u v =\n  (let u' = to_complex u; v' = to_complex v\n   in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_y_axis_0uv:\n  fixes x y :: real\n  assumes \"-1 < x\" and \"x < 1\" and \"x \\<noteq> 0\"\n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> 0\"\n  shows \"poincare_between 0\\<^sub>h (of_complex (\\<i> * x)) (of_complex (\\<i> * y)) \\<longleftrightarrow>\n        (x < 0 \\<and> y < 0 \\<and> y \\<le> x) \\<or> (x > 0 \\<and> y > 0 \\<and> x \\<le> y)\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n     (of_complex (\\<i> * cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n     (of_complex (\\<i> * cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using poincare_between_0uv[of \"of_complex (\\<i> * x)\" \"of_complex (\\<i> * y)\"]"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n  \\<lbrakk>of_complex (\\<i> * cor x) \\<in> unit_disc;\n   of_complex (\\<i> * cor y) \\<in> unit_disc;\n   of_complex (\\<i> * cor x) \\<noteq> 0\\<^sub>h;\n   of_complex (\\<i> * cor y) \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n                     (of_complex (\\<i> * cor y)) =\n                    (let u' = to_complex (of_complex (\\<i> * cor x));\n                         v' = to_complex (of_complex (\\<i> * cor y))\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n     (of_complex (\\<i> * cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using arg_pi2_iff[of \"\\<i> * cor x\"] arg_pi2_iff[of \"\\<i> * cor y\"]"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n  \\<lbrakk>of_complex (\\<i> * cor x) \\<in> unit_disc;\n   of_complex (\\<i> * cor y) \\<in> unit_disc;\n   of_complex (\\<i> * cor x) \\<noteq> 0\\<^sub>h;\n   of_complex (\\<i> * cor y) \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n                     (of_complex (\\<i> * cor y)) =\n                    (let u' = to_complex (of_complex (\\<i> * cor x));\n                         v' = to_complex (of_complex (\\<i> * cor y))\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  (\\<i> * cor x \\<noteq> 0 \\<and> arg (\\<i> * cor x) = pi / 2) =\n  (is_imag (\\<i> * cor x) \\<and> 0 < Im (\\<i> * cor x))\n  (\\<i> * cor y \\<noteq> 0 \\<and> arg (\\<i> * cor y) = pi / 2) =\n  (is_imag (\\<i> * cor y) \\<and> 0 < Im (\\<i> * cor y))\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n     (of_complex (\\<i> * cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using arg_minus_pi2_iff[of \"\\<i> * cor x\"] arg_minus_pi2_iff[of \"\\<i> * cor y\"]"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  x \\<noteq> 0\n  - 1 < y\n  y < 1\n  y \\<noteq> 0\n  \\<lbrakk>of_complex (\\<i> * cor x) \\<in> unit_disc;\n   of_complex (\\<i> * cor y) \\<in> unit_disc;\n   of_complex (\\<i> * cor x) \\<noteq> 0\\<^sub>h;\n   of_complex (\\<i> * cor y) \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n                     (of_complex (\\<i> * cor y)) =\n                    (let u' = to_complex (of_complex (\\<i> * cor x));\n                         v' = to_complex (of_complex (\\<i> * cor y))\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  (\\<i> * cor x \\<noteq> 0 \\<and> arg (\\<i> * cor x) = pi / 2) =\n  (is_imag (\\<i> * cor x) \\<and> 0 < Im (\\<i> * cor x))\n  (\\<i> * cor y \\<noteq> 0 \\<and> arg (\\<i> * cor y) = pi / 2) =\n  (is_imag (\\<i> * cor y) \\<and> 0 < Im (\\<i> * cor y))\n  (\\<i> * cor x \\<noteq> 0 \\<and> arg (\\<i> * cor x) = - pi / 2) =\n  (is_imag (\\<i> * cor x) \\<and> Im (\\<i> * cor x) < 0)\n  (\\<i> * cor y \\<noteq> 0 \\<and> arg (\\<i> * cor y) = - pi / 2) =\n  (is_imag (\\<i> * cor y) \\<and> Im (\\<i> * cor y) < 0)\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n     (of_complex (\\<i> * cor y)) =\n    (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n     0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0)\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply (cases \"x > 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); 0 < x\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)\n 2. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply (cases \"y > 0\", simp, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply (cases \"y > 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x;\n     0 < y\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)\n 2. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x;\n     \\<not> 0 < y\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>- 1 < x; x \\<noteq> 0; y < 1;\n     \\<not> poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n             (of_complex (\\<i> * cor y));\n     arg (\\<i> * cor y) * 2 = pi; arg (\\<i> * cor x) = - (pi / 2);\n     \\<not> 0 < x; 0 < y\\<rbrakk>\n    \\<Longrightarrow> - (pi / 2) = arg (\\<i> * cor y) \\<longrightarrow>\n                      \\<not> - x \\<le> y\n 2. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x;\n     \\<not> 0 < y\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "using pi_gt_zero"], ["proof (prove)\nusing this:\n  0 < pi\n\ngoal (2 subgoals):\n 1. \\<lbrakk>- 1 < x; x \\<noteq> 0; y < 1;\n     \\<not> poincare_between 0\\<^sub>h (of_complex (\\<i> * cor x))\n             (of_complex (\\<i> * cor y));\n     arg (\\<i> * cor y) * 2 = pi; arg (\\<i> * cor x) = - (pi / 2);\n     \\<not> 0 < x; 0 < y\\<rbrakk>\n    \\<Longrightarrow> - (pi / 2) = arg (\\<i> * cor y) \\<longrightarrow>\n                      \\<not> - x \\<le> y\n 2. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x;\n     \\<not> 0 < y\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply linarith"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>- 1 < x; x < 1; x \\<noteq> 0; - 1 < y; y < 1; y \\<noteq> 0;\n     \\<lbrakk>\\<bar>x\\<bar> < 1; \\<bar>y\\<bar> < 1\\<rbrakk>\n     \\<Longrightarrow> poincare_between 0\\<^sub>h\n                        (of_complex (\\<i> * cor x))\n                        (of_complex (\\<i> * cor y)) =\n                       (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                        \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>);\n     (arg (\\<i> * cor x) * 2 = pi) = (0 < x);\n     (arg (\\<i> * cor y) * 2 = pi) = (0 < y);\n     (arg (\\<i> * cor x) = - (pi / 2)) = (x < 0);\n     (arg (\\<i> * cor y) = - (pi / 2)) = (y < 0); \\<not> 0 < x;\n     \\<not> 0 < y\\<rbrakk>\n    \\<Longrightarrow> (arg (\\<i> * cor x) = arg (\\<i> * cor y) \\<and>\n                       \\<bar>x\\<bar> \\<le> \\<bar>y\\<bar>) =\n                      (x < 0 \\<and> y < 0 \\<and> y \\<le> x \\<or>\n                       0 < x \\<and> 0 < y \\<and> x \\<le> y)", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma poincare_between_x_axis_uvw:\n  fixes x y z :: real\n  assumes \"-1 < x\" and \"x < 1\" \n  assumes \"-1 < y\" and \"y < 1\" and \"y \\<noteq> x\"\n  assumes \"-1 < z\" and \"z < 1\" and \"z \\<noteq> x\"\n  shows \"poincare_between (of_complex x) (of_complex y) (of_complex z) \\<longleftrightarrow>\n        (y < x \\<and> z < x \\<and> z \\<le> y) \\<or> (y > x \\<and> z > x \\<and> y \\<le> z)\"  (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "proof (cases \"x = 0 \\<or> y = 0 \\<or> z = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x = 0 \\<or> y = 0 \\<or> z = 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0) \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "case True"], ["proof (state)\nthis:\n  x = 0 \\<or> y = 0 \\<or> z = 0\n\ngoal (2 subgoals):\n 1. x = 0 \\<or> y = 0 \\<or> z = 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0) \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = 0 \\<or> y = 0 \\<or> z = 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "proof (cases \"x = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x = 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "case True"], ["proof (state)\nthis:\n  x = 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x = 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using poincare_between_x_axis_0uv assms"], ["proof (prove)\nusing this:\n  x = 0\n  \\<lbrakk>- 1 < ?x; ?x < 1; ?x \\<noteq> 0; - 1 < ?y; ?y < 1;\n   ?y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor ?x))\n                     (of_complex (cor ?y)) =\n                    (?x < 0 \\<and> ?y < 0 \\<and> ?y \\<le> ?x \\<or>\n                     0 < ?x \\<and> 0 < ?y \\<and> ?x \\<le> ?y)\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by simp"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "case False"], ["proof (state)\nthis:\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x = 0 \\<or> y = 0 \\<or> z = 0; x \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "proof (cases \"z = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. z = 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)\n 2. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "case True"], ["proof (state)\nthis:\n  z = 0\n\ngoal (2 subgoals):\n 1. z = 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)\n 2. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  z = 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using poincare_between_x_axis_0uv assms poincare_between_rev"], ["proof (prove)\nusing this:\n  z = 0\n  \\<lbrakk>- 1 < ?x; ?x < 1; ?x \\<noteq> 0; - 1 < ?y; ?y < 1;\n   ?y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor ?x))\n                     (of_complex (cor ?y)) =\n                    (?x < 0 \\<and> ?y < 0 \\<and> ?y \\<le> ?x \\<or>\n                     0 < ?x \\<and> 0 < ?y \\<and> ?x \\<le> ?y)\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   ?w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between ?u ?v ?w = poincare_between ?w ?v ?u\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by (smt norm_of_real of_complex_zero of_real_0 poincare_between_nonstrict(2) unit_disc_iff_cmod_lt_1)"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "case False"], ["proof (state)\nthis:\n  z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "have \"y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = 0", "using \\<open>x \\<noteq> 0\\<close> \\<open>z \\<noteq> 0\\<close> \\<open>x = 0 \\<or> y = 0 \\<or> z = 0\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  z \\<noteq> 0\n  x = 0 \\<or> y = 0 \\<or> z = 0\n\ngoal (1 subgoal):\n 1. y = 0", "by simp"], ["proof (state)\nthis:\n  y = 0\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "have \"poincare_between (of_complex x) 0\\<^sub>h (of_complex z) = (is_real z \\<and> x * z < 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n    (is_real (cor z) \\<and> x * z < 0)", "using \\<open>x \\<noteq> 0\\<close> \\<open>z \\<noteq> 0\\<close> poincare_between_x_axis_u0v"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  z \\<noteq> 0\n  \\<lbrakk>is_real ?u'; ?u' \\<noteq> 0; ?v' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex ?u') 0\\<^sub>h\n                     (of_complex ?v') =\n                    (is_real ?v' \\<and> Re ?u' * Re ?v' < 0)\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n    (is_real (cor z) \\<and> x * z < 0)", "by auto"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n  (is_real (cor z) \\<and> x * z < 0)\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "moreover"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n  (is_real (cor z) \\<and> x * z < 0)\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "have \"x * z < 0 \\<longleftrightarrow> ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x * z < 0) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using True \\<open>x \\<noteq> 0\\<close> \\<open>z \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  x = 0 \\<or> y = 0 \\<or> z = 0\n  x \\<noteq> 0\n  z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (x * z < 0) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by (smt zero_le_mult_iff)"], ["proof (state)\nthis:\n  (x * z < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. z \\<noteq> 0 \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "ultimately"], ["proof (chain)\npicking this:\n  poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n  (is_real (cor z) \\<and> x * z < 0)\n  (x * z < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)", "show ?thesis"], ["proof (prove)\nusing this:\n  poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n  (is_real (cor z) \\<and> x * z < 0)\n  (x * z < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using \\<open>y = 0\\<close>"], ["proof (prove)\nusing this:\n  poincare_between (of_complex (cor x)) 0\\<^sub>h (of_complex (cor z)) =\n  (is_real (cor z) \\<and> x * z < 0)\n  (x * z < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n  y = 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by auto"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0) \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0) \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "case False"], ["proof (state)\nthis:\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n\ngoal (1 subgoal):\n 1. \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0) \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "proof (cases \"z = y\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z = y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "case True"], ["proof (state)\nthis:\n  z = y\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z = y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)\n 2. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  z = y\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using assms"], ["proof (prove)\nusing this:\n  z = y\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  z = y\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. (of_complex (cor x) = of_complex (cor y) \\<or>\n     of_complex (cor y) = of_complex (cor z) \\<or>\n     (let cr = cross_ratio (of_complex (cor x)) (of_complex (cor y))\n                (of_complex (cor z)) (inversion (of_complex (cor y)))\n      in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by auto"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "case False"], ["proof (state)\nthis:\n  z \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "let ?x = \"of_complex x\" and ?y = \"of_complex y\" and ?z = \"of_complex z\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"?x \\<in> unit_disc\" \"?y \\<in> unit_disc\" \"?z \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex (cor x) \\<in> unit_disc &&&\n    of_complex (cor y) \\<in> unit_disc &&&\n    of_complex (cor z) \\<in> unit_disc", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. of_complex (cor x) \\<in> unit_disc &&&\n    of_complex (cor y) \\<in> unit_disc &&&\n    of_complex (cor z) \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have distinct: \"distinct [?x, ?y, ?z, inversion ?y]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "using \\<open>y \\<noteq> x\\<close> \\<open>z \\<noteq> x\\<close> False \\<open>?x \\<in> unit_disc\\<close> \\<open>?y \\<in> unit_disc\\<close> \\<open>?z \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "using inversion_noteq_unit_disc[of ?y ?y]"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor y)\n\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "using inversion_noteq_unit_disc[of ?y ?x]"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor x)\n\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "using inversion_noteq_unit_disc[of ?y ?z]"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor x)\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor z) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor z)\n\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "using of_complex_inj[of x y]  of_complex_inj[of y z]  of_complex_inj[of x z]"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  of_complex (cor x) \\<in> unit_disc\n  of_complex (cor y) \\<in> unit_disc\n  of_complex (cor z) \\<in> unit_disc\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor y) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor y)\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor x) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor x)\n  \\<lbrakk>of_complex (cor y) \\<in> unit_disc;\n   of_complex (cor z) \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> inversion (of_complex (cor y)) \\<noteq>\n                    of_complex (cor z)\n  of_complex (cor x) = of_complex (cor y) \\<Longrightarrow> cor x = cor y\n  of_complex (cor y) = of_complex (cor z) \\<Longrightarrow> cor y = cor z\n  of_complex (cor x) = of_complex (cor z) \\<Longrightarrow> cor x = cor z\n\ngoal (1 subgoal):\n 1. distinct\n     [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n      inversion (of_complex (cor y))]", "by auto"], ["proof (state)\nthis:\n  distinct\n   [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n    inversion (of_complex (cor y))]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"cor y * cor x \\<noteq> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cor y * cor x \\<noteq> 1", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. cor y * cor x \\<noteq> 1", "by (smt minus_mult_minus mult_less_cancel_left2 mult_less_cancel_right2 of_real_1 of_real_eq_iff of_real_mult)"], ["proof (state)\nthis:\n  cor y * cor x \\<noteq> 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "let ?cr = \"cross_ratio ?x ?y ?z (inversion ?y)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"Re (to_complex ?cr) = (x - y) * (z*y - 1)/ ((x*y - 1)*(z - y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "have \" \\<And>y x z. \\<lbrakk>y \\<noteq> x; z \\<noteq> x; z \\<noteq> y; cor y * cor x \\<noteq> 1; x \\<noteq> 0; y \\<noteq> 0; z \\<noteq> 0\\<rbrakk> \\<Longrightarrow> \n           (y * y + y * (y * (x * z)) - (y * x + y * (y * (y * z)))) /\n           (y * y + y * (y * (x * z)) - (y * z + y * (y * (y * x)))) =\n           (y + y * (x * z) - (x + y * (y * z))) / (y + y * (x * z) - (z + y * (y * x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y x z.\n       \\<lbrakk>y \\<noteq> x; z \\<noteq> x; z \\<noteq> y;\n        cor y * cor x \\<noteq> 1; x \\<noteq> 0; y \\<noteq> 0;\n        z \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (y * y + y * (y * (x * z)) -\n                          (y * x + y * (y * (y * z)))) /\n                         (y * y + y * (y * (x * z)) -\n                          (y * z + y * (y * (y * x)))) =\n                         (y + y * (x * z) - (x + y * (y * z))) /\n                         (y + y * (x * z) - (z + y * (y * x)))", "by (metis (no_types, hide_lams) ab_group_add_class.ab_diff_conv_add_uminus distrib_left mult_divide_mult_cancel_left_if mult_minus_right)"], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<noteq> ?x; ?z \\<noteq> ?x; ?z \\<noteq> ?y;\n   cor ?y * cor ?x \\<noteq> 1; ?x \\<noteq> 0; ?y \\<noteq> 0;\n   ?z \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?x + ?y * (?y * (?y * ?z)))) /\n                    (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?z + ?y * (?y * (?y * ?x)))) =\n                    (?y + ?y * (?x * ?z) - (?x + ?y * (?y * ?z))) /\n                    (?y + ?y * (?x * ?z) - (?z + ?y * (?y * ?x)))\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y \\<noteq> ?x; ?z \\<noteq> ?x; ?z \\<noteq> ?y;\n   cor ?y * cor ?x \\<noteq> 1; ?x \\<noteq> 0; ?y \\<noteq> 0;\n   ?z \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?x + ?y * (?y * (?y * ?z)))) /\n                    (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?z + ?y * (?y * (?y * ?x)))) =\n                    (?y + ?y * (?x * ?z) - (?x + ?y * (?y * ?z))) /\n                    (?y + ?y * (?x * ?z) - (?z + ?y * (?y * ?x)))\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "using \\<open>y \\<noteq> x\\<close> \\<open>z \\<noteq> x\\<close> False \\<open>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y \\<noteq> ?x; ?z \\<noteq> ?x; ?z \\<noteq> ?y;\n   cor ?y * cor ?x \\<noteq> 1; ?x \\<noteq> 0; ?y \\<noteq> 0;\n   ?z \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?x + ?y * (?y * (?y * ?z)))) /\n                    (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?z + ?y * (?y * (?y * ?x)))) =\n                    (?y + ?y * (?x * ?z) - (?x + ?y * (?y * ?z))) /\n                    (?y + ?y * (?x * ?z) - (?z + ?y * (?y * ?x)))\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "using \\<open>cor y * cor x \\<noteq> 1\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y \\<noteq> ?x; ?z \\<noteq> ?x; ?z \\<noteq> ?y;\n   cor ?y * cor ?x \\<noteq> 1; ?x \\<noteq> 0; ?y \\<noteq> 0;\n   ?z \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?x + ?y * (?y * (?y * ?z)))) /\n                    (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?z + ?y * (?y * (?y * ?x)))) =\n                    (?y + ?y * (?x * ?z) - (?x + ?y * (?y * ?z))) /\n                    (?y + ?y * (?x * ?z) - (?z + ?y * (?y * ?x)))\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n  cor y * cor x \\<noteq> 1\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "unfolding inversion_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y \\<noteq> ?x; ?z \\<noteq> ?x; ?z \\<noteq> ?y;\n   cor ?y * cor ?x \\<noteq> 1; ?x \\<noteq> 0; ?y \\<noteq> 0;\n   ?z \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?x + ?y * (?y * (?y * ?z)))) /\n                    (?y * ?y + ?y * (?y * (?x * ?z)) -\n                     (?y * ?z + ?y * (?y * (?y * ?x)))) =\n                    (?y + ?y * (?x * ?z) - (?x + ?y * (?y * ?z))) /\n                    (?y + ?y * (?x * ?z) - (?z + ?y * (?y * ?x)))\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n  cor y * cor x \\<noteq> 1\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))\n     ((conjugate \\<circ> reciprocal) (of_complex (cor y))) =\n    (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))", "by (transfer, transfer, auto simp add: vec_cnj_def power2_eq_square field_simps split: if_split_asm)"], ["proof (state)\nthis:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y))) =\n  (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y))) =\n  (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "moreover"], ["proof (state)\nthis:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y))) =\n  (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"(x*y - 1) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * y - 1 < 0", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. x * y - 1 < 0", "by (smt minus_mult_minus mult_less_cancel_right2 zero_less_mult_iff)"], ["proof (state)\nthis:\n  x * y - 1 < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "moreover"], ["proof (state)\nthis:\n  x * y - 1 < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"(z*y - 1) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z * y - 1 < 0", "using assms"], ["proof (prove)\nusing this:\n  - 1 < x\n  x < 1\n  - 1 < y\n  y < 1\n  y \\<noteq> x\n  - 1 < z\n  z < 1\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. z * y - 1 < 0", "by (smt minus_mult_minus mult_less_cancel_right2 zero_less_mult_iff)"], ["proof (state)\nthis:\n  z * y - 1 < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "moreover"], ["proof (state)\nthis:\n  z * y - 1 < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "have \"(x - y) / (z - y) < 0 \\<longleftrightarrow> ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((x - y) / (z - y) < 0) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "using \\<open>y \\<noteq> x\\<close> \\<open>z \\<noteq> x\\<close> False \\<open>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\\<close>"], ["proof (prove)\nusing this:\n  y \\<noteq> x\n  z \\<noteq> x\n  z \\<noteq> y\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n\ngoal (1 subgoal):\n 1. ((x - y) / (z - y) < 0) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by (smt divide_less_cancel divide_nonneg_nonpos divide_nonneg_pos divide_nonpos_nonneg divide_nonpos_nonpos)"], ["proof (state)\nthis:\n  ((x - y) / (z - y) < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "ultimately"], ["proof (chain)\npicking this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y))) =\n  (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))\n  x * y - 1 < 0\n  z * y - 1 < 0\n  ((x - y) / (z - y) < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)", "have *: \"Re (to_complex ?cr) < 0 \\<longleftrightarrow> ?rhs\""], ["proof (prove)\nusing this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y))) =\n  (x - y) * (z * y - 1) / ((x * y - 1) * (z - y))\n  x * y - 1 < 0\n  z * y - 1 < 0\n  ((x - y) / (z - y) < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. (Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n      (of_complex (cor z)) (inversion (of_complex (cor y)))\n     < 0) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "by (smt algebra_split_simps(24) minus_divide_left zero_less_divide_iff zero_less_mult_iff)"], ["proof (state)\nthis:\n  (Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n    (of_complex (cor z)) (inversion (of_complex (cor y)))\n   < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0); z \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex (cor x))\n                       (of_complex (cor y)) (of_complex (cor z)) =\n                      (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n                       x < y \\<and> x < z \\<and> y \\<le> z)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) =\n    (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n     x < y \\<and> x < z \\<and> y \\<le> z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) \\<Longrightarrow>\n    y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z\n 2. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "assume ?lhs"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z))\n\ngoal (2 subgoals):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) \\<Longrightarrow>\n    y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z\n 2. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "have \"is_real (to_complex ?cr)\" \"Re (to_complex ?cr) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y))))) &&&\n    Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "using \\<open>?lhs\\<close> distinct"], ["proof (prove)\nusing this:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z))\n  distinct\n   [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n    inversion (of_complex (cor y))]\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y))))) &&&\n    Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "unfolding poincare_between_def Let_def"], ["proof (prove)\nusing this:\n  of_complex (cor x) = of_complex (cor y) \\<or>\n  of_complex (cor y) = of_complex (cor z) \\<or>\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y))))) \\<and>\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  distinct\n   [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n    inversion (of_complex (cor y))]\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y))))) &&&\n    Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "by auto"], ["proof (state)\nthis:\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n\ngoal (2 subgoals):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) \\<Longrightarrow>\n    y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z\n 2. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "thus ?rhs"], ["proof (prove)\nusing this:\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z", "using *"], ["proof (prove)\nusing this:\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  (Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n    (of_complex (cor z)) (inversion (of_complex (cor y)))\n   < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z", "by simp"], ["proof (state)\nthis:\n  y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n  x < y \\<and> x < z \\<and> y \\<le> z\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "assume ?rhs"], ["proof (state)\nthis:\n  y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n  x < y \\<and> x < z \\<and> y \\<le> z\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "hence \"Re (to_complex ?cr) < 0\""], ["proof (prove)\nusing this:\n  y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n  x < y \\<and> x < z \\<and> y \\<le> z\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "using *"], ["proof (prove)\nusing this:\n  y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n  x < y \\<and> x < z \\<and> y \\<le> z\n  (Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n    (of_complex (cor z)) (inversion (of_complex (cor y)))\n   < 0) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal (1 subgoal):\n 1. Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "by simp"], ["proof (state)\nthis:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "moreover"], ["proof (state)\nthis:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "have \"{of_complex (cor x), of_complex (cor y), of_complex (cor z), inversion (of_complex (cor y))} \\<subseteq> circline_set x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n     inversion (of_complex (cor y))}\n    \\<subseteq> circline_set x_axis", "using \\<open>\\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\\<close> is_real_inversion[of \"cor y\"]"], ["proof (prove)\nusing this:\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n  \\<lbrakk>is_real (cor y); cor y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_real (to_complex (inversion (of_complex (cor y))))\n\ngoal (1 subgoal):\n 1. {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n     inversion (of_complex (cor y))}\n    \\<subseteq> circline_set x_axis", "using inf_or_of_complex[of \"inversion ?y\"]"], ["proof (prove)\nusing this:\n  \\<not> (x = 0 \\<or> y = 0 \\<or> z = 0)\n  \\<lbrakk>is_real (cor y); cor y \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> is_real (to_complex (inversion (of_complex (cor y))))\n  inversion (of_complex (cor y)) = \\<infinity>\\<^sub>h \\<or>\n  (\\<exists>x. inversion (of_complex (cor y)) = of_complex x)\n\ngoal (1 subgoal):\n 1. {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n     inversion (of_complex (cor y))}\n    \\<subseteq> circline_set x_axis", "by (auto simp del: inversion_of_complex)"], ["proof (state)\nthis:\n  {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n   inversion (of_complex (cor y))}\n  \\<subseteq> circline_set x_axis\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "hence \"is_real (to_complex ?cr)\""], ["proof (prove)\nusing this:\n  {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n   inversion (of_complex (cor y))}\n  \\<subseteq> circline_set x_axis\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y)))))", "using four_points_on_circline_iff_cross_ratio_real[OF distinct]"], ["proof (prove)\nusing this:\n  {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n   inversion (of_complex (cor y))}\n  \\<subseteq> circline_set x_axis\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y))))) =\n  (\\<exists>H.\n      {of_complex (cor x), of_complex (cor y), of_complex (cor z),\n       inversion (of_complex (cor y))}\n      \\<subseteq> circline_set H)\n\ngoal (1 subgoal):\n 1. is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y)))))", "by auto"], ["proof (state)\nthis:\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n\ngoal (1 subgoal):\n 1. y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n    x < y \\<and> x < z \\<and> y \\<le> z \\<Longrightarrow>\n    poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "ultimately"], ["proof (chain)\npicking this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))", "show ?lhs"], ["proof (prove)\nusing this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "using distinct"], ["proof (prove)\nusing this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n  distinct\n   [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n    inversion (of_complex (cor y))]\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z))", "unfolding poincare_between_def Let_def"], ["proof (prove)\nusing this:\n  Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) (inversion (of_complex (cor y)))\n  < 0\n  is_real\n   (to_complex\n     (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n       (of_complex (cor z)) (inversion (of_complex (cor y)))))\n  distinct\n   [of_complex (cor x), of_complex (cor y), of_complex (cor z),\n    inversion (of_complex (cor y))]\n\ngoal (1 subgoal):\n 1. of_complex (cor x) = of_complex (cor y) \\<or>\n    of_complex (cor y) = of_complex (cor z) \\<or>\n    is_real\n     (to_complex\n       (cross_ratio (of_complex (cor x)) (of_complex (cor y))\n         (of_complex (cor z)) (inversion (of_complex (cor y))))) \\<and>\n    Re_cross_ratio (of_complex (cor x)) (of_complex (cor y))\n     (of_complex (cor z)) (inversion (of_complex (cor y)))\n    < 0", "by auto"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between (of_complex (cor x)) (of_complex (cor y))\n   (of_complex (cor z)) =\n  (y < x \\<and> z < x \\<and> z \\<le> y \\<or>\n   x < y \\<and> x < z \\<and> y \\<le> z)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection \\<open>H-betweenness and h-collinearity\\<close>"], ["", "text\\<open>For three h-collinear points at least one of the three possible h-betweeness relations must\nhold.\\<close>"], ["", "lemma poincare_collinear3_between:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  assumes \"poincare_collinear {u, v, w}\"\n  shows \"poincare_between u v w \\<or> poincare_between u w v \\<or> poincare_between v u w\" (is \"?P' u v w\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "proof (cases \"u=v\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "case True"], ["proof (state)\nthis:\n  u = v\n\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v\n\ngoal (1 subgoal):\n 1. poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "using assms"], ["proof (prove)\nusing this:\n  u = v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_collinear {u, v, w}\n\ngoal (1 subgoal):\n 1. poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "by auto"], ["proof (state)\nthis:\n  poincare_between u v w \\<or>\n  poincare_between u w v \\<or> poincare_between v u w\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "case False"], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "have \"\\<forall> w. w \\<in> unit_disc \\<and> poincare_collinear {u, v, w} \\<longrightarrow> ?P' u v w\" (is \"?P u v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<and>\n       poincare_collinear {u, v, w} \\<longrightarrow>\n       poincare_between u v w \\<or>\n       poincare_between u w v \\<or> poincare_between v u w", "proof (rule wlog_positive_x_axis[where P=\"?P\"])"], ["proof (state)\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "fix x"], ["proof (state)\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "assume x: \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "hence \"x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "using complex.expand[of x 0]"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  Re x = Re 0 \\<and> Im x = Im 0 \\<Longrightarrow> x = 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> 0\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "hence *: \"poincare_line 0\\<^sub>h (of_complex x) = x_axis\""], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "using x poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  is_real x\n  0 < Re x\n  Re x < 1\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  is_real x\n  0 < Re x\n  Re x < 1\n  \\<lbrakk>of_complex x\n           \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h};\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "by auto"], ["proof (state)\nthis:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "have \"of_complex x \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "using x"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "have \"of_complex x \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h", "using \\<open>x \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h", "by auto"], ["proof (state)\nthis:\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear\n                             {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             w \\<or>\n                            poincare_between 0\\<^sub>h w\n                             (of_complex x) \\<or>\n                            poincare_between (of_complex x) 0\\<^sub>h w", "show \"?P 0\\<^sub>h (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<and>\n       poincare_collinear {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n       poincare_between 0\\<^sub>h (of_complex x) w \\<or>\n       poincare_between 0\\<^sub>h w (of_complex x) \\<or>\n       poincare_between (of_complex x) 0\\<^sub>h w", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "assume \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "assume \"poincare_collinear {0\\<^sub>h, of_complex x, w}\""], ["proof (state)\nthis:\n  poincare_collinear {0\\<^sub>h, of_complex x, w}\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "hence \"w \\<in> circline_set x_axis\""], ["proof (prove)\nusing this:\n  poincare_collinear {0\\<^sub>h, of_complex x, w}\n\ngoal (1 subgoal):\n 1. w \\<in> circline_set x_axis", "using * unique_poincare_line[of \"0\\<^sub>h\" \"of_complex x\"] \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>x \\<noteq> 0\\<close> \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  poincare_collinear {0\\<^sub>h, of_complex x, w}\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; 0\\<^sub>h \\<in> circline_set ?l;\n   of_complex x \\<in> circline_set ?l; is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line 0\\<^sub>h (of_complex x)\n  of_complex x \\<in> unit_disc\n  x \\<noteq> 0\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. w \\<in> circline_set x_axis", "unfolding poincare_collinear_def"], ["proof (prove)\nusing this:\n  \\<exists>p.\n     is_poincare_line p \\<and>\n     {0\\<^sub>h, of_complex x, w} \\<subseteq> circline_set p\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; 0\\<^sub>h \\<in> circline_set ?l;\n   of_complex x \\<in> circline_set ?l; is_poincare_line ?l\\<rbrakk>\n  \\<Longrightarrow> ?l = poincare_line 0\\<^sub>h (of_complex x)\n  of_complex x \\<in> unit_disc\n  x \\<noteq> 0\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. w \\<in> circline_set x_axis", "by auto"], ["proof (state)\nthis:\n  w \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "then"], ["proof (chain)\npicking this:\n  w \\<in> circline_set x_axis", "obtain w' where w': \"w = of_complex w'\" \"is_real w'\""], ["proof (prove)\nusing this:\n  w \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>w = of_complex w'; is_real w'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>w \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  w \\<in> circline_set x_axis\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>w = of_complex w'; is_real w'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of w]"], ["proof (prove)\nusing this:\n  w \\<in> circline_set x_axis\n  w \\<in> unit_disc\n  w = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. w = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>w = of_complex w'; is_real w'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  w \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}\n  w \\<in> unit_disc\n  w = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. w = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>w = of_complex w'; is_real w'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w = of_complex w'\n  is_real w'\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "hence \"-1 < Re w'\" \"Re w' < 1\""], ["proof (prove)\nusing this:\n  w = of_complex w'\n  is_real w'\n\ngoal (1 subgoal):\n 1. - 1 < Re w' &&& Re w' < 1", "using \\<open>w \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  w = of_complex w'\n  is_real w'\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. - 1 < Re w' &&& Re w' < 1", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  - 1 < Re w'\n  Re w' < 1\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "assume 1: \"\\<not> poincare_between (of_complex x) 0\\<^sub>h w\""], ["proof (state)\nthis:\n  \\<not> poincare_between (of_complex x) 0\\<^sub>h w\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "hence \"w \\<noteq> 0\\<^sub>h\" \"w' \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<not> poincare_between (of_complex x) 0\\<^sub>h w\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h &&& w' \\<noteq> 0", "using w'"], ["proof (prove)\nusing this:\n  \\<not> poincare_between (of_complex x) 0\\<^sub>h w\n  w = of_complex w'\n  is_real w'\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h &&& w' \\<noteq> 0", "unfolding poincare_between_def"], ["proof (prove)\nusing this:\n  \\<not> (of_complex x = 0\\<^sub>h \\<or>\n          0\\<^sub>h = w \\<or>\n          (let cr = cross_ratio (of_complex x) 0\\<^sub>h w\n                     (inversion 0\\<^sub>h)\n           in is_real (to_complex cr) \\<and> Re (to_complex cr) < 0))\n  w = of_complex w'\n  is_real w'\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h &&& w' \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  w \\<noteq> 0\\<^sub>h\n  w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "hence \"Re w' \\<noteq> 0\""], ["proof (prove)\nusing this:\n  w \\<noteq> 0\\<^sub>h\n  w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re w' \\<noteq> 0", "using w' complex.expand[of w' 0]"], ["proof (prove)\nusing this:\n  w \\<noteq> 0\\<^sub>h\n  w' \\<noteq> 0\n  w = of_complex w'\n  is_real w'\n  Re w' = Re 0 \\<and> Im w' = Im 0 \\<Longrightarrow> w' = 0\n\ngoal (1 subgoal):\n 1. Re w' \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  Re w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "have \"Re w' \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> Re w'", "using 1 poincare_between_x_axis_u0v[of x w'] \\<open>Re x > 0\\<close> \\<open>is_real x\\<close> \\<open>x \\<noteq> 0\\<close> \\<open>w' \\<noteq> 0\\<close> w'"], ["proof (prove)\nusing this:\n  \\<not> poincare_between (of_complex x) 0\\<^sub>h w\n  \\<lbrakk>is_real x; x \\<noteq> 0; w' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex x) 0\\<^sub>h\n                     (of_complex w') =\n                    (is_real w' \\<and> Re x * Re w' < 0)\n  0 < Re x\n  is_real x\n  x \\<noteq> 0\n  w' \\<noteq> 0\n  w = of_complex w'\n  is_real w'\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re w'", "using mult_pos_neg"], ["proof (prove)\nusing this:\n  \\<not> poincare_between (of_complex x) 0\\<^sub>h w\n  \\<lbrakk>is_real x; x \\<noteq> 0; w' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex x) 0\\<^sub>h\n                     (of_complex w') =\n                    (is_real w' \\<and> Re x * Re w' < 0)\n  0 < Re x\n  is_real x\n  x \\<noteq> 0\n  w' \\<noteq> 0\n  w = of_complex w'\n  is_real w'\n  \\<lbrakk>(0::?'a) < ?a; ?b < (0::?'a)\\<rbrakk>\n  \\<Longrightarrow> ?a * ?b < (0::?'a)\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re w'", "by force"], ["proof (state)\nthis:\n  0 \\<le> Re w'\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "moreover"], ["proof (state)\nthis:\n  0 \\<le> Re w'\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "assume \"\\<not> poincare_between 0\\<^sub>h (of_complex x) w\""], ["proof (state)\nthis:\n  \\<not> poincare_between 0\\<^sub>h (of_complex x) w\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "hence \"Re w' < Re x\""], ["proof (prove)\nusing this:\n  \\<not> poincare_between 0\\<^sub>h (of_complex x) w\n\ngoal (1 subgoal):\n 1. Re w' < Re x", "using poincare_between_x_axis_0uv[of \"Re x\" \"Re w'\"]"], ["proof (prove)\nusing this:\n  \\<not> poincare_between 0\\<^sub>h (of_complex x) w\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re w'; Re w' < 1;\n   Re w' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re w'))) =\n                    (Re x < 0 \\<and> Re w' < 0 \\<and> Re w' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re w' \\<and> Re x \\<le> Re w')\n\ngoal (1 subgoal):\n 1. Re w' < Re x", "using w' x \\<open>-1 < Re w'\\<close> \\<open>Re w' < 1\\<close> \\<open>Re w' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  \\<not> poincare_between 0\\<^sub>h (of_complex x) w\n  \\<lbrakk>- 1 < Re x; Re x < 1; Re x \\<noteq> 0; - 1 < Re w'; Re w' < 1;\n   Re w' \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re x)))\n                     (of_complex (cor (Re w'))) =\n                    (Re x < 0 \\<and> Re w' < 0 \\<and> Re w' \\<le> Re x \\<or>\n                     0 < Re x \\<and> 0 < Re w' \\<and> Re x \\<le> Re w')\n  w = of_complex w'\n  is_real w'\n  is_real x\n  0 < Re x\n  Re x < 1\n  - 1 < Re w'\n  Re w' < 1\n  Re w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re w' < Re x", "by auto"], ["proof (state)\nthis:\n  Re w' < Re x\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc;\n        poincare_collinear {0\\<^sub>h, of_complex x, w};\n        \\<not> poincare_between 0\\<^sub>h (of_complex x) w;\n        \\<not> poincare_between (of_complex x) 0\\<^sub>h w\\<rbrakk>\n       \\<Longrightarrow> poincare_between 0\\<^sub>h w (of_complex x)", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> Re w'\n  Re w' < Re x", "show \"poincare_between 0\\<^sub>h w (of_complex x)\""], ["proof (prove)\nusing this:\n  0 \\<le> Re w'\n  Re w' < Re x\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h w (of_complex x)", "using poincare_between_x_axis_0uv[of \"Re w'\" \"Re x\"]"], ["proof (prove)\nusing this:\n  0 \\<le> Re w'\n  Re w' < Re x\n  \\<lbrakk>- 1 < Re w'; Re w' < 1; Re w' \\<noteq> 0; - 1 < Re x; Re x < 1;\n   Re x \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re w')))\n                     (of_complex (cor (Re x))) =\n                    (Re w' < 0 \\<and> Re x < 0 \\<and> Re x \\<le> Re w' \\<or>\n                     0 < Re w' \\<and> 0 < Re x \\<and> Re w' \\<le> Re x)\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h w (of_complex x)", "using w' x \\<open>-1 < Re w'\\<close> \\<open>Re w' < 1\\<close> \\<open>Re w' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> Re w'\n  Re w' < Re x\n  \\<lbrakk>- 1 < Re w'; Re w' < 1; Re w' \\<noteq> 0; - 1 < Re x; Re x < 1;\n   Re x \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex (cor (Re w')))\n                     (of_complex (cor (Re x))) =\n                    (Re w' < 0 \\<and> Re x < 0 \\<and> Re x \\<le> Re w' \\<or>\n                     0 < Re w' \\<and> 0 < Re x \\<and> Re w' \\<le> Re x)\n  w = of_complex w'\n  is_real w'\n  is_real x\n  0 < Re x\n  Re x < 1\n  - 1 < Re w'\n  Re w' < 1\n  Re w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between 0\\<^sub>h w (of_complex x)", "by auto"], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h w (of_complex x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and>\n     poincare_collinear {0\\<^sub>h, of_complex x, w} \\<longrightarrow>\n     poincare_between 0\\<^sub>h (of_complex x) w \\<or>\n     poincare_between 0\\<^sub>h w (of_complex x) \\<or>\n     poincare_between (of_complex x) 0\\<^sub>h w\n\ngoal (4 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "show \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<in> unit_disc &&& v \\<in> unit_disc &&& u \\<noteq> v", "by fact+"], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "fix M u v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "assume 1: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "let ?Mu = \"moebius_pt M u\" and ?Mv = \"moebius_pt M v\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "assume 2: \"?P ?Mu ?Mv\""], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and>\n     poincare_collinear\n      {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n     poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n     poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n     poincare_between (moebius_pt M v) (moebius_pt M u) w\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<and>\n           poincare_collinear\n            {moebius_pt M u, moebius_pt M v, w} \\<longrightarrow>\n           poincare_between (moebius_pt M u) (moebius_pt M v) w \\<or>\n           poincare_between (moebius_pt M u) w (moebius_pt M v) \\<or>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<and>\n                            poincare_collinear {u, v, w} \\<longrightarrow>\n                            poincare_between u v w \\<or>\n                            poincare_between u w v \\<or>\n                            poincare_between v u w", "show \"?P u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<and>\n       poincare_collinear {u, v, w} \\<longrightarrow>\n       poincare_between u v w \\<or>\n       poincare_between u w v \\<or> poincare_between v u w", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc; poincare_collinear {u, v, w};\n        \\<not> poincare_between u v w;\n        \\<not> poincare_between v u w\\<rbrakk>\n       \\<Longrightarrow> poincare_between u w v", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc; poincare_collinear {u, v, w};\n        \\<not> poincare_between u v w;\n        \\<not> poincare_between v u w\\<rbrakk>\n       \\<Longrightarrow> poincare_between u w v", "assume \"w \\<in> unit_disc\" \"poincare_collinear {u, v, w}\" \"\\<not> poincare_between u v w\" \"\\<not> poincare_between v u w\""], ["proof (state)\nthis:\n  w \\<in> unit_disc\n  poincare_collinear {u, v, w}\n  \\<not> poincare_between u v w\n  \\<not> poincare_between v u w\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>w \\<in> unit_disc; poincare_collinear {u, v, w};\n        \\<not> poincare_between u v w;\n        \\<not> poincare_between v u w\\<rbrakk>\n       \\<Longrightarrow> poincare_between u w v", "thus \"poincare_between u w v\""], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n  poincare_collinear {u, v, w}\n  \\<not> poincare_between u v w\n  \\<not> poincare_between v u w\n\ngoal (1 subgoal):\n 1. poincare_between u w v", "using 1 2[rule_format, of \"moebius_pt M w\"]"], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n  poincare_collinear {u, v, w}\n  \\<not> poincare_between u v w\n  \\<not> poincare_between v u w\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  moebius_pt M w \\<in> unit_disc \\<and>\n  poincare_collinear\n   {moebius_pt M u, moebius_pt M v, moebius_pt M w} \\<Longrightarrow>\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<or>\n  poincare_between (moebius_pt M u) (moebius_pt M w) (moebius_pt M v) \\<or>\n  poincare_between (moebius_pt M v) (moebius_pt M u) (moebius_pt M w)\n\ngoal (1 subgoal):\n 1. poincare_between u w v", "by simp"], ["proof (state)\nthis:\n  poincare_between u w v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and> poincare_collinear {u, v, w} \\<longrightarrow>\n     poincare_between u v w \\<or>\n     poincare_between u w v \\<or> poincare_between v u w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and> poincare_collinear {u, v, w} \\<longrightarrow>\n     poincare_between u v w \\<or>\n     poincare_between u w v \\<or> poincare_between v u w\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and> poincare_collinear {u, v, w} \\<longrightarrow>\n     poincare_between u v w \\<or>\n     poincare_between u w v \\<or> poincare_between v u w\n\ngoal (1 subgoal):\n 1. poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w \\<in> unit_disc \\<and> poincare_collinear {u, v, w} \\<longrightarrow>\n     poincare_between u v w \\<or>\n     poincare_between u w v \\<or> poincare_between v u w\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  poincare_collinear {u, v, w}\n\ngoal (1 subgoal):\n 1. poincare_between u v w \\<or>\n    poincare_between u w v \\<or> poincare_between v u w", "by simp"], ["proof (state)\nthis:\n  poincare_between u v w \\<or>\n  poincare_between u w v \\<or> poincare_between v u w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_collinear3_iff:\n  assumes \"u \\<in> unit_disc\" \"v \\<in> unit_disc\"  \"w \\<in> unit_disc\"\n  shows \"poincare_collinear {u, v, w} \\<longleftrightarrow> poincare_between u v w \\<or> poincare_between v u w \\<or> poincare_between v w u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w} =\n    (poincare_between u v w \\<or>\n     poincare_between v u w \\<or> poincare_between v w u)", "using assms"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_collinear {u, v, w} =\n    (poincare_between u v w \\<or>\n     poincare_between v u w \\<or> poincare_between v w u)", "by (metis poincare_collinear3_between insert_commute poincare_between_poincare_collinear poincare_between_rev)"], ["", "subsection \\<open>Some properties of betweenness\\<close>"], ["", "lemma poincare_between_transitivity:\n  assumes \"a \\<in> unit_disc\" and \"x \\<in> unit_disc\" and \"b \\<in> unit_disc\" and \"y \\<in> unit_disc\" and\n          \"poincare_between a x b\" and \"poincare_between a b y\"\n  shows \"poincare_between x b y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between x b y", "proof(cases \"a = b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. a = b \\<Longrightarrow> poincare_between x b y\n 2. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "case True"], ["proof (state)\nthis:\n  a = b\n\ngoal (2 subgoals):\n 1. a = b \\<Longrightarrow> poincare_between x b y\n 2. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = b\n\ngoal (1 subgoal):\n 1. poincare_between x b y", "using assms"], ["proof (prove)\nusing this:\n  a = b\n  a \\<in> unit_disc\n  x \\<in> unit_disc\n  b \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_between a x b\n  poincare_between a b y\n\ngoal (1 subgoal):\n 1. poincare_between x b y", "using poincare_between_sandwich"], ["proof (prove)\nusing this:\n  a = b\n  a \\<in> unit_disc\n  x \\<in> unit_disc\n  b \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_between a x b\n  poincare_between a b y\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   poincare_between ?u ?v ?u\\<rbrakk>\n  \\<Longrightarrow> ?u = ?v\n\ngoal (1 subgoal):\n 1. poincare_between x b y", "by blast"], ["proof (state)\nthis:\n  poincare_between x b y\n\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "case False"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "have \"\\<forall> x. \\<forall> y. poincare_between a x b \\<and> poincare_between a b y \\<and> x \\<in> unit_disc\n                  \\<and> y \\<in> unit_disc \\<longrightarrow> poincare_between x b y\" (is \"?P a b\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       poincare_between a x b \\<and>\n       poincare_between a b y \\<and>\n       x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n       poincare_between x b y", "proof (rule wlog_positive_x_axis[where P=\"?P\"])"], ["proof (state)\ngoal (5 subgoals):\n 1. a \\<in> unit_disc\n 2. b \\<in> unit_disc\n 3. a \\<noteq> b\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "show \"a \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> unit_disc", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> unit_disc\n  x \\<in> unit_disc\n  b \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_between a x b\n  poincare_between a b y\n\ngoal (1 subgoal):\n 1. a \\<in> unit_disc", "by simp"], ["proof (state)\nthis:\n  a \\<in> unit_disc\n\ngoal (4 subgoals):\n 1. b \\<in> unit_disc\n 2. a \\<noteq> b\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. b \\<in> unit_disc\n 2. a \\<noteq> b\n 3. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 4. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "show \"b \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> unit_disc", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> unit_disc\n  x \\<in> unit_disc\n  b \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_between a x b\n  poincare_between a b y\n\ngoal (1 subgoal):\n 1. b \\<in> unit_disc", "by simp"], ["proof (state)\nthis:\n  b \\<in> unit_disc\n\ngoal (3 subgoals):\n 1. a \\<noteq> b\n 2. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. a \\<noteq> b\n 2. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 3. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "show \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "using False"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by simp"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (2 subgoals):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "fix M u v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "assume *: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\" \n              \"\\<forall>x y. poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and> \n                  poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n                  x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n                  poincare_between x (moebius_pt M v) y\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  \\<forall>x y.\n     poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n     poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x (moebius_pt M v) y\n\ngoal (2 subgoals):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>x y.\n           poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n           poincare_between x (moebius_pt M v) y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x y.\n                            poincare_between u x v \\<and>\n                            poincare_between u v y \\<and>\n                            x \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between x v y\n 2. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "show \"\\<forall>x y. poincare_between u x v \\<and> poincare_between u v y \\<and> x \\<in> unit_disc \\<and> y \\<in> unit_disc \n                \\<longrightarrow> poincare_between x v y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       poincare_between u x v \\<and>\n       poincare_between u v y \\<and>\n       x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n       poincare_between x v y", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "assume \"poincare_between u x v\" \"poincare_between u v y\" \" x \\<in> unit_disc\" \"y \\<in> unit_disc\""], ["proof (state)\nthis:\n  poincare_between u x v\n  poincare_between u v y\n  x \\<in> unit_disc\n  y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "have \"poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)", "using \\<open>poincare_between u x v\\<close> \\<open>unit_disc_fix M\\<close> \\<open>x \\<in> unit_disc\\<close> \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_between u x v\n  unit_disc_fix M\n  x \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)", "by simp"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "moreover"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "have \"poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)", "using \\<open>poincare_between u v y\\<close> \\<open>unit_disc_fix M\\<close> \\<open>y \\<in> unit_disc\\<close> \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_between u v y\n  unit_disc_fix M\n  y \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)", "by simp"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "moreover"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "have \"(moebius_pt M x) \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. moebius_pt M x \\<in> unit_disc", "using \\<open>unit_disc_fix M\\<close> \\<open>x \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  unit_disc_fix M\n  x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. moebius_pt M x \\<in> unit_disc", "by simp"], ["proof (state)\nthis:\n  moebius_pt M x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "moreover"], ["proof (state)\nthis:\n  moebius_pt M x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "have \"(moebius_pt M y) \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. moebius_pt M y \\<in> unit_disc", "using \\<open>unit_disc_fix M\\<close> \\<open>y \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  unit_disc_fix M\n  y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. moebius_pt M y \\<in> unit_disc", "by simp"], ["proof (state)\nthis:\n  moebius_pt M y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "ultimately"], ["proof (chain)\npicking this:\n  poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\n  moebius_pt M x \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc", "have \"poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)\""], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\n  moebius_pt M x \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)", "using *"], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt M u) (moebius_pt M x) (moebius_pt M v)\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y)\n  moebius_pt M x \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  \\<forall>x y.\n     poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n     poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x (moebius_pt M v) y\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)", "by blast"], ["proof (state)\nthis:\n  poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>poincare_between u x v; poincare_between u v y;\n        x \\<in> unit_disc; y \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between x v y", "thus \"poincare_between x v y\""], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)\n\ngoal (1 subgoal):\n 1. poincare_between x v y", "using \\<open>y \\<in> unit_disc\\<close> * \\<open>x \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_between (moebius_pt M x) (moebius_pt M v) (moebius_pt M y)\n  y \\<in> unit_disc\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  \\<forall>x y.\n     poincare_between (moebius_pt M u) x (moebius_pt M v) \\<and>\n     poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x (moebius_pt M v) y\n  x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between x v y", "by simp"], ["proof (state)\nthis:\n  poincare_between x v y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x y.\n     poincare_between u x v \\<and>\n     poincare_between u v y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x v y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "assume xx: \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "hence \"of_complex x \\<in> unit_disc\""], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "using cmod_eq_Re"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  is_real ?z \\<Longrightarrow> cmod ?z = \\<bar>Re ?z\\<bar>\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "hence \"of_complex x \\<noteq> \\<infinity>\\<^sub>h\""], ["proof (prove)\nusing this:\n  of_complex x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> \\<infinity>\\<^sub>h", "by simp"], ["proof (state)\nthis:\n  of_complex x \\<noteq> \\<infinity>\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "have \" of_complex x \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h", "using xx"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<noteq> 0\\<^sub>h", "by auto"], ["proof (state)\nthis:\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "have \"of_complex x \\<in> circline_set x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> circline_set x_axis", "using xx"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> circline_set x_axis", "by simp"], ["proof (state)\nthis:\n  of_complex x \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa y.\n                            poincare_between 0\\<^sub>h xa\n                             (of_complex x) \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            xa \\<in> unit_disc \\<and>\n                            y \\<in> unit_disc \\<longrightarrow>\n                            poincare_between xa (of_complex x) y", "show \"\\<forall>m n. poincare_between 0\\<^sub>h m (of_complex x) \\<and> poincare_between 0\\<^sub>h (of_complex x) n \\<and>\n            m \\<in> unit_disc \\<and> n \\<in> unit_disc \\<longrightarrow> poincare_between m (of_complex x) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       poincare_between 0\\<^sub>h m (of_complex x) \\<and>\n       poincare_between 0\\<^sub>h (of_complex x) n \\<and>\n       m \\<in> unit_disc \\<and> n \\<in> unit_disc \\<longrightarrow>\n       poincare_between m (of_complex x) n", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>poincare_between 0\\<^sub>h m (of_complex x);\n        poincare_between 0\\<^sub>h (of_complex x) n; m \\<in> unit_disc;\n        n \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between m (of_complex x) n", "fix m n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>poincare_between 0\\<^sub>h m (of_complex x);\n        poincare_between 0\\<^sub>h (of_complex x) n; m \\<in> unit_disc;\n        n \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between m (of_complex x) n", "assume **: \"poincare_between 0\\<^sub>h m (of_complex x)\" \"poincare_between 0\\<^sub>h (of_complex x) n\"\n                 \"m \\<in> unit_disc\" \" n \\<in> unit_disc\""], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>poincare_between 0\\<^sub>h m (of_complex x);\n        poincare_between 0\\<^sub>h (of_complex x) n; m \\<in> unit_disc;\n        n \\<in> unit_disc\\<rbrakk>\n       \\<Longrightarrow> poincare_between m (of_complex x) n", "show \"poincare_between m (of_complex x) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between m (of_complex x) n", "proof(cases \"m = 0\\<^sub>h\")"], ["proof (state)\ngoal (2 subgoals):\n 1. m = 0\\<^sub>h \\<Longrightarrow> poincare_between m (of_complex x) n\n 2. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "case True"], ["proof (state)\nthis:\n  m = 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. m = 0\\<^sub>h \\<Longrightarrow> poincare_between m (of_complex x) n\n 2. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "thus ?thesis"], ["proof (prove)\nusing this:\n  m = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between m (of_complex x) n", "using **"], ["proof (prove)\nusing this:\n  m = 0\\<^sub>h\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between m (of_complex x) n", "by auto"], ["proof (state)\nthis:\n  poincare_between m (of_complex x) n\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "case False"], ["proof (state)\nthis:\n  m \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "hence \"m \\<in> circline_set x_axis\""], ["proof (prove)\nusing this:\n  m \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. m \\<in> circline_set x_axis", "using poincare_between_poincare_line_uzv[of \"0\\<^sub>h\" \"of_complex x\" m]"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\\<^sub>h\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; m \\<in> unit_disc;\n   poincare_between 0\\<^sub>h m (of_complex x)\\<rbrakk>\n  \\<Longrightarrow> m \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n\ngoal (1 subgoal):\n 1. m \\<in> circline_set x_axis", "using poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\\<^sub>h\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; m \\<in> unit_disc;\n   poincare_between 0\\<^sub>h m (of_complex x)\\<rbrakk>\n  \\<Longrightarrow> m \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. m \\<in> circline_set x_axis", "using \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<close> \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\\<^sub>h\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; m \\<in> unit_disc;\n   poincare_between 0\\<^sub>h m (of_complex x)\\<rbrakk>\n  \\<Longrightarrow> m \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> \\<infinity>\\<^sub>h\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. m \\<in> circline_set x_axis", "using \\<open>of_complex x \\<in> circline_set x_axis\\<close> \\<open>m \\<in> unit_disc\\<close> **(1)"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\\<^sub>h\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; m \\<in> unit_disc;\n   poincare_between 0\\<^sub>h m (of_complex x)\\<rbrakk>\n  \\<Longrightarrow> m \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> \\<infinity>\\<^sub>h\n  of_complex x \\<noteq> 0\\<^sub>h\n  of_complex x \\<in> circline_set x_axis\n  m \\<in> unit_disc\n  poincare_between 0\\<^sub>h m (of_complex x)\n\ngoal (1 subgoal):\n 1. m \\<in> circline_set x_axis", "by simp"], ["proof (state)\nthis:\n  m \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "then"], ["proof (chain)\npicking this:\n  m \\<in> circline_set x_axis", "obtain m' where \"m = of_complex m'\" \"is_real m'\""], ["proof (prove)\nusing this:\n  m \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<lbrakk>m = of_complex m'; is_real m'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of m] \\<open>m \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  m \\<in> circline_set x_axis\n  m = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. m = of_complex x)\n  m \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<lbrakk>m = of_complex m'; is_real m'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  m \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}\n  m = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. m = of_complex x)\n  m \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<lbrakk>m = of_complex m'; is_real m'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  m = of_complex m'\n  is_real m'\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "hence \"Re m' \\<le> Re x\""], ["proof (prove)\nusing this:\n  m = of_complex m'\n  is_real m'\n\ngoal (1 subgoal):\n 1. Re m' \\<le> Re x", "using \\<open>poincare_between 0\\<^sub>h m (of_complex x)\\<close> xx \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  m = of_complex m'\n  is_real m'\n  poincare_between 0\\<^sub>h m (of_complex x)\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. Re m' \\<le> Re x", "using False ** \\<open>of_complex x \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  m = of_complex m'\n  is_real m'\n  poincare_between 0\\<^sub>h m (of_complex x)\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n  m \\<noteq> 0\\<^sub>h\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n  of_complex x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. Re m' \\<le> Re x", "using cmod_Re_le_iff poincare_between_0uv"], ["proof (prove)\nusing this:\n  m = of_complex m'\n  is_real m'\n  poincare_between 0\\<^sub>h m (of_complex x)\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n  m \\<noteq> 0\\<^sub>h\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n  of_complex x \\<in> unit_disc\n  Im ?x = Im ?y \\<Longrightarrow>\n  (cmod ?x \\<le> cmod ?y) = (\\<bar>Re ?x\\<bar> \\<le> \\<bar>Re ?y\\<bar>)\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc; ?u \\<noteq> 0\\<^sub>h;\n   ?v \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h ?u ?v =\n                    (let u' = to_complex ?u; v' = to_complex ?v\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. Re m' \\<le> Re x", "by auto"], ["proof (state)\nthis:\n  Re m' \\<le> Re x\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "have \"n \\<noteq> 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<noteq> 0\\<^sub>h", "using **(2, 4) \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close> \\<open>of_complex x \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) n\n  n \\<in> unit_disc\n  of_complex x \\<noteq> 0\\<^sub>h\n  of_complex x \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0\\<^sub>h", "using poincare_between_sandwich"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) n\n  n \\<in> unit_disc\n  of_complex x \\<noteq> 0\\<^sub>h\n  of_complex x \\<in> unit_disc\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   poincare_between ?u ?v ?u\\<rbrakk>\n  \\<Longrightarrow> ?u = ?v\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0\\<^sub>h", "by fastforce"], ["proof (state)\nthis:\n  n \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "have \"n \\<in> circline_set x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "using poincare_between_poincare_line_uvz[of \"0\\<^sub>h\" \"of_complex x\" n]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; n \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) n\\<rbrakk>\n  \\<Longrightarrow> n \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "using poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; n \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) n\\<rbrakk>\n  \\<Longrightarrow> n \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "using \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<close> \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; n \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) n\\<rbrakk>\n  \\<Longrightarrow> n \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> \\<infinity>\\<^sub>h\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "using \\<open>of_complex x \\<in> circline_set x_axis\\<close> \\<open>n \\<in> unit_disc\\<close> **(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>0\\<^sub>h \\<noteq> of_complex x; 0\\<^sub>h \\<in> unit_disc;\n   of_complex x \\<in> unit_disc; n \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) n\\<rbrakk>\n  \\<Longrightarrow> n \\<in> circline_set\n                             (poincare_line 0\\<^sub>h (of_complex x))\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n  of_complex x \\<in> unit_disc\n  of_complex x \\<noteq> \\<infinity>\\<^sub>h\n  of_complex x \\<noteq> 0\\<^sub>h\n  of_complex x \\<in> circline_set x_axis\n  n \\<in> unit_disc\n  poincare_between 0\\<^sub>h (of_complex x) n\n\ngoal (1 subgoal):\n 1. n \\<in> circline_set x_axis", "by simp"], ["proof (state)\nthis:\n  n \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "then"], ["proof (chain)\npicking this:\n  n \\<in> circline_set x_axis", "obtain n' where \"n = of_complex n'\" \"is_real n'\""], ["proof (prove)\nusing this:\n  n \\<in> circline_set x_axis\n\ngoal (1 subgoal):\n 1. (\\<And>n'.\n        \\<lbrakk>n = of_complex n'; is_real n'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of n] \\<open>n \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  n \\<in> circline_set x_axis\n  n = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. n = of_complex x)\n  n \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>n'.\n        \\<lbrakk>n = of_complex n'; is_real n'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  n \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h}\n  n = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. n = of_complex x)\n  n \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>n'.\n        \\<lbrakk>n = of_complex n'; is_real n'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  n = of_complex n'\n  is_real n'\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "hence \"Re x \\<le> Re n'\""], ["proof (prove)\nusing this:\n  n = of_complex n'\n  is_real n'\n\ngoal (1 subgoal):\n 1. Re x \\<le> Re n'", "using \\<open>poincare_between 0\\<^sub>h (of_complex x) n\\<close> xx \\<open>of_complex x \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  is_real n'\n  poincare_between 0\\<^sub>h (of_complex x) n\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. Re x \\<le> Re n'", "using False ** \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>n \\<noteq> 0\\<^sub>h\\<close>"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  is_real n'\n  poincare_between 0\\<^sub>h (of_complex x) n\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n  m \\<noteq> 0\\<^sub>h\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n  of_complex x \\<in> unit_disc\n  n \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. Re x \\<le> Re n'", "using cmod_Re_le_iff poincare_between_0uv"], ["proof (prove)\nusing this:\n  n = of_complex n'\n  is_real n'\n  poincare_between 0\\<^sub>h (of_complex x) n\n  is_real x\n  0 < Re x\n  Re x < 1\n  of_complex x \\<noteq> 0\\<^sub>h\n  m \\<noteq> 0\\<^sub>h\n  poincare_between 0\\<^sub>h m (of_complex x)\n  poincare_between 0\\<^sub>h (of_complex x) n\n  m \\<in> unit_disc\n  n \\<in> unit_disc\n  of_complex x \\<in> unit_disc\n  n \\<noteq> 0\\<^sub>h\n  Im ?x = Im ?y \\<Longrightarrow>\n  (cmod ?x \\<le> cmod ?y) = (\\<bar>Re ?x\\<bar> \\<le> \\<bar>Re ?y\\<bar>)\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc; ?u \\<noteq> 0\\<^sub>h;\n   ?v \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h ?u ?v =\n                    (let u' = to_complex ?u; v' = to_complex ?v\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. Re x \\<le> Re n'", "by (metis Re_complex_of_real arg_0_iff rcis_cmod_arg rcis_zero_arg to_complex_of_complex)"], ["proof (state)\nthis:\n  Re x \\<le> Re n'\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "have \"poincare_between (of_complex m') (of_complex x) (of_complex n')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex m') (of_complex x) (of_complex n')", "using \\<open>Re x \\<le> Re n'\\<close> \\<open>Re m' \\<le> Re x\\<close>"], ["proof (prove)\nusing this:\n  Re x \\<le> Re n'\n  Re m' \\<le> Re x\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex m') (of_complex x) (of_complex n')", "using poincare_between_x_axis_uvw[of \"Re m'\" \"Re x\" \"Re n'\"]"], ["proof (prove)\nusing this:\n  Re x \\<le> Re n'\n  Re m' \\<le> Re x\n  \\<lbrakk>- 1 < Re m'; Re m' < 1; - 1 < Re x; Re x < 1;\n   Re x \\<noteq> Re m'; - 1 < Re n'; Re n' < 1;\n   Re n' \\<noteq> Re m'\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex (cor (Re m')))\n                     (of_complex (cor (Re x))) (of_complex (cor (Re n'))) =\n                    (Re x < Re m' \\<and>\n                     Re n' < Re m' \\<and> Re n' \\<le> Re x \\<or>\n                     Re m' < Re x \\<and>\n                     Re m' < Re n' \\<and> Re x \\<le> Re n')\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex m') (of_complex x) (of_complex n')", "using \\<open>is_real n'\\<close> \\<open>is_real m'\\<close> \\<open>n \\<in> unit_disc\\<close> \\<open>n = of_complex n'\\<close>"], ["proof (prove)\nusing this:\n  Re x \\<le> Re n'\n  Re m' \\<le> Re x\n  \\<lbrakk>- 1 < Re m'; Re m' < 1; - 1 < Re x; Re x < 1;\n   Re x \\<noteq> Re m'; - 1 < Re n'; Re n' < 1;\n   Re n' \\<noteq> Re m'\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex (cor (Re m')))\n                     (of_complex (cor (Re x))) (of_complex (cor (Re n'))) =\n                    (Re x < Re m' \\<and>\n                     Re n' < Re m' \\<and> Re n' \\<le> Re x \\<or>\n                     Re m' < Re x \\<and>\n                     Re m' < Re n' \\<and> Re x \\<le> Re n')\n  is_real n'\n  is_real m'\n  n \\<in> unit_disc\n  n = of_complex n'\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex m') (of_complex x) (of_complex n')", "using xx \\<open>m = of_complex m'\\<close> \\<open>m \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  Re x \\<le> Re n'\n  Re m' \\<le> Re x\n  \\<lbrakk>- 1 < Re m'; Re m' < 1; - 1 < Re x; Re x < 1;\n   Re x \\<noteq> Re m'; - 1 < Re n'; Re n' < 1;\n   Re n' \\<noteq> Re m'\\<rbrakk>\n  \\<Longrightarrow> poincare_between (of_complex (cor (Re m')))\n                     (of_complex (cor (Re x))) (of_complex (cor (Re n'))) =\n                    (Re x < Re m' \\<and>\n                     Re n' < Re m' \\<and> Re n' \\<le> Re x \\<or>\n                     Re m' < Re x \\<and>\n                     Re m' < Re n' \\<and> Re x \\<le> Re n')\n  is_real n'\n  is_real m'\n  n \\<in> unit_disc\n  n = of_complex n'\n  is_real x\n  0 < Re x\n  Re x < 1\n  m = of_complex m'\n  m \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex m') (of_complex x) (of_complex n')", "by (smt complex_of_real_Re norm_of_real poincare_between_def unit_disc_iff_cmod_lt_1)"], ["proof (state)\nthis:\n  poincare_between (of_complex m') (of_complex x) (of_complex n')\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between m (of_complex x) n", "thus ?thesis"], ["proof (prove)\nusing this:\n  poincare_between (of_complex m') (of_complex x) (of_complex n')\n\ngoal (1 subgoal):\n 1. poincare_between m (of_complex x) n", "using \\<open>n = of_complex n'\\<close> \\<open>m = of_complex m'\\<close>"], ["proof (prove)\nusing this:\n  poincare_between (of_complex m') (of_complex x) (of_complex n')\n  n = of_complex n'\n  m = of_complex m'\n\ngoal (1 subgoal):\n 1. poincare_between m (of_complex x) n", "by auto"], ["proof (state)\nthis:\n  poincare_between m (of_complex x) n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between m (of_complex x) n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>m n.\n     poincare_between 0\\<^sub>h m (of_complex x) \\<and>\n     poincare_between 0\\<^sub>h (of_complex x) n \\<and>\n     m \\<in> unit_disc \\<and> n \\<in> unit_disc \\<longrightarrow>\n     poincare_between m (of_complex x) n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x y.\n     poincare_between a x b \\<and>\n     poincare_between a b y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x b y\n\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow> poincare_between x b y", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x y.\n     poincare_between a x b \\<and>\n     poincare_between a b y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x b y\n\ngoal (1 subgoal):\n 1. poincare_between x b y", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>x y.\n     poincare_between a x b \\<and>\n     poincare_between a b y \\<and>\n     x \\<in> unit_disc \\<and> y \\<in> unit_disc \\<longrightarrow>\n     poincare_between x b y\n  a \\<in> unit_disc\n  x \\<in> unit_disc\n  b \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_between a x b\n  poincare_between a b y\n\ngoal (1 subgoal):\n 1. poincare_between x b y", "by blast"], ["proof (state)\nthis:\n  poincare_between x b y\n\ngoal:\nNo subgoals!", "qed"], ["", "(* ------------------------------------------------------------------ *)"], ["", "subsection\\<open>Poincare between - sum distances\\<close>"], ["", "(* ------------------------------------------------------------------ *)"], ["", "text\\<open>Another possible definition of the h-betweenness relation is given in terms of h-distances\nbetween pairs of points. We prove it as a characterization equivalent to our cross-ratio based\ndefinition.\\<close>"], ["", "lemma poincare_between_sum_distances_x_axis_u0v:\n  assumes \"of_complex u' \\<in> unit_disc\" \"of_complex v' \\<in> unit_disc\"\n  assumes \"is_real u'\" \"u' \\<noteq> 0\" \"v' \\<noteq> 0\"\n  shows  \"poincare_distance (of_complex u') 0\\<^sub>h + poincare_distance 0\\<^sub>h (of_complex v') = poincare_distance (of_complex u') (of_complex v') \\<longleftrightarrow>\n          is_real v' \\<and> Re u' * Re v' < 0\" (is \"?P u' v' \\<longleftrightarrow> ?Q u' v'\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"Re u' \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "using \\<open>is_real u'\\<close> \\<open>u' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  is_real u'\n  u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "using complex_eq_if_Re_eq"], ["proof (prove)\nusing this:\n  is_real u'\n  u' \\<noteq> 0\n  \\<lbrakk>is_real ?z1.0; is_real ?z2.0\\<rbrakk>\n  \\<Longrightarrow> (?z1.0 = ?z2.0) = (Re ?z1.0 = Re ?z2.0)\n\ngoal (1 subgoal):\n 1. Re u' \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  Re u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "let ?u = \"cmod u'\" and ?v = \"cmod v'\" and ?uv = \"cmod (u' - v')\""], ["proof (state)\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have disc: \"?u\\<^sup>2 < 1\" \"?v\\<^sup>2 < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod u')\\<^sup>2 < 1 &&& (cmod v')\\<^sup>2 < 1", "using unit_disc_cmod_square_lt_1[OF assms(1)]"], ["proof (prove)\nusing this:\n  (cmod (to_complex (of_complex u')))\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. (cmod u')\\<^sup>2 < 1 &&& (cmod v')\\<^sup>2 < 1", "using unit_disc_cmod_square_lt_1[OF assms(2)]"], ["proof (prove)\nusing this:\n  (cmod (to_complex (of_complex u')))\\<^sup>2 < 1\n  (cmod (to_complex (of_complex v')))\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. (cmod u')\\<^sup>2 < 1 &&& (cmod v')\\<^sup>2 < 1", "by auto"], ["proof (state)\nthis:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"poincare_distance (of_complex u') 0\\<^sub>h + poincare_distance 0\\<^sub>h (of_complex v') =\n              arcosh (((1 + ?u\\<^sup>2) * (1 + ?v\\<^sup>2) + 4 * ?u * ?v) / ((1 - ?u\\<^sup>2) * (1 - ?v\\<^sup>2)))\" (is \"_ = arcosh ?r1\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_distance (of_complex u') 0\\<^sub>h +\n    poincare_distance 0\\<^sub>h (of_complex v') =\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "using poincare_distance_formula_zero_sum[OF assms(1-2)]"], ["proof (prove)\nusing this:\n  poincare_distance (of_complex u') 0\\<^sub>h +\n  poincare_distance 0\\<^sub>h (of_complex v') =\n  (let u' = cmod (to_complex (of_complex u'));\n       v' = cmod (to_complex (of_complex v'))\n   in arcosh\n       (((1 + u'\\<^sup>2) * (1 + v'\\<^sup>2) + 4 * u' * v') /\n        ((1 - u'\\<^sup>2) * (1 - v'\\<^sup>2))))\n\ngoal (1 subgoal):\n 1. poincare_distance (of_complex u') 0\\<^sub>h +\n    poincare_distance 0\\<^sub>h (of_complex v') =\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "by (simp add: Let_def)"], ["proof (state)\nthis:\n  poincare_distance (of_complex u') 0\\<^sub>h +\n  poincare_distance 0\\<^sub>h (of_complex v') =\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "moreover"], ["proof (state)\nthis:\n  poincare_distance (of_complex u') 0\\<^sub>h +\n  poincare_distance 0\\<^sub>h (of_complex v') =\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"poincare_distance (of_complex u') (of_complex v') =\n              arcosh (((1 - ?u\\<^sup>2) * (1 - ?v\\<^sup>2) + 2 * ?uv\\<^sup>2) / ((1 - ?u\\<^sup>2) * (1 - ?v\\<^sup>2)))\" (is \"_ = arcosh ?r2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_distance (of_complex u') (of_complex v') =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "using disc"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. poincare_distance (of_complex u') (of_complex v') =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "using poincare_distance_formula[OF assms(1-2)]"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n  poincare_distance (of_complex u') (of_complex v') =\n  poincare_distance_formula (to_complex (of_complex u'))\n   (to_complex (of_complex v'))\n\ngoal (1 subgoal):\n 1. poincare_distance (of_complex u') (of_complex v') =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "by (subst add_divide_distrib) simp"], ["proof (state)\nthis:\n  poincare_distance (of_complex u') (of_complex v') =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "moreover"], ["proof (state)\nthis:\n  poincare_distance (of_complex u') (of_complex v') =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "have \"arcosh ?r1 = arcosh ?r2 \\<longleftrightarrow> ?Q u' v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (arcosh\n      (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n        4 * cmod u' * cmod v') /\n       ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n     arcosh\n      (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n        2 * (cmod (u' - v'))\\<^sup>2) /\n       ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "assume \"arcosh ?r1 = arcosh ?r2\""], ["proof (state)\nthis:\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"?r1 = ?r2\""], ["proof (prove)\nusing this:\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "proof (subst (asm) arcosh_eq_iff)"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. 1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n             2 * (cmod (u' - v'))\\<^sup>2) /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 3. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "show \"?r1 \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "have \"(1 - ?u\\<^sup>2) * (1 - ?v\\<^sup>2) \\<le> (1 + ?u\\<^sup>2) * (1 + ?v\\<^sup>2) + 4 * ?u * ?v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)\n    \\<le> (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n          4 * cmod u' * cmod v'", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)\n  \\<le> (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n        4 * cmod u' * cmod v'\n\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)\n  \\<le> (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n        4 * cmod u' * cmod v'\n\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using disc"], ["proof (prove)\nusing this:\n  (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)\n  \\<le> (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n        4 * cmod u' * cmod v'\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n             4 * cmod u' * cmod v') /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "by simp"], ["proof (state)\nthis:\n  1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n           4 * cmod u' * cmod v') /\n          ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 \\<le> ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n           4 * cmod u' * cmod v') /\n          ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (2 subgoals):\n 1. 1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n             2 * (cmod (u' - v'))\\<^sup>2) /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. 1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n             2 * (cmod (u' - v'))\\<^sup>2) /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "show \"?r2 \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n             2 * (cmod (u' - v'))\\<^sup>2) /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using disc"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. 1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n             2 * (cmod (u' - v'))\\<^sup>2) /\n            ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "by simp"], ["proof (state)\nthis:\n  1 \\<le> ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n           2 * (cmod (u' - v'))\\<^sup>2) /\n          ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "qed"], ["proof (state)\nthis:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"(1 + ?u\\<^sup>2) * (1 + ?v\\<^sup>2) + 4 * ?u * ?v = (1 - ?u\\<^sup>2) * (1 - ?v\\<^sup>2) + 2 * ?uv\\<^sup>2\""], ["proof (prove)\nusing this:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n    4 * cmod u' * cmod v' =\n    (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n    2 * (cmod (u' - v'))\\<^sup>2", "using disc"], ["proof (prove)\nusing this:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n\ngoal (1 subgoal):\n 1. (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n    4 * cmod u' * cmod v' =\n    (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n    2 * (cmod (u' - v'))\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n  4 * cmod u' * cmod v' =\n  (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n  2 * (cmod (u' - v'))\\<^sup>2\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"(cmod (u' - v'))\\<^sup>2 = (cmod u' + cmod v')\\<^sup>2\""], ["proof (prove)\nusing this:\n  (1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n  4 * cmod u' * cmod v' =\n  (1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n  2 * (cmod (u' - v'))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (cmod (u' - v'))\\<^sup>2 = (cmod u' + cmod v')\\<^sup>2", "by (simp add: field_simps power2_eq_square)"], ["proof (state)\nthis:\n  (cmod (u' - v'))\\<^sup>2 = (cmod u' + cmod v')\\<^sup>2\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence *: \"Re u' * Re v' + \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = 0\""], ["proof (prove)\nusing this:\n  (cmod (u' - v'))\\<^sup>2 = (cmod u' + cmod v')\\<^sup>2\n\ngoal (1 subgoal):\n 1. Re u' * Re v' +\n    \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n    0", "using \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  (cmod (u' - v'))\\<^sup>2 = (cmod u' + cmod v')\\<^sup>2\n  is_real u'\n\ngoal (1 subgoal):\n 1. Re u' * Re v' +\n    \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n    0", "unfolding cmod_power2 cmod_def"], ["proof (prove)\nusing this:\n  (sqrt ((Re (u' - v'))\\<^sup>2 + (Im (u' - v'))\\<^sup>2))\\<^sup>2 =\n  (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2) +\n   sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2\n  is_real u'\n\ngoal (1 subgoal):\n 1. Re u' * Re v' +\n    \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n    0", "by (simp add: field_simps) (simp add: power2_eq_square field_simps)"], ["proof (state)\nthis:\n  Re u' * Re v' +\n  \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n  0\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = \\<bar>Re v'\\<bar>\""], ["proof (prove)\nusing this:\n  Re u' * Re v' +\n  \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n  0\n\ngoal (1 subgoal):\n 1. sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = \\<bar>Re v'\\<bar>", "using \\<open>Re u' \\<noteq> 0\\<close> \\<open>v' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  Re u' * Re v' +\n  \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n  0\n  Re u' \\<noteq> 0\n  v' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = \\<bar>Re v'\\<bar>", "by (smt complex_neq_0 mult.commute mult_cancel_right mult_minus_left real_sqrt_gt_0_iff)"], ["proof (state)\nthis:\n  sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = \\<bar>Re v'\\<bar>\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"Im v' = 0\""], ["proof (prove)\nusing this:\n  sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) = \\<bar>Re v'\\<bar>\n\ngoal (1 subgoal):\n 1. is_real v'", "by (smt Im_eq_0 norm_complex_def)"], ["proof (state)\nthis:\n  is_real v'\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "moreover"], ["proof (state)\nthis:\n  is_real v'\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>\""], ["proof (prove)\nusing this:\n  is_real v'\n\ngoal (1 subgoal):\n 1. Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>", "using *"], ["proof (prove)\nusing this:\n  is_real v'\n  Re u' * Re v' +\n  \\<bar>Re u'\\<bar> * sqrt ((Im v')\\<^sup>2 + (Re v')\\<^sup>2) =\n  0\n\ngoal (1 subgoal):\n 1. Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>", "by simp"], ["proof (state)\nthis:\n  Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"Re u' * Re v' < 0\""], ["proof (prove)\nusing this:\n  Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>\n\ngoal (1 subgoal):\n 1. Re u' * Re v' < 0", "using \\<open>Re u' \\<noteq> 0\\<close> \\<open>v' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  Re u' * Re v' = - \\<bar>Re u'\\<bar> * \\<bar>Re v'\\<bar>\n  Re u' \\<noteq> 0\n  v' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re u' * Re v' < 0", "by (simp add: \\<open>is_real v'\\<close> complex_eq_if_Re_eq)"], ["proof (state)\nthis:\n  Re u' * Re v' < 0\n\ngoal (2 subgoals):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) \\<Longrightarrow>\n    is_real v' \\<and> Re u' * Re v' < 0\n 2. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "ultimately"], ["proof (chain)\npicking this:\n  is_real v'\n  Re u' * Re v' < 0", "show \"?Q u' v'\""], ["proof (prove)\nusing this:\n  is_real v'\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0", "by simp"], ["proof (state)\nthis:\n  is_real v' \\<and> Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "assume \"?Q u' v'\""], ["proof (state)\nthis:\n  is_real v' \\<and> Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "hence \"is_real v'\" \"Re u' * Re v' < 0\""], ["proof (prove)\nusing this:\n  is_real v' \\<and> Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. is_real v' &&& Re u' * Re v' < 0", "by auto"], ["proof (state)\nthis:\n  is_real v'\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "have \"?r1 = ?r2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "proof (cases \"Re u' > 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "case True"], ["proof (state)\nthis:\n  0 < Re u'\n\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "hence \"Re v' < 0\""], ["proof (prove)\nusing this:\n  0 < Re u'\n\ngoal (1 subgoal):\n 1. Re v' < 0", "using \\<open>Re u' * Re v' < 0\\<close>"], ["proof (prove)\nusing this:\n  0 < Re u'\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. Re v' < 0", "by (smt zero_le_mult_iff)"], ["proof (state)\nthis:\n  Re v' < 0\n\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using disc \\<open>is_real u'\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using \\<open>Re u' > 0\\<close> \\<open>Re v' < 0\\<close>"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n  0 < Re u'\n  Re v' < 0\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "unfolding cmod_power2 cmod_def"], ["proof (prove)\nusing this:\n  (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2 < 1\n  (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n  0 < Re u'\n  Re v' < 0\n\ngoal (1 subgoal):\n 1. ((1 + (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 + (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2) +\n     4 * sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2) *\n     sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2)) /\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2)) =\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2) +\n     2 * (sqrt ((Re (u' - v'))\\<^sup>2 + (Im (u' - v'))\\<^sup>2))\\<^sup>2) /\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2))", "by simp (simp add: power2_eq_square field_simps)"], ["proof (state)\nthis:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "case False"], ["proof (state)\nthis:\n  \\<not> 0 < Re u'\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "hence \"Re u' < 0\""], ["proof (prove)\nusing this:\n  \\<not> 0 < Re u'\n\ngoal (1 subgoal):\n 1. Re u' < 0", "using \\<open>Re u' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  \\<not> 0 < Re u'\n  Re u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re u' < 0", "by simp"], ["proof (state)\nthis:\n  Re u' < 0\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "hence \"Re v' > 0\""], ["proof (prove)\nusing this:\n  Re u' < 0\n\ngoal (1 subgoal):\n 1. 0 < Re v'", "using \\<open>Re u' * Re v' < 0\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. 0 < Re v'", "by (smt zero_le_mult_iff)"], ["proof (state)\nthis:\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using disc \\<open>is_real u'\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "using \\<open>Re u' < 0\\<close> \\<open>Re v' > 0\\<close>"], ["proof (prove)\nusing this:\n  (cmod u')\\<^sup>2 < 1\n  (cmod v')\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n  Re u' < 0\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))", "unfolding cmod_power2 cmod_def"], ["proof (prove)\nusing this:\n  (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2 < 1\n  (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2 < 1\n  is_real u'\n  is_real v'\n  Re u' < 0\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. ((1 + (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 + (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2) +\n     4 * sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2) *\n     sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2)) /\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2)) =\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2) +\n     2 * (sqrt ((Re (u' - v'))\\<^sup>2 + (Im (u' - v'))\\<^sup>2))\\<^sup>2) /\n    ((1 - (sqrt ((Re u')\\<^sup>2 + (Im u')\\<^sup>2))\\<^sup>2) *\n     (1 - (sqrt ((Re v')\\<^sup>2 + (Im v')\\<^sup>2))\\<^sup>2))", "by simp (simp add: power2_eq_square field_simps)"], ["proof (state)\nthis:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (1 subgoal):\n 1. is_real v' \\<and> Re u' * Re v' < 0 \\<Longrightarrow>\n    arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "thus \"arcosh ?r1 = arcosh ?r2\""], ["proof (prove)\nusing this:\n  ((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n   4 * cmod u' * cmod v') /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)) =\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n   2 * (cmod (u' - v'))\\<^sup>2) /\n  ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))\n\ngoal (1 subgoal):\n 1. arcosh\n     (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n       4 * cmod u' * cmod v') /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n    arcosh\n     (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n       2 * (cmod (u' - v'))\\<^sup>2) /\n      ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))", "by metis"], ["proof (state)\nthis:\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (arcosh\n    (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n      4 * cmod u' * cmod v') /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n   arcosh\n    (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n      2 * (cmod (u' - v'))\\<^sup>2) /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "ultimately"], ["proof (chain)\npicking this:\n  poincare_distance (of_complex u') 0\\<^sub>h +\n  poincare_distance 0\\<^sub>h (of_complex v') =\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n  poincare_distance (of_complex u') (of_complex v') =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n  (arcosh\n    (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n      4 * cmod u' * cmod v') /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n   arcosh\n    (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n      2 * (cmod (u' - v'))\\<^sup>2) /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))) =\n  (is_real v' \\<and> Re u' * Re v' < 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  poincare_distance (of_complex u') 0\\<^sub>h +\n  poincare_distance 0\\<^sub>h (of_complex v') =\n  arcosh\n   (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n     4 * cmod u' * cmod v') /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n  poincare_distance (of_complex u') (of_complex v') =\n  arcosh\n   (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n     2 * (cmod (u' - v'))\\<^sup>2) /\n    ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))\n  (arcosh\n    (((1 + (cmod u')\\<^sup>2) * (1 + (cmod v')\\<^sup>2) +\n      4 * cmod u' * cmod v') /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2))) =\n   arcosh\n    (((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2) +\n      2 * (cmod (u' - v'))\\<^sup>2) /\n     ((1 - (cmod u')\\<^sup>2) * (1 - (cmod v')\\<^sup>2)))) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (is_real v' \\<and> Re u' * Re v' < 0)", "by simp"], ["proof (state)\nthis:\n  (poincare_distance (of_complex u') 0\\<^sub>h +\n   poincare_distance 0\\<^sub>h (of_complex v') =\n   poincare_distance (of_complex u') (of_complex v')) =\n  (is_real v' \\<and> Re u' * Re v' < 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\n  Different proof of the previous theorem relying on the cross-ratio definition, and not the distance formula.\n  We suppose that this could be also used to prove the triangle inequality.\n\\<close>"], ["", "lemma poincare_between_sum_distances_x_axis_u0v_different_proof:\n  assumes \"of_complex u' \\<in> unit_disc\" \"of_complex v' \\<in> unit_disc\"\n  assumes \"is_real u'\" \"u' \\<noteq> 0\" \"v' \\<noteq> 0\" (* additional condition *) \"is_real v'\"\n  shows  \"poincare_distance (of_complex u') 0\\<^sub>h + poincare_distance 0\\<^sub>h (of_complex v') = poincare_distance (of_complex u') (of_complex v') \\<longleftrightarrow>\n          Re u' * Re v' < 0\" (is \"?P u' v' \\<longleftrightarrow> ?Q u' v'\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "have \"-1 < Re u'\" \"Re u' < 1\" \"Re u' \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 < Re u' &&& Re u' < 1 &&& Re u' \\<noteq> 0", "using assms"], ["proof (prove)\nusing this:\n  of_complex u' \\<in> unit_disc\n  of_complex v' \\<in> unit_disc\n  is_real u'\n  u' \\<noteq> 0\n  v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. - 1 < Re u' &&& Re u' < 1 &&& Re u' \\<noteq> 0", "by (auto simp add: cmod_eq_Re complex_eq_if_Re_eq)"], ["proof (state)\nthis:\n  - 1 < Re u'\n  Re u' < 1\n  Re u' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "have \"-1 < Re v'\" \"Re v' < 1\" \"Re v' \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 < Re v' &&& Re v' < 1 &&& Re v' \\<noteq> 0", "using assms"], ["proof (prove)\nusing this:\n  of_complex u' \\<in> unit_disc\n  of_complex v' \\<in> unit_disc\n  is_real u'\n  u' \\<noteq> 0\n  v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. - 1 < Re v' &&& Re v' < 1 &&& Re v' \\<noteq> 0", "by (auto simp add: cmod_eq_Re complex_eq_if_Re_eq)"], ["proof (state)\nthis:\n  - 1 < Re v'\n  Re v' < 1\n  Re v' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "have \"\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> + \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n        \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar> \\<longleftrightarrow> Re u' * Re v' < 0\" (is \"\\<bar>ln ?a1\\<bar>  + \\<bar>ln ?a2\\<bar> = \\<bar>ln ?a3\\<bar> \\<longleftrightarrow> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "have 1: \"0 < ?a1\" \"ln ?a1 > 0 \\<longleftrightarrow> Re u' < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Re ((1 - u') / (1 + u')) &&&\n    (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 - u') / (1 + u')) &&&\n    (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 - u') / (1 + u')) &&&\n    (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)", "by auto"], ["proof (state)\nthis:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "have 2: \"0 < ?a2\" \"ln ?a2 > 0 \\<longleftrightarrow> Re v' < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Re ((1 - v') / (1 + v')) &&&\n    (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 - v') / (1 + v')) &&&\n    (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 - v') / (1 + v')) &&&\n    (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)", "by auto"], ["proof (state)\nthis:\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "have 3: \"0 < ?a3\" \"ln ?a3 > 0 \\<longleftrightarrow> Re v' < Re u'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))) &&&\n    (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n    (Re v' < Re u')", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))) &&&\n    (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n    (Re v' < Re u')", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))) &&&\n    (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n    (Re v' < Re u')", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. 0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))) &&&\n    (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n    (Re v' < Re u')", "by auto (simp add: field_simps)+"], ["proof (state)\nthis:\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n     \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n     \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n    (Re u' * Re v' < 0)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0\n 2. Re u' * Re v' < 0 \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "assume *: \"Re u' * Re v' < 0\""], ["proof (state)\nthis:\n  Re u' * Re v' < 0\n\ngoal (2 subgoals):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0\n 2. Re u' * Re v' < 0 \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "show \"\\<bar>ln ?a1\\<bar> + \\<bar>ln ?a2\\<bar> = \\<bar>ln ?a3\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "proof (cases \"Re u' > 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "case True"], ["proof (state)\nthis:\n  0 < Re u'\n\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "hence \"Re v' < 0\""], ["proof (prove)\nusing this:\n  0 < Re u'\n\ngoal (1 subgoal):\n 1. Re v' < 0", "using *"], ["proof (prove)\nusing this:\n  0 < Re u'\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. Re v' < 0", "by (smt mult_nonneg_nonneg)"], ["proof (state)\nthis:\n  Re v' < 0\n\ngoal (2 subgoals):\n 1. 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n 2. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using 1 2 3 \\<open>Re u' > 0\\<close> \\<open>Re v' < 0\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  0 < Re u'\n  Re v' < 0\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  0 < Re u'\n  Re v' < 0\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  0 < Re u'\n  Re v' < 0\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  0 < Re u'\n  Re v' < 0\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using ln_div ln_mult"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  0 < Re u'\n  Re v' < 0\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x / ?y) = ln ?x - ln ?y\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x * ?y) = ln ?x + ln ?y\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "case False"], ["proof (state)\nthis:\n  \\<not> 0 < Re u'\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "hence \"Re v' > 0\" \"Re u' < 0\""], ["proof (prove)\nusing this:\n  \\<not> 0 < Re u'\n\ngoal (1 subgoal):\n 1. 0 < Re v' &&& Re u' < 0", "using *"], ["proof (prove)\nusing this:\n  \\<not> 0 < Re u'\n  Re u' * Re v' < 0\n\ngoal (1 subgoal):\n 1. 0 < Re v' &&& Re u' < 0", "by (smt zero_le_mult_iff)+"], ["proof (state)\nthis:\n  0 < Re v'\n  Re u' < 0\n\ngoal (1 subgoal):\n 1. \\<not> 0 < Re u' \\<Longrightarrow>\n    \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using 1 2 3 \\<open>Re u' < 0\\<close> \\<open>Re v' > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 0\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 0\n  0 < Re v'\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 0\n  0 < Re v'\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 0\n  0 < Re v'\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "using ln_div ln_mult"], ["proof (prove)\nusing this:\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 0\n  0 < Re v'\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x / ?y) = ln ?x - ln ?y\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x * ?y) = ln ?x + ln ?y\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "assume *: \"\\<bar>ln ?a1\\<bar> + \\<bar>ln ?a2\\<bar> = \\<bar>ln ?a3\\<bar>\""], ["proof (state)\nthis:\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "{"], ["proof (state)\nthis:\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "assume \"Re u' > 0\" \"Re v' > 0\""], ["proof (state)\nthis:\n  0 < Re u'\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "hence False"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n\ngoal (1 subgoal):\n 1. False", "using * 1 2 3"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n\ngoal (1 subgoal):\n 1. False", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. False", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. False", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. False", "using ln_mult ln_div"], ["proof (prove)\nusing this:\n  0 < Re u'\n  0 < Re v'\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x * ?y) = ln ?x + ln ?y\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x / ?y) = ln ?x - ln ?y\n\ngoal (1 subgoal):\n 1. False", "by (cases \"Re v' < Re u'\") auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "{"], ["proof (state)\nthis:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "assume \"Re u' < 0\" \"Re v' < 0\""], ["proof (state)\nthis:\n  Re u' < 0\n  Re v' < 0\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "hence False"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n\ngoal (1 subgoal):\n 1. False", "using * 1 2 3"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n\ngoal (1 subgoal):\n 1. False", "using \\<open>Re u' < 1\\<close> \\<open>Re u' > -1\\<close> \\<open>is_real u'\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n\ngoal (1 subgoal):\n 1. False", "using \\<open>Re v' < 1\\<close> \\<open>Re v' > -1\\<close> \\<open>is_real v'\\<close>"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n\ngoal (1 subgoal):\n 1. False", "using complex_is_Real_iff"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n\ngoal (1 subgoal):\n 1. False", "using ln_mult ln_div"], ["proof (prove)\nusing this:\n  Re u' < 0\n  Re v' < 0\n  \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n  \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n  \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>\n  0 < Re ((1 - u') / (1 + u'))\n  (0 < ln (Re ((1 - u') / (1 + u')))) = (Re u' < 0)\n  0 < Re ((1 - v') / (1 + v'))\n  (0 < ln (Re ((1 - v') / (1 + v')))) = (Re v' < 0)\n  0 < Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v')))\n  (0 < ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))) =\n  (Re v' < Re u')\n  Re u' < 1\n  - 1 < Re u'\n  is_real u'\n  Re v' < 1\n  - 1 < Re v'\n  is_real v'\n  (?z \\<in> \\<real>) = is_real ?z\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x * ?y) = ln ?x + ln ?y\n  \\<lbrakk>0 < ?x; 0 < ?y\\<rbrakk>\n  \\<Longrightarrow> ln (?x / ?y) = ln ?x - ln ?y\n\ngoal (1 subgoal):\n 1. False", "by (cases \"Re v' < Re u'\") auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Re u' < 0; Re v' < 0\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n    \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n    \\<bar>ln (Re ((1 + u') * (1 - v') /\n                  ((1 - u') * (1 + v'))))\\<bar> \\<Longrightarrow>\n    Re u' * Re v' < 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>Re u' < 0; Re v' < 0\\<rbrakk> \\<Longrightarrow> False", "show \"Re u' * Re v' < 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>Re u' < 0; Re v' < 0\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. Re u' * Re v' < 0", "using \\<open>Re u' \\<noteq> 0\\<close> \\<open>Re v' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < Re u'; 0 < Re v'\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>Re u' < 0; Re v' < 0\\<rbrakk> \\<Longrightarrow> False\n  Re u' \\<noteq> 0\n  Re v' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Re u' * Re v' < 0", "by (smt divisors_zero mult_le_0_iff)"], ["proof (state)\nthis:\n  Re u' * Re v' < 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n   \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n   \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n  (Re u' * Re v' < 0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n   \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n   \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n  (Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n   \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n   \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n  (Re u' * Re v' < 0)\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "using assms"], ["proof (prove)\nusing this:\n  (\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n   \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n   \\<bar>ln (Re ((1 + u') * (1 - v') / ((1 - u') * (1 + v'))))\\<bar>) =\n  (Re u' * Re v' < 0)\n  of_complex u' \\<in> unit_disc\n  of_complex v' \\<in> unit_disc\n  is_real u'\n  u' \\<noteq> 0\n  v' \\<noteq> 0\n  is_real v'\n\ngoal (1 subgoal):\n 1. (poincare_distance (of_complex u') 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h (of_complex v') =\n     poincare_distance (of_complex u') (of_complex v')) =\n    (Re u' * Re v' < 0)", "apply (subst poincare_distance_sym, simp, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n              \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n              \\<bar>ln (Re ((1 + u') * (1 - v') /\n                            ((1 - u') * (1 + v'))))\\<bar>) =\n             (Re u' * Re v' < 0);\n     of_complex u' \\<in> unit_disc; of_complex v' \\<in> unit_disc;\n     is_real u'; u' \\<noteq> 0; v' \\<noteq> 0; is_real v'\\<rbrakk>\n    \\<Longrightarrow> (poincare_distance 0\\<^sub>h (of_complex u') +\n                       poincare_distance 0\\<^sub>h (of_complex v') =\n                       poincare_distance (of_complex u') (of_complex v')) =\n                      (Re u' * Re v' < 0)", "apply (subst poincare_distance_zero_x_axis, simp, simp add: circline_set_x_axis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n              \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n              \\<bar>ln (Re ((1 + u') * (1 - v') /\n                            ((1 - u') * (1 + v'))))\\<bar>) =\n             (Re u' * Re v' < 0);\n     of_complex u' \\<in> unit_disc; of_complex v' \\<in> unit_disc;\n     is_real u'; u' \\<noteq> 0; v' \\<noteq> 0; is_real v'\\<rbrakk>\n    \\<Longrightarrow> ((let x' = to_complex (of_complex u')\n                        in \\<bar>ln (Re ((1 - x') / (1 + x')))\\<bar>) +\n                       poincare_distance 0\\<^sub>h (of_complex v') =\n                       poincare_distance (of_complex u') (of_complex v')) =\n                      (Re u' * Re v' < 0)", "apply (subst poincare_distance_zero_x_axis, simp, simp add: circline_set_x_axis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n              \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n              \\<bar>ln (Re ((1 + u') * (1 - v') /\n                            ((1 - u') * (1 + v'))))\\<bar>) =\n             (Re u' * Re v' < 0);\n     of_complex u' \\<in> unit_disc; of_complex v' \\<in> unit_disc;\n     is_real u'; u' \\<noteq> 0; v' \\<noteq> 0; is_real v'\\<rbrakk>\n    \\<Longrightarrow> ((let x' = to_complex (of_complex u')\n                        in \\<bar>ln (Re ((1 - x') / (1 + x')))\\<bar>) +\n                       (let x' = to_complex (of_complex v')\n                        in \\<bar>ln (Re ((1 - x') / (1 + x')))\\<bar>) =\n                       poincare_distance (of_complex u') (of_complex v')) =\n                      (Re u' * Re v' < 0)", "apply (subst poincare_distance_x_axis_x_axis, simp, simp, simp add: circline_set_x_axis, simp add: circline_set_x_axis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<bar>ln (Re ((1 - u') / (1 + u')))\\<bar> +\n              \\<bar>ln (Re ((1 - v') / (1 + v')))\\<bar> =\n              \\<bar>ln (Re ((1 + u') * (1 - v') /\n                            ((1 - u') * (1 + v'))))\\<bar>) =\n             (Re u' * Re v' < 0);\n     of_complex u' \\<in> unit_disc; of_complex v' \\<in> unit_disc;\n     is_real u'; u' \\<noteq> 0; v' \\<noteq> 0; is_real v'\\<rbrakk>\n    \\<Longrightarrow> ((let x' = to_complex (of_complex u')\n                        in \\<bar>ln (Re ((1 - x') / (1 + x')))\\<bar>) +\n                       (let x' = to_complex (of_complex v')\n                        in \\<bar>ln (Re ((1 - x') / (1 + x')))\\<bar>) =\n                       (let x' = to_complex (of_complex u');\n                            y' = to_complex (of_complex v')\n                        in \\<bar>ln (Re\n((1 + x') * (1 - y') / ((1 - x') * (1 + y'))))\\<bar>)) =\n                      (Re u' * Re v' < 0)", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (poincare_distance (of_complex u') 0\\<^sub>h +\n   poincare_distance 0\\<^sub>h (of_complex v') =\n   poincare_distance (of_complex u') (of_complex v')) =\n  (Re u' * Re v' < 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma poincare_between_sum_distances:\n  assumes \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between u v w \\<longleftrightarrow> \n         poincare_distance u v + poincare_distance v w = poincare_distance u w\" (is \"?P' u v w\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "proof (cases \"u = v\")"], ["proof (state)\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "case True"], ["proof (state)\nthis:\n  u = v\n\ngoal (2 subgoals):\n 1. u = v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n 2. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "thus ?thesis"], ["proof (prove)\nusing this:\n  u = v\n\ngoal (1 subgoal):\n 1. poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "using assms"], ["proof (prove)\nusing this:\n  u = v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "by simp"], ["proof (state)\nthis:\n  poincare_between u v w =\n  (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "case False"], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "have \"\\<forall> w. w \\<in> unit_disc \\<longrightarrow> (poincare_between u v w \\<longleftrightarrow> poincare_distance u v + poincare_distance v w = poincare_distance u w)\" (is \"?P u v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<longrightarrow>\n       poincare_between u v w =\n       (poincare_distance u v + poincare_distance v w =\n        poincare_distance u w)", "proof (rule wlog_positive_x_axis)"], ["proof (state)\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "fix x"], ["proof (state)\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "assume \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "have \"of_complex x \\<in> circline_set x_axis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> circline_set x_axis", "using \\<open>is_real x\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> circline_set x_axis", "by (auto simp add: circline_set_x_axis)"], ["proof (state)\nthis:\n  of_complex x \\<in> circline_set x_axis\n\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "have \"of_complex x \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "using \\<open>is_real x\\<close> \\<open>0 < Re x\\<close> \\<open>Re x < 1\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "by (simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "have \"x \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "using \\<open>is_real x\\<close> \\<open>Re x > 0\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> 0\n\ngoal (5 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between (of_complex x) 0\\<^sub>h w =\n                            (poincare_distance (of_complex x) 0\\<^sub>h +\n                             poincare_distance 0\\<^sub>h w =\n                             poincare_distance (of_complex x) w)", "show \"?P (of_complex x) 0\\<^sub>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<longrightarrow>\n       poincare_between (of_complex x) 0\\<^sub>h w =\n       (poincare_distance (of_complex x) 0\\<^sub>h +\n        poincare_distance 0\\<^sub>h w =\n        poincare_distance (of_complex x) w)", "proof (rule allI, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between (of_complex x) 0\\<^sub>h w =\n       (poincare_distance (of_complex x) 0\\<^sub>h +\n        poincare_distance 0\\<^sub>h w =\n        poincare_distance (of_complex x) w)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between (of_complex x) 0\\<^sub>h w =\n       (poincare_distance (of_complex x) 0\\<^sub>h +\n        poincare_distance 0\\<^sub>h w =\n        poincare_distance (of_complex x) w)", "assume \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between (of_complex x) 0\\<^sub>h w =\n       (poincare_distance (of_complex x) 0\\<^sub>h +\n        poincare_distance 0\\<^sub>h w =\n        poincare_distance (of_complex x) w)", "then"], ["proof (chain)\npicking this:\n  w \\<in> unit_disc", "obtain w' where \"w = of_complex w'\""], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>w'. w = of_complex w' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of w]"], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n  w = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. w = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>w'. w = of_complex w' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w = of_complex w'\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between (of_complex x) 0\\<^sub>h w =\n       (poincare_distance (of_complex x) 0\\<^sub>h +\n        poincare_distance 0\\<^sub>h w =\n        poincare_distance (of_complex x) w)", "show \"?P' (of_complex x) 0\\<^sub>h w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "proof (cases \"w = 0\\<^sub>h\")"], ["proof (state)\ngoal (2 subgoals):\n 1. w = 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)\n 2. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "case True"], ["proof (state)\nthis:\n  w = 0\\<^sub>h\n\ngoal (2 subgoals):\n 1. w = 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)\n 2. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "thus ?thesis"], ["proof (prove)\nusing this:\n  w = 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "by simp"], ["proof (state)\nthis:\n  poincare_between (of_complex x) 0\\<^sub>h w =\n  (poincare_distance (of_complex x) 0\\<^sub>h +\n   poincare_distance 0\\<^sub>h w =\n   poincare_distance (of_complex x) w)\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "case False"], ["proof (state)\nthis:\n  w \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "hence \"w' \\<noteq> 0\""], ["proof (prove)\nusing this:\n  w \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. w' \\<noteq> 0", "using \\<open>w = of_complex w'\\<close>"], ["proof (prove)\nusing this:\n  w \\<noteq> 0\\<^sub>h\n  w = of_complex w'\n\ngoal (1 subgoal):\n 1. w' \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. w \\<noteq> 0\\<^sub>h \\<Longrightarrow>\n    poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "using \\<open>is_real x\\<close> \\<open>x \\<noteq> 0\\<close> \\<open>w = of_complex w'\\<close> \\<open>w' \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  x \\<noteq> 0\n  w = of_complex w'\n  w' \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "using \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>w \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  is_real x\n  x \\<noteq> 0\n  w = of_complex w'\n  w' \\<noteq> 0\n  of_complex x \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (of_complex x) 0\\<^sub>h w =\n    (poincare_distance (of_complex x) 0\\<^sub>h +\n     poincare_distance 0\\<^sub>h w =\n     poincare_distance (of_complex x) w)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_real x; x \\<noteq> 0; w = of_complex w'; w' \\<noteq> 0;\n     cmod x < 1; cmod w' < 1\\<rbrakk>\n    \\<Longrightarrow> poincare_between (of_complex x) 0\\<^sub>h\n                       (of_complex w') =\n                      (poincare_distance (of_complex x) 0\\<^sub>h +\n                       poincare_distance 0\\<^sub>h (of_complex w') =\n                       poincare_distance (of_complex x) (of_complex w'))", "apply (subst poincare_between_x_axis_u0v, simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_real x; x \\<noteq> 0; w = of_complex w'; w' \\<noteq> 0;\n     cmod x < 1; cmod w' < 1\\<rbrakk>\n    \\<Longrightarrow> (is_real w' \\<and> Re x * Re w' < 0) =\n                      (poincare_distance (of_complex x) 0\\<^sub>h +\n                       poincare_distance 0\\<^sub>h (of_complex w') =\n                       poincare_distance (of_complex x) (of_complex w'))", "apply (subst poincare_between_sum_distances_x_axis_u0v, simp_all)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  poincare_between (of_complex x) 0\\<^sub>h w =\n  (poincare_distance (of_complex x) 0\\<^sub>h +\n   poincare_distance 0\\<^sub>h w =\n   poincare_distance (of_complex x) w)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  poincare_between (of_complex x) 0\\<^sub>h w =\n  (poincare_distance (of_complex x) 0\\<^sub>h +\n   poincare_distance 0\\<^sub>h w =\n   poincare_distance (of_complex x) w)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between (of_complex x) 0\\<^sub>h w =\n     (poincare_distance (of_complex x) 0\\<^sub>h +\n      poincare_distance 0\\<^sub>h w =\n      poincare_distance (of_complex x) w)\n\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. v \\<in> unit_disc\n 2. u \\<in> unit_disc\n 3. v \\<noteq> u\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "show \"v \\<in> unit_disc\" \"u \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> unit_disc &&& u \\<in> unit_disc", "using assms"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. v \\<in> unit_disc &&& u \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  v \\<in> unit_disc\n  u \\<in> unit_disc\n\ngoal (2 subgoals):\n 1. v \\<noteq> u\n 2. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. v \\<noteq> u\n 2. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "show \"v \\<noteq> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> u", "using \\<open>u \\<noteq> v\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. v \\<noteq> u", "by simp"], ["proof (state)\nthis:\n  v \\<noteq> u\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "fix M u v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "assume *: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\" and\n          **: \"?P (moebius_pt M v) (moebius_pt M u)\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between (moebius_pt M v) (moebius_pt M u) w =\n     (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n      poincare_distance (moebius_pt M u) w =\n      poincare_distance (moebius_pt M v) w)\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>w.\n           w \\<in> unit_disc \\<longrightarrow>\n           poincare_between (moebius_pt M v) (moebius_pt M u) w =\n           (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n            poincare_distance (moebius_pt M u) w =\n            poincare_distance (moebius_pt M v) w)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>w.\n                            w \\<in> unit_disc \\<longrightarrow>\n                            poincare_between v u w =\n                            (poincare_distance v u + poincare_distance u w =\n                             poincare_distance v w)", "show \"?P v u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w \\<in> unit_disc \\<longrightarrow>\n       poincare_between v u w =\n       (poincare_distance v u + poincare_distance u w =\n        poincare_distance v w)", "proof (rule allI, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between v u w =\n       (poincare_distance v u + poincare_distance u w =\n        poincare_distance v w)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between v u w =\n       (poincare_distance v u + poincare_distance u w =\n        poincare_distance v w)", "assume \"w \\<in> unit_disc\""], ["proof (state)\nthis:\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between v u w =\n       (poincare_distance v u + poincare_distance u w =\n        poincare_distance v w)", "hence \"moebius_pt M w \\<in> unit_disc\""], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. moebius_pt M w \\<in> unit_disc", "using \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  w \\<in> unit_disc\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. moebius_pt M w \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  moebius_pt M w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<in> unit_disc \\<Longrightarrow>\n       poincare_between v u w =\n       (poincare_distance v u + poincare_distance u w =\n        poincare_distance v w)", "thus \"?P' v u w\""], ["proof (prove)\nusing this:\n  moebius_pt M w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between v u w =\n    (poincare_distance v u + poincare_distance u w = poincare_distance v w)", "using \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<in> unit_disc\\<close> \\<open>w \\<in> unit_disc\\<close> \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  moebius_pt M w \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. poincare_between v u w =\n    (poincare_distance v u + poincare_distance u w = poincare_distance v w)", "using **[rule_format, of \"moebius_pt M w\"]"], ["proof (prove)\nusing this:\n  moebius_pt M w \\<in> unit_disc\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  unit_disc_fix M\n  moebius_pt M w \\<in> unit_disc \\<Longrightarrow>\n  poincare_between (moebius_pt M v) (moebius_pt M u) (moebius_pt M w) =\n  (poincare_distance (moebius_pt M v) (moebius_pt M u) +\n   poincare_distance (moebius_pt M u) (moebius_pt M w) =\n   poincare_distance (moebius_pt M v) (moebius_pt M w))\n\ngoal (1 subgoal):\n 1. poincare_between v u w =\n    (poincare_distance v u + poincare_distance u w = poincare_distance v w)", "by auto"], ["proof (state)\nthis:\n  poincare_between v u w =\n  (poincare_distance v u + poincare_distance u w = poincare_distance v w)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between v u w =\n     (poincare_distance v u + poincare_distance u w = poincare_distance v w)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between u v w =\n     (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n\ngoal (1 subgoal):\n 1. u \\<noteq> v \\<Longrightarrow>\n    poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between u v w =\n     (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n\ngoal (1 subgoal):\n 1. poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w \\<in> unit_disc \\<longrightarrow>\n     poincare_between u v w =\n     (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between u v w =\n    (poincare_distance u v + poincare_distance v w = poincare_distance u w)", "by simp"], ["proof (state)\nthis:\n  poincare_between u v w =\n  (poincare_distance u v + poincare_distance v w = poincare_distance u w)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Some more properties of h-betweenness.\\<close>"], ["", "text \\<open>Some lemmas proved earlier are proved almost directly using the sum of distances characterization.\\<close>"], ["", "lemma unit_disc_fix_moebius_preserve_poincare_between':\n  assumes \"unit_disc_fix M\" and \"u \\<in> unit_disc\" and \"v \\<in> unit_disc\" and \"w \\<in> unit_disc\"\n  shows \"poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) \\<longleftrightarrow>\n         poincare_between u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "using poincare_between_sum_distances"], ["proof (prove)\nusing this:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   ?w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between ?u ?v ?w =\n                    (poincare_distance ?u ?v + poincare_distance ?v ?w =\n                     poincare_distance ?u ?w)\n\ngoal (1 subgoal):\n 1. poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M w) =\n    poincare_between u v w", "by simp"], ["", "lemma conjugate_preserve_poincare_between':\n  assumes \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"w \\<in> unit_disc\"\n  shows \"poincare_between (conjugate u) (conjugate v) (conjugate w) \\<longleftrightarrow> poincare_between u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "using assms"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "using poincare_between_sum_distances"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  w \\<in> unit_disc\n  \\<lbrakk>?u \\<in> unit_disc; ?v \\<in> unit_disc;\n   ?w \\<in> unit_disc\\<rbrakk>\n  \\<Longrightarrow> poincare_between ?u ?v ?w =\n                    (poincare_distance ?u ?v + poincare_distance ?v ?w =\n                     poincare_distance ?u ?w)\n\ngoal (1 subgoal):\n 1. poincare_between (conjugate u) (conjugate v) (conjugate w) =\n    poincare_between u v w", "by simp"], ["", "text \\<open>There is a unique point on a ray on the given distance from the given starting point\\<close>"], ["", "lemma unique_poincare_distance_on_ray:\n  assumes \"d \\<ge> 0\" \"u \\<noteq> v\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\"\n  assumes \"y \\<in> unit_disc\" \"poincare_distance u y = d\" \"poincare_between u v y\"\n  assumes \"z \\<in> unit_disc\" \"poincare_distance u z = d\" \"poincare_between u v z\"\n  shows \"y = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = z", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. y = z", "have \"\\<forall> d y z. d \\<ge> 0 \\<and>\n        y \\<in> unit_disc \\<and> poincare_distance u y = d \\<and> poincare_between u v y \\<and>\n        z \\<in> unit_disc \\<and> poincare_distance u z = d \\<and> poincare_between u v z \\<longrightarrow> y = z\" (is \"?P u v\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>d y z.\n       0 \\<le> d \\<and>\n       y \\<in> unit_disc \\<and>\n       poincare_distance u y = d \\<and>\n       poincare_between u v y \\<and>\n       z \\<in> unit_disc \\<and>\n       poincare_distance u z = d \\<and>\n       poincare_between u v z \\<longrightarrow>\n       y = z", "proof (rule wlog_positive_x_axis[where P=\"?P\"])"], ["proof (state)\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "fix x"], ["proof (state)\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "assume x: \"is_real x\" \"0 < Re x\" \"Re x < 1\""], ["proof (state)\nthis:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "hence \"x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "using complex.expand[of x 0]"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  Re x = Re 0 \\<and> Im x = Im 0 \\<Longrightarrow> x = 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> 0\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "hence *: \"poincare_line 0\\<^sub>h (of_complex x) = x_axis\""], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "using x poincare_line_0_real_is_x_axis[of \"of_complex x\"]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  is_real x\n  0 < Re x\n  Re x < 1\n  \\<lbrakk>of_complex x \\<in> circline_set x_axis;\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "unfolding circline_set_x_axis"], ["proof (prove)\nusing this:\n  x \\<noteq> 0\n  is_real x\n  0 < Re x\n  Re x < 1\n  \\<lbrakk>of_complex x\n           \\<in> of_complex ` {x. is_real x} \\<union> {\\<infinity>\\<^sub>h};\n   of_complex x \\<noteq> 0\\<^sub>h;\n   of_complex x \\<noteq> \\<infinity>\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (1 subgoal):\n 1. poincare_line 0\\<^sub>h (of_complex x) = x_axis", "by auto"], ["proof (state)\nthis:\n  poincare_line 0\\<^sub>h (of_complex x) = x_axis\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "have \"of_complex x \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "using x"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. of_complex x \\<in> unit_disc", "by (auto simp add: cmod_eq_Re)"], ["proof (state)\nthis:\n  of_complex x \\<in> unit_disc\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "have \"arg x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arg x = 0", "using x"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n\ngoal (1 subgoal):\n 1. arg x = 0", "using arg_0_iff"], ["proof (prove)\nusing this:\n  is_real x\n  0 < Re x\n  Re x < 1\n  (?z \\<noteq> 0 \\<and> arg ?z = 0) = (is_real ?z \\<and> 0 < Re ?z)\n\ngoal (1 subgoal):\n 1. arg x = 0", "by blast"], ["proof (state)\nthis:\n  arg x = 0\n\ngoal (5 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z\n 5. \\<And>x.\n       \\<lbrakk>is_real x; 0 < Re x; Re x < 1\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h y = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance 0\\<^sub>h z = d \\<and>\n                            poincare_between 0\\<^sub>h (of_complex x)\n                             z \\<longrightarrow>\n                            y = z", "show \"?P 0\\<^sub>h (of_complex x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>d y z.\n       0 \\<le> d \\<and>\n       y \\<in> unit_disc \\<and>\n       poincare_distance 0\\<^sub>h y = d \\<and>\n       poincare_between 0\\<^sub>h (of_complex x) y \\<and>\n       z \\<in> unit_disc \\<and>\n       poincare_distance 0\\<^sub>h z = d \\<and>\n       poincare_between 0\\<^sub>h (of_complex x) z \\<longrightarrow>\n       y = z", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "fix y z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "assume \"y \\<in> unit_disc\" \"z \\<in> unit_disc\""], ["proof (state)\nthis:\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "then"], ["proof (chain)\npicking this:\n  y \\<in> unit_disc\n  z \\<in> unit_disc", "obtain y' z' where yz: \"y = of_complex y'\" \"z = of_complex z'\""], ["proof (prove)\nusing this:\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (\\<And>y' z'.\n        \\<lbrakk>y = of_complex y'; z = of_complex z'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using inf_or_of_complex[of y] inf_or_of_complex[of z]"], ["proof (prove)\nusing this:\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n  y = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. y = of_complex x)\n  z = \\<infinity>\\<^sub>h \\<or> (\\<exists>x. z = of_complex x)\n\ngoal (1 subgoal):\n 1. (\\<And>y' z'.\n        \\<lbrakk>y = of_complex y'; z = of_complex z'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y = of_complex y'\n  z = of_complex z'\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "assume betw: \"poincare_between 0\\<^sub>h (of_complex x) y\"  \"poincare_between 0\\<^sub>h (of_complex x) z\""], ["proof (state)\nthis:\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "hence \"y \\<noteq> 0\\<^sub>h\" \"z \\<noteq> 0\\<^sub>h\""], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0\\<^sub>h &&& z \\<noteq> 0\\<^sub>h", "using \\<open>x \\<noteq> 0\\<close> \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>y \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n  x \\<noteq> 0\n  of_complex x \\<in> unit_disc\n  y \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0\\<^sub>h &&& z \\<noteq> 0\\<^sub>h", "using poincare_between_sandwich[of \"0\\<^sub>h\" \"of_complex x\"]"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n  x \\<noteq> 0\n  of_complex x \\<in> unit_disc\n  y \\<in> unit_disc\n  \\<lbrakk>0\\<^sub>h \\<in> unit_disc; of_complex x \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> 0\\<^sub>h = of_complex x\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0\\<^sub>h &&& z \\<noteq> 0\\<^sub>h", "using of_complex_zero_iff[of x]"], ["proof (prove)\nusing this:\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n  x \\<noteq> 0\n  of_complex x \\<in> unit_disc\n  y \\<in> unit_disc\n  \\<lbrakk>0\\<^sub>h \\<in> unit_disc; of_complex x \\<in> unit_disc;\n   poincare_between 0\\<^sub>h (of_complex x) 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> 0\\<^sub>h = of_complex x\n  (of_complex x = 0\\<^sub>h) = (x = 0)\n\ngoal (1 subgoal):\n 1. y \\<noteq> 0\\<^sub>h &&& z \\<noteq> 0\\<^sub>h", "by force+"], ["proof (state)\nthis:\n  y \\<noteq> 0\\<^sub>h\n  z \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "hence \"arg y' = 0\" \"cmod y' \\<ge> cmod x\" \"arg z' = 0\" \"cmod z' \\<ge> cmod x\""], ["proof (prove)\nusing this:\n  y \\<noteq> 0\\<^sub>h\n  z \\<noteq> 0\\<^sub>h\n\ngoal (1 subgoal):\n 1. (arg y' = 0 &&& cmod x \\<le> cmod y') &&&\n    arg z' = 0 &&& cmod x \\<le> cmod z'", "using poincare_between_0uv[of \"of_complex x\" y] poincare_between_0uv[of \"of_complex x\" z]"], ["proof (prove)\nusing this:\n  y \\<noteq> 0\\<^sub>h\n  z \\<noteq> 0\\<^sub>h\n  \\<lbrakk>of_complex x \\<in> unit_disc; y \\<in> unit_disc;\n   of_complex x \\<noteq> 0\\<^sub>h; y \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) y =\n                    (let u' = to_complex (of_complex x); v' = to_complex y\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  \\<lbrakk>of_complex x \\<in> unit_disc; z \\<in> unit_disc;\n   of_complex x \\<noteq> 0\\<^sub>h; z \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) z =\n                    (let u' = to_complex (of_complex x); v' = to_complex z\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n\ngoal (1 subgoal):\n 1. (arg y' = 0 &&& cmod x \\<le> cmod y') &&&\n    arg z' = 0 &&& cmod x \\<le> cmod z'", "using \\<open>of_complex x \\<in> unit_disc\\<close> \\<open>x \\<noteq> 0\\<close> \\<open>arg x = 0\\<close> \\<open>y \\<in> unit_disc\\<close> \\<open>z \\<in> unit_disc\\<close> betw yz"], ["proof (prove)\nusing this:\n  y \\<noteq> 0\\<^sub>h\n  z \\<noteq> 0\\<^sub>h\n  \\<lbrakk>of_complex x \\<in> unit_disc; y \\<in> unit_disc;\n   of_complex x \\<noteq> 0\\<^sub>h; y \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) y =\n                    (let u' = to_complex (of_complex x); v' = to_complex y\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  \\<lbrakk>of_complex x \\<in> unit_disc; z \\<in> unit_disc;\n   of_complex x \\<noteq> 0\\<^sub>h; z \\<noteq> 0\\<^sub>h\\<rbrakk>\n  \\<Longrightarrow> poincare_between 0\\<^sub>h (of_complex x) z =\n                    (let u' = to_complex (of_complex x); v' = to_complex z\n                     in arg u' = arg v' \\<and> cmod u' \\<le> cmod v')\n  of_complex x \\<in> unit_disc\n  x \\<noteq> 0\n  arg x = 0\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n  poincare_between 0\\<^sub>h (of_complex x) y\n  poincare_between 0\\<^sub>h (of_complex x) z\n  y = of_complex y'\n  z = of_complex z'\n\ngoal (1 subgoal):\n 1. (arg y' = 0 &&& cmod x \\<le> cmod y') &&&\n    arg z' = 0 &&& cmod x \\<le> cmod z'", "by (simp_all add: Let_def)"], ["proof (state)\nthis:\n  arg y' = 0\n  cmod x \\<le> cmod y'\n  arg z' = 0\n  cmod x \\<le> cmod z'\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "hence *: \"is_real y'\" \"is_real z'\" \"Re y' > 0\" \"Re z' > 0\""], ["proof (prove)\nusing this:\n  arg y' = 0\n  cmod x \\<le> cmod y'\n  arg z' = 0\n  cmod x \\<le> cmod z'\n\ngoal (1 subgoal):\n 1. (is_real y' &&& is_real z') &&& 0 < Re y' &&& 0 < Re z'", "using arg_0_iff[of y'] arg_0_iff[of z'] x \\<open>y \\<noteq> 0\\<^sub>h\\<close> \\<open>z \\<noteq> 0\\<^sub>h\\<close> yz"], ["proof (prove)\nusing this:\n  arg y' = 0\n  cmod x \\<le> cmod y'\n  arg z' = 0\n  cmod x \\<le> cmod z'\n  (y' \\<noteq> 0 \\<and> arg y' = 0) = (is_real y' \\<and> 0 < Re y')\n  (z' \\<noteq> 0 \\<and> arg z' = 0) = (is_real z' \\<and> 0 < Re z')\n  is_real x\n  0 < Re x\n  Re x < 1\n  y \\<noteq> 0\\<^sub>h\n  z \\<noteq> 0\\<^sub>h\n  y = of_complex y'\n  z = of_complex z'\n\ngoal (1 subgoal):\n 1. (is_real y' &&& is_real z') &&& 0 < Re y' &&& 0 < Re z'", "by auto"], ["proof (state)\nthis:\n  is_real y'\n  is_real z'\n  0 < Re y'\n  0 < Re z'\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "assume \"poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y\" \"0 \\<le> poincare_distance 0\\<^sub>h y\""], ["proof (state)\nthis:\n  poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y\n  0 \\<le> poincare_distance 0\\<^sub>h y\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance 0\\<^sub>h y; y \\<in> unit_disc;\n        poincare_between 0\\<^sub>h (of_complex x) y; z \\<in> unit_disc;\n        poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y;\n        poincare_between 0\\<^sub>h (of_complex x) z\\<rbrakk>\n       \\<Longrightarrow> y = z", "thus \"y = z\""], ["proof (prove)\nusing this:\n  poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y\n  0 \\<le> poincare_distance 0\\<^sub>h y\n\ngoal (1 subgoal):\n 1. y = z", "using * yz \\<open>y \\<in> unit_disc\\<close> \\<open>z \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y\n  0 \\<le> poincare_distance 0\\<^sub>h y\n  is_real y'\n  is_real z'\n  0 < Re y'\n  0 < Re z'\n  y = of_complex y'\n  z = of_complex z'\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. y = z", "using unique_x_axis_poincare_distance_positive[of \"poincare_distance 0\\<^sub>h y\"]"], ["proof (prove)\nusing this:\n  poincare_distance 0\\<^sub>h z = poincare_distance 0\\<^sub>h y\n  0 \\<le> poincare_distance 0\\<^sub>h y\n  is_real y'\n  is_real z'\n  0 < Re y'\n  0 < Re z'\n  y = of_complex y'\n  z = of_complex z'\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n  0 \\<le> poincare_distance 0\\<^sub>h y \\<Longrightarrow>\n  \\<exists>!z.\n     is_real z \\<and>\n     0 \\<le> Re z \\<and>\n     Re z < 1 \\<and>\n     poincare_distance 0\\<^sub>h (of_complex z) =\n     poincare_distance 0\\<^sub>h y\n\ngoal (1 subgoal):\n 1. y = z", "by (auto simp add: cmod_eq_Re unit_disc_to_complex_inj)"], ["proof (state)\nthis:\n  y = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance 0\\<^sub>h y = d \\<and>\n     poincare_between 0\\<^sub>h (of_complex x) y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance 0\\<^sub>h z = d \\<and>\n     poincare_between 0\\<^sub>h (of_complex x) z \\<longrightarrow>\n     y = z\n\ngoal (4 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. u \\<in> unit_disc\n 2. v \\<in> unit_disc\n 3. u \\<noteq> v\n 4. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "show \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<in> unit_disc &&& v \\<in> unit_disc &&& u \\<noteq> v", "by fact+"], ["proof (state)\nthis:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "fix M u v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "assume *: \"unit_disc_fix M\" \"u \\<in> unit_disc\" \"v \\<in> unit_disc\" \"u \\<noteq> v\""], ["proof (state)\nthis:\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "assume **: \"?P (moebius_pt M u) (moebius_pt M v)\""], ["proof (state)\nthis:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance (moebius_pt M u) y = d \\<and>\n     poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance (moebius_pt M u) z = d \\<and>\n     poincare_between (moebius_pt M u) (moebius_pt M v) z \\<longrightarrow>\n     y = z\n\ngoal (1 subgoal):\n 1. \\<And>M u v.\n       \\<lbrakk>unit_disc_fix M; u \\<in> unit_disc; v \\<in> unit_disc;\n        u \\<noteq> v;\n        \\<forall>d y z.\n           0 \\<le> d \\<and>\n           y \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) y = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v) y \\<and>\n           z \\<in> unit_disc \\<and>\n           poincare_distance (moebius_pt M u) z = d \\<and>\n           poincare_between (moebius_pt M u) (moebius_pt M v)\n            z \\<longrightarrow>\n           y = z\\<rbrakk>\n       \\<Longrightarrow> \\<forall>d y z.\n                            0 \\<le> d \\<and>\n                            y \\<in> unit_disc \\<and>\n                            poincare_distance u y = d \\<and>\n                            poincare_between u v y \\<and>\n                            z \\<in> unit_disc \\<and>\n                            poincare_distance u z = d \\<and>\n                            poincare_between u v z \\<longrightarrow>\n                            y = z", "show \"?P u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>d y z.\n       0 \\<le> d \\<and>\n       y \\<in> unit_disc \\<and>\n       poincare_distance u y = d \\<and>\n       poincare_between u v y \\<and>\n       z \\<in> unit_disc \\<and>\n       poincare_distance u z = d \\<and>\n       poincare_between u v z \\<longrightarrow>\n       y = z", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "fix d y z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "assume ***: \"0 \\<le> poincare_distance u y\"\n             \"y \\<in> unit_disc\" \"poincare_between u v y\"\n             \"z \\<in> unit_disc\" \"poincare_between u v z\"\n             \"poincare_distance u z = poincare_distance u y\""], ["proof (state)\nthis:\n  0 \\<le> poincare_distance u y\n  y \\<in> unit_disc\n  poincare_between u v y\n  z \\<in> unit_disc\n  poincare_between u v z\n  poincare_distance u z = poincare_distance u y\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "let ?Mu = \"moebius_pt M u\" and ?Mv = \"moebius_pt M v\" and ?My = \"moebius_pt M y\" and ?Mz = \"moebius_pt M z\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "have \"?Mu \\<in> unit_disc\" \"?Mv \\<in> unit_disc\" \"?My \\<in> unit_disc\" \"?Mz \\<in> unit_disc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (moebius_pt M u \\<in> unit_disc &&& moebius_pt M v \\<in> unit_disc) &&&\n    moebius_pt M y \\<in> unit_disc &&& moebius_pt M z \\<in> unit_disc", "using \\<open>u \\<in> unit_disc\\<close> \\<open>v \\<in> unit_disc\\<close> \\<open>y \\<in> unit_disc\\<close> \\<open>z \\<in> unit_disc\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. (moebius_pt M u \\<in> unit_disc &&& moebius_pt M v \\<in> unit_disc) &&&\n    moebius_pt M y \\<in> unit_disc &&& moebius_pt M z \\<in> unit_disc", "using \\<open>unit_disc_fix M\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  y \\<in> unit_disc\n  z \\<in> unit_disc\n  unit_disc_fix M\n\ngoal (1 subgoal):\n 1. (moebius_pt M u \\<in> unit_disc &&& moebius_pt M v \\<in> unit_disc) &&&\n    moebius_pt M y \\<in> unit_disc &&& moebius_pt M z \\<in> unit_disc", "by auto"], ["proof (state)\nthis:\n  moebius_pt M u \\<in> unit_disc\n  moebius_pt M v \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n  moebius_pt M z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "hence \"?My = ?Mz\""], ["proof (prove)\nusing this:\n  moebius_pt M u \\<in> unit_disc\n  moebius_pt M v \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n  moebius_pt M z \\<in> unit_disc\n\ngoal (1 subgoal):\n 1. moebius_pt M y = moebius_pt M z", "using * ***"], ["proof (prove)\nusing this:\n  moebius_pt M u \\<in> unit_disc\n  moebius_pt M v \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n  moebius_pt M z \\<in> unit_disc\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  0 \\<le> poincare_distance u y\n  y \\<in> unit_disc\n  poincare_between u v y\n  z \\<in> unit_disc\n  poincare_between u v z\n  poincare_distance u z = poincare_distance u y\n\ngoal (1 subgoal):\n 1. moebius_pt M y = moebius_pt M z", "using **[rule_format, of \"poincare_distance ?Mu ?My\" ?My ?Mz]"], ["proof (prove)\nusing this:\n  moebius_pt M u \\<in> unit_disc\n  moebius_pt M v \\<in> unit_disc\n  moebius_pt M y \\<in> unit_disc\n  moebius_pt M z \\<in> unit_disc\n  unit_disc_fix M\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  u \\<noteq> v\n  0 \\<le> poincare_distance u y\n  y \\<in> unit_disc\n  poincare_between u v y\n  z \\<in> unit_disc\n  poincare_between u v z\n  poincare_distance u z = poincare_distance u y\n  0 \\<le> poincare_distance (moebius_pt M u) (moebius_pt M y) \\<and>\n  moebius_pt M y \\<in> unit_disc \\<and>\n  poincare_distance (moebius_pt M u) (moebius_pt M y) =\n  poincare_distance (moebius_pt M u) (moebius_pt M y) \\<and>\n  poincare_between (moebius_pt M u) (moebius_pt M v) (moebius_pt M y) \\<and>\n  moebius_pt M z \\<in> unit_disc \\<and>\n  poincare_distance (moebius_pt M u) (moebius_pt M z) =\n  poincare_distance (moebius_pt M u) (moebius_pt M y) \\<and>\n  poincare_between (moebius_pt M u) (moebius_pt M v)\n   (moebius_pt M z) \\<Longrightarrow>\n  moebius_pt M y = moebius_pt M z\n\ngoal (1 subgoal):\n 1. moebius_pt M y = moebius_pt M z", "by simp"], ["proof (state)\nthis:\n  moebius_pt M y = moebius_pt M z\n\ngoal (1 subgoal):\n 1. \\<And>d y z.\n       \\<lbrakk>0 \\<le> poincare_distance u y; y \\<in> unit_disc;\n        poincare_between u v y; z \\<in> unit_disc;\n        poincare_distance u z = poincare_distance u y;\n        poincare_between u v z\\<rbrakk>\n       \\<Longrightarrow> y = z", "thus \"y = z\""], ["proof (prove)\nusing this:\n  moebius_pt M y = moebius_pt M z\n\ngoal (1 subgoal):\n 1. y = z", "using bij_moebius_pt[of M]"], ["proof (prove)\nusing this:\n  moebius_pt M y = moebius_pt M z\n  bij (moebius_pt M)\n\ngoal (1 subgoal):\n 1. y = z", "unfolding bij_def inj_on_def"], ["proof (prove)\nusing this:\n  moebius_pt M y = moebius_pt M z\n  (\\<forall>x\\<in>UNIV.\n      \\<forall>y\\<in>UNIV.\n         moebius_pt M x = moebius_pt M y \\<longrightarrow> x = y) \\<and>\n  surj (moebius_pt M)\n\ngoal (1 subgoal):\n 1. y = z", "by blast"], ["proof (state)\nthis:\n  y = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance u y = d \\<and>\n     poincare_between u v y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance u z = d \\<and>\n     poincare_between u v z \\<longrightarrow>\n     y = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance u y = d \\<and>\n     poincare_between u v y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance u z = d \\<and>\n     poincare_between u v z \\<longrightarrow>\n     y = z\n\ngoal (1 subgoal):\n 1. y = z", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance u y = d \\<and>\n     poincare_between u v y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance u z = d \\<and>\n     poincare_between u v z \\<longrightarrow>\n     y = z\n\ngoal (1 subgoal):\n 1. y = z", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>d y z.\n     0 \\<le> d \\<and>\n     y \\<in> unit_disc \\<and>\n     poincare_distance u y = d \\<and>\n     poincare_between u v y \\<and>\n     z \\<in> unit_disc \\<and>\n     poincare_distance u z = d \\<and>\n     poincare_between u v z \\<longrightarrow>\n     y = z\n  0 \\<le> d\n  u \\<noteq> v\n  u \\<in> unit_disc\n  v \\<in> unit_disc\n  y \\<in> unit_disc\n  poincare_distance u y = d\n  poincare_between u v y\n  z \\<in> unit_disc\n  poincare_distance u z = d\n  poincare_between u v z\n\ngoal (1 subgoal):\n 1. y = z", "by auto"], ["proof (state)\nthis:\n  y = z\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}