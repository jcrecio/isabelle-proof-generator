{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL_to_DRA/af.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL_to_DRA", "problem_names": ["lemma af_decompose:\n  \"af (\\<phi> and \\<psi>) w = (af \\<phi> w) and (af \\<psi> w)\"\n  \"af (\\<phi> or \\<psi>) w = (af \\<phi> w) or (af \\<psi> w)\"", "lemma af_simps[simp]:\n  \"af true w = true\"\n  \"af false w = false\"\n  \"af (X \\<phi>) (x#xs) = af \\<phi> (xs)\"", "lemma af_F:\n  \"af (F \\<phi>) w = Or (F \\<phi> # map (af \\<phi>) (suffixes w))\"", "lemma af_G:\n  \"af (G \\<phi>) w = And (G \\<phi> # map (af \\<phi>) (suffixes w))\"", "lemma af_U:\n  \"af (\\<phi> U \\<psi>) (x#xs) = (af (\\<phi> U \\<psi>) xs and af \\<phi> (x#xs)) or af \\<psi> (x#xs)\"", "lemma af_respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>\"", "lemma af_respectfulness':\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af \\<phi> w \\<longrightarrow>\\<^sub>P af \\<psi> w\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af \\<phi> w \\<equiv>\\<^sub>P af \\<psi> w\"", "lemma af_nested_propos:\n  \"nested_propos (af_letter \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"", "lemma af\\<^sub>G_decompose:\n  \"af\\<^sub>G (\\<phi> and \\<psi>) w = (af\\<^sub>G \\<phi> w) and (af\\<^sub>G \\<psi> w)\"\n  \"af\\<^sub>G (\\<phi> or \\<psi>) w = (af\\<^sub>G \\<phi> w) or (af\\<^sub>G \\<psi> w)\"", "lemma af\\<^sub>G_simps[simp]:\n  \"af\\<^sub>G true w = true\"\n  \"af\\<^sub>G false w = false\"\n  \"af\\<^sub>G (G \\<phi>) w = G \\<phi>\"\n  \"af\\<^sub>G (X \\<phi>) (x#xs) = af\\<^sub>G \\<phi> (xs)\"", "lemma af\\<^sub>G_F:\n  \"af\\<^sub>G (F \\<phi>) w = Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes w))\"", "lemma af\\<^sub>G_U:\n  \"af\\<^sub>G (\\<phi> U \\<psi>) (x#xs) = (af\\<^sub>G (\\<phi> U \\<psi>) xs and af\\<^sub>G \\<phi> (x#xs)) or af\\<^sub>G \\<psi> (x#xs)\"", "lemma af\\<^sub>G_subsequence_U:\n  \"af\\<^sub>G (\\<phi> U \\<psi>) (w [0 \\<rightarrow> Suc n]) = (af\\<^sub>G (\\<phi> U \\<psi>) (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi> (w [0 \\<rightarrow> Suc n])) or af\\<^sub>G \\<psi> (w [0 \\<rightarrow> Suc n])\"", "lemma af_G_respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_G_letter \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>\"", "lemma af_G_respectfulness':\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af\\<^sub>G \\<phi> w \\<longrightarrow>\\<^sub>P af\\<^sub>G \\<psi> w\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af\\<^sub>G \\<phi> w \\<equiv>\\<^sub>P af\\<^sub>G \\<psi> w\"", "lemma af_G_nested_propos:\n  \"nested_propos (af_G_letter \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"", "lemma af_G_letter_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter \\<phi> \\<nu>\"", "lemma af\\<^sub>G_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w\"", "lemma af\\<^sub>G_sat_core_generalized:\n  \"Only_G \\<G> \\<Longrightarrow> i \\<le> j \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (w [0 \\<rightarrow> i]) \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (w [0 \\<rightarrow> j])\"", "lemma af\\<^sub>G_eval\\<^sub>G:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G (eval\\<^sub>G \\<G> \\<phi>) w \\<longleftrightarrow> \\<G> \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)\"", "lemma af\\<^sub>G_keeps_F_and_S:\n  assumes \"ys \\<noteq> []\"\n  assumes \"S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> ys\"\n  shows \"S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)\"", "lemma G_af_simp[simp]:\n  \"\\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>\"", "lemma G_af\\<^sub>G_simp[simp]:\n  \"\\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>\"", "lemma af_G_letter_free_F:\n  \"\\<^bold>G \\<phi> = {} \\<Longrightarrow> \\<^bold>G (af_letter \\<phi> \\<nu>) = {}\"\n  \"\\<^bold>G \\<phi> = {} \\<Longrightarrow> \\<^bold>G (af_G_letter \\<phi> \\<nu>) = {}\"", "lemma af_G_free:\n  assumes \"\\<^bold>G \\<phi> = {}\"\n  shows \"af \\<phi> w = af\\<^sub>G \\<phi> w\"", "lemma af_equals_af\\<^sub>G_base_cases:\n  \"af true w = af\\<^sub>G true w\"\n  \"af false w = af\\<^sub>G false w\"\n  \"af p(a) w = af\\<^sub>G p(a) w\"\n  \"af (np(a)) w = af\\<^sub>G (np(a)) w\"", "lemma af_implies_af\\<^sub>G:\n  \"S \\<Turnstile>\\<^sub>P af \\<phi> w \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w\"", "lemma af_implies_af\\<^sub>G_2:\n  \"w \\<Turnstile> af \\<phi> xs \\<Longrightarrow> w \\<Turnstile> af\\<^sub>G \\<phi> xs\"", "lemma af\\<^sub>G_implies_af_eval\\<^sub>G':\n  assumes \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)\"\n  assumes \"\\<And>\\<psi>. G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>\"\n  assumes \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length w \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\" \n  shows   \"S \\<Turnstile>\\<^sub>P af \\<phi> w\"", "lemma af\\<^sub>G_implies_af_eval\\<^sub>G:\n  assumes \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (w [0\\<rightarrow>j]))\"\n  assumes \"\\<And>\\<psi>. G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>\"\n  assumes \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i \\<le> j \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (w [i \\<rightarrow> j]))\" \n  shows \"S \\<Turnstile>\\<^sub>P af \\<phi> (w [0\\<rightarrow>j])\"", "lemma af_ltl_continuation:\n  \"(w \\<frown> w') \\<Turnstile> \\<phi> \\<longleftrightarrow> w' \\<Turnstile> af \\<phi> w\"", "lemma af_ltl_continuation_suffix:\n  \"w \\<Turnstile> \\<phi> \\<longleftrightarrow> suffix i w \\<Turnstile> af \\<phi> (w[0 \\<rightarrow> i])\"", "lemma af_G_ltl_continuation:\n  \"\\<forall>\\<psi> \\<in> \\<^bold>G \\<phi>. w' \\<Turnstile> \\<psi> = (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow> (w \\<frown> w') \\<Turnstile> \\<phi> \\<longleftrightarrow> w' \\<Turnstile> af\\<^sub>G \\<phi> w\"", "lemma af\\<^sub>G_ltl_continuation_suffix:\n  \"\\<forall>\\<psi> \\<in> \\<^bold>G \\<phi>. w \\<Turnstile> \\<psi> = (suffix i w) \\<Turnstile> \\<psi> \\<Longrightarrow> w \\<Turnstile> \\<phi> \\<longleftrightarrow> suffix i w \\<Turnstile> af\\<^sub>G \\<phi> (w [0 \\<rightarrow> i])\"", "lemma af_letter_alt_def:\n  \"af_letter \\<phi> \\<nu> = step (Unf \\<phi>) \\<nu>\"\n  \"af_G_letter \\<phi> \\<nu> = step (Unf\\<^sub>G \\<phi>) \\<nu>\"", "lemma af_to_af_opt:\n  \"Unf (af \\<phi> w) = af\\<^sub>\\<UU> (Unf \\<phi>) w\"\n  \"Unf\\<^sub>G (af\\<^sub>G \\<phi> w) = af\\<^sub>G\\<^sub>\\<UU> (Unf\\<^sub>G \\<phi>) w\"", "lemma af_equiv:\n  \"af \\<phi> (w @ [\\<nu>]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) w) \\<nu>\"", "lemma af_equiv':\n  \"af \\<phi> (w [0 \\<rightarrow> Suc i]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) (w [0 \\<rightarrow> i])) (w i)\"", "lemma respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_G_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>\"", "lemma nested_propos:\n  \"nested_propos (step \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (Unf \\<phi>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (Unf\\<^sub>G \\<phi>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (af_letter_opt \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (af_G_letter_opt \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"", "lemma af_G_letter_opt_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter_opt \\<phi> \\<nu>\"", "lemma af_G_letter_sat_core_lifted:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep (af_G_letter_abs \\<phi> \\<nu>)\"", "lemma af_G_letter_opt_sat_core_lifted:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep (\\<up>af\\<^sub>G\\<^sub>\\<UU> \\<phi> \\<nu>)\"", "lemma af_G_letter_abs_opt_split:\n  \"\\<up>Unf\\<^sub>G (\\<up>step \\<Phi> \\<nu>) = \\<up>af\\<^sub>G\\<^sub>\\<UU> \\<Phi> \\<nu>\"", "lemma af_unfold: \n  \"\\<up>af = (\\<lambda>\\<phi> \\<nu>. \\<up>step (\\<up>Unf \\<phi>) \\<nu>)\"", "lemma af_opt_unfold: \n  \"\\<up>af\\<^sub>\\<UU> = (\\<lambda>\\<phi> \\<nu>. \\<up>Unf (\\<up>step \\<phi> \\<nu>))\"", "lemma af_abs_equiv:\n  \"foldl \\<up>af \\<psi> (xs @ [x]) = \\<up>step (foldl \\<up>af\\<^sub>\\<UU> (\\<up>Unf \\<psi>) xs) x\"", "lemma Rep_Abs_equiv: \n  \"Rep (Abs \\<phi>) \\<equiv>\\<^sub>P \\<phi>\"", "lemma Rep_step: \n  \"Rep (\\<up>step \\<Phi> \\<nu>) \\<equiv>\\<^sub>P step (Rep \\<Phi>) \\<nu>\"", "lemma step_\\<G>:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P step \\<phi> \\<nu>\"", "lemma Unf\\<^sub>G_\\<G>:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Unf\\<^sub>G \\<phi>\""], "translations": [["", "lemma af_decompose:\n  \"af (\\<phi> and \\<psi>) w = (af \\<phi> w) and (af \\<psi> w)\"\n  \"af (\\<phi> or \\<psi>) w = (af \\<phi> w) or (af \\<psi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (\\<phi> and \\<psi>) w = af \\<phi> w and af \\<psi> w &&&\n    af (\\<phi> or \\<psi>) w = af \\<phi> w or af \\<psi> w", "by (induction w rule: rev_induct) simp_all"], ["", "lemma af_simps[simp]:\n  \"af true w = true\"\n  \"af false w = false\"\n  \"af (X \\<phi>) (x#xs) = af \\<phi> (xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af true w = true &&&\n    af false w = false &&& af (X \\<phi>) (x # xs) = af \\<phi> xs", "by (induction w) simp_all"], ["", "lemma af_F:\n  \"af (F \\<phi>) w = Or (F \\<phi> # map (af \\<phi>) (suffixes w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (F \\<phi>) w = Or (F \\<phi> # map (af \\<phi>) (suffixes w))", "proof (induction w)"], ["proof (state)\ngoal (2 subgoals):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (F \\<phi>) w =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "case (Cons x xs)"], ["proof (state)\nthis:\n  af (F \\<phi>) xs = Or (F \\<phi> # map (af \\<phi>) (suffixes xs))\n\ngoal (2 subgoals):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (F \\<phi>) w =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "have \"af (F \\<phi>) (x # xs) = af (af_letter (F \\<phi>) x) xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (F \\<phi>) (x # xs) = af (af_letter (F \\<phi>) x) xs", "by simp"], ["proof (state)\nthis:\n  af (F \\<phi>) (x # xs) = af (af_letter (F \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (F \\<phi>) w =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "also"], ["proof (state)\nthis:\n  af (F \\<phi>) (x # xs) = af (af_letter (F \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (F \\<phi>) w =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "have \"\\<dots> = (af (F \\<phi>) xs) or (af (af_letter (\\<phi>) x) xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (af_letter (F \\<phi>) x) xs =\n    af (F \\<phi>) xs or af (af_letter \\<phi> x) xs", "unfolding af_decompose[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. af (af_letter (F \\<phi>) x) xs = af (F \\<phi> or af_letter \\<phi> x) xs", "by simp"], ["proof (state)\nthis:\n  af (af_letter (F \\<phi>) x) xs =\n  af (F \\<phi>) xs or af (af_letter \\<phi> x) xs\n\ngoal (2 subgoals):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (F \\<phi>) w =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "finally"], ["proof (chain)\npicking this:\n  af (F \\<phi>) (x # xs) = af (F \\<phi>) xs or af (af_letter \\<phi> x) xs", "show ?case"], ["proof (prove)\nusing this:\n  af (F \\<phi>) (x # xs) = af (F \\<phi>) xs or af (af_letter \\<phi> x) xs\n\ngoal (1 subgoal):\n 1. af (F \\<phi>) (x # xs) =\n    Or (F \\<phi> # map (af \\<phi>) (suffixes (x # xs)))", "using Cons Or_append_syntactic"], ["proof (prove)\nusing this:\n  af (F \\<phi>) (x # xs) = af (F \\<phi>) xs or af (af_letter \\<phi> x) xs\n  af (F \\<phi>) xs = Or (F \\<phi> # map (af \\<phi>) (suffixes xs))\n  ?xs \\<noteq> [] \\<Longrightarrow> Or (?xs @ ?ys) = Or (Or ?xs # ?ys)\n\ngoal (1 subgoal):\n 1. af (F \\<phi>) (x # xs) =\n    Or (F \\<phi> # map (af \\<phi>) (suffixes (x # xs)))", "by force"], ["proof (state)\nthis:\n  af (F \\<phi>) (x # xs) =\n  Or (F \\<phi> # map (af \\<phi>) (suffixes (x # xs)))\n\ngoal (1 subgoal):\n 1. af (F \\<phi>) [] = Or (F \\<phi> # map (af \\<phi>) (suffixes []))", "qed simp"], ["", "lemma af_G:\n  \"af (G \\<phi>) w = And (G \\<phi> # map (af \\<phi>) (suffixes w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (G \\<phi>) w = And (G \\<phi> # map (af \\<phi>) (suffixes w))", "proof (induction w)"], ["proof (state)\ngoal (2 subgoals):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (G \\<phi>) w =\n       And (G \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (G \\<phi>) (a # w) =\n       And (G \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "case (Cons x xs)"], ["proof (state)\nthis:\n  af (G \\<phi>) xs = And (G \\<phi> # map (af \\<phi>) (suffixes xs))\n\ngoal (2 subgoals):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (G \\<phi>) w =\n       And (G \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (G \\<phi>) (a # w) =\n       And (G \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "have \"af (G \\<phi>) (x # xs) = af (af_letter (G \\<phi>) x) xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (G \\<phi>) (x # xs) = af (af_letter (G \\<phi>) x) xs", "by simp"], ["proof (state)\nthis:\n  af (G \\<phi>) (x # xs) = af (af_letter (G \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (G \\<phi>) w =\n       And (G \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (G \\<phi>) (a # w) =\n       And (G \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "also"], ["proof (state)\nthis:\n  af (G \\<phi>) (x # xs) = af (af_letter (G \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (G \\<phi>) w =\n       And (G \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (G \\<phi>) (a # w) =\n       And (G \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "have \"\\<dots> = (af (G \\<phi>) xs) and (af (af_letter (\\<phi>) x) xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (af_letter (G \\<phi>) x) xs =\n    af (G \\<phi>) xs and af (af_letter \\<phi> x) xs", "unfolding af_decompose[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. af (af_letter (G \\<phi>) x) xs = af (G \\<phi> and af_letter \\<phi> x) xs", "by simp"], ["proof (state)\nthis:\n  af (af_letter (G \\<phi>) x) xs =\n  af (G \\<phi>) xs and af (af_letter \\<phi> x) xs\n\ngoal (2 subgoals):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af (G \\<phi>) w =\n       And (G \\<phi> # map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af (G \\<phi>) (a # w) =\n       And (G \\<phi> # map (af \\<phi>) (suffixes (a # w)))", "finally"], ["proof (chain)\npicking this:\n  af (G \\<phi>) (x # xs) = af (G \\<phi>) xs and af (af_letter \\<phi> x) xs", "show ?case"], ["proof (prove)\nusing this:\n  af (G \\<phi>) (x # xs) = af (G \\<phi>) xs and af (af_letter \\<phi> x) xs\n\ngoal (1 subgoal):\n 1. af (G \\<phi>) (x # xs) =\n    And (G \\<phi> # map (af \\<phi>) (suffixes (x # xs)))", "using Cons Or_append_syntactic"], ["proof (prove)\nusing this:\n  af (G \\<phi>) (x # xs) = af (G \\<phi>) xs and af (af_letter \\<phi> x) xs\n  af (G \\<phi>) xs = And (G \\<phi> # map (af \\<phi>) (suffixes xs))\n  ?xs \\<noteq> [] \\<Longrightarrow> Or (?xs @ ?ys) = Or (Or ?xs # ?ys)\n\ngoal (1 subgoal):\n 1. af (G \\<phi>) (x # xs) =\n    And (G \\<phi> # map (af \\<phi>) (suffixes (x # xs)))", "by force"], ["proof (state)\nthis:\n  af (G \\<phi>) (x # xs) =\n  And (G \\<phi> # map (af \\<phi>) (suffixes (x # xs)))\n\ngoal (1 subgoal):\n 1. af (G \\<phi>) [] = And (G \\<phi> # map (af \\<phi>) (suffixes []))", "qed simp"], ["", "lemma af_U:\n  \"af (\\<phi> U \\<psi>) (x#xs) = (af (\\<phi> U \\<psi>) xs and af \\<phi> (x#xs)) or af \\<psi> (x#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af (\\<phi> U \\<psi>) (x # xs) =\n    af (\\<phi> U \\<psi>) xs and af \\<phi> (x # xs) or af \\<psi> (x # xs)", "by (induction xs) (simp add: af_decompose)+"], ["", "lemma af_respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>", "fix \\<phi>"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>", "have \"af_letter \\<phi> \\<nu> = subst \\<phi> (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af_letter \\<phi> \\<nu> =\n    subst \\<phi> (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  af_letter \\<phi> \\<nu> =\n  subst \\<phi> (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))\n\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>", "}"], ["proof (state)\nthis:\n  af_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))\n\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>", "thus \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\"\n    and \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>\""], ["proof (prove)\nusing this:\n  af_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))\n\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>)", "using subst_respects_ltl_prop_entailment"], ["proof (prove)\nusing this:\n  af_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_letter \\<chi> \\<nu>))\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<longrightarrow>\\<^sub>P subst ?\\<psi> ?m\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<equiv>\\<^sub>P subst ?\\<psi> ?m\n\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>)", "by metis+"], ["proof (state)\nthis:\n  \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n  af_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter \\<psi> \\<nu>\n  \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n  af_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter \\<psi> \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma af_respectfulness':\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af \\<phi> w \\<longrightarrow>\\<^sub>P af \\<psi> w\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af \\<phi> w \\<equiv>\\<^sub>P af \\<psi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af \\<phi> w \\<longrightarrow>\\<^sub>P af \\<psi> w) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af \\<phi> w \\<equiv>\\<^sub>P af \\<psi> w)", "by (induction w arbitrary: \\<phi> \\<psi>) (insert af_respectfulness, fastforce+)"], ["", "lemma af_nested_propos:\n  \"nested_propos (af_letter \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nested_propos (af_letter \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>", "by (induction \\<phi>) auto"], ["", "subsection \\<open>@{term af\\<^sub>G}\\<close>"], ["", "fun af_G_letter :: \"'a ltl \\<Rightarrow> 'a set \\<Rightarrow> 'a ltl\"\nwhere\n  \"af_G_letter true \\<nu> = true\"\n| \"af_G_letter false \\<nu> = false\"\n| \"af_G_letter p(a) \\<nu> = (if a \\<in> \\<nu> then true else false)\"\n| \"af_G_letter (np(a)) \\<nu>  = (if a \\<notin> \\<nu> then true else false)\"\n| \"af_G_letter (\\<phi> and \\<psi>) \\<nu> = (af_G_letter \\<phi> \\<nu>) and (af_G_letter \\<psi> \\<nu>)\"\n| \"af_G_letter (\\<phi> or \\<psi>) \\<nu> = (af_G_letter \\<phi> \\<nu>) or (af_G_letter \\<psi> \\<nu>)\"\n| \"af_G_letter (X \\<phi>) \\<nu> = \\<phi>\"\n| \"af_G_letter (G \\<phi>) \\<nu> = (G \\<phi>)\"\n| \"af_G_letter (F \\<phi>) \\<nu> = (F \\<phi>) or (af_G_letter \\<phi> \\<nu>)\"\n| \"af_G_letter (\\<phi> U \\<psi>) \\<nu> = (\\<phi> U \\<psi> and (af_G_letter \\<phi> \\<nu>)) or (af_G_letter \\<psi> \\<nu>)\""], ["", "abbreviation af\\<^sub>G :: \"'a ltl \\<Rightarrow> 'a set list \\<Rightarrow> 'a ltl\"\nwhere\n  \"af\\<^sub>G \\<phi> w \\<equiv> (foldl af_G_letter \\<phi> w)\""], ["", "lemma af\\<^sub>G_decompose:\n  \"af\\<^sub>G (\\<phi> and \\<psi>) w = (af\\<^sub>G \\<phi> w) and (af\\<^sub>G \\<psi> w)\"\n  \"af\\<^sub>G (\\<phi> or \\<psi>) w = (af\\<^sub>G \\<phi> w) or (af\\<^sub>G \\<psi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> and \\<psi>) w =\n    af\\<^sub>G \\<phi> w and af\\<^sub>G \\<psi> w &&&\n    af\\<^sub>G (\\<phi> or \\<psi>) w =\n    af\\<^sub>G \\<phi> w or af\\<^sub>G \\<psi> w", "by (induction w rule: rev_induct) simp_all"], ["", "lemma af\\<^sub>G_simps[simp]:\n  \"af\\<^sub>G true w = true\"\n  \"af\\<^sub>G false w = false\"\n  \"af\\<^sub>G (G \\<phi>) w = G \\<phi>\"\n  \"af\\<^sub>G (X \\<phi>) (x#xs) = af\\<^sub>G \\<phi> (xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (af\\<^sub>G true w = true &&& af\\<^sub>G false w = false) &&&\n    af\\<^sub>G (G \\<phi>) w = G \\<phi> &&&\n    af\\<^sub>G (X \\<phi>) (x # xs) = af\\<^sub>G \\<phi> xs", "by (induction w) simp_all"], ["", "lemma af\\<^sub>G_F:\n  \"af\\<^sub>G (F \\<phi>) w = Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (F \\<phi>) w =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes w))", "proof (induction w)"], ["proof (state)\ngoal (2 subgoals):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af\\<^sub>G (F \\<phi>) w =\n       Or (F \\<phi> #\n           map (af\\<^sub>G \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af\\<^sub>G (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (a # w)))", "case (Cons x xs)"], ["proof (state)\nthis:\n  af\\<^sub>G (F \\<phi>) xs =\n  Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes xs))\n\ngoal (2 subgoals):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af\\<^sub>G (F \\<phi>) w =\n       Or (F \\<phi> #\n           map (af\\<^sub>G \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af\\<^sub>G (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (a # w)))", "have \"af\\<^sub>G (F \\<phi>) (x # xs) = af\\<^sub>G (af_G_letter (F \\<phi>) x) xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (F \\<phi>) (x # xs) =\n    af\\<^sub>G (af_G_letter (F \\<phi>) x) xs", "by simp"], ["proof (state)\nthis:\n  af\\<^sub>G (F \\<phi>) (x # xs) = af\\<^sub>G (af_G_letter (F \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af\\<^sub>G (F \\<phi>) w =\n       Or (F \\<phi> #\n           map (af\\<^sub>G \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af\\<^sub>G (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (a # w)))", "also"], ["proof (state)\nthis:\n  af\\<^sub>G (F \\<phi>) (x # xs) = af\\<^sub>G (af_G_letter (F \\<phi>) x) xs\n\ngoal (2 subgoals):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af\\<^sub>G (F \\<phi>) w =\n       Or (F \\<phi> #\n           map (af\\<^sub>G \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af\\<^sub>G (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (a # w)))", "have \"\\<dots> = (af\\<^sub>G (F \\<phi>) xs) or (af\\<^sub>G (af_G_letter (\\<phi>) x) xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (af_G_letter (F \\<phi>) x) xs =\n    af\\<^sub>G (F \\<phi>) xs or af\\<^sub>G (af_G_letter \\<phi> x) xs", "unfolding af\\<^sub>G_decompose[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (af_G_letter (F \\<phi>) x) xs =\n    af\\<^sub>G (F \\<phi> or af_G_letter \\<phi> x) xs", "by simp"], ["proof (state)\nthis:\n  af\\<^sub>G (af_G_letter (F \\<phi>) x) xs =\n  af\\<^sub>G (F \\<phi>) xs or af\\<^sub>G (af_G_letter \\<phi> x) xs\n\ngoal (2 subgoals):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))\n 2. \\<And>a w.\n       af\\<^sub>G (F \\<phi>) w =\n       Or (F \\<phi> #\n           map (af\\<^sub>G \\<phi>) (suffixes w)) \\<Longrightarrow>\n       af\\<^sub>G (F \\<phi>) (a # w) =\n       Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (a # w)))", "finally"], ["proof (chain)\npicking this:\n  af\\<^sub>G (F \\<phi>) (x # xs) =\n  af\\<^sub>G (F \\<phi>) xs or af\\<^sub>G (af_G_letter \\<phi> x) xs", "show ?case"], ["proof (prove)\nusing this:\n  af\\<^sub>G (F \\<phi>) (x # xs) =\n  af\\<^sub>G (F \\<phi>) xs or af\\<^sub>G (af_G_letter \\<phi> x) xs\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (F \\<phi>) (x # xs) =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (x # xs)))", "using Cons Or_append_syntactic"], ["proof (prove)\nusing this:\n  af\\<^sub>G (F \\<phi>) (x # xs) =\n  af\\<^sub>G (F \\<phi>) xs or af\\<^sub>G (af_G_letter \\<phi> x) xs\n  af\\<^sub>G (F \\<phi>) xs =\n  Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes xs))\n  ?xs \\<noteq> [] \\<Longrightarrow> Or (?xs @ ?ys) = Or (Or ?xs # ?ys)\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (F \\<phi>) (x # xs) =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (x # xs)))", "by force"], ["proof (state)\nthis:\n  af\\<^sub>G (F \\<phi>) (x # xs) =\n  Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (x # xs)))\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (F \\<phi>) [] =\n    Or (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes []))", "qed simp"], ["", "lemma af\\<^sub>G_U:\n  \"af\\<^sub>G (\\<phi> U \\<psi>) (x#xs) = (af\\<^sub>G (\\<phi> U \\<psi>) xs and af\\<^sub>G \\<phi> (x#xs)) or af\\<^sub>G \\<psi> (x#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (x # xs) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     xs and af\\<^sub>G \\<phi> (x # xs) or af\\<^sub>G \\<psi> (x # xs)", "by (simp add: af\\<^sub>G_decompose)"], ["", "lemma af\\<^sub>G_subsequence_U:\n  \"af\\<^sub>G (\\<phi> U \\<psi>) (w [0 \\<rightarrow> Suc n]) = (af\\<^sub>G (\\<phi> U \\<psi>) (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi> (w [0 \\<rightarrow> Suc n])) or af\\<^sub>G \\<psi> (w [0 \\<rightarrow> Suc n])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n(prefix (Suc n) w) or af\\<^sub>G \\<psi> (prefix (Suc n) w)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n(prefix (Suc n) w) or af\\<^sub>G \\<psi> (prefix (Suc n) w)", "have \"\\<And>n. w [0 \\<rightarrow> Suc n] = w 0 # w [1 \\<rightarrow> Suc n]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. prefix (Suc n) w = w 0 # w [1 \\<rightarrow> Suc n]", "using subsequence_append[of w 1]"], ["proof (prove)\nusing this:\n  prefix (1 + ?j) w = prefix 1 w @ w [1 \\<rightarrow> 1 + ?j]\n\ngoal (1 subgoal):\n 1. \\<And>n. prefix (Suc n) w = w 0 # w [1 \\<rightarrow> Suc n]", "by (simp add: subsequence_def upt_conv_Cons)"], ["proof (state)\nthis:\n  prefix (Suc ?n) w = w 0 # w [1 \\<rightarrow> Suc ?n]\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n(prefix (Suc n) w) or af\\<^sub>G \\<psi> (prefix (Suc n) w)", "thus ?thesis"], ["proof (prove)\nusing this:\n  prefix (Suc ?n) w = w 0 # w [1 \\<rightarrow> Suc ?n]\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n(prefix (Suc n) w) or af\\<^sub>G \\<psi> (prefix (Suc n) w)", "using af\\<^sub>G_U"], ["proof (prove)\nusing this:\n  prefix (Suc ?n) w = w 0 # w [1 \\<rightarrow> Suc ?n]\n  af\\<^sub>G (?\\<phi> U ?\\<psi>) (?x # ?xs) =\n  af\\<^sub>G (?\\<phi> U ?\\<psi>)\n   ?xs and af\\<^sub>G ?\\<phi> (?x # ?xs) or af\\<^sub>G ?\\<psi> (?x # ?xs)\n\ngoal (1 subgoal):\n 1. af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n    af\\<^sub>G (\\<phi> U \\<psi>)\n     (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n(prefix (Suc n) w) or af\\<^sub>G \\<psi> (prefix (Suc n) w)", "by metis"], ["proof (state)\nthis:\n  af\\<^sub>G (\\<phi> U \\<psi>) (prefix (Suc n) w) =\n  af\\<^sub>G (\\<phi> U \\<psi>)\n   (w [1 \\<rightarrow> Suc n]) and af\\<^sub>G \\<phi>\n                                    (prefix (Suc n)\nw) or af\\<^sub>G \\<psi> (prefix (Suc n) w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma af_G_respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_G_letter \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_G_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n    af_G_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n    af_G_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>", "fix \\<phi>"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n    af_G_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>", "have \"af_G_letter \\<phi> \\<nu> = subst \\<phi> (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af_G_letter \\<phi> \\<nu> =\n    subst \\<phi> (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  af_G_letter \\<phi> \\<nu> =\n  subst \\<phi> (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))\n\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n    af_G_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>", "}"], ["proof (state)\nthis:\n  af_G_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))\n\ngoal (2 subgoals):\n 1. \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n    af_G_letter \\<psi> \\<nu>\n 2. \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n    af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>", "thus \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_G_letter \\<psi> \\<nu>\"\n    and \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>\""], ["proof (prove)\nusing this:\n  af_G_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))\n\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_G_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>)", "using subst_respects_ltl_prop_entailment"], ["proof (prove)\nusing this:\n  af_G_letter ?\\<phi>'2 \\<nu> =\n  subst ?\\<phi>'2 (\\<lambda>\\<chi>. Some (af_G_letter \\<chi> \\<nu>))\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<longrightarrow>\\<^sub>P subst ?\\<psi> ?m\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<equiv>\\<^sub>P subst ?\\<psi> ?m\n\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n     af_G_letter \\<psi> \\<nu>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>)", "by metis+"], ["proof (state)\nthis:\n  \\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n  af_G_letter \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n  af_G_letter \\<psi> \\<nu>\n  \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n  af_G_letter \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter \\<psi> \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma af_G_respectfulness':\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af\\<^sub>G \\<phi> w \\<longrightarrow>\\<^sub>P af\\<^sub>G \\<psi> w\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af\\<^sub>G \\<phi> w \\<equiv>\\<^sub>P af\\<^sub>G \\<psi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af\\<^sub>G \\<phi> w \\<longrightarrow>\\<^sub>P af\\<^sub>G \\<psi> w) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     af\\<^sub>G \\<phi> w \\<equiv>\\<^sub>P af\\<^sub>G \\<psi> w)", "by (induction w arbitrary: \\<phi> \\<psi>) (insert af_G_respectfulness, fastforce+)"], ["", "lemma af_G_nested_propos:\n  \"nested_propos (af_G_letter \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nested_propos (af_G_letter \\<phi> \\<nu>)\n    \\<subseteq> nested_propos \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma af_G_letter_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter \\<phi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter \\<phi> \\<nu>", "by (induction \\<phi>) (simp_all, blast+)"], ["", "lemma af\\<^sub>G_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w", "using af_G_letter_sat_core"], ["proof (prove)\nusing this:\n  \\<lbrakk>Only_G ?\\<G>; ?\\<G> \\<Turnstile>\\<^sub>P ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<G> \\<Turnstile>\\<^sub>P af_G_letter ?\\<phi> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w", "by (induction w rule: rev_induct) (simp_all, blast)"], ["", "lemma af\\<^sub>G_sat_core_generalized:\n  \"Only_G \\<G> \\<Longrightarrow> i \\<le> j \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (w [0 \\<rightarrow> i]) \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (w [0 \\<rightarrow> j])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; i \\<le> j;\n     \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (prefix i w)\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P\n                      af\\<^sub>G \\<phi> (prefix j w)", "by (metis af\\<^sub>G_sat_core foldl_append subsequence_append le_add_diff_inverse)"], ["", "lemma af\\<^sub>G_eval\\<^sub>G:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G (eval\\<^sub>G \\<G> \\<phi>) w \\<longleftrightarrow> \\<G> \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Only_G \\<G> \\<Longrightarrow>\n    \\<G> \\<Turnstile>\\<^sub>P af\\<^sub>G (eval\\<^sub>G \\<G> \\<phi>) w =\n    \\<G> \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)", "by (induction \\<phi>) (simp_all add: eval\\<^sub>G_prop_entailment af\\<^sub>G_decompose)"], ["", "lemma af\\<^sub>G_keeps_F_and_S:\n  assumes \"ys \\<noteq> []\"\n  assumes \"S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> ys\"\n  shows \"S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)", "have \"af\\<^sub>G \\<phi> ys \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af\\<^sub>G \\<phi> ys\n    \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))", "using assms(1)"], ["proof (prove)\nusing this:\n  ys \\<noteq> []\n\ngoal (1 subgoal):\n 1. af\\<^sub>G \\<phi> ys\n    \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))", "unfolding suffixes_append map_append"], ["proof (prove)\nusing this:\n  ys \\<noteq> []\n\ngoal (1 subgoal):\n 1. af\\<^sub>G \\<phi> ys\n    \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes ys) @\n               map (af\\<^sub>G \\<phi>)\n                (map (\\<lambda>zs. zs @ ys) (suffixes xs)))", "by (induction ys rule: List.list_nonempty_induct) auto"], ["proof (state)\nthis:\n  af\\<^sub>G \\<phi> ys\n  \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)", "thus ?thesis"], ["proof (prove)\nusing this:\n  af\\<^sub>G \\<phi> ys\n  \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)", "unfolding af\\<^sub>G_F Or_prop_entailment"], ["proof (prove)\nusing this:\n  af\\<^sub>G \\<phi> ys\n  \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))\n\ngoal (1 subgoal):\n 1. Bex (set (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys))))\n     ((\\<Turnstile>\\<^sub>P) S)", "using assms(2)"], ["proof (prove)\nusing this:\n  af\\<^sub>G \\<phi> ys\n  \\<in> set (map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys)))\n  S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> ys\n\ngoal (1 subgoal):\n 1. Bex (set (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes (xs @ ys))))\n     ((\\<Turnstile>\\<^sub>P) S)", "by force"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af\\<^sub>G (F \\<phi>) (xs @ ys)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>G-Subformulae Simplification\\<close>"], ["", "lemma G_af_simp[simp]:\n  \"\\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "fix \\<phi> \\<nu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "have \"\\<^bold>G (af_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^bold>G (af_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  \\<^bold>G (af_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "}"], ["proof (state)\nthis:\n  \\<^bold>G (af_letter ?\\<phi>'2 ?\\<nu>2) = \\<^bold>G ?\\<phi>'2\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<^bold>G (af_letter ?\\<phi>'2 ?\\<nu>2) = \\<^bold>G ?\\<phi>'2\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>", "by (induction w arbitrary: \\<phi> rule: rev_induct) fastforce+"], ["proof (state)\nthis:\n  \\<^bold>G (af \\<phi> w) = \\<^bold>G \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma G_af\\<^sub>G_simp[simp]:\n  \"\\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "fix \\<phi> \\<nu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "have \"\\<^bold>G (af_G_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^bold>G (af_G_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  \\<^bold>G (af_G_letter \\<phi> \\<nu>) = \\<^bold>G \\<phi>\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "}"], ["proof (state)\nthis:\n  \\<^bold>G (af_G_letter ?\\<phi>'2 ?\\<nu>2) = \\<^bold>G ?\\<phi>'2\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<^bold>G (af_G_letter ?\\<phi>'2 ?\\<nu>2) = \\<^bold>G ?\\<phi>'2\n\ngoal (1 subgoal):\n 1. \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>", "by (induction w arbitrary: \\<phi> rule: rev_induct) fastforce+"], ["proof (state)\nthis:\n  \\<^bold>G (af\\<^sub>G \\<phi> w) = \\<^bold>G \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Relation between af and $af_G$\\<close>"], ["", "lemma af_G_letter_free_F:\n  \"\\<^bold>G \\<phi> = {} \\<Longrightarrow> \\<^bold>G (af_letter \\<phi> \\<nu>) = {}\"\n  \"\\<^bold>G \\<phi> = {} \\<Longrightarrow> \\<^bold>G (af_G_letter \\<phi> \\<nu>) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<^bold>G \\<phi> = {} \\<Longrightarrow>\n     \\<^bold>G (af_letter \\<phi> \\<nu>) = {}) &&&\n    (\\<^bold>G \\<phi> = {} \\<Longrightarrow>\n     \\<^bold>G (af_G_letter \\<phi> \\<nu>) = {})", "by (induction \\<phi>) auto"], ["", "lemma af_G_free:\n  assumes \"\\<^bold>G \\<phi> = {}\"\n  shows \"af \\<phi> w = af\\<^sub>G \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af \\<phi> w = af\\<^sub>G \\<phi> w", "using assms"], ["proof (prove)\nusing this:\n  \\<^bold>G \\<phi> = {}\n\ngoal (1 subgoal):\n 1. af \\<phi> w = af\\<^sub>G \\<phi> w", "proof (induction w arbitrary: \\<phi>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []\n 2. \\<And>a w \\<phi>.\n       \\<lbrakk>\\<And>\\<phi>.\n                   \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n                   af \\<phi> w = af\\<^sub>G \\<phi> w;\n        \\<^bold>G \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> af \\<phi> (a # w) = af\\<^sub>G \\<phi> (a # w)", "case (Cons x xs)"], ["proof (state)\nthis:\n  \\<^bold>G ?\\<phi> = {} \\<Longrightarrow>\n  af ?\\<phi> xs = af\\<^sub>G ?\\<phi> xs\n  \\<^bold>G \\<phi> = {}\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []\n 2. \\<And>a w \\<phi>.\n       \\<lbrakk>\\<And>\\<phi>.\n                   \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n                   af \\<phi> w = af\\<^sub>G \\<phi> w;\n        \\<^bold>G \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> af \\<phi> (a # w) = af\\<^sub>G \\<phi> (a # w)", "hence \"af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs\""], ["proof (prove)\nusing this:\n  \\<^bold>G ?\\<phi> = {} \\<Longrightarrow>\n  af ?\\<phi> xs = af\\<^sub>G ?\\<phi> xs\n  \\<^bold>G \\<phi> = {}\n\ngoal (1 subgoal):\n 1. af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs", "using af_G_letter_free_F[OF Cons.prems, THEN Cons.IH]"], ["proof (prove)\nusing this:\n  \\<^bold>G ?\\<phi> = {} \\<Longrightarrow>\n  af ?\\<phi> xs = af\\<^sub>G ?\\<phi> xs\n  \\<^bold>G \\<phi> = {}\n  af (af_letter \\<phi> ?\\<nu>1) xs =\n  af\\<^sub>G (af_letter \\<phi> ?\\<nu>1) xs\n  af (af_G_letter \\<phi> ?\\<nu>1) xs =\n  af\\<^sub>G (af_G_letter \\<phi> ?\\<nu>1) xs\n\ngoal (1 subgoal):\n 1. af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs", "by blast"], ["proof (state)\nthis:\n  af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []\n 2. \\<And>a w \\<phi>.\n       \\<lbrakk>\\<And>\\<phi>.\n                   \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n                   af \\<phi> w = af\\<^sub>G \\<phi> w;\n        \\<^bold>G \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> af \\<phi> (a # w) = af\\<^sub>G \\<phi> (a # w)", "moreover"], ["proof (state)\nthis:\n  af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []\n 2. \\<And>a w \\<phi>.\n       \\<lbrakk>\\<And>\\<phi>.\n                   \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n                   af \\<phi> w = af\\<^sub>G \\<phi> w;\n        \\<^bold>G \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> af \\<phi> (a # w) = af\\<^sub>G \\<phi> (a # w)", "have \"af_letter \\<phi> x = af_G_letter \\<phi> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af_letter \\<phi> x = af_G_letter \\<phi> x", "using Cons.prems"], ["proof (prove)\nusing this:\n  \\<^bold>G \\<phi> = {}\n\ngoal (1 subgoal):\n 1. af_letter \\<phi> x = af_G_letter \\<phi> x", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  af_letter \\<phi> x = af_G_letter \\<phi> x\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []\n 2. \\<And>a w \\<phi>.\n       \\<lbrakk>\\<And>\\<phi>.\n                   \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n                   af \\<phi> w = af\\<^sub>G \\<phi> w;\n        \\<^bold>G \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> af \\<phi> (a # w) = af\\<^sub>G \\<phi> (a # w)", "ultimately"], ["proof (chain)\npicking this:\n  af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs\n  af_letter \\<phi> x = af_G_letter \\<phi> x", "show ?case"], ["proof (prove)\nusing this:\n  af (af_letter \\<phi> x) xs = af\\<^sub>G (af_letter \\<phi> x) xs\n  af_letter \\<phi> x = af_G_letter \\<phi> x\n\ngoal (1 subgoal):\n 1. af \\<phi> (x # xs) = af\\<^sub>G \\<phi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  af \\<phi> (x # xs) = af\\<^sub>G \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<^bold>G \\<phi> = {} \\<Longrightarrow>\n       af \\<phi> [] = af\\<^sub>G \\<phi> []", "qed simp"], ["", "lemma af_equals_af\\<^sub>G_base_cases:\n  \"af true w = af\\<^sub>G true w\"\n  \"af false w = af\\<^sub>G false w\"\n  \"af p(a) w = af\\<^sub>G p(a) w\"\n  \"af (np(a)) w = af\\<^sub>G (np(a)) w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (af true w = af\\<^sub>G true w &&& af false w = af\\<^sub>G false w) &&&\n    af p(a) w = af\\<^sub>G p(a) w &&& af (np(a)) w = af\\<^sub>G (np(a)) w", "by (auto intro: af_G_free)"], ["", "lemma af_implies_af\\<^sub>G:\n  \"S \\<Turnstile>\\<^sub>P af \\<phi> w \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w \\<Longrightarrow>\n    S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> w", "proof (induction w arbitrary: S rule: rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "case (snoc x xs)"], ["proof (state)\nthis:\n  ?S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n  ?S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs\n  S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "hence \"S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x\""], ["proof (prove)\nusing this:\n  ?S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n  ?S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs\n  S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "hence \"S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x", "using af_respectfulness(1) snoc.IH"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_letter ?\\<psi> ?\\<nu>\n  ?S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n  ?S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x", "unfolding ltl_prop_implies_def"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af_letter (af \\<phi> xs) x\n  \\<forall>\\<A>.\n     \\<A> \\<Turnstile>\\<^sub>P ?\\<phi> \\<longrightarrow>\n     \\<A> \\<Turnstile>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  \\<forall>\\<A>.\n     \\<A> \\<Turnstile>\\<^sub>P af_letter ?\\<phi> ?\\<nu> \\<longrightarrow>\n     \\<A> \\<Turnstile>\\<^sub>P af_letter ?\\<psi> ?\\<nu>\n  ?S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n  ?S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x", "by blast"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "moreover"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "{"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "fix \\<phi>"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "have \"\\<And>\\<nu>. S \\<Turnstile>\\<^sub>P af_letter \\<phi> \\<nu> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af_G_letter \\<phi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       S \\<Turnstile>\\<^sub>P af_letter \\<phi> \\<nu> \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af_G_letter \\<phi> \\<nu>", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter \\<phi> ?\\<nu> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af_G_letter \\<phi> ?\\<nu>\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "}"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af_letter ?\\<phi>'3 ?\\<nu> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af_G_letter ?\\<phi>'3 ?\\<nu>\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []\n 2. \\<And>x xs S.\n       \\<lbrakk>\\<And>S.\n                   S \\<Turnstile>\\<^sub>P af \\<phi> xs \\<Longrightarrow>\n                   S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> xs;\n        S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "ultimately"], ["proof (chain)\npicking this:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n  S \\<Turnstile>\\<^sub>P af_letter ?\\<phi>'3 ?\\<nu> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af_G_letter ?\\<phi>'3 ?\\<nu>", "show ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n  S \\<Turnstile>\\<^sub>P af_letter ?\\<phi>'3 ?\\<nu> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af_G_letter ?\\<phi>'3 ?\\<nu>\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "using snoc.prems foldl_append"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af_letter (af\\<^sub>G \\<phi> xs) x\n  S \\<Turnstile>\\<^sub>P af_letter ?\\<phi>'3 ?\\<nu> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af_G_letter ?\\<phi>'3 ?\\<nu>\n  S \\<Turnstile>\\<^sub>P af \\<phi> (xs @ [x])\n  foldl ?f ?a (?xs @ ?ys) = foldl ?f (foldl ?f ?a ?xs) ?ys\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> (xs @ [x])\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       S \\<Turnstile>\\<^sub>P af \\<phi> [] \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P af\\<^sub>G \\<phi> []", "qed simp"], ["", "lemma af_implies_af\\<^sub>G_2:\n  \"w \\<Turnstile> af \\<phi> xs \\<Longrightarrow> w \\<Turnstile> af\\<^sub>G \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile> af \\<phi> xs \\<Longrightarrow>\n    w \\<Turnstile> af\\<^sub>G \\<phi> xs", "by (metis ltl_prop_implication_implies_ltl_implication af_implies_af\\<^sub>G ltl_prop_implies_def)"], ["", "lemma af\\<^sub>G_implies_af_eval\\<^sub>G':\n  assumes \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)\"\n  assumes \"\\<And>\\<psi>. G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>\"\n  assumes \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length w \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\" \n  shows   \"S \\<Turnstile>\\<^sub>P af \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w", "using assms"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "case (LTLGlobal \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "hence \"G \\<phi> \\<in> \\<G>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. G \\<phi> \\<in> \\<G>", "unfolding af\\<^sub>G_simps eval\\<^sub>G.simps"], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P (if G \\<phi> \\<in> \\<G> then true else false)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. G \\<phi> \\<in> \\<G>", "by (cases \"G \\<phi> \\<in> \\<G>\") simp+"], ["proof (state)\nthis:\n  G \\<phi> \\<in> \\<G>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "hence \"S \\<Turnstile>\\<^sub>P G \\<phi>\""], ["proof (prove)\nusing this:\n  G \\<phi> \\<in> \\<G>\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P G \\<phi>", "using LTLGlobal"], ["proof (prove)\nusing this:\n  G \\<phi> \\<in> \\<G>\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P G \\<phi>", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "moreover"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "{"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "fix x"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "assume \"x \\<in> set (map (af \\<phi>) (suffixes w))\""], ["proof (state)\nthis:\n  x \\<in> set (map (af \\<phi>) (suffixes w))\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "then"], ["proof (chain)\npicking this:\n  x \\<in> set (map (af \\<phi>) (suffixes w))", "obtain w' where \"x = af \\<phi> w'\" and \"w' \\<in> set (suffixes w)\""], ["proof (prove)\nusing this:\n  x \\<in> set (map (af \\<phi>) (suffixes w))\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>x = af \\<phi> w'; w' \\<in> set (suffixes w)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = af \\<phi> w'\n  w' \\<in> set (suffixes w)\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "then"], ["proof (chain)\npicking this:\n  x = af \\<phi> w'\n  w' \\<in> set (suffixes w)", "obtain i where \"w' = drop i w\" and \"i < length w\""], ["proof (prove)\nusing this:\n  x = af \\<phi> w'\n  w' \\<in> set (suffixes w)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>w' = drop i w; i < length w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: suffixes_alt_def subsequence_def)"], ["proof (state)\nthis:\n  w' = drop i w\n  i < length w\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "hence \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\""], ["proof (prove)\nusing this:\n  w' = drop i w\n  i < length w\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')", "using LTLGlobal.prems \\<open>G \\<phi> \\<in> \\<G>\\<close>"], ["proof (prove)\nusing this:\n  w' = drop i w\n  i < length w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n  G \\<phi> \\<in> \\<G>\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "hence \"S \\<Turnstile>\\<^sub>P x\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P x", "using LTLGlobal(1)[OF \\<open>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\\<close>] LTLGlobal(3-4) drop_drop"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n  \\<lbrakk>\\<And>\\<psi>.\n              G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n              S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w'\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i w'))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w'\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n  drop ?n (drop ?m ?xs) = drop (?n + ?m) ?xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P x", "unfolding \\<open>x = af \\<phi> w'\\<close> \\<open>w' = drop i w\\<close>"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (drop i w))\n  \\<lbrakk>\\<And>\\<psi>.\n              G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n              S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> ia.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; ia < length (drop i w)\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop ia (drop i w)))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> (drop i w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n  drop ?n (drop ?m ?xs) = drop (?n + ?m) ?xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> (drop i w)", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P x\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> set (map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P ?x2\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (G \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n 9. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n         \\<And>w.\n            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                     eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n             \\<And>\\<psi>.\n                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                S \\<Turnstile>\\<^sub>P G \\<psi>;\n             \\<And>\\<psi> i.\n                \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  eval\\<^sub>G \\<G>\n                                   (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n         S \\<Turnstile>\\<^sub>P\n         eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "ultimately"], ["proof (chain)\npicking this:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n  ?x2 \\<in> set (map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P ?x2", "show ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n  ?x2 \\<in> set (map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P ?x2\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (G \\<phi>) w", "unfolding af_G eval\\<^sub>G_And_map And_prop_entailment"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P G \\<phi>\n  ?x2 \\<in> set (map (af \\<phi>) (suffixes w)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P ?x2\n\ngoal (1 subgoal):\n 1. Ball (set (G \\<phi> # map (af \\<phi>) (suffixes w)))\n     ((\\<Turnstile>\\<^sub>P) S)", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (G \\<phi>) w\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "case (LTLFinal \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))", "obtain x where x_def: \"x \\<in> set (F \\<phi> # map (eval\\<^sub>G \\<G> o af\\<^sub>G \\<phi>) (suffixes w))\" \n      and \"S \\<Turnstile>\\<^sub>P x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> set (F \\<phi> #\n                              map (eval\\<^sub>G \\<G> \\<circ>\n                                   af\\<^sub>G \\<phi>)\n                               (suffixes w));\n         S \\<Turnstile>\\<^sub>P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding Or_prop_entailment af\\<^sub>G_F eval\\<^sub>G_Or_map"], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  Bex (set (map (eval\\<^sub>G \\<G>)\n             (F \\<phi> # map (af\\<^sub>G \\<phi>) (suffixes w))))\n   ((\\<Turnstile>\\<^sub>P) S)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> set (F \\<phi> #\n                              map (eval\\<^sub>G \\<G> \\<circ>\n                                   af\\<^sub>G \\<phi>)\n                               (suffixes w));\n         S \\<Turnstile>\\<^sub>P x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  x \\<in> set (F \\<phi> #\n               map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                (suffixes w))\n  S \\<Turnstile>\\<^sub>P x\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "hence \"\\<exists>y \\<in> set (F \\<phi> # map (af \\<phi>) (suffixes w)). S \\<Turnstile>\\<^sub>P y\""], ["proof (prove)\nusing this:\n  x \\<in> set (F \\<phi> #\n               map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                (suffixes w))\n  S \\<Turnstile>\\<^sub>P x\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n       S \\<Turnstile>\\<^sub>P y", "proof (cases \"x \\<noteq> F \\<phi>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "case True"], ["proof (state)\nthis:\n  x \\<noteq> F \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "then"], ["proof (chain)\npicking this:\n  x \\<noteq> F \\<phi>", "obtain w' where \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\" and \"w' \\<in> set (suffixes w)\""], ["proof (prove)\nusing this:\n  x \\<noteq> F \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w');\n         w' \\<in> set (suffixes w)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using x_def \\<open>S \\<Turnstile>\\<^sub>P x\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> F \\<phi>\n  x \\<in> set (F \\<phi> #\n               map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                (suffixes w))\n  S \\<Turnstile>\\<^sub>P x\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w');\n         w' \\<in> set (suffixes w)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n  w' \\<in> set (suffixes w)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "hence \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length w' \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w'))\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n  w' \\<in> set (suffixes w)\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w'\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w'))", "using LTLFinal.prems"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\n  w' \\<in> set (suffixes w)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w'\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w'))", "by (auto simp add: suffixes_alt_def subsequence_def)"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "have \"\\<And>\\<psi>. G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G \\<psi>)", "using LTLFinal"], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi>.\n       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n       S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G \\<psi>)", "by simp"], ["proof (state)\nthis:\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G ?\\<psi>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G ?\\<psi>)", "have \"S \\<Turnstile>\\<^sub>P af \\<phi> w'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G ?\\<psi>)\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w'", "using LTLFinal.IH[OF \\<open>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w')\\<close>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G ?\\<psi>)\n  \\<lbrakk>\\<And>\\<psi>.\n              G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n              S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w'\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i w'))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w'\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w'", "using assms(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w'\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w'))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (G ?\\<psi>)\n  \\<lbrakk>\\<And>\\<psi>.\n              G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n              S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w'\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i w'))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w'\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> w'", "by blast"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af \\<phi> w'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y\n 2. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "thus ?thesis"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<phi> w'\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n       S \\<Turnstile>\\<^sub>P y", "using \\<open>w' \\<in> set (suffixes w)\\<close>"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<phi> w'\n  w' \\<in> set (suffixes w)\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n       S \\<Turnstile>\\<^sub>P y", "by auto"], ["proof (state)\nthis:\n  \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n     S \\<Turnstile>\\<^sub>P y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> set (F \\<phi> #\n                          map (eval\\<^sub>G \\<G> \\<circ> af\\<^sub>G \\<phi>)\n                           (suffixes w));\n     S \\<Turnstile>\\<^sub>P x; \\<not> x \\<noteq> F \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>set\n(F \\<phi> # map (af \\<phi>) (suffixes w)).\n                         S \\<Turnstile>\\<^sub>P y", "qed simp"], ["proof (state)\nthis:\n  \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n     S \\<Turnstile>\\<^sub>P y\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (F \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "thus ?case"], ["proof (prove)\nusing this:\n  \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n     S \\<Turnstile>\\<^sub>P y\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (F \\<phi>) w", "unfolding af_F Or_prop_entailment eval\\<^sub>G_Or_map"], ["proof (prove)\nusing this:\n  \\<exists>y\\<in>set (F \\<phi> # map (af \\<phi>) (suffixes w)).\n     S \\<Turnstile>\\<^sub>P y\n\ngoal (1 subgoal):\n 1. Bex (set (F \\<phi> # map (af \\<phi>) (suffixes w)))\n     ((\\<Turnstile>\\<^sub>P) S)", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (F \\<phi>) w\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "case (LTLNext \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "proof (cases w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "case (Cons x xs)"], ["proof (state)\nthis:\n  w = x # xs\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "{"], ["proof (state)\nthis:\n  w = x # xs\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "fix \\<psi> i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "assume \"G \\<psi> \\<in> \\<G>\" and \"Suc i < length (x#xs)\""], ["proof (state)\nthis:\n  G \\<psi> \\<in> \\<G>\n  Suc i < length (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "hence \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x#xs)))\""], ["proof (prove)\nusing this:\n  G \\<psi> \\<in> \\<G>\n  Suc i < length (x # xs)\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x # xs)))", "using LTLNext.prems"], ["proof (prove)\nusing this:\n  G \\<psi> \\<in> \\<G>\n  Suc i < length (x # xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x # xs)))", "unfolding Cons"], ["proof (prove)\nusing this:\n  G \\<psi> \\<in> \\<G>\n  Suc i < length (x # xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x # xs)))", "by blast"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x # xs)))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "hence \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i xs))\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop (Suc i) (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i xs))", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "}"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi>2 \\<in> \\<G>; Suc ?i2 < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi>2 (drop ?i2 xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "hence \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length xs \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i xs))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi>2 \\<in> \\<G>; Suc ?i2 < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi>2 (drop ?i2 xs))\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i xs))", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length xs\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n 2. \\<And>a list.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = a # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length xs\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i xs))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "using LTLNext Cons"], ["proof (prove)\nusing this:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length xs\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i xs))\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n  w = x # xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (X \\<phi>) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (X \\<phi>) w", "qed simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (X \\<phi>) w\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "case (LTLUntil \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 U \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 U \\<phi>2) w", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) w", "proof (induction w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "case (Cons x xs)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                       eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n               \\<And>\\<psi>.\n                  G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                  S \\<Turnstile>\\<^sub>P G \\<psi>;\n               \\<And>\\<psi> i.\n                  \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                    eval\\<^sub>G \\<G>\n                                     (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n              \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n   \\<And>w.\n      \\<lbrakk>S \\<Turnstile>\\<^sub>P\n               eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n       \\<And>\\<psi>.\n          G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n          S \\<Turnstile>\\<^sub>P G \\<psi>;\n       \\<And>\\<psi> i.\n          \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n          \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G>\n                             (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                       eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n               \\<And>\\<psi>.\n                  G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                  S \\<Turnstile>\\<^sub>P G \\<psi>;\n               \\<And>\\<psi> i.\n                  \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                    eval\\<^sub>G \\<G>\n                                     (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n              \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n   \\<And>w.\n      \\<lbrakk>S \\<Turnstile>\\<^sub>P\n               eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n       \\<And>\\<psi>.\n          G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n          S \\<Turnstile>\\<^sub>P G \\<psi>;\n       \\<And>\\<psi> i.\n          \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n          \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G>\n                             (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "assume \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\""], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "moreover"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "have \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length (x#xs) \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i (x#xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (x # xs)\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G>\n                          (af\\<^sub>G \\<psi> (drop i (x # xs)))", "using Cons"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                       eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n               \\<And>\\<psi>.\n                  G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                  S \\<Turnstile>\\<^sub>P G \\<psi>;\n               \\<And>\\<psi> i.\n                  \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                    eval\\<^sub>G \\<G>\n                                     (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n              \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n   \\<And>w.\n      \\<lbrakk>S \\<Turnstile>\\<^sub>P\n               eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n       \\<And>\\<psi>.\n          G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n          S \\<Turnstile>\\<^sub>P G \\<psi>;\n       \\<And>\\<psi> i.\n          \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n          \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G>\n                             (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (x # xs)\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G>\n                          (af\\<^sub>G \\<psi> (drop i (x # xs)))", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "ultimately"], ["proof (chain)\npicking this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))", "have \"S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)", "using Cons.prems"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)", "by blast"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "hence ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "unfolding af_U"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<psi> (x # xs)\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P\n    af (\\<phi> U \\<psi>) xs and af \\<phi> (x # xs) or af \\<psi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "}"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "moreover"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "{"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "assume \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\" and \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\""], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "moreover"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "have \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i < length (x#xs) \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i (x#xs)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (x # xs)\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G>\n                          (af\\<^sub>G \\<psi> (drop i (x # xs)))", "using Cons"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                       eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n               \\<And>\\<psi>.\n                  G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                  S \\<Turnstile>\\<^sub>P G \\<psi>;\n               \\<And>\\<psi> i.\n                  \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                    eval\\<^sub>G \\<G>\n                                     (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n              \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n   \\<And>w.\n      \\<lbrakk>S \\<Turnstile>\\<^sub>P\n               eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n       \\<And>\\<psi>.\n          G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n          S \\<Turnstile>\\<^sub>P G \\<psi>;\n       \\<And>\\<psi> i.\n          \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n          \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G>\n                             (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> i.\n       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (x # xs)\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G>\n                          (af\\<^sub>G \\<psi> (drop i (x # xs)))", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "ultimately"], ["proof (chain)\npicking this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))", "have \"S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs)\" and \"S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\""], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs) &&&\n    S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs", "using Cons"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs)\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                       eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n               \\<And>\\<psi>.\n                  G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                  S \\<Turnstile>\\<^sub>P G \\<psi>;\n               \\<And>\\<psi> i.\n                  \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                    eval\\<^sub>G \\<G>\n                                     (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n              \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n   \\<And>w.\n      \\<lbrakk>S \\<Turnstile>\\<^sub>P\n               eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n       \\<And>\\<psi>.\n          G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n          S \\<Turnstile>\\<^sub>P G \\<psi>;\n       \\<And>\\<psi> i.\n          \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n          \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G>\n                             (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length xs\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> ?w\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> ?w);\n   \\<And>\\<psi>.\n      G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length ?w\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi> (drop i ?w))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> ?w\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length (x # xs)\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (drop ?i (x # xs)))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs) &&&\n    S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs", "by (blast, force)"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs)\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "hence ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs)\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "unfolding af_U"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P af \\<phi> (x # xs)\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P\n    af (\\<phi> U \\<psi>) xs and af \\<phi> (x # xs) or af \\<psi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P\n           eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []\n 2. \\<And>a w.\n       \\<lbrakk>\\<lbrakk>\\<And>w.\n                            \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                                     eval\\<^sub>G \\<G>\n(af\\<^sub>G \\<phi> w);\n                             \\<And>\\<psi>.\n                                G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                                S \\<Turnstile>\\<^sub>P G \\<psi>;\n                             \\<And>\\<psi> i.\n                                \\<lbrakk>G \\<psi> \\<in> \\<G>;\n                                 i < length w\\<rbrakk>\n                                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n            eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n        af \\<phi> w;\n                 \\<And>w.\n                    \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n                     \\<And>\\<psi>.\n                        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                        S \\<Turnstile>\\<^sub>P G \\<psi>;\n                     \\<And>\\<psi> i.\n                        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n                 S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                  af (\\<phi> U \\<psi>) w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (a # w));\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length (a # w)\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i (a # w)))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (a # w)", "ultimately"], ["proof (chain)\npicking this:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P\n           eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "show ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P\n           eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "using Cons(4)"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P\n           eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) (x # xs))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "unfolding af\\<^sub>G_U"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (x # xs)) \\<Longrightarrow>\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  \\<lbrakk>S \\<Turnstile>\\<^sub>P\n           eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) xs);\n   S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (x # xs))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n  S \\<Turnstile>\\<^sub>P\n  eval\\<^sub>G \\<G>\n   (af\\<^sub>G (\\<phi> U \\<psi>)\n     xs and af\\<^sub>G \\<phi> (x # xs) or af\\<^sub>G \\<psi> (x # xs))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)", "by auto"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) (x # xs)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>w.\n                \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                         eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> w);\n                 \\<And>\\<psi>.\n                    G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                    S \\<Turnstile>\\<^sub>P G \\<psi>;\n                 \\<And>\\<psi> i.\n                    \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\neval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> w;\n     \\<And>w.\n        \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                 eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> w);\n         \\<And>\\<psi>.\n            G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n            S \\<Turnstile>\\<^sub>P G \\<psi>;\n         \\<And>\\<psi> i.\n            \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n            \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                              eval\\<^sub>G \\<G>\n                               (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<psi> w;\n     S \\<Turnstile>\\<^sub>P\n     eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi> U \\<psi>) []);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length []\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G>\n                           (af\\<^sub>G \\<psi> (drop i []))\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) []", "qed simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (\\<phi> U \\<psi>) w\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "case (LTLProp a)"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(x) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(x) w\n 4. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "thus ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af p(a) w", "proof (cases w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(a) w\n 2. \\<And>aa list.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = aa # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(a) w", "case (Cons x xs)"], ["proof (state)\nthis:\n  w = x # xs\n\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(a) w\n 2. \\<And>aa list.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = aa # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(a) w", "thus ?thesis"], ["proof (prove)\nusing this:\n  w = x # xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af p(a) w", "using LTLProp"], ["proof (prove)\nusing this:\n  w = x # xs\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af p(a) w", "by (cases \"a \\<in> x\") simp+"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af p(a) w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G p(a) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af p(a) w", "qed simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af p(a) w\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "case (LTLPropNeg a)"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>x w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(x)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(x)) w\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "thus ?case"], ["proof (prove)\nusing this:\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (np(a)) w", "proof (cases w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P\n             eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(a)) w\n 2. \\<And>aa list.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = aa # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(a)) w", "case (Cons x xs)"], ["proof (state)\nthis:\n  w = x # xs\n\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P\n             eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(a)) w\n 2. \\<And>aa list.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w));\n        w = aa # list\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(a)) w", "thus ?thesis"], ["proof (prove)\nusing this:\n  w = x # xs\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (np(a)) w", "using LTLPropNeg"], ["proof (prove)\nusing this:\n  w = x # xs\n  S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w)\n  G ?\\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G ?\\<psi>\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i < length w\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G ?\\<psi> (drop ?i w))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af (np(a)) w", "by (cases \"a \\<in> x\") simp+"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (np(a)) w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<Turnstile>\\<^sub>P\n             eval\\<^sub>G \\<G> (af\\<^sub>G (np(a)) w);\n     \\<And>\\<psi>.\n        G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n        S \\<Turnstile>\\<^sub>P G \\<psi>;\n     \\<And>\\<psi> i.\n        \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n        \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                          eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w));\n     w = []\\<rbrakk>\n    \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (np(a)) w", "qed simp"], ["proof (state)\nthis:\n  S \\<Turnstile>\\<^sub>P af (np(a)) w\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G true w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af true w\n 2. \\<And>w.\n       \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                eval\\<^sub>G \\<G> (af\\<^sub>G false w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af false w\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 and \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 and \\<phi>2) w\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                            eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>1 w);\n                    \\<And>\\<psi>.\n                       G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n                       S \\<Turnstile>\\<^sub>P G \\<psi>;\n                    \\<And>\\<psi> i.\n                       \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n                       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n   eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n                   \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>1 w;\n        \\<And>w.\n           \\<lbrakk>S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi>2 w);\n            \\<And>\\<psi>.\n               G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n               S \\<Turnstile>\\<^sub>P G \\<psi>;\n            \\<And>\\<psi> i.\n               \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n               \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                                 eval\\<^sub>G \\<G>\n                                  (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi>2 w;\n        S \\<Turnstile>\\<^sub>P\n        eval\\<^sub>G \\<G> (af\\<^sub>G (\\<phi>1 or \\<phi>2) w);\n        \\<And>\\<psi>.\n           G \\<psi> \\<in> \\<G> \\<Longrightarrow>\n           S \\<Turnstile>\\<^sub>P G \\<psi>;\n        \\<And>\\<psi> i.\n           \\<lbrakk>G \\<psi> \\<in> \\<G>; i < length w\\<rbrakk>\n           \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                             eval\\<^sub>G \\<G>\n                              (af\\<^sub>G \\<psi> (drop i w))\\<rbrakk>\n       \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af (\\<phi>1 or \\<phi>2) w", "qed (unfold af_equals_af\\<^sub>G_base_cases af\\<^sub>G_decompose af_decompose, auto)"], ["", "lemma af\\<^sub>G_implies_af_eval\\<^sub>G:\n  assumes \"S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<phi> (w [0\\<rightarrow>j]))\"\n  assumes \"\\<And>\\<psi>. G \\<psi> \\<in> \\<G> \\<Longrightarrow> S \\<Turnstile>\\<^sub>P G \\<psi>\"\n  assumes \"\\<And>\\<psi> i. G \\<psi> \\<in> \\<G> \\<Longrightarrow> i \\<le> j \\<Longrightarrow> S \\<Turnstile>\\<^sub>P eval\\<^sub>G \\<G> (af\\<^sub>G \\<psi> (w [i \\<rightarrow> j]))\" \n  shows \"S \\<Turnstile>\\<^sub>P af \\<phi> (w [0\\<rightarrow>j])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> (prefix j w)", "using af\\<^sub>G_implies_af_eval\\<^sub>G'[OF assms(1-2), unfolded subsequence_length subsequence_drop] assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>\\<psi>.\n              G \\<psi> \\<in> \\<G> \\<Longrightarrow> G \\<psi> \\<in> \\<G>;\n   \\<And>\\<psi> i.\n      \\<lbrakk>G \\<psi> \\<in> \\<G>; i < j - 0\\<rbrakk>\n      \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                        eval\\<^sub>G \\<G>\n                         (af\\<^sub>G \\<psi>\n                           (w [0 + i \\<rightarrow> j]))\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P af \\<phi> (prefix j w)\n  \\<lbrakk>G ?\\<psi> \\<in> \\<G>; ?i \\<le> j\\<rbrakk>\n  \\<Longrightarrow> S \\<Turnstile>\\<^sub>P\n                    eval\\<^sub>G \\<G>\n                     (af\\<^sub>G ?\\<psi> (w [?i \\<rightarrow> j]))\n\ngoal (1 subgoal):\n 1. S \\<Turnstile>\\<^sub>P af \\<phi> (prefix j w)", "by force"], ["", "subsection \\<open>Continuation\\<close>\n\n\\<comment> \\<open>af fulfills the infinite continuation w' of a word after skipping some finite prefix w.\n    Corresponds to Lemma 7 in arXiv: 1402.3388v2\\<close>"], ["", "lemma af_ltl_continuation:\n  \"(w \\<frown> w') \\<Turnstile> \\<phi> \\<longleftrightarrow> w' \\<Turnstile> af \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> w", "proof (induction w arbitrary: \\<phi> w')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "case (Cons x xs)"], ["proof (state)\nthis:\n  (xs \\<frown> ?w') \\<Turnstile> ?\\<phi> = ?w' \\<Turnstile> af ?\\<phi> xs\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "have \"((x # xs) \\<frown> w') 0 = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((x # xs) \\<frown> w') 0 = x", "unfolding conc_def nth_Cons_0"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if 0 < length (x # xs) then x else w' (0 - length (x # xs))) = x", "by simp"], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') 0 = x\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "moreover"], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') 0 = x\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "have \"suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'", "unfolding suffix_def conc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        if 1 + n < length (x # xs) then (x # xs) ! (1 + n)\n        else w' (1 + n - length (x # xs))) =\n    (\\<lambda>n. if n < length xs then xs ! n else w' (n - length xs))", "by fastforce"], ["proof (state)\nthis:\n  suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "moreover"], ["proof (state)\nthis:\n  suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "{"], ["proof (state)\nthis:\n  suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "fix \\<phi> :: \"'a ltl\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "have \"\\<And>w. w \\<Turnstile> \\<phi> \\<longleftrightarrow> suffix 1 w \\<Turnstile> af_letter \\<phi> (w 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>w.\n       w \\<Turnstile> \\<phi> =\n       suffix 1 w \\<Turnstile> af_letter \\<phi> (w 0)", "by (induction \\<phi>) ((unfold LTL_F_one_step_unfolding LTL_G_one_step_unfolding LTL_U_one_step_unfolding)?, auto)"], ["proof (state)\nthis:\n  ?w \\<Turnstile> \\<phi> = suffix 1 ?w \\<Turnstile> af_letter \\<phi> (?w 0)\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "}"], ["proof (state)\nthis:\n  ?w \\<Turnstile> ?\\<phi>''3 =\n  suffix 1 ?w \\<Turnstile> af_letter ?\\<phi>''3 (?w 0)\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "ultimately"], ["proof (chain)\npicking this:\n  ((x # xs) \\<frown> w') 0 = x\n  suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\n  ?w \\<Turnstile> ?\\<phi>''3 =\n  suffix 1 ?w \\<Turnstile> af_letter ?\\<phi>''3 (?w 0)", "have \"((x # xs) \\<frown> w') \\<Turnstile> \\<phi> \\<longleftrightarrow> (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x\""], ["proof (prove)\nusing this:\n  ((x # xs) \\<frown> w') 0 = x\n  suffix 1 ((x # xs) \\<frown> w') = xs \\<frown> w'\n  ?w \\<Turnstile> ?\\<phi>''3 =\n  suffix 1 ?w \\<Turnstile> af_letter ?\\<phi>''3 (?w 0)\n\ngoal (1 subgoal):\n 1. ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n    (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x", "by metis"], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "also"], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "have \"\\<dots> \\<longleftrightarrow> w' \\<Turnstile> af \\<phi> (x#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x =\n    w' \\<Turnstile> af \\<phi> (x # xs)", "using Cons.IH"], ["proof (prove)\nusing this:\n  (xs \\<frown> ?w') \\<Turnstile> ?\\<phi> = ?w' \\<Turnstile> af ?\\<phi> xs\n\ngoal (1 subgoal):\n 1. (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x =\n    w' \\<Turnstile> af \\<phi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  (xs \\<frown> w') \\<Turnstile> af_letter \\<phi> x =\n  w' \\<Turnstile> af \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []\n 2. \\<And>a w \\<phi> w'.\n       (\\<And>\\<phi> w'.\n           (w \\<frown> w') \\<Turnstile> \\<phi> =\n           w' \\<Turnstile> af \\<phi> w) \\<Longrightarrow>\n       ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af \\<phi> (a # w)", "finally"], ["proof (chain)\npicking this:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af \\<phi> (x # xs)", "show ?case"], ["proof (prove)\nusing this:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n    w' \\<Turnstile> af \\<phi> (x # xs)", "."], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> w'.\n       ([] \\<frown> w') \\<Turnstile> \\<phi> = w' \\<Turnstile> af \\<phi> []", "qed simp"], ["", "lemma af_ltl_continuation_suffix:\n  \"w \\<Turnstile> \\<phi> \\<longleftrightarrow> suffix i w \\<Turnstile> af \\<phi> (w[0 \\<rightarrow> i])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile> \\<phi> = suffix i w \\<Turnstile> af \\<phi> (prefix i w)", "using af_ltl_continuation prefix_suffix subsequence_def"], ["proof (prove)\nusing this:\n  (?w \\<frown> ?w') \\<Turnstile> ?\\<phi> = ?w' \\<Turnstile> af ?\\<phi> ?w\n  ?x = prefix ?n ?x \\<frown> suffix ?n ?x\n  ?w [?i \\<rightarrow> ?j] \\<equiv> map ?w [?i..<?j]\n\ngoal (1 subgoal):\n 1. w \\<Turnstile> \\<phi> = suffix i w \\<Turnstile> af \\<phi> (prefix i w)", "by metis"], ["", "lemma af_G_ltl_continuation:\n  \"\\<forall>\\<psi> \\<in> \\<^bold>G \\<phi>. w' \\<Turnstile> \\<psi> = (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow> (w \\<frown> w') \\<Turnstile> \\<phi> \\<longleftrightarrow> w' \\<Turnstile> af\\<^sub>G \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       w' \\<Turnstile> \\<psi> =\n       (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    (w \\<frown> w') \\<Turnstile> \\<phi> =\n    w' \\<Turnstile> af\\<^sub>G \\<phi> w", "proof (induction w arbitrary: w' \\<phi>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "case (Cons x xs)"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G ?\\<phi>.\n     ?w' \\<Turnstile> \\<psi> =\n     (xs \\<frown> ?w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  (xs \\<frown> ?w') \\<Turnstile> ?\\<phi> =\n  ?w' \\<Turnstile> af\\<^sub>G ?\\<phi> xs\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "{"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G ?\\<phi>.\n     ?w' \\<Turnstile> \\<psi> =\n     (xs \\<frown> ?w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  (xs \\<frown> ?w') \\<Turnstile> ?\\<phi> =\n  ?w' \\<Turnstile> af\\<^sub>G ?\\<phi> xs\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "fix \\<psi> :: \"'a ltl\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "fix  w w' w''"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "assume \"w'' \\<Turnstile> G \\<psi> = ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>\""], ["proof (state)\nthis:\n  w'' \\<Turnstile> G \\<psi> = ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "hence \"w'' \\<Turnstile> G \\<psi> = (w' \\<frown>  w'') \\<Turnstile> G \\<psi>\" and \"(w' \\<frown> w'') \\<Turnstile> G \\<psi> = ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>\""], ["proof (prove)\nusing this:\n  w'' \\<Turnstile> G \\<psi> = ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>\n\ngoal (1 subgoal):\n 1. w'' \\<Turnstile> G \\<psi> = (w' \\<frown> w'') \\<Turnstile> G \\<psi> &&&\n    (w' \\<frown> w'') \\<Turnstile> G \\<psi> =\n    ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>", "by (induction w' arbitrary: w) (metis LTL_suffix_G suffix_conc_length conc_conc)+"], ["proof (state)\nthis:\n  w'' \\<Turnstile> G \\<psi> = (w' \\<frown> w'') \\<Turnstile> G \\<psi>\n  (w' \\<frown> w'') \\<Turnstile> G \\<psi> =\n  ((w @ w') \\<frown> w'') \\<Turnstile> G \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "}"], ["proof (state)\nthis:\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  (?w'b2 \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  (?w'b2 \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "note G_stable = this"], ["proof (state)\nthis:\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  (?w'b2 \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2\n  ?w''2 \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  (?w'b2 \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2 =\n  ((?wa2 @ ?w'b2) \\<frown> ?w''2) \\<Turnstile> G ?\\<psi>2\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "have A: \"\\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]). w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]).\n       w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>", "using G_stable(1)[of w' _ \"[x]\"] Cons.prems"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  (([x] @ ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  w' \\<Turnstile> G ?\\<psi>2 = (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]).\n       w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>", "unfolding G_af\\<^sub>G_simp conc_conc append.simps"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  w' \\<Turnstile> G ?\\<psi>2 = (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>", "unfolding G_nested_propos_alt_def"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  w' \\<Turnstile> G ?\\<psi>2 = (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\n           \\<in>nested_propos \\<phi> \\<inter>\n                {\\<psi>. \\<exists>x. \\<psi> = G x}.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\n             \\<in>nested_propos \\<phi> \\<inter>\n                  {\\<psi>. \\<exists>x. \\<psi> = G x}.\n       w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]).\n     w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "have B: \"\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>. ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi>", "using G_stable(2)[of w' _ \"[x]\"] Cons.prems"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  (([x] @ ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2 =\n  (([x] @ ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi>", "unfolding conc_conc append.simps"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       ((x # xs) \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi>", "unfolding G_nested_propos_alt_def"], ["proof (prove)\nusing this:\n  w' \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2 \\<Longrightarrow>\n  (?w'b2 \\<frown> w') \\<Turnstile> G ?\\<psi>2 =\n  ((x # ?w'b2) \\<frown> w') \\<Turnstile> G ?\\<psi>2\n  \\<forall>\\<psi>\n           \\<in>nested_propos \\<phi> \\<inter>\n                {\\<psi>. \\<exists>x. \\<psi> = G x}.\n     w' \\<Turnstile> \\<psi> = ((x # xs) \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\n             \\<in>nested_propos \\<phi> \\<inter>\n                  {\\<psi>. \\<exists>x. \\<psi> = G x}.\n       ((x # xs) \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "hence \"([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> = (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\""], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]", "proof (induction \\<phi>)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]\n 9. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (F \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         F \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (F \\<phi>) [x]\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                    (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                 ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                 (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n         \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n            ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n            (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n         ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n         (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n         \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 U \\<phi>2).\n            ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n            (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n        \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                          \\<phi>1 U \\<phi>2 =\n                          (xs \\<frown> w') \\<Turnstile>\n                          af\\<^sub>G (\\<phi>1 U \\<phi>2) [x]", "case (LTLFinal \\<phi>)"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (F \\<phi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (10 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]\n 9. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (F \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         F \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (F \\<phi>) [x]\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                    (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                 ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                 (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n         \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n            ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n            (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n         ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n         (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n         \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 U \\<phi>2).\n            ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n            (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n        \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                          \\<phi>1 U \\<phi>2 =\n                          (xs \\<frown> w') \\<Turnstile>\n                          af\\<^sub>G (\\<phi>1 U \\<phi>2) [x]", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (F \\<phi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. ([x] \\<frown> xs \\<frown> w') \\<Turnstile> F \\<phi> =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (F \\<phi>) [x]", "unfolding LTL_F_one_step_unfolding"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (F \\<phi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. (([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> \\<or>\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> X (F \\<phi>)) =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (F \\<phi>) [x]", "by (auto simp add: suffix_conc_length[of \"[x]\", simplified])"], ["proof (state)\nthis:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> F \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (F \\<phi>) [x]\n\ngoal (9 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 U \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 U \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 U \\<phi>2) [x]", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 U \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 U \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 U \\<phi>2) [x]", "case (LTLUntil \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<psi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<psi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi> U \\<psi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (9 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 U \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 U \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 U \\<phi>2) [x]", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<psi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<psi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi> U \\<psi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> U \\<psi> =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (\\<phi> U \\<psi>) [x]", "unfolding LTL_U_one_step_unfolding"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G \\<psi>.\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<psi> [x]\n  \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi> U \\<psi>).\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. (([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> \\<or>\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> \\<and>\n     ([x] \\<frown> xs \\<frown> w') \\<Turnstile> X (\\<phi> U \\<psi>)) =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (\\<phi> U \\<psi>) [x]", "by (auto simp add: suffix_conc_length[of \"[x]\", simplified])"], ["proof (state)\nthis:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> U \\<psi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (\\<phi> U \\<psi>) [x]\n\ngoal (8 subgoals):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G true.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> true =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G true [x]\n 2. \\<forall>\\<psi>\\<in>\\<^bold>G false.\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n       (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n    ([x] \\<frown> xs \\<frown> w') \\<Turnstile> false =\n    (xs \\<frown> w') \\<Turnstile> af\\<^sub>G false [x]\n 3. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G p(xa).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> p(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G p(xa) [x]\n 4. \\<And>xa.\n       \\<forall>\\<psi>\\<in>\\<^bold>G (np(xa)).\n          ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n          (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([x] \\<frown> xs \\<frown> w') \\<Turnstile> np(xa) =\n       (xs \\<frown> w') \\<Turnstile> af\\<^sub>G (np(xa)) [x]\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 and \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 and \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 and \\<phi>2) [x]\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>1.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>1 =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>1 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>2.\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n        ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi>2 =\n        (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi>2 [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (\\<phi>1 or \\<phi>2).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         \\<phi>1 or \\<phi>2 =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (\\<phi>1 or \\<phi>2) [x]\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (X \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         X \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (X \\<phi>) [x]\n 8. \\<And>\\<phi>.\n       \\<lbrakk>\\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                   ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n                   (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n                (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x];\n        \\<forall>\\<psi>\\<in>\\<^bold>G (G \\<phi>).\n           ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<psi> =\n           (xs \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ([x] \\<frown> xs \\<frown> w') \\<Turnstile>\n                         G \\<phi> =\n                         (xs \\<frown> w') \\<Turnstile>\n                         af\\<^sub>G (G \\<phi>) [x]", "qed (auto simp add: conc_fst[of 0 \"[x]\"] suffix_conc_length[of \"[x]\", simplified])"], ["proof (state)\nthis:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "also"], ["proof (state)\nthis:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x]\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "have \"... = w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x] =\n    w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)", "using Cons.IH[of \"af\\<^sub>G \\<phi> [x]\" w'] A"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]).\n     w' \\<Turnstile> \\<psi> =\n     (xs \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x] =\n  w' \\<Turnstile> af\\<^sub>G (af\\<^sub>G \\<phi> [x]) xs\n  \\<forall>\\<psi>\\<in>\\<^bold>G (af\\<^sub>G \\<phi> [x]).\n     w' \\<Turnstile> \\<psi> = (xs \\<frown> w') \\<Turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x] =\n    w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  (xs \\<frown> w') \\<Turnstile> af\\<^sub>G \\<phi> [x] =\n  w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []\n 2. \\<And>a w w' \\<phi>.\n       \\<lbrakk>\\<And>w' \\<phi>.\n                   \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n                      w' \\<Turnstile> \\<psi> =\n                      (w \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n                   (w \\<frown> w') \\<Turnstile> \\<phi> =\n                   w' \\<Turnstile> af\\<^sub>G \\<phi> w;\n        \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n           w' \\<Turnstile> \\<psi> =\n           ((a # w) \\<frown> w') \\<Turnstile> \\<psi>\\<rbrakk>\n       \\<Longrightarrow> ((a # w) \\<frown> w') \\<Turnstile> \\<phi> =\n                         w' \\<Turnstile> af\\<^sub>G \\<phi> (a # w)", "finally"], ["proof (chain)\npicking this:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)", "show ?case"], ["proof (prove)\nusing this:\n  ([x] \\<frown> xs \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n    w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)", "unfolding conc_conc"], ["proof (prove)\nusing this:\n  (([x] @ xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n    w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  ((x # xs) \\<frown> w') \\<Turnstile> \\<phi> =\n  w' \\<Turnstile> af\\<^sub>G \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>w' \\<phi>.\n       \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n          w' \\<Turnstile> \\<psi> =\n          ([] \\<frown> w') \\<Turnstile> \\<psi> \\<Longrightarrow>\n       ([] \\<frown> w') \\<Turnstile> \\<phi> =\n       w' \\<Turnstile> af\\<^sub>G \\<phi> []", "qed simp"], ["", "lemma af\\<^sub>G_ltl_continuation_suffix:\n  \"\\<forall>\\<psi> \\<in> \\<^bold>G \\<phi>. w \\<Turnstile> \\<psi> = (suffix i w) \\<Turnstile> \\<psi> \\<Longrightarrow> w \\<Turnstile> \\<phi> \\<longleftrightarrow> suffix i w \\<Turnstile> af\\<^sub>G \\<phi> (w [0 \\<rightarrow> i])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<^bold>G \\<phi>.\n       w \\<Turnstile> \\<psi> =\n       suffix i w \\<Turnstile> \\<psi> \\<Longrightarrow>\n    w \\<Turnstile> \\<phi> =\n    suffix i w \\<Turnstile> af\\<^sub>G \\<phi> (prefix i w)", "by (metis af_G_ltl_continuation[of \\<phi> \"suffix i w\"] prefix_suffix subsequence_def)"], ["", "subsection \\<open>Eager Unfolding @{term af} and @{term af\\<^sub>G}\\<close>"], ["", "fun Unf :: \"'a ltl \\<Rightarrow> 'a ltl\"\nwhere\n  \"Unf (F \\<phi>) = F \\<phi> or Unf \\<phi>\"\n| \"Unf (G \\<phi>) = G \\<phi> and Unf \\<phi>\" \n| \"Unf (\\<phi> U \\<psi>) = (\\<phi> U \\<psi> and Unf \\<phi>) or Unf \\<psi>\"\n| \"Unf (\\<phi> and \\<psi>) = Unf \\<phi> and Unf \\<psi>\"\n| \"Unf (\\<phi> or \\<psi>) = Unf \\<phi> or Unf \\<psi>\"\n| \"Unf \\<phi> = \\<phi>\""], ["", "fun Unf\\<^sub>G :: \"'a ltl \\<Rightarrow> 'a ltl\"\nwhere\n  \"Unf\\<^sub>G (F \\<phi>) = F \\<phi> or Unf\\<^sub>G \\<phi>\"\n| \"Unf\\<^sub>G (G \\<phi>) = G \\<phi>\" \n| \"Unf\\<^sub>G (\\<phi> U \\<psi>) = (\\<phi> U \\<psi> and Unf\\<^sub>G \\<phi>) or Unf\\<^sub>G \\<psi>\"\n| \"Unf\\<^sub>G (\\<phi> and \\<psi>) = Unf\\<^sub>G \\<phi> and Unf\\<^sub>G \\<psi>\"\n| \"Unf\\<^sub>G (\\<phi> or \\<psi>) = Unf\\<^sub>G \\<phi> or Unf\\<^sub>G \\<psi>\"\n| \"Unf\\<^sub>G \\<phi> = \\<phi>\""], ["", "fun step :: \"'a ltl \\<Rightarrow> 'a set \\<Rightarrow> 'a ltl\"\nwhere\n  \"step p(a) \\<nu> = (if a \\<in> \\<nu> then true else false)\"\n| \"step (np(a)) \\<nu> = (if a \\<notin> \\<nu> then true else false)\"\n| \"step (X \\<phi>) \\<nu> = \\<phi>\"\n| \"step (\\<phi> and \\<psi>) \\<nu> = step \\<phi> \\<nu> and step \\<psi> \\<nu>\"\n| \"step (\\<phi> or \\<psi>) \\<nu> = step \\<phi> \\<nu> or step \\<psi> \\<nu>\"\n| \"step \\<phi> \\<nu> = \\<phi>\""], ["", "fun af_letter_opt\nwhere\n  \"af_letter_opt \\<phi> \\<nu> = Unf (step \\<phi> \\<nu>)\""], ["", "fun af_G_letter_opt\nwhere\n  \"af_G_letter_opt \\<phi> \\<nu> = Unf\\<^sub>G (step \\<phi> \\<nu>)\""], ["", "abbreviation af_opt :: \"'a ltl \\<Rightarrow> 'a set list \\<Rightarrow> 'a ltl\" (\"af\\<^sub>\\<UU>\")\nwhere\n  \"af\\<^sub>\\<UU> \\<phi> w \\<equiv> (foldl af_letter_opt \\<phi> w)\""], ["", "abbreviation af_G_opt :: \"'a ltl \\<Rightarrow> 'a set list \\<Rightarrow> 'a ltl\" (\"af\\<^sub>G\\<^sub>\\<UU>\")\nwhere\n  \"af\\<^sub>G\\<^sub>\\<UU> \\<phi> w \\<equiv> (foldl af_G_letter_opt \\<phi> w)\""], ["", "lemma af_letter_alt_def:\n  \"af_letter \\<phi> \\<nu> = step (Unf \\<phi>) \\<nu>\"\n  \"af_G_letter \\<phi> \\<nu> = step (Unf\\<^sub>G \\<phi>) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af_letter \\<phi> \\<nu> = step (Unf \\<phi>) \\<nu> &&&\n    af_G_letter \\<phi> \\<nu> = step (Unf\\<^sub>G \\<phi>) \\<nu>", "by (induction \\<phi>) simp_all"], ["", "lemma af_to_af_opt:\n  \"Unf (af \\<phi> w) = af\\<^sub>\\<UU> (Unf \\<phi>) w\"\n  \"Unf\\<^sub>G (af\\<^sub>G \\<phi> w) = af\\<^sub>G\\<^sub>\\<UU> (Unf\\<^sub>G \\<phi>) w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Unf (af \\<phi> w) = af\\<^sub>\\<UU> (Unf \\<phi>) w &&&\n    Unf\\<^sub>G (af\\<^sub>G \\<phi> w) =\n    af\\<^sub>G\\<^sub>\\<UU> (Unf\\<^sub>G \\<phi>) w", "by (induction w arbitrary: \\<phi>)\n     (simp_all add: af_letter_alt_def)"], ["", "lemma af_equiv:\n  \"af \\<phi> (w @ [\\<nu>]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) w) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af \\<phi> (w @ [\\<nu>]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) w) \\<nu>", "using af_to_af_opt(1)"], ["proof (prove)\nusing this:\n  Unf (af ?\\<phi> ?w) = af\\<^sub>\\<UU> (Unf ?\\<phi>) ?w\n\ngoal (1 subgoal):\n 1. af \\<phi> (w @ [\\<nu>]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) w) \\<nu>", "by (metis af_letter_alt_def(1) foldl_Cons foldl_Nil foldl_append)"], ["", "lemma af_equiv':\n  \"af \\<phi> (w [0 \\<rightarrow> Suc i]) = step (af\\<^sub>\\<UU> (Unf \\<phi>) (w [0 \\<rightarrow> i])) (w i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. af \\<phi> (prefix (Suc i) w) =\n    step (af\\<^sub>\\<UU> (Unf \\<phi>) (prefix i w)) (w i)", "using af_equiv"], ["proof (prove)\nusing this:\n  af ?\\<phi> (?w @ [?\\<nu>]) = step (af\\<^sub>\\<UU> (Unf ?\\<phi>) ?w) ?\\<nu>\n\ngoal (1 subgoal):\n 1. af \\<phi> (prefix (Suc i) w) =\n    step (af\\<^sub>\\<UU> (Unf \\<phi>) (prefix i w)) (w i)", "unfolding subsequence_def"], ["proof (prove)\nusing this:\n  af ?\\<phi> (?w @ [?\\<nu>]) = step (af\\<^sub>\\<UU> (Unf ?\\<phi>) ?w) ?\\<nu>\n\ngoal (1 subgoal):\n 1. af \\<phi> (map w [0..<Suc i]) =\n    step (af\\<^sub>\\<UU> (Unf \\<phi>) (map w [0..<i])) (w i)", "by auto"], ["", "subsection \\<open>Lifted Functions\\<close>"], ["", "lemma respectfulness:\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P af_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P af_G_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P af_G_letter_opt \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>\"\n  \"\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow> Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>\"\n  \"\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow> Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using decomposable_function_subst[of \"\\<lambda>\\<chi>. af_letter_opt \\<chi> \\<nu>\", simplified] af_letter_opt.simps"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using decomposable_function_subst[of \"\\<lambda>\\<chi>. af_G_letter_opt \\<chi> \\<nu>\", simplified] af_G_letter_opt.simps"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n  Unf\\<^sub>G (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G (step \\<chi> \\<nu>)))\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using decomposable_function_subst[of \"\\<lambda>\\<chi>. step \\<chi> \\<nu>\", simplified]"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n  Unf\\<^sub>G (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G (step \\<chi> \\<nu>)))\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n  step ?\\<phi> \\<nu> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (step \\<chi> \\<nu>))\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using decomposable_function_subst[of Unf, simplified]"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n  Unf\\<^sub>G (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G (step \\<chi> \\<nu>)))\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n  step ?\\<phi> \\<nu> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (step \\<chi> \\<nu>))\n  Unf ?\\<phi> = subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf \\<chi>))\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using decomposable_function_subst[of Unf\\<^sub>G, simplified]"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n  Unf\\<^sub>G (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G (step \\<chi> \\<nu>)))\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n  step ?\\<phi> \\<nu> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (step \\<chi> \\<nu>))\n  Unf ?\\<phi> = subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf \\<chi>))\n  Unf\\<^sub>G ?\\<phi> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G \\<chi>))\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "using subst_respects_ltl_prop_entailment"], ["proof (prove)\nusing this:\n  Unf (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf (step \\<chi> \\<nu>)))\n  af_letter_opt ?\\<phi> ?\\<nu> = Unf (step ?\\<phi> ?\\<nu>)\n  Unf\\<^sub>G (step ?\\<phi> \\<nu>) =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G (step \\<chi> \\<nu>)))\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n  step ?\\<phi> \\<nu> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (step \\<chi> \\<nu>))\n  Unf ?\\<phi> = subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf \\<chi>))\n  Unf\\<^sub>G ?\\<phi> =\n  subst ?\\<phi> (\\<lambda>\\<chi>. Some (Unf\\<^sub>G \\<chi>))\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<longrightarrow>\\<^sub>P subst ?\\<psi> ?m\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  subst ?\\<phi> ?m \\<equiv>\\<^sub>P subst ?\\<psi> ?m\n\ngoal (1 subgoal):\n 1. (((\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>) &&&\n      (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n       af_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n       af_letter_opt \\<psi> \\<nu>)) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      af_G_letter_opt \\<phi> \\<nu> \\<equiv>\\<^sub>P\n      af_G_letter_opt \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<longrightarrow>\\<^sub>P step \\<psi> \\<nu>)) &&&\n    ((\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n      step \\<phi> \\<nu> \\<equiv>\\<^sub>P step \\<psi> \\<nu>) &&&\n     (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n      Unf \\<phi> \\<longrightarrow>\\<^sub>P Unf \\<psi>)) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf \\<phi> \\<equiv>\\<^sub>P Unf \\<psi>) &&&\n    (\\<phi> \\<longrightarrow>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G \\<psi>) &&&\n    (\\<phi> \\<equiv>\\<^sub>P \\<psi> \\<Longrightarrow>\n     Unf\\<^sub>G \\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G \\<psi>)", "by metis+"], ["", "lemma nested_propos:\n  \"nested_propos (step \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (Unf \\<phi>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (Unf\\<^sub>G \\<phi>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (af_letter_opt \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\"\n  \"nested_propos (af_G_letter_opt \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nested_propos (step \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi> &&&\n     nested_propos (Unf \\<phi>) \\<subseteq> nested_propos \\<phi>) &&&\n    nested_propos (Unf\\<^sub>G \\<phi>) \\<subseteq> nested_propos \\<phi> &&&\n    nested_propos (af_letter_opt \\<phi> \\<nu>)\n    \\<subseteq> nested_propos \\<phi> &&&\n    nested_propos (af_G_letter_opt \\<phi> \\<nu>)\n    \\<subseteq> nested_propos \\<phi>", "by (induction \\<phi>) auto"], ["", "text \\<open>Lift functions and bind to new names\\<close>"], ["", "interpretation af_abs: lift_ltl_transformer af_letter"], ["proof (prove)\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_letter", "using lift_ltl_transformer_def af_respectfulness af_nested_propos"], ["proof (prove)\nusing this:\n  lift_ltl_transformer ?f \\<equiv>\n  (\\<forall>\\<phi> \\<psi> \\<nu>.\n      \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<longrightarrow>\n      ?f \\<phi> \\<nu> \\<equiv>\\<^sub>P ?f \\<psi> \\<nu>) \\<and>\n  (\\<forall>\\<phi> \\<nu>.\n      nested_propos (?f \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>)\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_letter ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P af_letter ?\\<psi> ?\\<nu>\n  nested_propos (af_letter ?\\<phi> ?\\<nu>) \\<subseteq> nested_propos ?\\<phi>\n\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_letter", "by blast"], ["", "definition af_letter_abs (\"\\<up>af\")\nwhere\n  \"\\<up>af \\<equiv> af_abs.f_abs\""], ["", "interpretation af_G_abs: lift_ltl_transformer af_G_letter"], ["proof (prove)\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_G_letter", "using lift_ltl_transformer_def af_G_respectfulness af_G_nested_propos"], ["proof (prove)\nusing this:\n  lift_ltl_transformer ?f \\<equiv>\n  (\\<forall>\\<phi> \\<psi> \\<nu>.\n      \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<longrightarrow>\n      ?f \\<phi> \\<nu> \\<equiv>\\<^sub>P ?f \\<psi> \\<nu>) \\<and>\n  (\\<forall>\\<phi> \\<nu>.\n      nested_propos (?f \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>)\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_G_letter ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P af_G_letter ?\\<psi> ?\\<nu>\n  nested_propos (af_G_letter ?\\<phi> ?\\<nu>)\n  \\<subseteq> nested_propos ?\\<phi>\n\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_G_letter", "by blast"], ["", "definition af_G_letter_abs (\"\\<up>af\\<^sub>G\")\nwhere\n  \"\\<up>af\\<^sub>G \\<equiv> af_G_abs.f_abs\""], ["", "interpretation af_abs_opt: lift_ltl_transformer af_letter_opt"], ["proof (prove)\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_letter_opt", "using lift_ltl_transformer_def respectfulness nested_propos"], ["proof (prove)\nusing this:\n  lift_ltl_transformer ?f \\<equiv>\n  (\\<forall>\\<phi> \\<psi> \\<nu>.\n      \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<longrightarrow>\n      ?f \\<phi> \\<nu> \\<equiv>\\<^sub>P ?f \\<psi> \\<nu>) \\<and>\n  (\\<forall>\\<phi> \\<nu>.\n      nested_propos (?f \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>)\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter_opt ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter_opt ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P af_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter_opt ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_G_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter_opt ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P\n  af_G_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  step ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P step ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  step ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P step ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf ?\\<phi> \\<longrightarrow>\\<^sub>P Unf ?\\<psi>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf ?\\<phi> \\<equiv>\\<^sub>P Unf ?\\<psi>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf\\<^sub>G ?\\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G ?\\<psi>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf\\<^sub>G ?\\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G ?\\<psi>\n  nested_propos (step ?\\<phi> ?\\<nu>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (Unf ?\\<phi>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (Unf\\<^sub>G ?\\<phi>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (af_letter_opt ?\\<phi> ?\\<nu>)\n  \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (af_G_letter_opt ?\\<phi> ?\\<nu>)\n  \\<subseteq> nested_propos ?\\<phi>\n\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_letter_opt", "by blast"], ["", "definition af_letter_abs_opt (\"\\<up>af\\<^sub>\\<UU>\")\nwhere\n  \"\\<up>af\\<^sub>\\<UU> \\<equiv> af_abs_opt.f_abs\""], ["", "interpretation af_G_abs_opt: lift_ltl_transformer af_G_letter_opt"], ["proof (prove)\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_G_letter_opt", "using lift_ltl_transformer_def respectfulness nested_propos"], ["proof (prove)\nusing this:\n  lift_ltl_transformer ?f \\<equiv>\n  (\\<forall>\\<phi> \\<psi> \\<nu>.\n      \\<phi> \\<equiv>\\<^sub>P \\<psi> \\<longrightarrow>\n      ?f \\<phi> \\<nu> \\<equiv>\\<^sub>P ?f \\<psi> \\<nu>) \\<and>\n  (\\<forall>\\<phi> \\<nu>.\n      nested_propos (?f \\<phi> \\<nu>) \\<subseteq> nested_propos \\<phi>)\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter_opt ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_letter_opt ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P af_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter_opt ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P\n  af_G_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  af_G_letter_opt ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P\n  af_G_letter_opt ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  step ?\\<phi> ?\\<nu> \\<longrightarrow>\\<^sub>P step ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  step ?\\<phi> ?\\<nu> \\<equiv>\\<^sub>P step ?\\<psi> ?\\<nu>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf ?\\<phi> \\<longrightarrow>\\<^sub>P Unf ?\\<psi>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf ?\\<phi> \\<equiv>\\<^sub>P Unf ?\\<psi>\n  ?\\<phi> \\<longrightarrow>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf\\<^sub>G ?\\<phi> \\<longrightarrow>\\<^sub>P Unf\\<^sub>G ?\\<psi>\n  ?\\<phi> \\<equiv>\\<^sub>P ?\\<psi> \\<Longrightarrow>\n  Unf\\<^sub>G ?\\<phi> \\<equiv>\\<^sub>P Unf\\<^sub>G ?\\<psi>\n  nested_propos (step ?\\<phi> ?\\<nu>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (Unf ?\\<phi>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (Unf\\<^sub>G ?\\<phi>) \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (af_letter_opt ?\\<phi> ?\\<nu>)\n  \\<subseteq> nested_propos ?\\<phi>\n  nested_propos (af_G_letter_opt ?\\<phi> ?\\<nu>)\n  \\<subseteq> nested_propos ?\\<phi>\n\ngoal (1 subgoal):\n 1. lift_ltl_transformer af_G_letter_opt", "by blast"], ["", "definition af_G_letter_abs_opt (\"\\<up>af\\<^sub>G\\<^sub>\\<UU>\")\nwhere\n  \"\\<up>af\\<^sub>G\\<^sub>\\<UU> \\<equiv> af_G_abs_opt.f_abs\""], ["", "lift_definition step_abs :: \"'a ltl\\<^sub>P \\<Rightarrow> 'a set \\<Rightarrow> 'a ltl\\<^sub>P\" (\"\\<up>step\") is step"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ltl1 ltl2 set.\n       ltl1 \\<equiv>\\<^sub>P ltl2 \\<Longrightarrow>\n       step ltl1 set \\<equiv>\\<^sub>P step ltl2 set", "by (insert respectfulness)"], ["", "lift_definition Unf_abs :: \"'a ltl\\<^sub>P \\<Rightarrow> 'a ltl\\<^sub>P\" (\"\\<up>Unf\") is Unf"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ltl1 ltl2.\n       ltl1 \\<equiv>\\<^sub>P ltl2 \\<Longrightarrow>\n       Unf ltl1 \\<equiv>\\<^sub>P Unf ltl2", "by (insert respectfulness)"], ["", "lift_definition Unf\\<^sub>G_abs :: \"'a ltl\\<^sub>P \\<Rightarrow> 'a ltl\\<^sub>P\" (\"\\<up>Unf\\<^sub>G\") is Unf\\<^sub>G"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ltl1 ltl2.\n       ltl1 \\<equiv>\\<^sub>P ltl2 \\<Longrightarrow>\n       Unf\\<^sub>G ltl1 \\<equiv>\\<^sub>P Unf\\<^sub>G ltl2", "by (insert respectfulness)"], ["", "subsubsection \\<open>Properties\\<close>"], ["", "lemma af_G_letter_opt_sat_core:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter_opt \\<phi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P af_G_letter_opt \\<phi> \\<nu>", "by (induction \\<phi>) auto"], ["", "lemma af_G_letter_sat_core_lifted:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep (af_G_letter_abs \\<phi> \\<nu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P\n                      Rep (\\<up>af\\<^sub>G \\<phi> \\<nu>)", "by (metis af_G_letter_sat_core Quotient_ltl_prop_equiv_quotient[THEN Quotient_rep_abs] Quotient3_ltl_prop_equiv_quotient[THEN Quotient3_abs_rep] af_G_abs.f_abs.abs_eq ltl_prop_equiv_def af_G_letter_abs_def)"], ["", "lemma af_G_letter_opt_sat_core_lifted:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Rep (\\<up>af\\<^sub>G\\<^sub>\\<UU> \\<phi> \\<nu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P\n                      Rep (\\<up>af\\<^sub>G\\<^sub>\\<UU> \\<phi> \\<nu>)", "unfolding af_G_letter_abs_opt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P Rep \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P\n                      Rep (af_G_abs_opt.f_abs \\<phi> \\<nu>)", "by (metis af_G_letter_opt_sat_core Quotient_ltl_prop_equiv_quotient[THEN Quotient_rep_abs] Quotient3_ltl_prop_equiv_quotient[THEN Quotient3_abs_rep] af_G_abs_opt.f_abs.abs_eq ltl_prop_equiv_def)"], ["", "lemma af_G_letter_abs_opt_split:\n  \"\\<up>Unf\\<^sub>G (\\<up>step \\<Phi> \\<nu>) = \\<up>af\\<^sub>G\\<^sub>\\<UU> \\<Phi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>Unf\\<^sub>G (\\<up>step \\<Phi> \\<nu>) =\n    \\<up>af\\<^sub>G\\<^sub>\\<UU> \\<Phi> \\<nu>", "unfolding af_G_letter_abs_opt_def step_abs_def comp_def af_G_abs_opt.f_abs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>Unf\\<^sub>G (map_fun Rep (map_fun id Abs) step \\<Phi> \\<nu>) =\n    map_fun Rep (map_fun id Abs) af_G_letter_opt \\<Phi> \\<nu>", "using map_fun_apply Unf\\<^sub>G_abs.abs_eq af_G_letter_opt.simps"], ["proof (prove)\nusing this:\n  map_fun ?f ?g ?h ?x = ?g (?h (?f ?x))\n  \\<up>Unf\\<^sub>G (Abs ?x) = Abs (Unf\\<^sub>G ?x)\n  af_G_letter_opt ?\\<phi> ?\\<nu> = Unf\\<^sub>G (step ?\\<phi> ?\\<nu>)\n\ngoal (1 subgoal):\n 1. \\<up>Unf\\<^sub>G (map_fun Rep (map_fun id Abs) step \\<Phi> \\<nu>) =\n    map_fun Rep (map_fun id Abs) af_G_letter_opt \\<Phi> \\<nu>", "by auto"], ["", "lemma af_unfold: \n  \"\\<up>af = (\\<lambda>\\<phi> \\<nu>. \\<up>step (\\<up>Unf \\<phi>) \\<nu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>af = (\\<lambda>\\<phi>. \\<up>step (\\<up>Unf \\<phi>))", "by (metis Unf_abs_def af_abs.f_abs.abs_eq af_letter_abs_def af_letter_alt_def(1) ltl\\<^sub>P_abs_rep map_fun_apply step_abs.abs_eq)"], ["", "lemma af_opt_unfold: \n  \"\\<up>af\\<^sub>\\<UU> = (\\<lambda>\\<phi> \\<nu>. \\<up>Unf (\\<up>step \\<phi> \\<nu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>af\\<^sub>\\<UU> =\n    (\\<lambda>\\<phi> \\<nu>. \\<up>Unf (\\<up>step \\<phi> \\<nu>))", "by (metis (no_types, lifting) Quotient3_abs_rep Quotient3_ltl_prop_equiv_quotient Unf_abs.abs_eq af_abs_opt.f_abs.abs_eq af_letter_abs_opt_def af_letter_opt.elims id_apply map_fun_apply  step_abs_def)"], ["", "lemma af_abs_equiv:\n  \"foldl \\<up>af \\<psi> (xs @ [x]) = \\<up>step (foldl \\<up>af\\<^sub>\\<UU> (\\<up>Unf \\<psi>) xs) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foldl \\<up>af \\<psi> (xs @ [x]) =\n    \\<up>step (foldl \\<up>af\\<^sub>\\<UU> (\\<up>Unf \\<psi>) xs) x", "unfolding af_unfold af_opt_unfold"], ["proof (prove)\ngoal (1 subgoal):\n 1. foldl (\\<lambda>\\<phi>. \\<up>step (\\<up>Unf \\<phi>)) \\<psi> (xs @ [x]) =\n    \\<up>step\n     (foldl (\\<lambda>\\<phi> \\<nu>. \\<up>Unf (\\<up>step \\<phi> \\<nu>))\n       (\\<up>Unf \\<psi>) xs)\n     x", "by (induction xs arbitrary: x \\<psi> rule: rev_induct) simp+"], ["", "lemma Rep_Abs_equiv: \n  \"Rep (Abs \\<phi>) \\<equiv>\\<^sub>P \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rep (Abs \\<phi>) \\<equiv>\\<^sub>P \\<phi>", "using Rep_Abs_prop_entailment"], ["proof (prove)\nusing this:\n  ?A \\<Turnstile>\\<^sub>P Rep (Abs ?\\<phi>) =\n  ?A \\<Turnstile>\\<^sub>P ?\\<phi>\n\ngoal (1 subgoal):\n 1. Rep (Abs \\<phi>) \\<equiv>\\<^sub>P \\<phi>", "unfolding ltl_prop_equiv_def"], ["proof (prove)\nusing this:\n  ?A \\<Turnstile>\\<^sub>P Rep (Abs ?\\<phi>) =\n  ?A \\<Turnstile>\\<^sub>P ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<A>.\n       \\<A> \\<Turnstile>\\<^sub>P Rep (Abs \\<phi>) =\n       \\<A> \\<Turnstile>\\<^sub>P \\<phi>", "by auto"], ["", "lemma Rep_step: \n  \"Rep (\\<up>step \\<Phi> \\<nu>) \\<equiv>\\<^sub>P step (Rep \\<Phi>) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rep (\\<up>step \\<Phi> \\<nu>) \\<equiv>\\<^sub>P step (Rep \\<Phi>) \\<nu>", "by (metis Quotient3_abs_rep Quotient3_ltl_prop_equiv_quotient ltl_prop_equiv_quotient.abs_eq_iff step_abs.abs_eq)"], ["", "lemma step_\\<G>:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P step \\<phi> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P step \\<phi> \\<nu>", "by (induction \\<phi>) auto"], ["", "lemma Unf\\<^sub>G_\\<G>:\n  \"Only_G \\<G> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P \\<phi> \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Unf\\<^sub>G \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Only_G \\<G>; \\<G> \\<Turnstile>\\<^sub>P \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<G> \\<Turnstile>\\<^sub>P Unf\\<^sub>G \\<phi>", "by (induction \\<phi>) auto"], ["", "hide_fact (open) respectfulness nested_propos"], ["", "end"]]}